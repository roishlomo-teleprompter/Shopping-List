(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function vb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Eb(){if(Gv)return Gl;Gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=t,Gl.jsx=n,Gl.jsxs=n,Gl}var Qv;function Tb(){return Qv||(Qv=1,gm.exports=Eb()),gm.exports}var z=Tb(),ym={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Sb(){if(Yv)return Ot;Yv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,F={};function ot(M,W,it){this.props=M,this.context=W,this.refs=F,this.updater=it||H}ot.prototype.isReactComponent={},ot.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},ot.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function lt(){}lt.prototype=ot.prototype;function rt(M,W,it){this.props=M,this.context=W,this.refs=F,this.updater=it||H}var Tt=rt.prototype=new lt;Tt.constructor=rt,X(Tt,ot.prototype),Tt.isPureReactComponent=!0;var Mt=Array.isArray;function bt(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,W,it){var dt=it.ref;return{$$typeof:r,type:M,key:W,ref:dt!==void 0?dt:null,props:it}}function O(M,W){return I(M.type,W,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return W[it]})}var x=/\/+/g;function Oe(M,W){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):W.toString(36)}function Qe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(bt,bt):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function J(M,W,it,dt,gt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var Pt=!1;if(M===null)Pt=!0;else switch(Ct){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(M.$$typeof){case r:case t:Pt=!0;break;case E:return Pt=M._init,J(Pt(M._payload),W,it,dt,gt)}}if(Pt)return gt=gt(M),Pt=dt===""?"."+Oe(M,0):dt,Mt(gt)?(it="",Pt!=null&&(it=Pt.replace(x,"$&/")+"/"),J(gt,W,it,"",function(Pe){return Pe})):gt!=null&&(k(gt)&&(gt=O(gt,it+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(x,"$&/")+"/")+Pt)),W.push(gt)),1;Pt=0;var Ee=dt===""?".":dt+":";if(Mt(M))for(var Wt=0;Wt<M.length;Wt++)dt=M[Wt],Ct=Ee+Oe(dt,Wt),Pt+=J(dt,W,it,Ct,gt);else if(Wt=V(M),typeof Wt=="function")for(M=Wt.call(M),Wt=0;!(dt=M.next()).done;)dt=dt.value,Ct=Ee+Oe(dt,Wt++),Pt+=J(dt,W,it,Ct,gt);else if(Ct==="object"){if(typeof M.then=="function")return J(Qe(M),W,it,dt,gt);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function ut(M,W,it){if(M==null)return M;var dt=[],gt=0;return J(M,dt,"","",function(Ct){return W.call(it,Ct,gt++)}),dt}function _t(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Jt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Zt={map:ut,forEach:function(M,W,it){ut(M,function(){W.apply(this,arguments)},it)},count:function(M){var W=0;return ut(M,function(){W++}),W},toArray:function(M){return ut(M,function(W){return W})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ot.Activity=T,Ot.Children=Zt,Ot.Component=ot,Ot.Fragment=n,Ot.Profiler=o,Ot.PureComponent=rt,Ot.StrictMode=s,Ot.Suspense=p,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Ot.cache=function(M){return function(){return M.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(M,W,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var dt=X({},M.props),gt=M.key;if(W!=null)for(Ct in W.key!==void 0&&(gt=""+W.key),W)!A.call(W,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&W.ref===void 0||(dt[Ct]=W[Ct]);var Ct=arguments.length-2;if(Ct===1)dt.children=it;else if(1<Ct){for(var Pt=Array(Ct),Ee=0;Ee<Ct;Ee++)Pt[Ee]=arguments[Ee+2];dt.children=Pt}return I(M.type,gt,dt)},Ot.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ot.createElement=function(M,W,it){var dt,gt={},Ct=null;if(W!=null)for(dt in W.key!==void 0&&(Ct=""+W.key),W)A.call(W,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(gt[dt]=W[dt]);var Pt=arguments.length-2;if(Pt===1)gt.children=it;else if(1<Pt){for(var Ee=Array(Pt),Wt=0;Wt<Pt;Wt++)Ee[Wt]=arguments[Wt+2];gt.children=Ee}if(M&&M.defaultProps)for(dt in Pt=M.defaultProps,Pt)gt[dt]===void 0&&(gt[dt]=Pt[dt]);return I(M,Ct,gt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(M){return{$$typeof:m,render:M}},Ot.isValidElement=k,Ot.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:_t}},Ot.memo=function(M,W){return{$$typeof:g,type:M,compare:W===void 0?null:W}},Ot.startTransition=function(M){var W=D.T,it={};D.T=it;try{var dt=M(),gt=D.S;gt!==null&&gt(it,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(bt,Jt)}catch(Ct){Jt(Ct)}finally{W!==null&&it.types!==null&&(W.types=it.types),D.T=W}},Ot.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ot.use=function(M){return D.H.use(M)},Ot.useActionState=function(M,W,it){return D.H.useActionState(M,W,it)},Ot.useCallback=function(M,W){return D.H.useCallback(M,W)},Ot.useContext=function(M){return D.H.useContext(M)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(M,W){return D.H.useDeferredValue(M,W)},Ot.useEffect=function(M,W){return D.H.useEffect(M,W)},Ot.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Ot.useId=function(){return D.H.useId()},Ot.useImperativeHandle=function(M,W,it){return D.H.useImperativeHandle(M,W,it)},Ot.useInsertionEffect=function(M,W){return D.H.useInsertionEffect(M,W)},Ot.useLayoutEffect=function(M,W){return D.H.useLayoutEffect(M,W)},Ot.useMemo=function(M,W){return D.H.useMemo(M,W)},Ot.useOptimistic=function(M,W){return D.H.useOptimistic(M,W)},Ot.useReducer=function(M,W,it){return D.H.useReducer(M,W,it)},Ot.useRef=function(M){return D.H.useRef(M)},Ot.useState=function(M){return D.H.useState(M)},Ot.useSyncExternalStore=function(M,W,it){return D.H.useSyncExternalStore(M,W,it)},Ot.useTransition=function(){return D.H.useTransition()},Ot.version="19.2.3",Ot}var Kv;function vp(){return Kv||(Kv=1,ym.exports=Sb()),ym.exports}var P=vp();const wb=vb(P);var _m={exports:{}},Ql={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function bb(){return $v||($v=1,(function(r){function t(J,ut){var _t=J.length;J.push(ut);t:for(;0<_t;){var Jt=_t-1>>>1,Zt=J[Jt];if(0<o(Zt,ut))J[Jt]=ut,J[_t]=Zt,_t=Jt;else break t}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ut=J[0],_t=J.pop();if(_t!==ut){J[0]=_t;t:for(var Jt=0,Zt=J.length,M=Zt>>>1;Jt<M;){var W=2*(Jt+1)-1,it=J[W],dt=W+1,gt=J[dt];if(0>o(it,_t))dt<Zt&&0>o(gt,it)?(J[Jt]=gt,J[dt]=_t,Jt=dt):(J[Jt]=it,J[W]=_t,Jt=W);else if(dt<Zt&&0>o(gt,_t))J[Jt]=gt,J[dt]=_t,Jt=dt;else break t}}return ut}function o(J,ut){var _t=J.sortIndex-ut.sortIndex;return _t!==0?_t:J.id-ut.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,b=3,V=!1,H=!1,X=!1,F=!1,ot=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Tt(J){for(var ut=n(g);ut!==null;){if(ut.callback===null)s(g);else if(ut.startTime<=J)s(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=n(g)}}function Mt(J){if(X=!1,Tt(J),!H)if(n(p)!==null)H=!0,bt||(bt=!0,U());else{var ut=n(g);ut!==null&&Qe(Mt,ut.startTime-J)}}var bt=!1,D=-1,A=5,I=-1;function O(){return F?!0:!(r.unstable_now()-I<A)}function k(){if(F=!1,bt){var J=r.unstable_now();I=J;var ut=!0;try{t:{H=!1,X&&(X=!1,lt(D),D=-1),V=!0;var _t=b;try{e:{for(Tt(J),T=n(p);T!==null&&!(T.expirationTime>J&&O());){var Jt=T.callback;if(typeof Jt=="function"){T.callback=null,b=T.priorityLevel;var Zt=Jt(T.expirationTime<=J);if(J=r.unstable_now(),typeof Zt=="function"){T.callback=Zt,Tt(J),ut=!0;break e}T===n(p)&&s(p),Tt(J)}else s(p);T=n(p)}if(T!==null)ut=!0;else{var M=n(g);M!==null&&Qe(Mt,M.startTime-J),ut=!1}}break t}finally{T=null,b=_t,V=!1}ut=void 0}}finally{ut?U():bt=!1}}}var U;if(typeof rt=="function")U=function(){rt(k)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Oe=x.port2;x.port1.onmessage=k,U=function(){Oe.postMessage(null)}}else U=function(){ot(k,0)};function Qe(J,ut){D=ot(function(){J(r.unstable_now())},ut)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var _t=b;b=ut;try{return J()}finally{b=_t}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(J,ut){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _t=b;b=J;try{return ut()}finally{b=_t}},r.unstable_scheduleCallback=function(J,ut,_t){var Jt=r.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Jt+_t:Jt):_t=Jt,J){case 1:var Zt=-1;break;case 2:Zt=250;break;case 5:Zt=1073741823;break;case 4:Zt=1e4;break;default:Zt=5e3}return Zt=_t+Zt,J={id:E++,callback:ut,priorityLevel:J,startTime:_t,expirationTime:Zt,sortIndex:-1},_t>Jt?(J.sortIndex=_t,t(g,J),n(p)===null&&J===n(g)&&(X?(lt(D),D=-1):X=!0,Qe(Mt,_t-Jt))):(J.sortIndex=Zt,t(p,J),H||V||(H=!0,bt||(bt=!0,U()))),J},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(J){var ut=b;return function(){var _t=b;b=ut;try{return J.apply(this,arguments)}finally{b=_t}}}})(Em)),Em}var Xv;function Ab(){return Xv||(Xv=1,vm.exports=bb()),vm.exports}var Tm={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function Rb(){if(Jv)return Rn;Jv=1;var r=vp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Rn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Rn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Rn.requestFormReset=function(p){s.d.r(p)},Rn.unstable_batchedUpdates=function(p,g){return p(g)},Rn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Rn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Rn.version="19.2.3",Rn}var Zv;function Ib(){if(Zv)return Tm.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tm.exports=Rb(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Cb(){if(Wv)return Ql;Wv=1;var r=Ab(),t=vp(),n=Ib();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Mt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=k&&e[k]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case ot:return"Profiler";case F:return"StrictMode";case Mt:return"Suspense";case bt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case rt:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case Tt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:Oe(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return Oe(e(i))}catch{}}return null}var Qe=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Jt=[],Zt=-1;function M(e){return{current:e}}function W(e){0>Zt||(e.current=Jt[Zt],Jt[Zt]=null,Zt--)}function it(e,i){Zt++,Jt[Zt]=e.current,e.current=i}var dt=M(null),gt=M(null),Ct=M(null),Pt=M(null);function Ee(e,i){switch(it(Ct,i),it(gt,e),it(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?mv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=mv(i),e=pv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(dt),it(dt,e)}function Wt(){W(dt),W(gt),W(Ct)}function Pe(e){e.memoizedState!==null&&it(Pt,e);var i=dt.current,a=pv(i,e.type);i!==a&&(it(gt,e),it(dt,a))}function Tn(e){gt.current===e&&(W(dt),W(gt)),Pt.current===e&&(W(Pt),Bl._currentValue=_t)}var un,Ye;function Ae(e){if(un===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);un=i&&i[1]||"",Ye=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+e+Ye}var ji=!1;function hi(e,i){if(!e||ji)return"";ji=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Y){var Q=Y}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(Y){Q=Y}e.call(nt.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var C=_.split(`
`),G=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===G.length)for(l=C.length-1,h=G.length-1;1<=l&&0<=h&&C[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==G[h]){var Z=`
`+C[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ji=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ae(a):""}function Ws(e,i){switch(e.tag){case 26:case 27:case 5:return Ae(e.type);case 16:return Ae("Lazy");case 13:return e.child!==i&&i!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return hi(e.type,!1);case 11:return hi(e.type.render,!1);case 1:return hi(e.type,!0);case 31:return Ae("Activity");default:return""}}function Ua(e){try{var i="",a=null;do i+=Ws(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qr=Object.prototype.hasOwnProperty,ar=r.unstable_scheduleCallback,Yr=r.unstable_cancelCallback,Zo=r.unstable_shouldYield,ta=r.unstable_requestPaint,Ke=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,Re=r.unstable_ImmediatePriority,Le=r.unstable_UserBlockingPriority,xi=r.unstable_NormalPriority,Kr=r.unstable_LowPriority,$r=r.unstable_IdlePriority,Di=r.log,tn=r.unstable_setDisableYieldValue,Bi=null,$e=null;function Sn(e){if(typeof Di=="function"&&tn(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Bi,e)}catch{}}var cn=Math.clz32?Math.clz32:fi,Wo=Math.log,lr=Math.LN2;function fi(e){return e>>>=0,e===0?32:31-(Wo(e)/lr|0)|0}var di=256,Kn=262144,qi=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ln(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=Pn(l):(_&=S,_!==0?h=Pn(_):a||(a=S&~e,a!==0&&(h=Pn(a))))):(S=l&~d,S!==0?h=Pn(S):_!==0?h=Pn(_):a||(a=l&~e,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Xr(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ur(){var e=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),e}function Ni(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Un(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,G=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-cn(a),nt=1<<Z;S[Z]=0,C[Z]=-1;var Q=G[Z];if(Q!==null)for(G[Z]=null,Z=0;Z<Q.length;Z++){var Y=Q[Z];Y!==null&&(Y.lane&=-536870913)}a&=~nt}l!==0&&mi(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function mi(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-cn(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function hn(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-cn(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function $n(e,i){var a=i&-i;return a=(a&42)!==0?1:ea(a),(a&(e.suspendedLanes|i))!==0?0:a}function ea(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oi(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:Uv(e.type))}function za(e,i){var a=ut.p;try{return ut.p=e,i()}finally{ut.p=a}}var pi=Math.random().toString(36).slice(2),_e="__reactFiber$"+pi,Xe="__reactProps$"+pi,Dn="__reactContainer$"+pi,Fi="__reactEvents$"+pi,gi="__reactListeners$"+pi,ja="__reactHandles$"+pi,na="__reactResources$"+pi,Xn="__reactMarker$"+pi;function Nn(e){delete e[_e],delete e[Xe],delete e[Fi],delete e[gi],delete e[ja]}function R(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Dn]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Sv(e);e!==null;){if(a=e[_e])return a;e=Sv(e)}return i}e=a,a=e.parentNode}return null}function B(e){if(e=e[_e]||e[Dn]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function K(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function at(e){var i=e[na];return i||(i=e[na]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(e){e[Xn]=!0}var Dt=new Set,St={};function Lt(e,i){zt(e,i),zt(e+"Capture",i)}function zt(e,i){for(St[e]=i,e=0;e<i.length;e++)Dt.add(i[e])}var Vt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),It={},Se={};function yi(e){return Qr.call(Se,e)?!0:Qr.call(It,e)?!1:Vt.test(e)?Se[e]=!0:(It[e]=!0,!1)}function wn(e,i,a){if(yi(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function de(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function fe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _f(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ba(e){if(!e._valueTracker){var i=bn(e)?"checked":"value";e._valueTracker=_f(e,i,""+e[i])}}function tl(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=bn(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hr=/[\n"\\]/g;function Ie(e){return e.replace(hr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jr(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+fe(i)):e.value!==""+fe(i)&&(e.value=""+fe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Ha(e,_,fe(i)):a!=null?Ha(e,_,fe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+fe(S):e.removeAttribute("name")}function ia(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ba(e);return}a=a!=null?""+fe(a):"",i=i!=null?""+fe(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ba(e)}function Ha(e,i,a){i==="number"&&qa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function te(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+fe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ra(e,i,a){if(i!=null&&(i=""+fe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+fe(a):""}function Zr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ba(e)}function _i(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||vf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uu(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&el(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&el(e,d,i[d])}function nl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gi(e){return Tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function en(){}var Fa=null;function Ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,Jn=null;function zu(e){var i=B(e);if(i&&(e=i.stateNode)){var a=e[Xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Jr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ie(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Xe]||null;if(!h)throw Error(s(90));Jr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&tl(l)}break t;case"textarea":ra(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&te(e,!!a.multiple,i,!1)}}}var il=!1;function ju(e,i,a){if(il)return e(i,a);il=!0;try{var l=e(i);return l}finally{if(il=!1,(fr!==null||Jn!==null)&&(Pc(),fr&&(i=fr,e=Jn,Jn=fr=null,zu(i),e)))for(i=0;i<e.length;i++)zu(e[i])}}function zn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Xe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=!1;if(Mi)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){rl=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{rl=!1}var Zn=null,Qa=null,Yi=null;function Wr(){if(Yi)return Yi;var e,i=Qa,a=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Yi=h.slice(e,1<l?1-l:void 0)}function sa(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function me(){return!1}function An(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ts:me,this.isPropagationStopped=me,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),i}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=An(dr),es=T({},dr,{view:0,detail:0}),Bu=An(es),ns,Ya,On,oa=T({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==On&&(On&&e.type==="mousemove"?(ns=e.screenX-On.screenX,Ya=e.screenY-On.screenY):Ya=ns=0,On=e),ns)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),qu=An(oa),la=T({},oa,{dataTransfer:0}),Hu=An(la),sl=T({},es,{relatedTarget:0}),is=An(sl),Fu=T({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=An(Fu),Sf=T({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gu=An(Sf),ua=T({},dr,{data:0}),al=An(ua),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ll[e])?!!i[e]:!1}function rs(){return Yu}var Ku=T({},es,{key:function(e){if(e.key){var i=Qu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ol[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$u=An(Ku),mr=T({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=An(mr),Xu=T({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),Ju=An(Xu),Zu=T({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$a=An(Zu),Mn=T({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wu=An(Mn),tc=T({},dr,{newState:0,oldState:0}),ss=An(tc),c=[9,13,27,32],y=Mi&&"CompositionEvent"in window,v=null;Mi&&"documentMode"in document&&(v=document.documentMode);var w=Mi&&"TextEvent"in window&&!v,j=Mi&&(!y||v&&8<v&&11>=v),$=" ",ht=!1;function re(e,i){switch(e){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ue(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jt=!1;function nn(e,i){switch(e){case"compositionend":return Ue(i);case"keypress":return i.which!==32?null:(ht=!0,$);case"textInput":return e=i.data,e===$&&ht?null:e;default:return null}}function rn(e,i){if(jt)return e==="compositionend"||!y&&re(e,i)?(e=Wr(),Yi=Qa=Zn=null,jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return j&&i.locale!=="ko"?null:i.data;default:return null}}var as={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!as[e.type]:i==="textarea"}function ca(e,i,a,l){fr?Jn?Jn.push(l):Jn=[l]:fr=l,i=Hc(i,"onChange"),0<i.length&&(a=new aa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var pr=null,cl=null;function QS(e){lv(e,0)}function ec(e){var i=K(e);if(tl(i))return e}function Ig(e,i){if(e==="change")return i}var Cg=!1;if(Mi){var wf;if(Mi){var bf="oninput"in document;if(!bf){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),bf=typeof xg.oninput=="function"}wf=bf}else wf=!1;Cg=wf&&(!document.documentMode||9<document.documentMode)}function Dg(){pr&&(pr.detachEvent("onpropertychange",Ng),cl=pr=null)}function Ng(e){if(e.propertyName==="value"&&ec(cl)){var i=[];ca(i,cl,e,Ga(e)),ju(QS,i)}}function YS(e,i,a){e==="focusin"?(Dg(),pr=i,cl=a,pr.attachEvent("onpropertychange",Ng)):e==="focusout"&&Dg()}function KS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(cl)}function $S(e,i){if(e==="click")return ec(i)}function XS(e,i){if(e==="input"||e==="change")return ec(i)}function JS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Wn=typeof Object.is=="function"?Object.is:JS;function hl(e,i){if(Wn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qr.call(i,h)||!Wn(e[h],i[h]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mg(e,i){var a=Og(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Og(a)}}function Vg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Vg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=qa(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=qa(e.document)}return i}function Af(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ZS=Mi&&"documentMode"in document&&11>=document.documentMode,Xa=null,Rf=null,fl=null,If=!1;function Pg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Xa==null||Xa!==qa(l)||(l=Xa,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Hc(Rf,"onSelect"),0<l.length&&(i=new aa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Xa)))}function ha(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ja={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Cf={},Lg={};Mi&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function fa(e){if(Cf[e])return Cf[e];if(!Ja[e])return e;var i=Ja[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return Cf[e]=i[a];return e}var Ug=fa("animationend"),zg=fa("animationiteration"),jg=fa("animationstart"),WS=fa("transitionrun"),tw=fa("transitionstart"),ew=fa("transitioncancel"),Bg=fa("transitionend"),qg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Vi(e,i){qg.set(e,i),Lt(i,[e])}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vi=[],Za=0,Df=0;function ic(){for(var e=Za,i=Df=Za=0;i<e;){var a=vi[i];vi[i++]=null;var l=vi[i];vi[i++]=null;var h=vi[i];vi[i++]=null;var d=vi[i];if(vi[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function rc(e,i,a,l){vi[Za++]=e,vi[Za++]=i,vi[Za++]=a,vi[Za++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return rc(e,i,a,l),sc(e)}function da(e,i){return rc(e,null,null,i),sc(e)}function Hg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-cn(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function sc(e){if(50<Vl)throw Vl=0,jd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Wa={};function nw(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(e,i,a,l){return new nw(e,i,a,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gr(e,i){var a=e.alternate;return a===null?(a=ti(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ac(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")Of(e)&&(_=1);else if(typeof e=="string")_=ob(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=ti(31,a,i,h),e.elementType=I,e.lanes=d,e;case X:return ma(a.children,h,d,i);case F:_=8,h|=24;break;case ot:return e=ti(12,a,i,h|2),e.elementType=ot,e.lanes=d,e;case Mt:return e=ti(13,a,i,h),e.elementType=Mt,e.lanes=d,e;case bt:return e=ti(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:_=10;break t;case lt:_=9;break t;case Tt:_=11;break t;case D:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=ti(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ma(e,i,a,l){return e=ti(7,e,l,i),e.lanes=a,e}function Mf(e,i,a){return e=ti(6,e,null,i),e.lanes=a,e}function Gg(e){var i=ti(18,null,null,0);return i.stateNode=e,i}function Vf(e,i,a){return i=ti(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Qg=new WeakMap;function Ei(e,i){if(typeof e=="object"&&e!==null){var a=Qg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ua(i)},Qg.set(e,i),i)}return{value:e,source:i,stack:Ua(i)}}var to=[],eo=0,oc=null,dl=0,Ti=[],Si=0,os=null,Ki=1,$i="";function yr(e,i){to[eo++]=dl,to[eo++]=oc,oc=e,dl=i}function Yg(e,i,a){Ti[Si++]=Ki,Ti[Si++]=$i,Ti[Si++]=os,os=e;var l=Ki;e=$i;var h=32-cn(l)-1;l&=~(1<<h),a+=1;var d=32-cn(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ki=1<<32-cn(i)+h|a<<h|l,$i=d+e}else Ki=1<<d|a<<h|l,$i=e}function kf(e){e.return!==null&&(yr(e,1),Yg(e,1,0))}function Pf(e){for(;e===oc;)oc=to[--eo],to[eo]=null,dl=to[--eo],to[eo]=null;for(;e===os;)os=Ti[--Si],Ti[Si]=null,$i=Ti[--Si],Ti[Si]=null,Ki=Ti[--Si],Ti[Si]=null}function Kg(e,i){Ti[Si++]=Ki,Ti[Si++]=$i,Ti[Si++]=os,Ki=i.id,$i=i.overflow,os=e}var dn=null,pe=null,Kt=!1,ls=null,wi=!1,Lf=Error(s(519));function us(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Ei(i,e)),Lf}function $g(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[_e]=e,i[Xe]=l,a){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Ht(Pl[a],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":Ht("invalid",i),ia(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ht("invalid",i);break;case"textarea":Ht("invalid",i),Zr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||fv(i.textContent,a)?(l.popover!=null&&(Ht("beforetoggle",i),Ht("toggle",i)),l.onScroll!=null&&Ht("scroll",i),l.onScrollEnd!=null&&Ht("scrollend",i),l.onClick!=null&&(i.onclick=en),i=!0):i=!1,i||us(e,!0)}function Xg(e){for(dn=e.return;dn;)switch(dn.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:dn=dn.return}}function no(e){if(e!==dn)return!1;if(!Kt)return Xg(e),Kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||em(e.type,e.memoizedProps)),a=!a),a&&pe&&us(e),Xg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=Tv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=Tv(e)}else i===27?(i=pe,ws(e.type)?(e=am,am=null,pe=e):pe=i):pe=dn?Ai(e.stateNode.nextSibling):null;return!0}function pa(){pe=dn=null,Kt=!1}function Uf(){var e=ls;return e!==null&&(Fn===null?Fn=e:Fn.push.apply(Fn,e),ls=null),e}function ml(e){ls===null?ls=[e]:ls.push(e)}var zf=M(null),ga=null,_r=null;function cs(e,i,a){it(zf,i._currentValue),i._currentValue=a}function vr(e){e._currentValue=zf.current,W(zf)}function jf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function io(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Wn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Bl):e=[Bl])}h=h.return}e!==null&&Bf(i,e,a,l),i.flags|=262144}function lc(e){for(e=e.firstContext;e!==null;){if(!Wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ya(e){ga=e,_r=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mn(e){return Jg(ga,e)}function uc(e,i){return ga===null&&ya(e),Jg(e,i)}function Jg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},_r===null){if(e===null)throw Error(s(308));_r=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else _r=_r.next=i;return a}var iw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},rw=r.unstable_scheduleCallback,sw=r.unstable_NormalPriority,ze={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new iw,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&rw(sw,function(){e.controller.abort()})}var gl=null,Hf=0,ro=0,so=null;function aw(e,i){if(gl===null){var a=gl=[];Hf=0,ro=Qd(),so={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(Zg,Zg),i}function Zg(){if(--Hf===0&&gl!==null){so!==null&&(so.status="fulfilled");var e=gl;gl=null,ro=0,so=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ow(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=J.S;J.S=function(e,i){P_=Ke(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&aw(e,i),Wg!==null&&Wg(e,i)};var _a=M(null);function Ff(){var e=_a.current;return e!==null?e:he.pooledCache}function cc(e,i){i===null?it(_a,_a.current):it(_a,i.pool)}function ty(){var e=Ff();return e===null?null:{parent:ze._currentValue,pool:e}}var ao=Error(s(460)),Gf=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function ey(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ny(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(en,en),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ry(e),e;default:if(typeof i.status=="string")i.then(en,en);else{if(e=he,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ry(e),e}throw Ea=i,ao}}function va(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ea=a,ao):a}}var Ea=null;function iy(){if(Ea===null)throw Error(s(459));var e=Ea;return Ea=null,e}function ry(e){if(e===ao||e===hc)throw Error(s(483))}var oo=null,yl=0;function dc(e){var i=yl;return yl+=1,oo===null&&(oo=[]),ny(oo,e,i)}function _l(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function mc(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function sy(e){function i(L,N){if(e){var q=L.deletions;q===null?(L.deletions=[N],L.flags|=16):q.push(N)}}function a(L,N){if(!e)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=gr(L,N),L.index=0,L.sibling=null,L}function d(L,N,q){return L.index=q,e?(q=L.alternate,q!==null?(q=q.index,q<N?(L.flags|=67108866,N):q):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,N,q,tt){return N===null||N.tag!==6?(N=Mf(q,L.mode,tt),N.return=L,N):(N=h(N,q),N.return=L,N)}function C(L,N,q,tt){var Et=q.type;return Et===X?Z(L,N,q.props.children,tt,q.key):N!==null&&(N.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&va(Et)===N.type)?(N=h(N,q.props),_l(N,q),N.return=L,N):(N=ac(q.type,q.key,q.props,null,L.mode,tt),_l(N,q),N.return=L,N)}function G(L,N,q,tt){return N===null||N.tag!==4||N.stateNode.containerInfo!==q.containerInfo||N.stateNode.implementation!==q.implementation?(N=Vf(q,L.mode,tt),N.return=L,N):(N=h(N,q.children||[]),N.return=L,N)}function Z(L,N,q,tt,Et){return N===null||N.tag!==7?(N=ma(q,L.mode,tt,Et),N.return=L,N):(N=h(N,q),N.return=L,N)}function nt(L,N,q){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Mf(""+N,L.mode,q),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case V:return q=ac(N.type,N.key,N.props,null,L.mode,q),_l(q,N),q.return=L,q;case H:return N=Vf(N,L.mode,q),N.return=L,N;case A:return N=va(N),nt(L,N,q)}if(Qe(N)||U(N))return N=ma(N,L.mode,q,null),N.return=L,N;if(typeof N.then=="function")return nt(L,dc(N),q);if(N.$$typeof===rt)return nt(L,uc(L,N),q);mc(L,N)}return null}function Q(L,N,q,tt){var Et=N!==null?N.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Et!==null?null:S(L,N,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return q.key===Et?C(L,N,q,tt):null;case H:return q.key===Et?G(L,N,q,tt):null;case A:return q=va(q),Q(L,N,q,tt)}if(Qe(q)||U(q))return Et!==null?null:Z(L,N,q,tt,null);if(typeof q.then=="function")return Q(L,N,dc(q),tt);if(q.$$typeof===rt)return Q(L,N,uc(L,q),tt);mc(L,q)}return null}function Y(L,N,q,tt,Et){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return L=L.get(q)||null,S(N,L,""+tt,Et);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case V:return L=L.get(tt.key===null?q:tt.key)||null,C(N,L,tt,Et);case H:return L=L.get(tt.key===null?q:tt.key)||null,G(N,L,tt,Et);case A:return tt=va(tt),Y(L,N,q,tt,Et)}if(Qe(tt)||U(tt))return L=L.get(q)||null,Z(N,L,tt,Et,null);if(typeof tt.then=="function")return Y(L,N,q,dc(tt),Et);if(tt.$$typeof===rt)return Y(L,N,q,uc(N,tt),Et);mc(N,tt)}return null}function pt(L,N,q,tt){for(var Et=null,ee=null,yt=N,Ut=N=0,Gt=null;yt!==null&&Ut<q.length;Ut++){yt.index>Ut?(Gt=yt,yt=null):Gt=yt.sibling;var ne=Q(L,yt,q[Ut],tt);if(ne===null){yt===null&&(yt=Gt);break}e&&yt&&ne.alternate===null&&i(L,yt),N=d(ne,N,Ut),ee===null?Et=ne:ee.sibling=ne,ee=ne,yt=Gt}if(Ut===q.length)return a(L,yt),Kt&&yr(L,Ut),Et;if(yt===null){for(;Ut<q.length;Ut++)yt=nt(L,q[Ut],tt),yt!==null&&(N=d(yt,N,Ut),ee===null?Et=yt:ee.sibling=yt,ee=yt);return Kt&&yr(L,Ut),Et}for(yt=l(yt);Ut<q.length;Ut++)Gt=Y(yt,L,Ut,q[Ut],tt),Gt!==null&&(e&&Gt.alternate!==null&&yt.delete(Gt.key===null?Ut:Gt.key),N=d(Gt,N,Ut),ee===null?Et=Gt:ee.sibling=Gt,ee=Gt);return e&&yt.forEach(function(Cs){return i(L,Cs)}),Kt&&yr(L,Ut),Et}function At(L,N,q,tt){if(q==null)throw Error(s(151));for(var Et=null,ee=null,yt=N,Ut=N=0,Gt=null,ne=q.next();yt!==null&&!ne.done;Ut++,ne=q.next()){yt.index>Ut?(Gt=yt,yt=null):Gt=yt.sibling;var Cs=Q(L,yt,ne.value,tt);if(Cs===null){yt===null&&(yt=Gt);break}e&&yt&&Cs.alternate===null&&i(L,yt),N=d(Cs,N,Ut),ee===null?Et=Cs:ee.sibling=Cs,ee=Cs,yt=Gt}if(ne.done)return a(L,yt),Kt&&yr(L,Ut),Et;if(yt===null){for(;!ne.done;Ut++,ne=q.next())ne=nt(L,ne.value,tt),ne!==null&&(N=d(ne,N,Ut),ee===null?Et=ne:ee.sibling=ne,ee=ne);return Kt&&yr(L,Ut),Et}for(yt=l(yt);!ne.done;Ut++,ne=q.next())ne=Y(yt,L,Ut,ne.value,tt),ne!==null&&(e&&ne.alternate!==null&&yt.delete(ne.key===null?Ut:ne.key),N=d(ne,N,Ut),ee===null?Et=ne:ee.sibling=ne,ee=ne);return e&&yt.forEach(function(_b){return i(L,_b)}),Kt&&yr(L,Ut),Et}function ue(L,N,q,tt){if(typeof q=="object"&&q!==null&&q.type===X&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case V:t:{for(var Et=q.key;N!==null;){if(N.key===Et){if(Et=q.type,Et===X){if(N.tag===7){a(L,N.sibling),tt=h(N,q.props.children),tt.return=L,L=tt;break t}}else if(N.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&va(Et)===N.type){a(L,N.sibling),tt=h(N,q.props),_l(tt,q),tt.return=L,L=tt;break t}a(L,N);break}else i(L,N);N=N.sibling}q.type===X?(tt=ma(q.props.children,L.mode,tt,q.key),tt.return=L,L=tt):(tt=ac(q.type,q.key,q.props,null,L.mode,tt),_l(tt,q),tt.return=L,L=tt)}return _(L);case H:t:{for(Et=q.key;N!==null;){if(N.key===Et)if(N.tag===4&&N.stateNode.containerInfo===q.containerInfo&&N.stateNode.implementation===q.implementation){a(L,N.sibling),tt=h(N,q.children||[]),tt.return=L,L=tt;break t}else{a(L,N);break}else i(L,N);N=N.sibling}tt=Vf(q,L.mode,tt),tt.return=L,L=tt}return _(L);case A:return q=va(q),ue(L,N,q,tt)}if(Qe(q))return pt(L,N,q,tt);if(U(q)){if(Et=U(q),typeof Et!="function")throw Error(s(150));return q=Et.call(q),At(L,N,q,tt)}if(typeof q.then=="function")return ue(L,N,dc(q),tt);if(q.$$typeof===rt)return ue(L,N,uc(L,q),tt);mc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,N!==null&&N.tag===6?(a(L,N.sibling),tt=h(N,q),tt.return=L,L=tt):(a(L,N),tt=Mf(q,L.mode,tt),tt.return=L,L=tt),_(L)):a(L,N)}return function(L,N,q,tt){try{yl=0;var Et=ue(L,N,q,tt);return oo=null,Et}catch(yt){if(yt===ao||yt===hc)throw yt;var ee=ti(29,yt,null,L.mode);return ee.lanes=tt,ee.return=L,ee}finally{}}}var Ta=sy(!0),ay=sy(!1),hs=!1;function Qf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ds(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=sc(e),Hg(e,null,a),i}return rc(e,l,i,a),sc(e)}function vl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,hn(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var $f=!1;function El(){if($f){var e=so;if(e!==null)throw e}}function Tl(e,i,a,l){$f=!1;var h=e.updateQueue;hs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,G=C.next;C.next=null,_===null?d=G:_.next=G,_=C;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=G:S.next=G,Z.lastBaseUpdate=C))}if(d!==null){var nt=h.baseState;_=0,Z=G=C=null,S=d;do{var Q=S.lane&-536870913,Y=Q!==S.lane;if(Y?(Ft&Q)===Q:(l&Q)===Q){Q!==0&&Q===ro&&($f=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var pt=e,At=S;Q=i;var ue=a;switch(At.tag){case 1:if(pt=At.payload,typeof pt=="function"){nt=pt.call(ue,nt,Q);break t}nt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=At.payload,Q=typeof pt=="function"?pt.call(ue,nt,Q):pt,Q==null)break t;nt=T({},nt,Q);break t;case 2:hs=!0}}Q=S.callback,Q!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(G=Z=Y,C=nt):Z=Z.next=Y,_|=Q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(C=nt),h.baseState=C,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),_s|=_,e.lanes=_,e.memoizedState=nt}}function oy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ly(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)oy(a[e],i)}var lo=M(null),pc=M(0);function uy(e,i){e=Cr,it(pc,e),it(lo,i),Cr=e|i.baseLanes}function Xf(){it(pc,Cr),it(lo,lo.current)}function Jf(){Cr=pc.current,W(lo),W(pc)}var ei=M(null),bi=null;function ms(e){var i=e.alternate;it(Me,Me.current&1),it(ei,e),bi===null&&(i===null||lo.current!==null||i.memoizedState!==null)&&(bi=e)}function Zf(e){it(Me,Me.current),it(ei,e),bi===null&&(bi=e)}function cy(e){e.tag===22?(it(Me,Me.current),it(ei,e),bi===null&&(bi=e)):ps()}function ps(){it(Me,Me.current),it(ei,ei.current)}function ni(e){W(ei),bi===e&&(bi=null),W(Me)}var Me=M(0);function gc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rm(a)||sm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Er=0,kt=null,oe=null,je=null,yc=!1,uo=!1,Sa=!1,_c=0,Sl=0,co=null,lw=0;function Ce(){throw Error(s(321))}function Wf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Wn(e[a],i[a]))return!1;return!0}function td(e,i,a,l,h,d){return Er=d,kt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=e===null||e.memoizedState===null?Yy:pd,Sa=!1,d=a(l,h),Sa=!1,uo&&(d=fy(i,a,l,h)),hy(e),d}function hy(e){J.H=Al;var i=oe!==null&&oe.next!==null;if(Er=0,je=oe=kt=null,yc=!1,Sl=0,co=null,i)throw Error(s(300));e===null||Be||(e=e.dependencies,e!==null&&lc(e)&&(Be=!0))}function fy(e,i,a,l){kt=e;var h=0;do{if(uo&&(co=null),Sl=0,uo=!1,25<=h)throw Error(s(301));if(h+=1,je=oe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=Ky,d=i(a,l)}while(uo);return d}function uw(){var e=J.H,i=e.useState()[0];return i=typeof i.then=="function"?wl(i):i,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(kt.flags|=1024),i}function ed(){var e=_c!==0;return _c=0,e}function nd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function id(e){if(yc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}yc=!1}Er=0,je=oe=kt=null,uo=!1,Sl=_c=0,co=null}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?kt.memoizedState=je=e:je=je.next=e,je}function Ve(){if(oe===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var i=je===null?kt.memoizedState:je.next;if(i!==null)je=i,oe=e;else{if(e===null)throw kt.alternate===null?Error(s(467)):Error(s(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},je===null?kt.memoizedState=je=e:je=je.next=e}return je}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var i=Sl;return Sl+=1,co===null&&(co=[]),e=ny(co,e,i),i=kt,(je===null?i.memoizedState:je.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?Yy:pd),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===rt)return mn(e)}throw Error(s(438,String(e)))}function rd(e){var i=null,a=kt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vc(),kt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Tr(e,i){return typeof i=="function"?i(e):i}function Tc(e){var i=Ve();return sd(i,oe,e)}function sd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,C=null,G=i,Z=!1;do{var nt=G.lane&-536870913;if(nt!==G.lane?(Ft&nt)===nt:(Er&nt)===nt){var Q=G.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),nt===ro&&(Z=!0);else if((Er&Q)===Q){G=G.next,Q===ro&&(Z=!0);continue}else nt={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(S=C=nt,_=d):C=C.next=nt,kt.lanes|=Q,_s|=Q;nt=G.action,Sa&&a(d,nt),d=G.hasEagerState?G.eagerState:a(d,nt)}else Q={lane:nt,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(S=C=Q,_=d):C=C.next=Q,kt.lanes|=nt,_s|=nt;G=G.next}while(G!==null&&G!==i);if(C===null?_=d:C.next=S,!Wn(d,e.memoizedState)&&(Be=!0,Z&&(a=so,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ad(e){var i=Ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Wn(d,i.memoizedState)||(Be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(e,i,a){var l=kt,h=Ve(),d=Kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Wn((oe||h).memoizedState,a);if(_&&(h.memoizedState=a,Be=!0),h=h.queue,ud(gy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,ho(9,{destroy:void 0},py.bind(null,l,h,a,i),null),he===null)throw Error(s(349));d||(Er&127)!==0||my(l,i,a)}return a}function my(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=kt.updateQueue,i===null?(i=vc(),kt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function py(e,i,a,l){i.value=a,i.getSnapshot=l,yy(i)&&_y(e)}function gy(e,i,a){return a(function(){yy(i)&&_y(e)})}function yy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Wn(e,a)}catch{return!0}}function _y(e){var i=da(e,2);i!==null&&Gn(i,e,2)}function od(e){var i=Vn();if(typeof e=="function"){var a=e;if(e=a(),Sa){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:e},i}function vy(e,i,a,l){return e.baseState=a,sd(e,oe,typeof l=="function"?l:Tr)}function cw(e,i,a,l,h){if(bc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ey(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=J.T,_={};J.T=_;try{var S=a(h,l),C=J.S;C!==null&&C(_,S),Ty(e,i,S)}catch(G){ld(e,i,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(h,l),Ty(e,i,d)}catch(G){ld(e,i,G)}}function Ty(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(e,i,l)},function(l){return ld(e,i,l)}):Sy(e,i,a)}function Sy(e,i,a){i.status="fulfilled",i.value=a,wy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ey(e,a)))}function ld(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,wy(i),i=i.next;while(i!==l)}e.action=null}function wy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function by(e,i){return i}function Ay(e,i){if(Kt){var a=he.formState;if(a!==null){t:{var l=kt;if(Kt){if(pe){e:{for(var h=pe,d=wi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ai(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pe=Ai(h.nextSibling),l=h.data==="F!";break t}}us(l)}l=!1}l&&(i=a[0])}}return a=Vn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:i},a.queue=l,a=Fy.bind(null,kt,l),l.dispatch=a,l=od(!1),d=md.bind(null,kt,!1,l.queue),l=Vn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=cw.bind(null,kt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ry(e){var i=Ve();return Iy(i,oe,e)}function Iy(e,i,a){if(i=sd(e,i,by)[0],e=Tc(Tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(_){throw _===ao?hc:_}else l=i;i=Ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(kt.flags|=2048,ho(9,{destroy:void 0},hw.bind(null,h,a),null)),[l,d,e]}function hw(e,i){e.action=i}function Cy(e){var i=Ve(),a=oe;if(a!==null)return Iy(i,a,e);Ve(),i=i.memoizedState,a=Ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ho(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=kt.updateQueue,i===null&&(i=vc(),kt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function xy(){return Ve().memoizedState}function Sc(e,i,a,l){var h=Vn();kt.flags|=e,h.memoizedState=ho(1|i,{destroy:void 0},a,l===void 0?null:l)}function wc(e,i,a,l){var h=Ve();l=l===void 0?null:l;var d=h.memoizedState.inst;oe!==null&&l!==null&&Wf(l,oe.memoizedState.deps)?h.memoizedState=ho(i,d,a,l):(kt.flags|=e,h.memoizedState=ho(1|i,d,a,l))}function Dy(e,i){Sc(8390656,8,e,i)}function ud(e,i){wc(2048,8,e,i)}function fw(e){kt.flags|=4;var i=kt.updateQueue;if(i===null)i=vc(),kt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Ny(e){var i=Ve().memoizedState;return fw({ref:i,nextImpl:e}),function(){if((ie&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(e,i){return wc(4,2,e,i)}function My(e,i){return wc(4,4,e,i)}function Vy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ky(e,i,a){a=a!=null?a.concat([e]):null,wc(4,4,Vy.bind(null,i,e),a)}function cd(){}function Py(e,i){var a=Ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ly(e,i){var a=Ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=e(),Sa){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function hd(e,i,a){return a===void 0||(Er&1073741824)!==0&&(Ft&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=U_(),kt.lanes|=e,_s|=e,a)}function Uy(e,i,a,l){return Wn(a,i)?a:lo.current!==null?(e=hd(e,a,l),Wn(e,i)||(Be=!0),e):(Er&42)===0||(Er&1073741824)!==0&&(Ft&261930)===0?(Be=!0,e.memoizedState=a):(e=U_(),kt.lanes|=e,_s|=e,i)}function zy(e,i,a,l,h){var d=ut.p;ut.p=d!==0&&8>d?d:8;var _=J.T,S={};J.T=S,md(e,!1,i,a);try{var C=h(),G=J.S;if(G!==null&&G(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=ow(C,l);bl(e,i,Z,si(e))}else bl(e,i,l,si(e))}catch(nt){bl(e,i,{then:function(){},status:"rejected",reason:nt},si())}finally{ut.p=d,_!==null&&S.types!==null&&(_.types=S.types),J.T=_}}function dw(){}function fd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=jy(e).queue;zy(e,h,i,_t,a===null?dw:function(){return By(e),a(l)})}function jy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:_t},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function By(e){var i=jy(e);i.next===null&&(i=e.alternate.memoizedState),bl(e,i.next.queue,{},si())}function dd(){return mn(Bl)}function qy(){return Ve().memoizedState}function Hy(){return Ve().memoizedState}function mw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=si();e=fs(a);var l=ds(i,e,a);l!==null&&(Gn(l,i,a),vl(l,i,a)),i={cache:qf()},e.payload=i;return}i=i.return}}function pw(e,i,a){var l=si();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bc(e)?Gy(i,a):(a=Nf(e,i,a,l),a!==null&&(Gn(a,e,l),Qy(a,i,l)))}function Fy(e,i,a){var l=si();bl(e,i,a,l)}function bl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(e))Gy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Wn(S,_))return rc(e,i,h,0),he===null&&ic(),!1}catch{}finally{}if(a=Nf(e,i,h,l),a!==null)return Gn(a,e,l),Qy(a,i,l),!0}return!1}function md(e,i,a,l){if(l={lane:2,revertLane:Qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bc(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&Gn(i,e,2)}function bc(e){var i=e.alternate;return e===kt||i!==null&&i===kt}function Gy(e,i){uo=yc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Qy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,hn(e,a)}}var Al={readContext:mn,use:Ec,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce};Al.useEffectEvent=Ce;var Yy={readContext:mn,use:Ec,useCallback:function(e,i){return Vn().memoizedState=[e,i===void 0?null:i],e},useContext:mn,useEffect:Dy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Sc(4194308,4,Vy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Sc(4194308,4,e,i)},useInsertionEffect:function(e,i){Sc(4,2,e,i)},useMemo:function(e,i){var a=Vn();i=i===void 0?null:i;var l=e();if(Sa){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Vn();if(a!==void 0){var h=a(i);if(Sa){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=pw.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var i=Vn();return e={current:e},i.memoizedState=e},useState:function(e){e=od(e);var i=e.queue,a=Fy.bind(null,kt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(e,i){var a=Vn();return hd(a,e,i)},useTransition:function(){var e=od(!1);return e=zy.bind(null,kt,e.queue,!0,!1),Vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=kt,h=Vn();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),he===null)throw Error(s(349));(Ft&127)!==0||my(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Dy(gy.bind(null,l,d,e),[e]),l.flags|=2048,ho(9,{destroy:void 0},py.bind(null,l,d,a,i),null),a},useId:function(){var e=Vn(),i=he.identifierPrefix;if(Kt){var a=$i,l=Ki;a=(l&~(1<<32-cn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lw++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:dd,useFormState:Ay,useActionState:Ay,useOptimistic:function(e){var i=Vn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=md.bind(null,kt,!0,a),a.dispatch=i,[e,i]},useMemoCache:rd,useCacheRefresh:function(){return Vn().memoizedState=mw.bind(null,kt)},useEffectEvent:function(e){var i=Vn(),a={impl:e};return i.memoizedState=a,function(){if((ie&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},pd={readContext:mn,use:Ec,useCallback:Py,useContext:mn,useEffect:ud,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:Tc,useRef:xy,useState:function(){return Tc(Tr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Ve();return Uy(a,oe.memoizedState,e,i)},useTransition:function(){var e=Tc(Tr)[0],i=Ve().memoizedState;return[typeof e=="boolean"?e:wl(e),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:dd,useFormState:Ry,useActionState:Ry,useOptimistic:function(e,i){var a=Ve();return vy(a,oe,e,i)},useMemoCache:rd,useCacheRefresh:Hy};pd.useEffectEvent=Ny;var Ky={readContext:mn,use:Ec,useCallback:Py,useContext:mn,useEffect:ud,useImperativeHandle:ky,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:ad,useRef:xy,useState:function(){return ad(Tr)},useDebugValue:cd,useDeferredValue:function(e,i){var a=Ve();return oe===null?hd(a,e,i):Uy(a,oe.memoizedState,e,i)},useTransition:function(){var e=ad(Tr)[0],i=Ve().memoizedState;return[typeof e=="boolean"?e:wl(e),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:dd,useFormState:Cy,useActionState:Cy,useOptimistic:function(e,i){var a=Ve();return oe!==null?vy(a,oe,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Hy};Ky.useEffectEvent=Ny;function gd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=si(),h=fs(l);h.payload=i,a!=null&&(h.callback=a),i=ds(e,h,l),i!==null&&(Gn(i,e,l),vl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=si(),h=fs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ds(e,h,l),i!==null&&(Gn(i,e,l),vl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=si(),l=fs(a);l.tag=2,i!=null&&(l.callback=i),i=ds(e,l,a),i!==null&&(Gn(i,e,a),vl(i,e,a))}};function $y(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(h,d):!0}function Xy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&yd.enqueueReplaceState(i,i.state,null)}function wa(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Jy(e){nc(e)}function Zy(e){console.error(e)}function Wy(e){nc(e)}function Ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function t_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(e,i,a){return a=fs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,i)},a}function e_(e){return e=fs(e),e.tag=3,e}function n_(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){t_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){t_(i,a,l),typeof h!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function gw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&io(i,a,h,!0),a=ei.current,a!==null){switch(a.tag){case 31:case 13:return bi===null?Lc():a.alternate===null&&xe===0&&(xe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hd(e,l,h)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hd(e,l,h)),!1}throw Error(s(435,a.tag))}return Hd(e,l,h),Lc(),!1}if(Kt)return i=ei.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(e=Error(s(422),{cause:l}),ml(Ei(e,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),ml(Ei(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Ei(l,a),h=_d(e.stateNode,l,h),Kf(e,h),xe!==4&&(xe=2)),!1;var d=Error(s(520),{cause:l});if(d=Ei(d,a),Ml===null?Ml=[d]:Ml.push(d),xe!==4&&(xe=2),i===null)return!0;l=Ei(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_d(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vs===null||!vs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e_(h),n_(h,e,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var vd=Error(s(461)),Be=!1;function pn(e,i,a,l){i.child=e===null?ay(i,null,a,l):Ta(i,e.child,a,l)}function i_(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ya(i),l=td(e,i,a,_,d,h),S=ed(),e!==null&&!Be?(nd(e,i,h),Sr(e,i,h)):(Kt&&S&&kf(i),i.flags|=1,pn(e,i,l,h),i.child)}function r_(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,s_(e,i,d,l,h)):(e=ac(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Id(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(_,l)&&e.ref===i.ref)return Sr(e,i,h)}return i.flags|=1,e=gr(d,l),e.ref=i.ref,e.return=i,i.child=e}function s_(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(hl(d,l)&&e.ref===i.ref)if(Be=!1,i.pendingProps=l=d,Id(e,h))(e.flags&131072)!==0&&(Be=!0);else return i.lanes=e.lanes,Sr(e,i,h)}return Ed(e,i,a,l,h)}function a_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return o_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&cc(i,d!==null?d.cachePool:null),d!==null?uy(i,d):Xf(),cy(i);else return l=i.lanes=536870912,o_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(i,d.cachePool),uy(i,d),ps(),i.memoizedState=null):(e!==null&&cc(i,null),Xf(),ps());return pn(e,i,h,a),i.child}function Rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function o_(e,i,a,l,h){var d=Ff();return d=d===null?null:{parent:ze._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&cc(i,null),Xf(),cy(i),e!==null&&io(e,i,l,!0),i.childLanes=h,null}function Rc(e,i){return i=Cc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function l_(e,i,a){return Ta(i,e.child,null,a),e=Rc(i,i.pendingProps),e.flags|=2,ni(i),i.memoizedState=null,e}function yw(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Kt){if(l.mode==="hidden")return e=Rc(i,l),i.lanes=536870912,Rl(null,e);if(Zf(i),(e=pe)?(e=Ev(e,wi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:os!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=i,i.child=a,dn=i,pe=null)):e=null,e===null)throw us(i);return i.lanes=536870912,null}return Rc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Zf(i),h)if(i.flags&256)i.flags&=-257,i=l_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Be||io(e,i,a,!1),h=(a&e.childLanes)!==0,Be||h){if(l=he,l!==null&&(_=$n(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,da(e,_),Gn(l,e,_),vd;Lc(),i=l_(e,i,a)}else e=d.treeContext,pe=Ai(_.nextSibling),dn=i,Kt=!0,ls=null,wi=!1,e!==null&&Kg(i,e),i=Rc(i,l),i.flags|=4096;return i}return e=gr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Ic(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ed(e,i,a,l,h){return ya(i),a=td(e,i,a,l,void 0,h),l=ed(),e!==null&&!Be?(nd(e,i,h),Sr(e,i,h)):(Kt&&l&&kf(i),i.flags|=1,pn(e,i,a,h),i.child)}function u_(e,i,a,l,h,d){return ya(i),i.updateQueue=null,a=fy(i,l,a,h),hy(e),l=ed(),e!==null&&!Be?(nd(e,i,d),Sr(e,i,d)):(Kt&&l&&kf(i),i.flags|=1,pn(e,i,a,d),i.child)}function c_(e,i,a,l,h){if(ya(i),i.stateNode===null){var d=Wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=mn(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?mn(_):Wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yd.enqueueReplaceState(d,d.state,null),Tl(i,l,d,h),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,C=wa(a,S);d.props=C;var G=d.context,Z=a.contextType;_=Wa,typeof Z=="object"&&Z!==null&&(_=mn(Z));var nt=a.getDerivedStateFromProps;Z=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==_)&&Xy(i,d,l,_),hs=!1;var Q=i.memoizedState;d.state=Q,Tl(i,l,d,h),El(),G=i.memoizedState,S||Q!==G||hs?(typeof nt=="function"&&(gd(i,a,nt,l),G=i.memoizedState),(C=hs||$y(i,a,C,l,Q,G,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(e,i),_=i.memoizedProps,Z=wa(a,_),d.props=Z,nt=i.pendingProps,Q=d.context,G=a.contextType,C=Wa,typeof G=="object"&&G!==null&&(C=mn(G)),S=a.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||Q!==C)&&Xy(i,d,l,C),hs=!1,Q=i.memoizedState,d.state=Q,Tl(i,l,d,h),El();var Y=i.memoizedState;_!==nt||Q!==Y||hs||e!==null&&e.dependencies!==null&&lc(e.dependencies)?(typeof S=="function"&&(gd(i,a,S,l),Y=i.memoizedState),(Z=hs||$y(i,a,Z,l,Q,Y,C)||e!==null&&e.dependencies!==null&&lc(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=Z):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ic(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ta(i,e.child,null,h),i.child=Ta(i,null,a,h)):pn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Sr(e,i,h),e}function h_(e,i,a,l){return pa(),i.flags|=256,pn(e,i,a,l),i.child}var Td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(e){return{baseLanes:e,cachePool:ty()}}function wd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=ri),e}function f_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Kt){if(h?ms(i):ps(),(e=pe)?(e=Ev(e,wi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:os!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=i,i.child=a,dn=i,pe=null)):e=null,e===null)throw us(i);return sm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(ps(),h=i.mode,S=Cc({mode:"hidden",children:S},h),l=ma(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,Rl(null,l)):(ms(i),bd(i,S))}var C=e.memoizedState;if(C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(ms(i),i.flags&=-257,i=Ad(e,i,a)):i.memoizedState!==null?(ps(),i.child=e.child,i.flags|=128,i=null):(ps(),S=l.fallback,h=i.mode,l=Cc({mode:"visible",children:l.children},h),S=ma(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ta(i,e.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=wd(e,_,a),i.memoizedState=Td,i=Rl(null,l));else if(ms(i),sm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,ml({value:l,source:null,stack:null}),i=Ad(e,i,a)}else if(Be||io(e,i,a,!1),_=(a&e.childLanes)!==0,Be||_){if(_=he,_!==null&&(l=$n(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,da(e,l),Gn(_,e,l),vd;rm(S)||Lc(),i=Ad(e,i,a)}else rm(S)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,pe=Ai(S.nextSibling),dn=i,Kt=!0,ls=null,wi=!1,e!==null&&Kg(i,e),i=bd(i,l.children),i.flags|=4096);return i}return h?(ps(),S=l.fallback,h=i.mode,C=e.child,G=C.sibling,l=gr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?S=gr(G,S):(S=ma(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Rl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Sd(a):(h=S.cachePool,h!==null?(C=ze._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ty(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=wd(e,_,a),i.memoizedState=Td,Rl(e.child,l)):(ms(i),a=e.child,e=a.sibling,a=gr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function bd(e,i){return i=Cc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Cc(e,i){return e=ti(22,e,null,i),e.lanes=0,e}function Ad(e,i,a){return Ta(i,e.child,null,a),e=bd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function d_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),jf(e.return,i,a)}function Rd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function m_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Me.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,it(Me,_),pn(e,i,l,a),l=Kt?dl:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d_(e,a,i);else if(e.tag===19)d_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&gc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Rd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&gc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Rd(i,!0,a,null,d,l);break;case"together":Rd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Sr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),_s|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(io(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=gr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=gr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&lc(e)))}function _w(e,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),cs(i,ze,e.memoizedState.cache),pa();break;case 27:case 5:Pe(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:cs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Zf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ms(i),i.flags|=128,null):(a&i.child.childLanes)!==0?f_(e,i,a):(ms(i),e=Sr(e,i,a),e!==null?e.sibling:null);ms(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(io(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return m_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Me,Me.current),l)break;return null;case 22:return i.lanes=0,a_(e,i,a,i.pendingProps);case 24:cs(i,ze,e.memoizedState.cache)}return Sr(e,i,a)}function p_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Be=!0;else{if(!Id(e,a)&&(i.flags&128)===0)return Be=!1,_w(e,i,a);Be=(e.flags&131072)!==0}else Be=!1,Kt&&(i.flags&1048576)!==0&&Yg(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=va(i.elementType),i.type=e,typeof e=="function")Of(e)?(l=wa(e,l),i.tag=1,i=c_(null,i,e,l,a)):(i.tag=0,i=Ed(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){i.tag=11,i=i_(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=r_(null,i,e,l,a);break t}}throw i=Oe(e)||e,Error(s(306,i,""))}}return i;case 0:return Ed(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=wa(l,i.pendingProps),c_(e,i,l,h,a);case 3:t:{if(Ee(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(e,i),Tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,cs(i,ze,l),l!==d.cache&&Bf(i,[ze],a,!0),El(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=h_(e,i,l,a);break t}else if(l!==h){h=Ei(Error(s(424)),i),ml(h),i=h_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=Ai(e.firstChild),dn=i,Kt=!0,ls=null,wi=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pa(),l===h){i=Sr(e,i,a);break t}pn(e,i,l,a)}i=i.child}return i;case 26:return Ic(e,i),e===null?(a=Rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,e=i.pendingProps,l=Fc(Ct.current).createElement(a),l[_e]=i,l[Xe]=e,gn(l,a,e),ct(l),i.stateNode=l):i.memoizedState=Rv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Pe(i),e===null&&Kt&&(l=i.stateNode=wv(i.type,i.pendingProps,Ct.current),dn=i,wi=!0,h=pe,ws(i.type)?(am=h,pe=Ai(l.firstChild)):pe=h),pn(e,i,i.pendingProps.children,a),Ic(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Kt&&((h=l=pe)&&(l=Kw(l,i.type,i.pendingProps,wi),l!==null?(i.stateNode=l,dn=i,pe=Ai(l.firstChild),wi=!1,h=!0):h=!1),h||us(i)),Pe(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=td(e,i,uw,null,null,a),Bl._currentValue=h),Ic(e,i),pn(e,i,l,a),i.child;case 6:return e===null&&Kt&&((e=a=pe)&&(a=$w(a,i.pendingProps,wi),a!==null?(i.stateNode=a,dn=i,pe=null,e=!0):e=!1),e||us(i)),null;case 13:return f_(e,i,a);case 4:return Ee(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ta(i,null,l,a):pn(e,i,l,a),i.child;case 11:return i_(e,i,i.type,i.pendingProps,a);case 7:return pn(e,i,i.pendingProps,a),i.child;case 8:return pn(e,i,i.pendingProps.children,a),i.child;case 12:return pn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,cs(i,i.type,l.value),pn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ya(i),h=mn(h),l=l(h),i.flags|=1,pn(e,i,l,a),i.child;case 14:return r_(e,i,i.type,i.pendingProps,a);case 15:return s_(e,i,i.type,i.pendingProps,a);case 19:return m_(e,i,a);case 31:return yw(e,i,a);case 22:return a_(e,i,a,i.pendingProps);case 24:return ya(i),l=mn(ze),e===null?(h=Ff(),h===null&&(h=he,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),cs(i,ze,h)):((e.lanes&a)!==0&&(Yf(e,i),Tl(i,null,null,a),El()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),cs(i,ze,l)):(l=d.cache,cs(i,ze,l),l!==h.cache&&Bf(i,[ze],a,!0))),pn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function wr(e){e.flags|=4}function Cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(q_())e.flags|=8192;else throw Ea=fc,Gf}else e.flags&=-16777217}function g_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nv(i))if(q_())e.flags|=8192;else throw Ea=fc,Gf}function xc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ur():536870912,e.lanes|=i,go|=i)}function Il(e,i){if(!Kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function vw(e,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(i),null;case 1:return ge(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),vr(ze),Wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(no(i)?wr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uf())),ge(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(wr(i),d!==null?(ge(i),g_(i,d)):(ge(i),Cd(i,h,null,l,a))):d?d!==e.memoizedState?(wr(i),ge(i),g_(i,d)):(ge(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&wr(i),ge(i),Cd(i,h,e,l,a)),null;case 27:if(Tn(i),a=Ct.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&wr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ge(i),null}e=dt.current,no(i)?$g(i):(e=wv(h,l,a),i.stateNode=e,wr(i))}return ge(i),null;case 5:if(Tn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&wr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ge(i),null}if(d=dt.current,no(i))$g(i);else{var _=Fc(Ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[_e]=i,d[Xe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(gn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&wr(i)}}return ge(i),Cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&wr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Ct.current,no(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=dn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(e.nodeValue,a)),e||us(i,!0)}else e=Fc(e).createTextNode(l),e[_e]=i,i.stateNode=e}return ge(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=no(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_e]=i}else pa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),e=!1}else a=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(ni(i),i):(ni(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ge(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=no(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=i}else pa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),h=!1}else h=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ni(i),i):(ni(i),null)}return ni(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),xc(i,i.updateQueue),ge(i),null);case 4:return Wt(),e===null&&Xd(i.stateNode.containerInfo),ge(i),null;case 10:return vr(i.type),ge(i),null;case 19:if(W(Me),l=i.memoizedState,l===null)return ge(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Il(l,!1);else{if(xe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=gc(e),d!==null){for(i.flags|=128,Il(l,!1),e=d.updateQueue,i.updateQueue=e,xc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Fg(a,e),a=a.sibling;return it(Me,Me.current&1|2),Kt&&yr(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&Ke()>Vc&&(i.flags|=128,h=!0,Il(l,!1),i.lanes=4194304)}else{if(!h)if(e=gc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,xc(i,e),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Kt)return ge(i),null}else 2*Ke()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,h=!0,Il(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,a=Me.current,it(Me,h?a&1|2:a&1),Kt&&yr(i,l.treeForkCount),e):(ge(i),null);case 22:case 23:return ni(i),Jf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ge(i),i.subtreeFlags&6&&(i.flags|=8192)):ge(i),a=i.updateQueue,a!==null&&xc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&W(_a),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),vr(ze),ge(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ew(e,i){switch(Pf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return vr(ze),Wt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Tn(i),null;case 31:if(i.memoizedState!==null){if(ni(i),i.alternate===null)throw Error(s(340));pa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(ni(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));pa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return W(Me),null;case 4:return Wt(),null;case 10:return vr(i.type),null;case 22:case 23:return ni(i),Jf(),e!==null&&W(_a),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return vr(ze),null;case 25:return null;default:return null}}function y_(e,i){switch(Pf(i),i.tag){case 3:vr(ze),Wt();break;case 26:case 27:case 5:Tn(i);break;case 4:Wt();break;case 31:i.memoizedState!==null&&ni(i);break;case 13:ni(i);break;case 19:W(Me);break;case 10:vr(i.type);break;case 22:case 23:ni(i),Jf(),e!==null&&W(_a);break;case 24:vr(ze)}}function Cl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){ae(i,i.return,S)}}function gs(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var C=a,G=S;try{G()}catch(Z){ae(h,C,Z)}}}l=l.next}while(l!==d)}}catch(Z){ae(i,i.return,Z)}}function __(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ly(i,a)}catch(l){ae(e,e.return,l)}}}function v_(e,i,a){a.props=wa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ae(e,i,l)}}function xl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ae(e,i,h)}}function Xi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ae(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,i,h)}else a.current=null}function E_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function xd(e,i,a){try{var l=e.stateNode;qw(l,e.type,a,i),l[Xe]=i}catch(h){ae(e,e.return,h)}}function T_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ws(e.type)||e.tag===4}function Dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||T_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=en));else if(l!==4&&(l===27&&ws(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function Dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&ws(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dc(e,i,a),e=e.sibling;e!==null;)Dc(e,i,a),e=e.sibling}function S_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);gn(i,l,a),i[_e]=e,i[Xe]=a}catch(d){ae(e,e.return,d)}}var br=!1,qe=!1,Od=!1,w_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Tw(e,i){if(e=e.containerInfo,Wd=Jc,e=kg(e),Af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,C=-1,G=0,Z=0,nt=e,Q=null;e:for(;;){for(var Y;nt!==a||h!==0&&nt.nodeType!==3||(S=_+h),nt!==d||l!==0&&nt.nodeType!==3||(C=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(Y=nt.firstChild)!==null;)Q=nt,nt=Y;for(;;){if(nt===e)break e;if(Q===a&&++G===h&&(S=_),Q===d&&++Z===l&&(C=_),(Y=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=Y}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:e,selectionRange:a},Jc=!1,sn=i;sn!==null;)if(i=sn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,sn=e;else for(;sn!==null;){switch(i=sn,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=wa(a.type,h);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){ae(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)im(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":im(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,sn=e;break}sn=i.return}}function b_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rr(e,a),l&4&&Cl(5,a);break;case 1:if(Rr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){ae(a,a.return,_)}else{var h=wa(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ae(a,a.return,_)}}l&64&&__(a),l&512&&xl(a,a.return);break;case 3:if(Rr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ly(e,i)}catch(_){ae(a,a.return,_)}}break;case 27:i===null&&l&4&&S_(a);case 26:case 5:Rr(e,a),i===null&&l&4&&E_(a),l&512&&xl(a,a.return);break;case 12:Rr(e,a);break;case 31:Rr(e,a),l&4&&I_(e,a);break;case 13:Rr(e,a),l&4&&C_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Dw.bind(null,a),Xw(e,a))));break;case 22:if(l=a.memoizedState!==null||br,!l){i=i!==null&&i.memoizedState!==null||qe,h=br;var d=qe;br=l,(qe=i)&&!d?Ir(e,a,(a.subtreeFlags&8772)!==0):Rr(e,a),br=h,qe=d}break;case 30:break;default:Rr(e,a)}}function A_(e){var i=e.alternate;i!==null&&(e.alternate=null,A_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Nn(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,Bn=!1;function Ar(e,i,a){for(a=a.child;a!==null;)R_(e,i,a),a=a.sibling}function R_(e,i,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 26:qe||Xi(a,i),Ar(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:qe||Xi(a,i);var l=ve,h=Bn;ws(a.type)&&(ve=a.stateNode,Bn=!1),Ar(e,i,a),Ul(a.stateNode),ve=l,Bn=h;break;case 5:qe||Xi(a,i);case 6:if(l=ve,h=Bn,ve=null,Ar(e,i,a),ve=l,Bn=h,ve!==null)if(Bn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(d){ae(a,i,d)}else try{ve.removeChild(a.stateNode)}catch(d){ae(a,i,d)}break;case 18:ve!==null&&(Bn?(e=ve,_v(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),bo(e)):_v(ve,a.stateNode));break;case 4:l=ve,h=Bn,ve=a.stateNode.containerInfo,Bn=!0,Ar(e,i,a),ve=l,Bn=h;break;case 0:case 11:case 14:case 15:gs(2,a,i),qe||gs(4,a,i),Ar(e,i,a);break;case 1:qe||(Xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,i,l)),Ar(e,i,a);break;case 21:Ar(e,i,a);break;case 22:qe=(l=qe)||a.memoizedState!==null,Ar(e,i,a),qe=l;break;default:Ar(e,i,a)}}function I_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{bo(e)}catch(a){ae(i,i.return,a)}}}function C_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bo(e)}catch(a){ae(i,i.return,a)}}function Sw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new w_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new w_),i;default:throw Error(s(435,e.tag))}}function Nc(e,i){var a=Sw(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Nw.bind(null,e,l);l.then(h,h)}})}function qn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(ws(S.type)){ve=S.stateNode,Bn=!1;break t}break;case 5:ve=S.stateNode,Bn=!1;break t;case 3:case 4:ve=S.stateNode.containerInfo,Bn=!0;break t}S=S.return}if(ve===null)throw Error(s(160));R_(d,_,h),ve=null,Bn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)x_(i,e),i=i.sibling}var ki=null;function x_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(i,e),Hn(e),l&4&&(gs(3,e,e.return),Cl(3,e),gs(5,e,e.return));break;case 1:qn(i,e),Hn(e),l&512&&(qe||a===null||Xi(a,a.return)),l&64&&br&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ki;if(qn(i,e),Hn(e),l&512&&(qe||a===null||Xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xn]||d[_e]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),gn(d,l,a),d[_e]=e,ct(d),l=d;break t;case"link":var _=xv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),gn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=xv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),gn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[_e]=e,ct(d),l=d}e.stateNode=l}else Dv(h,e.type,e.stateNode);else e.stateNode=Cv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Dv(h,e.type,e.stateNode):Cv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&xd(e,e.memoizedProps,a.memoizedProps)}break;case 27:qn(i,e),Hn(e),l&512&&(qe||a===null||Xi(a,a.return)),a!==null&&l&4&&xd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(qn(i,e),Hn(e),l&512&&(qe||a===null||Xi(a,a.return)),e.flags&32){h=e.stateNode;try{_i(h,"")}catch(pt){ae(e,e.return,pt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,xd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Od=!0);break;case 6:if(qn(i,e),Hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){ae(e,e.return,pt)}}break;case 3:if(Yc=null,h=ki,ki=Gc(i.containerInfo),qn(i,e),ki=h,Hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bo(i.containerInfo)}catch(pt){ae(e,e.return,pt)}Od&&(Od=!1,D_(e));break;case 4:l=ki,ki=Gc(e.stateNode.containerInfo),qn(i,e),Hn(e),ki=l;break;case 12:qn(i,e),Hn(e);break;case 31:qn(i,e),Hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 13:qn(i,e),Hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,G=br,Z=qe;if(br=G||h,qe=Z||C,qn(i,e),qe=Z,br=G,Hn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||br||qe||ba(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=C.stateNode;var nt=C.memoizedProps.style,Q=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pt){ae(C,C.return,pt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(pt){ae(C,C.return,pt)}}}else if(i.tag===18){if(a===null){C=i;try{var Y=C.stateNode;h?vv(Y,!0):vv(C.stateNode,!1)}catch(pt){ae(C,C.return,pt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(e,a))));break;case 19:qn(i,e),Hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 30:break;case 21:break;default:qn(i,e),Hn(e)}}function Hn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(e);Dc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(_i(_,""),a.flags&=-33);var S=Dd(e);Dc(e,S,_);break;case 3:case 4:var C=a.stateNode.containerInfo,G=Dd(e);Nd(e,G,C);break;default:throw Error(s(161))}}catch(Z){ae(e,e.return,Z)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function D_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;D_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Rr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)b_(e,i.alternate,i),i=i.sibling}function ba(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:gs(4,i,i.return),ba(i);break;case 1:Xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&v_(i,i.return,a),ba(i);break;case 27:Ul(i.stateNode);case 26:case 5:Xi(i,i.return),ba(i);break;case 22:i.memoizedState===null&&ba(i);break;case 30:ba(i);break;default:ba(i)}e=e.sibling}}function Ir(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ir(h,d,a),Cl(4,d);break;case 1:if(Ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){ae(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)oy(C[h],S)}catch(G){ae(l,l.return,G)}}a&&_&64&&__(d),xl(d,d.return);break;case 27:S_(d);case 26:case 5:Ir(h,d,a),a&&l===null&&_&4&&E_(d),xl(d,d.return);break;case 12:Ir(h,d,a);break;case 31:Ir(h,d,a),a&&_&4&&I_(h,d);break;case 13:Ir(h,d,a),a&&_&4&&C_(h,d);break;case 22:d.memoizedState===null&&Ir(h,d,a),xl(d,d.return);break;case 30:break;default:Ir(h,d,a)}i=i.sibling}}function Md(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&pl(a))}function Vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&pl(e))}function Pi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)N_(e,i,a,l),i=i.sibling}function N_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Pi(e,i,a,l),h&2048&&Cl(9,i);break;case 1:Pi(e,i,a,l);break;case 3:Pi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&pl(e)));break;case 12:if(h&2048){Pi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ae(i,i.return,C)}}else Pi(e,i,a,l);break;case 31:Pi(e,i,a,l);break;case 13:Pi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Pi(e,i,a,l):Dl(e,i):d._visibility&2?Pi(e,i,a,l):(d._visibility|=2,fo(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Md(_,i);break;case 24:Pi(e,i,a,l),h&2048&&Vd(i.alternate,i);break;default:Pi(e,i,a,l)}}function fo(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,C=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:fo(d,_,S,C,h),Cl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?fo(d,_,S,C,h):Dl(d,_):(Z._visibility|=2,fo(d,_,S,C,h)),h&&G&2048&&Md(_.alternate,_);break;case 24:fo(d,_,S,C,h),h&&G&2048&&Vd(_.alternate,_);break;default:fo(d,_,S,C,h)}i=i.sibling}}function Dl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Dl(a,l),h&2048&&Md(l.alternate,l);break;case 24:Dl(a,l),h&2048&&Vd(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var Nl=8192;function mo(e,i,a){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)O_(e,i,a),e=e.sibling}function O_(e,i,a){switch(e.tag){case 26:mo(e,i,a),e.flags&Nl&&e.memoizedState!==null&&lb(a,ki,e.memoizedState,e.memoizedProps);break;case 5:mo(e,i,a);break;case 3:case 4:var l=ki;ki=Gc(e.stateNode.containerInfo),mo(e,i,a),ki=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,mo(e,i,a),Nl=l):mo(e,i,a));break;default:mo(e,i,a)}}function M_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ol(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,k_(l,e)}M_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)V_(e),e=e.sibling}function V_(e){switch(e.tag){case 0:case 11:case 15:Ol(e),e.flags&2048&&gs(9,e,e.return);break;case 3:Ol(e);break;case 12:Ol(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Oc(e)):Ol(e);break;default:Ol(e)}}function Oc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,k_(l,e)}M_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:gs(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}e=e.sibling}}function k_(e,i){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:gs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else t:for(a=e;sn!==null;){l=sn;var h=l.sibling,d=l.return;if(A_(l),l===a){sn=null;break t}if(h!==null){h.return=d,sn=h;break t}sn=d}}}var ww={getCacheForType:function(e){var i=mn(ze),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return mn(ze).controller.signal}},bw=typeof WeakMap=="function"?WeakMap:Map,ie=0,he=null,qt=null,Ft=0,se=0,ii=null,ys=!1,po=!1,kd=!1,Cr=0,xe=0,_s=0,Aa=0,Pd=0,ri=0,go=0,Ml=null,Fn=null,Ld=!1,Mc=0,P_=0,Vc=1/0,kc=null,vs=null,Je=0,Es=null,yo=null,xr=0,Ud=0,zd=null,L_=null,Vl=0,jd=null;function si(){return(ie&2)!==0&&Ft!==0?Ft&-Ft:J.T!==null?Qd():Oi()}function U_(){if(ri===0)if((Ft&536870912)===0||Kt){var e=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),ri=e}else ri=536870912;return e=ei.current,e!==null&&(e.flags|=32),ri}function Gn(e,i,a){(e===he&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(_o(e,0),Ts(e,Ft,ri,!1)),Un(e,a),((ie&2)===0||e!==he)&&(e===he&&((ie&2)===0&&(Aa|=a),xe===4&&Ts(e,Ft,ri,!1)),Ji(e))}function z_(e,i,a){if((ie&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hi(e,i),h=l?Iw(e,i):qd(e,i,!0),d=l;do{if(h===0){po&&!l&&Ts(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Aw(a)){h=qd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=Ml;var C=S.current.memoizedState.isDehydrated;if(C&&(_o(S,_).flags|=256),_=qd(S,_,!1),_!==2){if(kd&&!C){S.errorRecoveryDisabledLanes|=d,Aa|=d,h=4;break t}d=Fn,Fn=h,d!==null&&(Fn===null?Fn=d:Fn.push.apply(Fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){_o(e,0),Ts(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ts(l,i,ri,!ys);break t;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Mc+300-Ke(),10<h)){if(Ts(l,i,ri,!ys),Ln(l,0,!0)!==0)break t;xr=i,l.timeoutHandle=gv(j_.bind(null,l,a,Fn,kc,Ld,i,ri,Aa,go,ys,d,"Throttled",-0,0),h);break t}j_(l,a,Fn,kc,Ld,i,ri,Aa,go,ys,d,null,-0,0)}}break}while(!0);Ji(e)}function j_(e,i,a,l,h,d,_,S,C,G,Z,nt,Q,Y){if(e.timeoutHandle=-1,nt=i.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},O_(i,d,nt);var pt=(d&62914560)===d?Mc-Ke():(d&4194048)===d?P_-Ke():0;if(pt=ub(nt,pt),pt!==null){xr=d,e.cancelPendingCommit=pt(K_.bind(null,e,i,d,a,l,h,_,S,C,Z,nt,null,Q,Y)),Ts(e,d,_,!G);return}}K_(e,i,d,a,l,h,_,S,C)}function Aw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Wn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ts(e,i,a,l){i&=~Pd,i&=~Aa,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-cn(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&mi(e,a,i)}function Pc(){return(ie&6)===0?(kl(0),!1):!0}function Bd(){if(qt!==null){if(se===0)var e=qt.return;else e=qt,_r=ga=null,id(e),oo=null,yl=0,e=qt;for(;e!==null;)y_(e.alternate,e),e=e.return;qt=null}}function _o(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Gw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xr=0,Bd(),he=e,qt=a=gr(e.current,null),Ft=i,se=0,ii=null,ys=!1,po=Hi(e,i),kd=!1,go=ri=Pd=Aa=_s=xe=0,Fn=Ml=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-cn(l),d=1<<h;i|=e[h],l&=~d}return Cr=i,ic(),a}function B_(e,i){kt=null,J.H=Al,i===ao||i===hc?(i=iy(),se=3):i===Gf?(i=iy(),se=4):se=i===vd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ii=i,qt===null&&(xe=1,Ac(e,Ei(i,e.current)))}function q_(){var e=ei.current;return e===null?!0:(Ft&4194048)===Ft?bi===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?e===bi:!1}function H_(){var e=J.H;return J.H=Al,e===null?Al:e}function F_(){var e=J.A;return J.A=ww,e}function Lc(){xe=4,ys||(Ft&4194048)!==Ft&&ei.current!==null||(po=!0),(_s&134217727)===0&&(Aa&134217727)===0||he===null||Ts(he,Ft,ri,!1)}function qd(e,i,a){var l=ie;ie|=2;var h=H_(),d=F_();(he!==e||Ft!==i)&&(kc=null,_o(e,i)),i=!1;var _=xe;t:do try{if(se!==0&&qt!==null){var S=qt,C=ii;switch(se){case 8:Bd(),_=6;break t;case 3:case 2:case 9:case 6:ei.current===null&&(i=!0);var G=se;if(se=0,ii=null,vo(e,S,C,G),a&&po){_=0;break t}break;default:G=se,se=0,ii=null,vo(e,S,C,G)}}Rw(),_=xe;break}catch(Z){B_(e,Z)}while(!0);return i&&e.shellSuspendCounter++,_r=ga=null,ie=l,J.H=h,J.A=d,qt===null&&(he=null,Ft=0,ic()),_}function Rw(){for(;qt!==null;)G_(qt)}function Iw(e,i){var a=ie;ie|=2;var l=H_(),h=F_();he!==e||Ft!==i?(kc=null,Vc=Ke()+500,_o(e,i)):po=Hi(e,i);t:do try{if(se!==0&&qt!==null){i=qt;var d=ii;e:switch(se){case 1:se=0,ii=null,vo(e,i,d,1);break;case 2:case 9:if(ey(d)){se=0,ii=null,Q_(i);break}i=function(){se!==2&&se!==9||he!==e||(se=7),Ji(e)},d.then(i,i);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:ey(d)?(se=0,ii=null,Q_(i)):(se=0,ii=null,vo(e,i,d,7));break;case 5:var _=null;switch(qt.tag){case 26:_=qt.memoizedState;case 5:case 27:var S=qt;if(_?Nv(_):S.stateNode.complete){se=0,ii=null;var C=S.sibling;if(C!==null)qt=C;else{var G=S.return;G!==null?(qt=G,Uc(G)):qt=null}break e}}se=0,ii=null,vo(e,i,d,5);break;case 6:se=0,ii=null,vo(e,i,d,6);break;case 8:Bd(),xe=6;break t;default:throw Error(s(462))}}Cw();break}catch(Z){B_(e,Z)}while(!0);return _r=ga=null,J.H=l,J.A=h,ie=a,qt!==null?0:(he=null,Ft=0,ic(),xe)}function Cw(){for(;qt!==null&&!Zo();)G_(qt)}function G_(e){var i=p_(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,i===null?Uc(e):qt=i}function Q_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=u_(a,i,i.pendingProps,i.type,void 0,Ft);break;case 11:i=u_(a,i,i.pendingProps,i.type.render,i.ref,Ft);break;case 5:id(i);default:y_(a,i),i=qt=Fg(i,Cr),i=p_(a,i,Cr)}e.memoizedProps=e.pendingProps,i===null?Uc(e):qt=i}function vo(e,i,a,l){_r=ga=null,id(i),oo=null,yl=0;var h=i.return;try{if(gw(e,h,i,a,Ft)){xe=1,Ac(e,Ei(a,e.current)),qt=null;return}}catch(d){if(h!==null)throw qt=h,d;xe=1,Ac(e,Ei(a,e.current)),qt=null;return}i.flags&32768?(Kt||l===1?e=!0:po||(Ft&536870912)!==0?e=!1:(ys=e=!0,(l===2||l===9||l===3||l===6)&&(l=ei.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(i,e)):Uc(i)}function Uc(e){var i=e;do{if((i.flags&32768)!==0){Y_(i,ys);return}e=i.return;var a=vw(i.alternate,i,Cr);if(a!==null){qt=a;return}if(i=i.sibling,i!==null){qt=i;return}qt=i=e}while(i!==null);xe===0&&(xe=5)}function Y_(e,i){do{var a=Ew(e.alternate,e);if(a!==null){a.flags&=32767,qt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){qt=e;return}qt=e=a}while(e!==null);xe=6,qt=null}function K_(e,i,a,l,h,d,_,S,C){e.cancelPendingCommit=null;do zc();while(Je!==0);if((ie&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,Te(e,a,d,_,S,C),e===he&&(qt=he=null,Ft=0),yo=i,Es=e,xr=a,Ud=d,zd=h,L_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ow(xi,function(){return W_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=ut.p,ut.p=2,_=ie,ie|=4;try{Tw(e,i,a)}finally{ie=_,ut.p=h,J.T=l}}Je=1,$_(),X_(),J_()}}function $_(){if(Je===1){Je=0;var e=Es,i=yo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=ut.p;ut.p=2;var h=ie;ie|=4;try{x_(i,e);var d=tm,_=kg(e.containerInfo),S=d.focusedElem,C=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Vg(S.ownerDocument.documentElement,S)){if(C!==null&&Af(S)){var G=C.start,Z=C.end;if(Z===void 0&&(Z=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(Z,S.value.length);else{var nt=S.ownerDocument||document,Q=nt&&nt.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),pt=S.textContent.length,At=Math.min(C.start,pt),ue=C.end===void 0?At:Math.min(C.end,pt);!Y.extend&&At>ue&&(_=ue,ue=At,At=_);var L=Mg(S,At),N=Mg(S,ue);if(L&&N&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==N.node||Y.focusOffset!==N.offset)){var q=nt.createRange();q.setStart(L.node,L.offset),Y.removeAllRanges(),At>ue?(Y.addRange(q),Y.extend(N.node,N.offset)):(q.setEnd(N.node,N.offset),Y.addRange(q))}}}}for(nt=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&nt.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<nt.length;S++){var tt=nt[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Jc=!!Wd,tm=Wd=null}finally{ie=h,ut.p=l,J.T=a}}e.current=i,Je=2}}function X_(){if(Je===2){Je=0;var e=Es,i=yo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=ut.p;ut.p=2;var h=ie;ie|=4;try{b_(e,i.alternate,i)}finally{ie=h,ut.p=l,J.T=a}}Je=3}}function J_(){if(Je===4||Je===3){Je=0,ta();var e=Es,i=yo,a=xr,l=L_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Je=5:(Je=0,yo=Es=null,Z_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(vs=null),cr(a),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Bi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=J.T,h=ut.p,ut.p=2,J.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{J.T=i,ut.p=h}}(xr&3)!==0&&zc(),Ji(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===jd?Vl++:(Vl=0,jd=e):Vl=0,kl(0)}}function Z_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,pl(i)))}function zc(){return $_(),X_(),J_(),W_()}function W_(){if(Je!==5)return!1;var e=Es,i=Ud;Ud=0;var a=cr(xr),l=J.T,h=ut.p;try{ut.p=32>a?32:a,J.T=null,a=zd,zd=null;var d=Es,_=xr;if(Je=0,yo=Es=null,xr=0,(ie&6)!==0)throw Error(s(331));var S=ie;if(ie|=4,V_(d.current),N_(d,d.current,_,a),ie=S,kl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Bi,d)}catch{}return!0}finally{ut.p=h,J.T=l,Z_(e,i)}}function tv(e,i,a){i=Ei(a,i),i=_d(e.stateNode,i,2),e=ds(e,i,2),e!==null&&(Un(e,2),Ji(e))}function ae(e,i,a){if(e.tag===3)tv(e,e,a);else for(;i!==null;){if(i.tag===3){tv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vs===null||!vs.has(l))){e=Ei(a,e),a=e_(2),l=ds(i,a,2),l!==null&&(n_(a,l,i,e),Un(l,2),Ji(l));break}}i=i.return}}function Hd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new bw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(kd=!0,h.add(a),e=xw.bind(null,e,i,a),i.then(e,e))}function xw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,he===e&&(Ft&a)===a&&(xe===4||xe===3&&(Ft&62914560)===Ft&&300>Ke()-Mc?(ie&2)===0&&_o(e,0):Pd|=a,go===Ft&&(go=0)),Ji(e)}function ev(e,i){i===0&&(i=ur()),e=da(e,i),e!==null&&(Un(e,i),Ji(e))}function Dw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),ev(e,a)}function Nw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ev(e,a)}function Ow(e,i){return ar(e,i)}var jc=null,Eo=null,Fd=!1,Bc=!1,Gd=!1,Ss=0;function Ji(e){e!==Eo&&e.next===null&&(Eo===null?jc=Eo=e:Eo=Eo.next=e),Bc=!0,Fd||(Fd=!0,Vw())}function kl(e,i){if(!Gd&&Bc){Gd=!0;do for(var a=!1,l=jc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-cn(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Ft,d=Ln(l,l===he?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hi(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Gd=!1}}function Mw(){nv()}function nv(){Bc=Fd=!1;var e=0;Ss!==0&&Fw()&&(e=Ss);for(var i=Ke(),a=null,l=jc;l!==null;){var h=l.next,d=iv(l,i);d===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(Eo=a)):(a=l,(e!==0||(d&3)!==0)&&(Bc=!0)),l=h}Je!==0&&Je!==5||kl(e),Ss!==0&&(Ss=0)}function iv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-cn(d),S=1<<_,C=h[_];C===-1?((S&a)===0||(S&l)!==0)&&(h[_]=Xr(S,i)):C<=i&&(e.expiredLanes|=S),d&=~S}if(i=he,a=Ft,a=Ln(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(se===2||se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Yr(l),cr(a)){case 2:case 8:a=Le;break;case 32:a=xi;break;case 268435456:a=$r;break;default:a=xi}return l=rv.bind(null,e),a=ar(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Yr(l),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,i){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zc()&&e.callbackNode!==a)return null;var l=Ft;return l=Ln(e,e===he?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(z_(e,l,i),iv(e,Ke()),e.callbackNode!=null&&e.callbackNode===a?rv.bind(null,e):null)}function sv(e,i){if(zc())return null;z_(e,i,!0)}function Vw(){Qw(function(){(ie&6)!==0?ar(Re,Mw):nv()})}function Qd(){if(Ss===0){var e=ro;e===0&&(e=di,di<<=1,(di&261888)===0&&(di=256)),Ss=e}return Ss}function av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gi(""+e)}function ov(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function kw(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=av((h[Xe]||null).action),_=l.submitter;_&&(i=(i=_[Xe]||null)?av(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new aa("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var C=_?ov(h,_):new FormData(h);fd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=_?ov(h,_):new FormData(h),fd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Yd=0;Yd<xf.length;Yd++){var Kd=xf[Yd],Pw=Kd.toLowerCase(),Lw=Kd[0].toUpperCase()+Kd.slice(1);Vi(Pw,"on"+Lw)}Vi(Ug,"onAnimationEnd"),Vi(zg,"onAnimationIteration"),Vi(jg,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(WS,"onTransitionRun"),Vi(tw,"onTransitionStart"),Vi(ew,"onTransitionCancel"),Vi(Bg,"onTransitionEnd"),zt("onMouseEnter",["mouseout","mouseover"]),zt("onMouseLeave",["mouseout","mouseover"]),zt("onPointerEnter",["pointerout","pointerover"]),zt("onPointerLeave",["pointerout","pointerover"]),Lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function lv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],C=S.instance,G=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=G;try{d(h)}catch(Z){nc(Z)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(S=l[_],C=S.instance,G=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=G;try{d(h)}catch(Z){nc(Z)}h.currentTarget=null,d=C}}}}function Ht(e,i){var a=i[Fi];a===void 0&&(a=i[Fi]=new Set);var l=e+"__bubble";a.has(l)||(uv(i,e,2,!1),a.add(l))}function $d(e,i,a){var l=0;i&&(l|=4),uv(a,e,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Xd(e){if(!e[qc]){e[qc]=!0,Dt.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||$d(a,!1,e),$d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[qc]||(i[qc]=!0,$d("selectionchange",!1,i))}}function uv(e,i,a,l){switch(Uv(i)){case 2:var h=fb;break;case 8:h=db;break;default:h=hm}a=h.bind(null,i,a,e),h=void 0,!rl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=R(S),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}S=S.parentNode}}l=l.return}ju(function(){var G=d,Z=Ga(a),nt=[];t:{var Q=qg.get(e);if(Q!==void 0){var Y=aa,pt=e;switch(e){case"keypress":if(sa(a)===0)break t;case"keydown":case"keyup":Y=$u;break;case"focusin":pt="focus",Y=is;break;case"focusout":pt="blur",Y=is;break;case"beforeblur":case"afterblur":Y=is;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ju;break;case Ug:case zg:case jg:Y=Ka;break;case Bg:Y=$a;break;case"scroll":case"scrollend":Y=Bu;break;case"wheel":Y=Wu;break;case"copy":case"cut":case"paste":Y=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=ul;break;case"toggle":case"beforetoggle":Y=ss}var At=(i&4)!==0,ue=!At&&(e==="scroll"||e==="scrollend"),L=At?Q!==null?Q+"Capture":null:Q;At=[];for(var N=G,q;N!==null;){var tt=N;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||L===null||(tt=zn(N,L),tt!=null&&At.push(Ll(N,tt,q))),ue)break;N=N.return}0<At.length&&(Q=new Y(Q,pt,null,a,Z),nt.push({event:Q,listeners:At}))}}if((i&7)===0){t:{if(Q=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",Q&&a!==Fa&&(pt=a.relatedTarget||a.fromElement)&&(R(pt)||pt[Dn]))break t;if((Y||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(pt=a.relatedTarget||a.toElement,Y=G,pt=pt?R(pt):null,pt!==null&&(ue=u(pt),At=pt.tag,pt!==ue||At!==5&&At!==27&&At!==6)&&(pt=null)):(Y=null,pt=G),Y!==pt)){if(At=qu,tt="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(At=ul,tt="onPointerLeave",L="onPointerEnter",N="pointer"),ue=Y==null?Q:K(Y),q=pt==null?Q:K(pt),Q=new At(tt,N+"leave",Y,a,Z),Q.target=ue,Q.relatedTarget=q,tt=null,R(Z)===G&&(At=new At(L,N+"enter",pt,a,Z),At.target=q,At.relatedTarget=ue,tt=At),ue=tt,Y&&pt)e:{for(At=zw,L=Y,N=pt,q=0,tt=L;tt;tt=At(tt))q++;tt=0;for(var Et=N;Et;Et=At(Et))tt++;for(;0<q-tt;)L=At(L),q--;for(;0<tt-q;)N=At(N),tt--;for(;q--;){if(L===N||N!==null&&L===N.alternate){At=L;break e}L=At(L),N=At(N)}At=null}else At=null;Y!==null&&cv(nt,Q,Y,At,!1),pt!==null&&ue!==null&&cv(nt,ue,pt,At,!0)}}t:{if(Q=G?K(G):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var ee=Ig;else if(jn(Q))if(Cg)ee=XS;else{ee=KS;var yt=YS}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&nl(G.elementType)&&(ee=Ig):ee=$S;if(ee&&(ee=ee(e,G))){ca(nt,ee,a,Z);break t}yt&&yt(e,Q,G),e==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Ha(Q,"number",Q.value)}switch(yt=G?K(G):window,e){case"focusin":(jn(yt)||yt.contentEditable==="true")&&(Xa=yt,Rf=G,fl=null);break;case"focusout":fl=Rf=Xa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Pg(nt,a,Z);break;case"selectionchange":if(ZS)break;case"keydown":case"keyup":Pg(nt,a,Z)}var Ut;if(y)t:{switch(e){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else jt?re(e,a)&&(Gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Gt="onCompositionStart");Gt&&(j&&a.locale!=="ko"&&(jt||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&jt&&(Ut=Wr()):(Zn=Z,Qa="value"in Zn?Zn.value:Zn.textContent,jt=!0)),yt=Hc(G,Gt),0<yt.length&&(Gt=new al(Gt,e,null,a,Z),nt.push({event:Gt,listeners:yt}),Ut?Gt.data=Ut:(Ut=Ue(a),Ut!==null&&(Gt.data=Ut)))),(Ut=w?nn(e,a):rn(e,a))&&(Gt=Hc(G,"onBeforeInput"),0<Gt.length&&(yt=new al("onBeforeInput","beforeinput",null,a,Z),nt.push({event:yt,listeners:Gt}),yt.data=Ut)),kw(nt,e,G,a,Z)}lv(nt,i)})}function Ll(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Hc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=zn(e,a),h!=null&&l.unshift(Ll(e,h,d)),h=zn(e,i),h!=null&&l.push(Ll(e,h,d))),e.tag===3)return l;e=e.return}return[]}function zw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,C=S.alternate,G=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||G===null||(C=G,h?(G=zn(a,d),G!=null&&_.unshift(Ll(a,G,C))):h||(G=zn(a,d),G!=null&&_.push(Ll(a,G,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var jw=/\r\n?/g,Bw=/\u0000|\uFFFD/g;function hv(e){return(typeof e=="string"?e:""+e).replace(jw,`
`).replace(Bw,"")}function fv(e,i){return i=hv(i),hv(e)===i}function le(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_i(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_i(e,""+l);break;case"className":fn(e,"class",l);break;case"tabIndex":fn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,a,l);break;case"style":Uu(e,l,d);break;case"data":if(i!=="object"){fn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Gi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&le(e,i,"name",h.name,h,null),le(e,i,"formEncType",h.formEncType,h,null),le(e,i,"formMethod",h.formMethod,h,null),le(e,i,"formTarget",h.formTarget,h,null)):(le(e,i,"encType",h.encType,h,null),le(e,i,"method",h.method,h,null),le(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Gi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=en);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Gi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ht("beforetoggle",e),Ht("toggle",e),wn(e,"popover",l);break;case"xlinkActuate":de(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":de(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":de(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":de(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":de(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":de(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":de(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":de(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":de(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wn(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,wn(e,a,l))}}function Zd(e,i,a,l,h,d){switch(a){case"style":Uu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_i(e,l):(typeof l=="number"||typeof l=="bigint")&&_i(e,""+l);break;case"onScroll":l!=null&&Ht("scroll",e);break;case"onScrollEnd":l!=null&&Ht("scrollend",e);break;case"onClick":l!=null&&(e.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!St.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):wn(e,a,l)}}}function gn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",e),Ht("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:le(e,i,d,_,a,null)}}h&&le(e,i,"srcSet",a.srcSet,a,null),l&&le(e,i,"src",a.src,a,null);return;case"input":Ht("invalid",e);var S=d=_=h=null,C=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:le(e,i,l,Z,a,null)}}ia(e,d,S,C,G,_,h,!1);return;case"select":Ht("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:le(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?te(e,!!l,i,!1):a!=null&&te(e,!!l,a,!0);return;case"textarea":Ht("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:le(e,i,_,S,a,null)}Zr(e,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:le(e,i,C,l,a,null)}return;case"dialog":Ht("beforetoggle",e),Ht("toggle",e),Ht("cancel",e),Ht("close",e);break;case"iframe":case"object":Ht("load",e);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ht(Pl[l],e);break;case"image":Ht("error",e),Ht("load",e);break;case"details":Ht("toggle",e);break;case"embed":case"source":case"link":Ht("error",e),Ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:le(e,i,G,l,a,null)}return;default:if(nl(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Zd(e,i,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&le(e,i,S,l,a,null))}function qw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,C=null,G=null,Z=null;for(Y in a){var nt=a[Y];if(a.hasOwnProperty(Y)&&nt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=nt;default:l.hasOwnProperty(Y)||le(e,i,Y,null,l,nt)}}for(var Q in l){var Y=l[Q];if(nt=a[Q],l.hasOwnProperty(Q)&&(Y!=null||nt!=null))switch(Q){case"type":d=Y;break;case"name":h=Y;break;case"checked":G=Y;break;case"defaultChecked":Z=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==nt&&le(e,i,Q,Y,l,nt)}}Jr(e,_,S,C,G,Z,d,h);return;case"select":Y=_=S=Q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||le(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==C&&le(e,i,h,d,l,C)}i=S,a=_,l=Y,Q!=null?te(e,!!a,Q,!1):!!l!=!!a&&(i!=null?te(e,!!a,i,!0):te(e,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:le(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&le(e,i,_,h,l,d)}ra(e,Q,Y);return;case"option":for(var pt in a)if(Q=a[pt],a.hasOwnProperty(pt)&&Q!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:le(e,i,pt,null,l,Q)}for(C in l)if(Q=l[C],Y=a[C],l.hasOwnProperty(C)&&Q!==Y&&(Q!=null||Y!=null))switch(C){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:le(e,i,C,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)Q=a[At],a.hasOwnProperty(At)&&Q!=null&&!l.hasOwnProperty(At)&&le(e,i,At,null,l,Q);for(G in l)if(Q=l[G],Y=a[G],l.hasOwnProperty(G)&&Q!==Y&&(Q!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:le(e,i,G,Q,l,Y)}return;default:if(nl(i)){for(var ue in a)Q=a[ue],a.hasOwnProperty(ue)&&Q!==void 0&&!l.hasOwnProperty(ue)&&Zd(e,i,ue,void 0,l,Q);for(Z in l)Q=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||Q===Y||Q===void 0&&Y===void 0||Zd(e,i,Z,Q,l,Y);return}}for(var L in a)Q=a[L],a.hasOwnProperty(L)&&Q!=null&&!l.hasOwnProperty(L)&&le(e,i,L,null,l,Q);for(nt in l)Q=l[nt],Y=a[nt],!l.hasOwnProperty(nt)||Q===Y||Q==null&&Y==null||le(e,i,nt,Q,l,Y)}function dv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&dv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],G=C.startTime;if(G>S)break;var Z=C.transferSize,nt=C.initiatorType;Z&&dv(nt)&&(C=C.responseEnd,_+=Z*(C<S?1:(S-G)/(C-G)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wd=null,tm=null;function Fc(e){return e.nodeType===9?e:e.ownerDocument}function mv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function em(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nm=null;function Fw(){var e=window.event;return e&&e.type==="popstate"?e===nm?!1:(nm=e,!0):(nm=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(e){return yv.resolve(null).then(e).catch(Yw)}:gv;function Yw(e){setTimeout(function(){throw e})}function ws(e){return e==="head"}function _v(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),bo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Xn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ul(e.ownerDocument.body);a=h}while(a);bo(i)}function vv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function im(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Nn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Kw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Xn])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ai(e.nextSibling),e===null)break}return null}function $w(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ai(e.nextSibling),e===null))return null;return e}function Ev(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ai(e.nextSibling),e===null))return null;return e}function rm(e){return e.data==="$?"||e.data==="$~"}function sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ai(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var am=null;function Tv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ai(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Sv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function wv(e,i,a){switch(i=Fc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ul(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Nn(e)}var Ri=new Map,bv=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dr=ut.d;ut.d={f:Jw,r:Zw,D:Ww,C:tb,L:eb,m:nb,X:rb,S:ib,M:sb};function Jw(){var e=Dr.f(),i=Pc();return e||i}function Zw(e){var i=B(e);i!==null&&i.tag===5&&i.type==="form"?By(i):Dr.r(e)}var To=typeof document>"u"?null:document;function Av(e,i,a){var l=To;if(l&&typeof i=="string"&&i){var h=Ie(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),bv.has(h)||(bv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),gn(i,"link",e),ct(i),l.head.appendChild(i)))}}function Ww(e){Dr.D(e),Av("dns-prefetch",e,null)}function tb(e,i){Dr.C(e,i),Av("preconnect",e,i)}function eb(e,i,a){Dr.L(e,i,a);var l=To;if(l&&e&&i){var h='link[rel="preload"][as="'+Ie(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ie(a.imageSizes)+'"]')):h+='[href="'+Ie(e)+'"]';var d=h;switch(i){case"style":d=So(e);break;case"script":d=wo(e)}Ri.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ri.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),gn(i,"link",e),ct(i),l.head.appendChild(i)))}}function nb(e,i){Dr.m(e,i);var a=To;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ie(l)+'"][href="'+Ie(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wo(e)}if(!Ri.has(d)&&(e=T({rel:"modulepreload",href:e},i),Ri.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),gn(l,"link",e),ct(l),a.head.appendChild(l)}}}function ib(e,i,a){Dr.S(e,i,a);var l=To;if(l&&e){var h=at(l).hoistableStyles,d=So(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(zl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ri.get(d))&&om(e,a);var C=_=l.createElement("link");ct(C),gn(C,"link",e),C._p=new Promise(function(G,Z){C.onload=G,C.onerror=Z}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function rb(e,i){Dr.X(e,i);var a=To;if(a&&e){var l=at(a).hoistableScripts,h=wo(e),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(e=T({src:e,async:!0},i),(i=Ri.get(h))&&lm(e,i),d=a.createElement("script"),ct(d),gn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sb(e,i){Dr.M(e,i);var a=To;if(a&&e){var l=at(a).hoistableScripts,h=wo(e),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Ri.get(h))&&lm(e,i),d=a.createElement("script"),ct(d),gn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Rv(e,i,a,l){var h=(h=Ct.current)?Gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=So(a.href),a=at(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=So(a.href);var d=at(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(zl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ri.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ri.set(e,a),d||ab(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(a),a=at(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function So(e){return'href="'+Ie(e)+'"'}function zl(e){return'link[rel="stylesheet"]['+e+"]"}function Iv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function ab(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),gn(i,"link",a),ct(i),e.head.appendChild(i))}function wo(e){return'[src="'+Ie(e)+'"]'}function jl(e){return"script[async]"+e}function Cv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ie(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ct(l),gn(l,"style",h),Qc(l,a.precedence,e),i.instance=l;case"stylesheet":h=So(a.href);var d=e.querySelector(zl(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=Iv(a),(h=Ri.get(h))&&om(l,h),d=(e.ownerDocument||e).createElement("link"),ct(d);var _=d;return _._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),gn(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,e),i.instance=d;case"script":return d=wo(a.src),(h=e.querySelector(jl(d)))?(i.instance=h,ct(h),h):(l=a,(h=Ri.get(d))&&(l=T({},a),lm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ct(h),gn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,e));return i.instance}function Qc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yc=null;function xv(e,i,a){if(Yc===null){var l=new Map,h=Yc=new Map;h.set(a,l)}else h=Yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Xn]||d[_e]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Dv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ob(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lb(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=So(l.href),d=i.querySelector(zl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Kc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,ct(d);return}d=i.ownerDocument||i,l=Iv(l),(h=Ri.get(h))&&om(l,h),d=d.createElement("link"),ct(d);var _=d;_._p=new Promise(function(S,C){_.onload=S,_.onerror=C}),gn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Kc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var um=0;function ub(e,i){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&um===0&&(um=62500*Hw());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>um?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $c=null;function Xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$c=new Map,i.forEach(cb,e),$c=null,Kc.call(e))}function cb(e,i){if(!(i.state.loading&4)){var a=$c.get(e);if(a)var l=a.get(null);else{a=new Map,$c.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Bl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function hb(e,i,a,l,h,d,_,S,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Ov(e,i,a,l,h,d,_,S,C,G,Z,nt){return e=new hb(e,i,a,_,C,G,Z,nt,S),i=1,d===!0&&(i|=24),d=ti(3,null,null,i),e.current=d,d.stateNode=e,i=qf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),e}function Mv(e){return e?(e=Wa,e):Wa}function Vv(e,i,a,l,h,d){h=Mv(h),l.context===null?l.context=h:l.pendingContext=h,l=fs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ds(e,l,i),a!==null&&(Gn(a,e,i),vl(a,e,i))}function kv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function cm(e,i){kv(e,i),(e=e.alternate)&&kv(e,i)}function Pv(e){if(e.tag===13||e.tag===31){var i=da(e,67108864);i!==null&&Gn(i,e,67108864),cm(e,67108864)}}function Lv(e){if(e.tag===13||e.tag===31){var i=si();i=ea(i);var a=da(e,i);a!==null&&Gn(a,e,i),cm(e,i)}}var Jc=!0;function fb(e,i,a,l){var h=J.T;J.T=null;var d=ut.p;try{ut.p=2,hm(e,i,a,l)}finally{ut.p=d,J.T=h}}function db(e,i,a,l){var h=J.T;J.T=null;var d=ut.p;try{ut.p=8,hm(e,i,a,l)}finally{ut.p=d,J.T=h}}function hm(e,i,a,l){if(Jc){var h=fm(l);if(h===null)Jd(e,i,l,Zc,a),zv(e,l);else if(pb(h,e,i,a,l))l.stopPropagation();else if(zv(e,l),i&4&&-1<mb.indexOf(e)){for(;h!==null;){var d=B(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Pn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var C=1<<31-cn(_);S.entanglements[1]|=C,_&=~C}Ji(d),(ie&6)===0&&(Vc=Ke()+500,kl(0))}}break;case 31:case 13:S=da(d,2),S!==null&&Gn(S,d,2),Pc(),cm(d,2)}if(d=fm(l),d===null&&Jd(e,i,l,Zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(e,i,l,null,a)}}function fm(e){return e=Ga(e),dm(e)}var Zc=null;function dm(e){if(Zc=null,e=R(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Zc=e,null}function Uv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case Re:return 2;case Le:return 8;case xi:case Kr:return 32;case $r:return 268435456;default:return 32}default:return 32}}var mm=!1,bs=null,As=null,Rs=null,ql=new Map,Hl=new Map,Is=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(e,i){switch(e){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=B(i),i!==null&&Pv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function pb(e,i,a,l,h){switch(i){case"focusin":return bs=Fl(bs,e,i,a,l,h),!0;case"dragenter":return As=Fl(As,e,i,a,l,h),!0;case"mouseover":return Rs=Fl(Rs,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ql.set(d,Fl(ql.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Hl.set(d,Fl(Hl.get(d)||null,e,i,a,l,h)),!0}return!1}function jv(e){var i=R(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,za(e.priority,function(){Lv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,za(e.priority,function(){Lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=fm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Fa=l,a.target.dispatchEvent(l),Fa=null}else return i=B(a),i!==null&&Pv(i),e.blockedOn=a,!1;i.shift()}return!0}function Bv(e,i,a){Wc(e)&&a.delete(i)}function gb(){mm=!1,bs!==null&&Wc(bs)&&(bs=null),As!==null&&Wc(As)&&(As=null),Rs!==null&&Wc(Rs)&&(Rs=null),ql.forEach(Bv),Hl.forEach(Bv)}function th(e,i){e.blockedOn===i&&(e.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gb)))}var eh=null;function qv(e){eh!==e&&(eh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===e&&(eh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=B(a);d!==null&&(e.splice(i,3),i-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function bo(e){function i(C){return th(C,e)}bs!==null&&th(bs,e),As!==null&&th(As,e),Rs!==null&&th(Rs,e),ql.forEach(i),Hl.forEach(i);for(var a=0;a<Is.length;a++){var l=Is[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&Is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Xe]||null;if(typeof d=="function")_||qv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Xe]||null)S=_.formAction;else if(dm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qv(a)}}}function Hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function pm(e){this._internalRoot=e}nh.prototype.render=pm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=si();Vv(a,l,e,i,null,null)},nh.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Vv(e.current,2,null,e,null,null),Pc(),i[Dn]=null}};function nh(e){this._internalRoot=e}nh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Oi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Is.length&&i!==0&&i<Is[a].priority;a++);Is.splice(a,0,e),a===0&&jv(e)}};var Fv=t.version;if(Fv!=="19.2.3")throw Error(s(527,Fv,"19.2.3"));ut.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Bi=ih.inject(yb),$e=ih}catch{}}return Ql.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Jy,d=Zy,_=Wy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Ov(e,1,!1,null,null,a,l,null,h,d,_,Hv),e[Dn]=i.current,Xd(e),new pm(i)},Ql.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Jy,_=Zy,S=Wy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=Ov(e,1,!0,i,a??null,l,h,C,d,_,S,Hv),i.context=Mv(null),a=i.current,l=si(),l=ea(l),h=fs(l),h.callback=null,ds(a,h,l),a=l,i.current.lanes=a,Un(i,a),Ji(i),e[Dn]=i.current,Xd(e),new nh(i)},Ql.version="19.2.3",Ql}var t0;function xb(){if(t0)return _m.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=Cb(),_m.exports}var Db=xb();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e0="popstate";function Nb(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Va(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),qm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:lu(u))}function s(o,u){ci(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Mb(t,n,s,r)}function we(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ci(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ob(){return Math.random().toString(36).substring(2,10)}function n0(r,t){return{usr:r.state,key:r.key,idx:t}}function qm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Va(t):t,state:n,key:t&&t.key||s||Ob()}}function lu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Va(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Mb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=E(),ot=F==null?null:F-g;g=F,p&&p({action:m,location:X.location,delta:ot})}function b(F,ot){m="PUSH";let lt=qm(X.location,F,ot);n&&n(lt,F),g=E()+1;let rt=n0(lt,g),Tt=X.createHref(lt);try{f.pushState(rt,"",Tt)}catch(Mt){if(Mt instanceof DOMException&&Mt.name==="DataCloneError")throw Mt;o.location.assign(Tt)}u&&p&&p({action:m,location:X.location,delta:1})}function V(F,ot){m="REPLACE";let lt=qm(X.location,F,ot);n&&n(lt,F),g=E();let rt=n0(lt,g),Tt=X.createHref(lt);f.replaceState(rt,"",Tt),u&&p&&p({action:m,location:X.location,delta:0})}function H(F){return Vb(F)}let X={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(e0,T),p=F,()=>{o.removeEventListener(e0,T),p=null}},createHref(F){return t(o,F)},createURL:H,encodeLocation(F){let ot=H(F);return{pathname:ot.pathname,search:ot.search,hash:ot.hash}},push:b,replace:V,go(F){return f.go(F)}};return X}function Vb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),we(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function BE(r,t,n="/"){return kb(r,t,n,!1)}function kb(r,t,n,s){let o=typeof t=="string"?Va(t):t,u=Ur(o.pathname||"/",n);if(u==null)return null;let f=qE(r);Pb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Yb(u);m=Gb(f[p],g,s)}return m}function qE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;we(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=Pr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(we(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),qE(f.children,t,b,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:Hb(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of HE(f.path))u(f,m,!0,g)}),t}function HE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=HE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Pb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Fb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Lb=/^:[\w-]+$/,Ub=3,zb=2,jb=1,Bb=10,qb=-2,i0=r=>r==="*";function Hb(r,t){let n=r.split("/"),s=n.length;return n.some(i0)&&(s+=qb),t&&(s+=zb),n.filter(o=>!i0(o)).reduce((o,u)=>o+(Lb.test(u)?Ub:u===""?jb:Bb),s)}function Fb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Gb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Pr([u,T.pathname]),pathnameBase:Jb(Pr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=Pr([u,T.pathnameBase]))}return f}function Ah(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Qb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let H=m[b]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const V=m[b];return T&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Qb(r,t=!1,n=!0){ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Yb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ci(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ur(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kb=r=>FE.test(r);function $b(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Va(r):r,u;if(n)if(Kb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=r0(n.substring(1),"/"):u=r0(n,t)}else u=t;return{pathname:u,search:Zb(s),hash:Wb(o)}}function r0(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GE(r){let t=Xb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function QE(r,t,n,s=!1){let o;typeof r=="string"?o=Va(r):(o={...r},we(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),we(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),we(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?t[T]:"/"}let p=$b(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Pr=r=>r.join("/").replace(/\/\/+/g,"/"),Jb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Zb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Wb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,tA=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function eA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function nA(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KE(r,t){let n=r;if(typeof n!="string"||!FE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(YE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Ur(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $E=["POST","PUT","PATCH","DELETE"];new Set($E);var iA=["GET",...$E];new Set(iA);var qo=P.createContext(null);qo.displayName="DataRouter";var $h=P.createContext(null);$h.displayName="DataRouterState";var rA=P.createContext(!1),XE=P.createContext({isTransitioning:!1});XE.displayName="ViewTransition";var sA=P.createContext(new Map);sA.displayName="Fetchers";var aA=P.createContext(null);aA.displayName="Await";var Ci=P.createContext(null);Ci.displayName="Navigation";var yu=P.createContext(null);yu.displayName="Location";var Fr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var Ep=P.createContext(null);Ep.displayName="RouteError";var JE="REACT_ROUTER_ERROR",oA="REDIRECT",lA="ROUTE_ERROR_RESPONSE";function uA(r){if(r.startsWith(`${JE}:${oA}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function cA(r){if(r.startsWith(`${JE}:${lA}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tA(t.status,t.statusText,t.data)}catch{}}function hA(r,{relative:t}={}){we(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Ci),{hash:o,pathname:u,search:f}=vu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Pr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function _u(){return P.useContext(yu)!=null}function Xs(){return we(_u(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(yu).location}var ZE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(r){P.useContext(Ci).static||P.useLayoutEffect(r)}function Tp(){let{isDataRoute:r}=P.useContext(Fr);return r?bA():fA()}function fA(){we(_u(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(qo),{basename:t,navigator:n}=P.useContext(Ci),{matches:s}=P.useContext(Fr),{pathname:o}=Xs(),u=JSON.stringify(GE(s)),f=P.useRef(!1);return WE(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(ci(f.current,ZE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=QE(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Pr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}P.createContext(null);function vu(r,{relative:t}={}){let{matches:n}=P.useContext(Fr),{pathname:s}=Xs(),o=JSON.stringify(GE(n));return P.useMemo(()=>QE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function dA(r,t){return tT(r,t)}function tT(r,t,n,s,o){var lt;we(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Ci),{matches:f}=P.useContext(Fr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let rt=T&&T.path||"";nT(g,!T||rt.endsWith("*")||rt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${rt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${rt}"> to <Route path="${rt==="/"?"*":`${rt}/*`}">.`)}let b=Xs(),V;if(t){let rt=typeof t=="string"?Va(t):t;we(E==="/"||((lt=rt.pathname)==null?void 0:lt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${rt.pathname}" was given in the \`location\` prop.`),V=rt}else V=b;let H=V.pathname||"/",X=H;if(E!=="/"){let rt=E.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(rt.length).join("/")}let F=BE(r,{pathname:X});ci(T||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ci(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ot=_A(F&&F.map(rt=>Object.assign({},rt,{params:Object.assign({},p,rt.params),pathname:Pr([E,u.encodeLocation?u.encodeLocation(rt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathname]),pathnameBase:rt.pathnameBase==="/"?E:Pr([E,u.encodeLocation?u.encodeLocation(rt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:rt.pathnameBase])})),f,n,s,o);return t&&ot?P.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ot):ot}function mA(){let r=wA(),t=eA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:o},n):null,f)}var pA=P.createElement(mA,null),eT=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=cA(r.digest);n&&(r=n)}let t=r!==void 0?P.createElement(Fr.Provider,{value:this.props.routeContext},P.createElement(Ep.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(gA,{error:r},t):t}};eT.contextType=rA;var wm=new WeakMap;function gA({children:r,error:t}){let{basename:n}=P.useContext(Ci);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=uA(t.digest);if(s){let o=wm.get(t);if(o)throw o;let u=KE(s.location,n);if(YE&&!wm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wm.set(t,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function yA({routeContext:r,match:t,children:n}){let s=P.useContext(qo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Fr.Provider,{value:r},n)}function _A(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);we(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:V}=n,H=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||H){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{var b,V;s(E,{location:n.location,params:((V=(b=n.matches)==null?void 0:b[0])==null?void 0:V.params)??{},unstable_pattern:nA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let V,H=!1,X=null,F=null;n&&(V=f&&T.route.id?f[T.route.id]:void 0,X=T.route.errorElement||pA,m&&(p<0&&b===0?(nT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,F=null):p===b&&(H=!0,F=T.route.hydrateFallbackElement||null)));let ot=t.concat(u.slice(0,b+1)),lt=()=>{let rt;return V?rt=X:H?rt=F:T.route.Component?rt=P.createElement(T.route.Component,null):T.route.element?rt=T.route.element:rt=E,P.createElement(yA,{match:T,routeContext:{outlet:E,matches:ot,isDataRoute:n!=null},children:rt})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?P.createElement(eT,{location:n.location,revalidation:n.revalidation,component:X,error:V,children:lt(),routeContext:{outlet:null,matches:ot,isDataRoute:!0},onError:g}):lt()},null)}function Sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vA(r){let t=P.useContext(qo);return we(t,Sp(r)),t}function EA(r){let t=P.useContext($h);return we(t,Sp(r)),t}function TA(r){let t=P.useContext(Fr);return we(t,Sp(r)),t}function wp(r){let t=TA(r),n=t.matches[t.matches.length-1];return we(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function SA(){return wp("useRouteId")}function wA(){var s;let r=P.useContext(Ep),t=EA("useRouteError"),n=wp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function bA(){let{router:r}=vA("useNavigate"),t=wp("useNavigate"),n=P.useRef(!1);return WE(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{ci(n.current,ZE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var s0={};function nT(r,t,n){!t&&!s0[r]&&(s0[r]=!0,ci(!1,n))}P.memo(AA);function AA({routes:r,future:t,state:n,onError:s}){return tT(r,void 0,n,s,t)}function Hm(r){we(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RA({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){we(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Va(n));let{pathname:g="/",search:E="",hash:T="",state:b=null,key:V="default"}=n,H=P.useMemo(()=>{let X=Ur(g,m);return X==null?null:{location:{pathname:X,search:E,hash:T,state:b,key:V},navigationType:s}},[m,g,E,T,b,V,s]);return ci(H!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:P.createElement(Ci.Provider,{value:p},P.createElement(yu.Provider,{children:t,value:H}))}function IA({children:r,location:t}){return dA(Fm(r),t)}function Fm(r,t=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...t,o];if(s.type===P.Fragment){n.push.apply(n,Fm(s.props.children,u));return}we(s.type===Hm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),we(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),n.push(f)}),n}var dh="get",mh="application/x-www-form-urlencoded";function Xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function CA(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function xA(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function DA(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function NA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function OA(r,t){return r.button===0&&(!t||t==="_self")&&!NA(r)}function Gm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let s=r[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function MA(r,t){let n=Gm(r);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var rh=null;function VA(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var kA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(r){return r!=null&&!kA.has(r)?(ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function PA(r,t){let n,s,o,u,f;if(xA(r)){let m=r.getAttribute("action");s=m?Ur(m,t):null,n=r.getAttribute("method")||dh,o=bm(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(CA(r)||DA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ur(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||dh,o=bm(r.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||mh,u=new FormData(m,r),!VA()){let{name:g,type:E,value:T}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function LA(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Ur(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function UA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jA(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await UA(u,n);return f.links?f.links():[]}return[]}));return FA(s.flat(1).filter(zA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a0(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function BA(r,t,{includeHydrateFallback:n}={}){return qA(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qA(r){return[...new Set(r)]}function HA(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function FA(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(HA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function iT(){let r=P.useContext(qo);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function GA(){let r=P.useContext($h);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=P.createContext(void 0);Ap.displayName="FrameworkContext";function rT(){let r=P.useContext(Ap);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function QA(r,t){let n=P.useContext(Ap),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,b=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=ot=>{ot.forEach(lt=>{f(lt.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),P.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let V=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Yl(m,V),onBlur:Yl(p,H),onMouseEnter:Yl(g,V),onMouseLeave:Yl(E,H),onTouchStart:Yl(T,V)}]:[!1,b,{}]}function Yl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function YA({page:r,...t}){let{router:n}=iT(),s=P.useMemo(()=>BE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement($A,{page:r,matches:s,...t}):null}function KA(r){let{manifest:t,routeModules:n}=rT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return jA(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function $A({page:r,matches:t,...n}){let s=Xs(),{future:o,manifest:u,routeModules:f}=rT(),{basename:m}=iT(),{loaderData:p,matches:g}=GA(),E=P.useMemo(()=>a0(r,t,g,u,s,"data"),[r,t,g,u,s]),T=P.useMemo(()=>a0(r,t,g,u,s,"assets"),[r,t,g,u,s]),b=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,F=!1;if(t.forEach(lt=>{var Tt;let rt=u.routes[lt.route.id];!rt||!rt.hasLoader||(!E.some(Mt=>Mt.route.id===lt.route.id)&&lt.route.id in p&&((Tt=f[lt.route.id])!=null&&Tt.shouldRevalidate)||rt.hasClientLoader?F=!0:X.add(lt.route.id))}),X.size===0)return[];let ot=LA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&X.size>0&&ot.searchParams.set("_routes",t.filter(lt=>X.has(lt.route.id)).map(lt=>lt.route.id).join(",")),[ot.pathname+ot.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,f]),V=P.useMemo(()=>BA(T,u),[T,u]),H=KA(T);return P.createElement(P.Fragment,null,b.map(X=>P.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),V.map(X=>P.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),H.map(({key:X,link:F})=>P.createElement("link",{key:X,nonce:n.nonce,...F})))}function XA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JA&&(window.__reactRouterVersion="7.12.0")}catch{}function ZA({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=Nb({window:s,v5Compat:!0}));let u=o.current,[f,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(RA,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aT=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...V},H){let{basename:X,unstable_useTransitions:F}=P.useContext(Ci),ot=typeof g=="string"&&sT.test(g),lt=KE(g,X);g=lt.to;let rt=hA(g,{relative:o}),[Tt,Mt,bt]=QA(s,V),D=nR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:F});function A(O){t&&t(O),O.defaultPrevented||D(O)}let I=P.createElement("a",{...V,...bt,href:lt.absoluteURL||rt,onClick:lt.isExternal||u?t:A,ref:XA(H,Mt),target:p,"data-discover":!ot&&n==="render"?"true":void 0});return Tt&&!ot?P.createElement(P.Fragment,null,I,P.createElement(YA,{page:rt})):I});aT.displayName="Link";var WA=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=vu(f,{relative:g.relative}),b=Xs(),V=P.useContext($h),{navigator:H,basename:X}=P.useContext(Ci),F=V!=null&&lR(T)&&m===!0,ot=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,lt=b.pathname,rt=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(lt=lt.toLowerCase(),rt=rt?rt.toLowerCase():null,ot=ot.toLowerCase()),rt&&X&&(rt=Ur(rt,X)||rt);const Tt=ot!=="/"&&ot.endsWith("/")?ot.length-1:ot.length;let Mt=lt===ot||!o&&lt.startsWith(ot)&&lt.charAt(Tt)==="/",bt=rt!=null&&(rt===ot||!o&&rt.startsWith(ot)&&rt.charAt(ot.length)==="/"),D={isActive:Mt,isPending:bt,isTransitioning:F},A=Mt?t:void 0,I;typeof s=="function"?I=s(D):I=[s,Mt?"active":null,bt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return P.createElement(aT,{...g,"aria-current":A,className:I,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(D):p)});WA.displayName="NavLink";var tR=P.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=dh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...V},H)=>{let{unstable_useTransitions:X}=P.useContext(Ci),F=aR(),ot=oR(m,{relative:g}),lt=f.toLowerCase()==="get"?"get":"post",rt=typeof m=="string"&&sT.test(m),Tt=Mt=>{if(p&&p(Mt),Mt.defaultPrevented)return;Mt.preventDefault();let bt=Mt.nativeEvent.submitter,D=(bt==null?void 0:bt.getAttribute("formmethod"))||f,A=()=>F(bt||Mt.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b});X&&n!==!1?P.startTransition(()=>A()):A()};return P.createElement("form",{ref:H,method:lt,action:ot,onSubmit:s?p:Tt,...V,"data-discover":!rt&&r==="render"?"true":void 0})});tR.displayName="Form";function eR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(r){let t=P.useContext(qo);return we(t,eR(r)),t}function nR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Tp(),E=Xs(),T=vu(r,{relative:u});return P.useCallback(b=>{if(OA(b,t)){b.preventDefault();let V=n!==void 0?n:lu(E)===lu(T),H=()=>g(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>H()):H()}},[E,g,T,n,s,t,r,o,u,f,m,p])}function iR(r){ci(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=P.useRef(Gm(r)),n=P.useRef(!1),s=Xs(),o=P.useMemo(()=>MA(s.search,n.current?null:t.current),[s.search]),u=Tp(),f=P.useCallback((m,p)=>{const g=Gm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var rR=0,sR=()=>`__${String(++rR)}__`;function aR(){let{router:r}=oT("useSubmit"),{basename:t}=P.useContext(Ci),n=SA(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=PA(u,t);if(f.navigate===!1){let b=f.fetcherKey||sR();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function oR(r,{relative:t}={}){let{basename:n}=P.useContext(Ci),s=P.useContext(Fr);we(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vu(r||".",{relative:t})},f=Xs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Pr([n,u.pathname])),lu(u)}function lR(r,{relative:t}={}){let n=P.useContext(XE);we(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=oT("useViewTransitionState"),o=vu(r,{relative:t});if(!n.isTransitioning)return!1;let u=Ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,f)!=null||Ah(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=P.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...cR,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:lT("lucide",o),...m},[...f.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=(r,t)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(hR,{ref:u,iconNode:t,className:lT(`lucide-${uR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=En("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=En("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=En("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=En("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=En("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=En("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=En("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=En("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=En("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=En("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=En("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=En("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=En("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=En("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=En("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=En("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=En("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),TR=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},SR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(b=64)),s.push(n[E],n[T],n[b],n[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(fT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):SR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new wR;const b=u<<2|m>>4;if(s.push(b),g!==64){const V=m<<4&240|g>>2;if(s.push(V),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(r){const t=fT(r);return dT.encodeByteArray(t,!0)},Ih=function(r){return bR(r).replace(/\./g,"")},mT=function(r){try{return dT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>AR().__FIREBASE_DEFAULTS__,IR=()=>{if(typeof process>"u"||typeof l0>"u")return;const r=l0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&mT(r[1]);return t&&JSON.parse(t)},Jh=()=>{try{return TR()||RR()||IR()||CR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pT=r=>{var t,n;return(n=(t=Jh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},xR=r=>{const t=pT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},gT=()=>{var r;return(r=Jh())===null||r===void 0?void 0:r.config},yT=r=>{var t;return(t=Jh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ih(JSON.stringify(n)),Ih(JSON.stringify(f)),""].join(".")}const eu={};function OR(){const r={prod:[],emulator:[]};for(const t of Object.keys(eu))eu[t]?r.emulator.push(t):r.prod.push(t);return r}function MR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let u0=!1;function vT(r,t){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||eu[r]===t||eu[r]||u0)return;eu[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=OR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,V){b.setAttribute("width","24"),b.setAttribute("id",V),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{u0=!0,f()},b}function E(b,V){b.setAttribute("id",V),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=MR(s),V=n("text"),H=document.getElementById(V)||document.createElement("span"),X=n("learnmore"),F=document.getElementById(X)||document.createElement("a"),ot=n("preprendIcon"),lt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const rt=b.element;m(rt),E(F,X);const Tt=g();p(lt,ot),rt.append(lt,H,F,Tt),document.body.appendChild(rt)}u?(H.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function kR(){var r;const t=(r=Jh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){const r=xn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="FirebaseError";class Gr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=HR,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?FR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Gr(o,m,s)}}function FR(r,t){return r.replace(GR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const GR=/\{\$([^}]+)}/g;function QR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(c0(u)&&c0(f)){if(!qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function c0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function YR(r,t){const n=new KR(r,t);return n.subscribe.bind(n)}class KR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$R(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $R(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r){return r&&r._delegate?r._delegate:r}class Da{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new DR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZR(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(r){return r===Ra?void 0:r}function ZR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const t2={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},e2=Qt.INFO,n2={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},i2=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=n2[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rp{constructor(t){this.name=t,this._logLevel=e2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?t2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...t),this._logHandler(this,Qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...t),this._logHandler(this,Qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...t),this._logHandler(this,Qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...t),this._logHandler(this,Qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...t),this._logHandler(this,Qt.ERROR,...t)}}const r2=(r,t)=>t.some(n=>r instanceof n);let h0,f0;function s2(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a2(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,Ym=new WeakMap,TT=new WeakMap,Rm=new WeakMap,Ip=new WeakMap;function o2(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ks(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&ET.set(n,r)}).catch(()=>{}),Ip.set(t,r),t}function l2(r){if(Ym.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Ym.set(r,t)}let Km={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||TT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function u2(r){Km=r(Km)}function c2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Im(this),t,...n);return TT.set(s,t.sort?t.sort():[t]),ks(s)}:a2().includes(r)?function(...t){return r.apply(Im(this),t),ks(ET.get(this))}:function(...t){return ks(r.apply(Im(this),t))}}function h2(r){return typeof r=="function"?c2(r):(r instanceof IDBTransaction&&l2(r),r2(r,s2())?new Proxy(r,Km):r)}function ks(r){if(r instanceof IDBRequest)return o2(r);if(Rm.has(r))return Rm.get(r);const t=h2(r);return t!==r&&(Rm.set(r,t),Ip.set(t,r)),t}const Im=r=>Ip.get(r);function f2(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ks(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ks(f.result),p.oldVersion,p.newVersion,ks(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const d2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Cm=new Map;function d0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=m2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||d2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(t,u),u}u2(r=>({...r,get:(t,n,s)=>d0(t,n)||r.get(t,n,s),has:(t,n)=>!!d0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function g2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $m="@firebase/app",m0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Rp("@firebase/app"),y2="@firebase/app-compat",_2="@firebase/analytics-compat",v2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",S2="@firebase/auth",w2="@firebase/auth-compat",b2="@firebase/database",A2="@firebase/data-connect",R2="@firebase/database-compat",I2="@firebase/functions",C2="@firebase/functions-compat",x2="@firebase/installations",D2="@firebase/installations-compat",N2="@firebase/messaging",O2="@firebase/messaging-compat",M2="@firebase/performance",V2="@firebase/performance-compat",k2="@firebase/remote-config",P2="@firebase/remote-config-compat",L2="@firebase/storage",U2="@firebase/storage-compat",z2="@firebase/firestore",j2="@firebase/ai",B2="@firebase/firestore-compat",q2="firebase",H2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",F2={[$m]:"fire-core",[y2]:"fire-core-compat",[v2]:"fire-analytics",[_2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[S2]:"fire-auth",[w2]:"fire-auth-compat",[b2]:"fire-rtdb",[A2]:"fire-data-connect",[R2]:"fire-rtdb-compat",[I2]:"fire-fn",[C2]:"fire-fn-compat",[x2]:"fire-iid",[D2]:"fire-iid-compat",[N2]:"fire-fcm",[O2]:"fire-fcm-compat",[M2]:"fire-perf",[V2]:"fire-perf-compat",[k2]:"fire-rc",[P2]:"fire-rc-compat",[L2]:"fire-gcs",[U2]:"fire-gcs-compat",[z2]:"fire-fst",[B2]:"fire-fst-compat",[j2]:"fire-vertex","fire-js":"fire-js",[q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,G2=new Map,Jm=new Map;function p0(r,t){try{r.container.addComponent(t)}catch(n){zr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Vo(r){const t=r.name;if(Jm.has(t))return zr.debug(`There were multiple attempts to register component ${t}.`),!1;Jm.set(t,r);for(const n of Ch.values())p0(n,r);for(const n of G2.values())p0(n,r);return!0}function Cp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ii(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Eu("app","Firebase",Q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=H2;function ST(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Ps.create("bad-app-name",{appName:String(o)});if(n||(n=gT()),!n)throw Ps.create("no-options");const u=Ch.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw Ps.create("duplicate-app",{appName:o})}const f=new WR(o);for(const p of Jm.values())f.addComponent(p);const m=new Y2(n,s,f);return Ch.set(o,m),m}function wT(r=Xm){const t=Ch.get(r);if(!t&&r===Xm&&gT())return ST();if(!t)throw Ps.create("no-app",{appName:r});return t}function Ls(r,t,n){var s;let o=(s=F2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zr.warn(m.join(" "));return}Vo(new Da(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="firebase-heartbeat-database",$2=1,uu="firebase-heartbeat-store";let xm=null;function bT(){return xm||(xm=f2(K2,$2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ps.create("idb-open",{originalErrorMessage:r.message})})),xm}async function X2(r){try{const n=(await bT()).transaction(uu),s=await n.objectStore(uu).get(AT(r));return await n.done,s}catch(t){if(t instanceof Gr)zr.warn(t.message);else{const n=Ps.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zr.warn(n.message)}}}async function g0(r,t){try{const s=(await bT()).transaction(uu,"readwrite");await s.objectStore(uu).put(t,AT(r)),await s.done}catch(n){if(n instanceof Gr)zr.warn(n.message);else{const s=Ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(s.message)}}}function AT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1024,Z2=30;class W2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=y0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Z2){const f=nI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){zr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:s,unsentEntries:o}=tI(this._heartbeatsCache.heartbeats),u=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return zr.warn(n),""}}}function y0(){return new Date().toISOString().substring(0,10)}function tI(r,t=J2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function _0(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function nI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r){Vo(new Da("platform-logger",t=>new p2(t),"PRIVATE")),Vo(new Da("heartbeat",t=>new W2(t),"PRIVATE")),Ls($m,m0,r),Ls($m,m0,"esm2017"),Ls("fire-js","")}iI("");function xp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function RT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rI=RT,IT=new Eu("auth","Firebase",RT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Rp("@firebase/auth");function sI(r,...t){xh.logLevel<=Qt.WARN&&xh.warn(`Auth (${Fo}): ${r}`,...t)}function ph(r,...t){xh.logLevel<=Qt.ERROR&&xh.error(`Auth (${Fo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(r,...t){throw Np(r,...t)}function Ui(r,...t){return Np(r,...t)}function Dp(r,t,n){const s=Object.assign(Object.assign({},rI()),{[t]:n});return new Eu("auth","Firebase",s).create(t,{appName:r.name})}function Us(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CT(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&rr(r,"argument-error"),Dp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return IT.create(r,...t)}function xt(r,t,...n){if(!r)throw Np(t,...n)}function Mr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ph(t),new Error(t)}function jr(r,t){r||Mr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function aI(){return v0()==="http:"||v0()==="https:"}function v0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aI()||LR()||"connection"in navigator)?navigator.onLine:!0}function lI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n){this.shortDelay=t,this.longDelay=n,jr(n>t,"Short delay should be less than long delay!"),this.isMobile=VR()||UR()}get(){return oI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,t){jr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hI=new Su(3e4,6e4);function Mp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Go(r,t,n,s,o={}){return DT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Tu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return PR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(g.credentials="include"),xT.fetch()(await NT(r,r.config.apiHost,n,m),g)})}async function DT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},uI),t);try{const o=new dI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw oh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw oh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw oh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(r,E,g);rr(r,E)}}catch(o){if(o instanceof Gr)throw o;rr(r,"network-request-failed",{message:String(o)})}}async function fI(r,t,n,s,o={}){const u=await Go(r,t,n,s,o);return"mfaPendingCredential"in u&&rr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function NT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return cI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class dI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),hI.get())})}}function oh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,t){return Go(r,"POST","/v1/accounts:delete",t)}async function Dh(r,t){return Go(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pI(r,t=!1){const n=Ne(r),s=await n.getIdToken(t),o=Vp(s);xt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:nu(Dm(o.auth_time)),issuedAtTime:nu(Dm(o.iat)),expirationTime:nu(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(r){return Number(r)*1e3}function Vp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=mT(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function E0(r){const t=Vp(r);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Gr&&gI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function gI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await cu(r,Dh(n,{idToken:s}));xt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?OT(u.providerUserInfo):[],m=vI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function _I(r){const t=Ne(r);await Nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function OT(r){return r.map(t=>{var{providerId:n}=t,s=xp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,t){const n=await DT(r,{},async()=>{const s=Tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await NT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(p.credentials="include"),xT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TI(r,t){return Go(r,"POST","/v2/accounts:revokeToken",Mp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const n=E0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await EI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Do;return s&&(xt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(xt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(xt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(r,t){xt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Li{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=xp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await cu(this,this.stsTokenManager.getToken(this.auth,t));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pI(this,t)}reload(){return _I(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Li(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await cu(this,mI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(g=n.createdAt)!==null&&g!==void 0?g:void 0,lt=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:rt,emailVerified:Tt,isAnonymous:Mt,providerData:bt,stsTokenManager:D}=n;xt(rt&&D,t,"internal-error");const A=Do.fromJSON(this.name,D);xt(typeof rt=="string",t,"internal-error"),xs(T,t.name),xs(b,t.name),xt(typeof Tt=="boolean",t,"internal-error"),xt(typeof Mt=="boolean",t,"internal-error"),xs(V,t.name),xs(H,t.name),xs(X,t.name),xs(F,t.name),xs(ot,t.name),xs(lt,t.name);const I=new Li({uid:rt,auth:t,email:b,emailVerified:Tt,displayName:T,isAnonymous:Mt,photoURL:H,phoneNumber:V,tenantId:X,stsTokenManager:A,createdAt:ot,lastLoginAt:lt});return bt&&Array.isArray(bt)&&(I.providerData=bt.map(O=>Object.assign({},O))),F&&(I._redirectEventId=F),I}static async _fromIdTokenResponse(t,n,s=!1){const o=new Do;o.updateFromServerResponse(n);const u=new Li({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];xt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?OT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Do;m.updateFromIdToken(s);const p=new Li({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;function Vr(r){jr(r instanceof Function,"Expected a class definition");let t=T0.get(r);return t?(jr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,T0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}MT.type="NONE";const S0=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r,t,n){return`firebase:${r}:${t}:${n}`}class No{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dh(this.auth,{idToken:t}).catch(()=>{});return n?Li._fromGetAccountInfoResponse(this.auth,n,t):null}return Li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new No(Vr(S0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Vr(S0);const f=gh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const b=await Dh(t,{idToken:E}).catch(()=>{});if(!b)break;T=await Li._fromGetAccountInfoResponse(t,b,E)}else T=Li._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new No(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new No(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(LT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zT(t))return"Blackberry";if(jT(t))return"Webos";if(kT(t))return"Safari";if((t.includes("chrome/")||PT(t))&&!t.includes("edge/"))return"Chrome";if(UT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function VT(r=xn()){return/firefox\//i.test(r)}function kT(r=xn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PT(r=xn()){return/crios\//i.test(r)}function LT(r=xn()){return/iemobile/i.test(r)}function UT(r=xn()){return/android/i.test(r)}function zT(r=xn()){return/blackberry/i.test(r)}function jT(r=xn()){return/webos/i.test(r)}function kp(r=xn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SI(r=xn()){var t;return kp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wI(){return zR()&&document.documentMode===10}function BT(r=xn()){return kp(r)||UT(r)||jT(r)||zT(r)||/windows phone/i.test(r)||LT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,t=[]){let n;switch(r){case"Browser":n=w0(xn());break;case"Worker":n=`${w0(xn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t={}){return Go(r,"GET","/v2/passwordPolicy",Mp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=6;class II{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:RI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await No.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dh(this,{idToken:t}),s=await Li._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ii(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ii(this.app))return Promise.reject(Us(this));const n=t?Ne(t):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ii(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AI(this),n=new II(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await TI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Vr(t)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&sI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wu(r){return Ne(r)}class b0{constructor(t){this.auth=t,this.observer=null,this.addObserver=YR(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xI(r){Pp=r}function DI(r){return Pp.loadJS(r)}function NI(){return Pp.gapiScript}function OI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r,t){const n=Cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,t??{}))return o;rr(o,"already-initialized")}return n.initialize({options:t})}function VI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Vr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function kI(r,t,n){const s=wu(r);xt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=HT(t),{host:f,port:m}=PI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xt(qs(g,s.config.emulator)&&qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ho(f)?(_T(`${u}//${f}${p}`),vT("Auth",!0)):LI()}function HT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function PI(r){const t=HT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:A0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:A0(f)}}}function A0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function LI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(t){return Mr("not implemented")}_linkToIdToken(t,n){return Mr("not implemented")}_getReauthenticationResolver(t){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,t){return fI(r,"POST","/v1/accounts:signInWithIdp",Mp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="http://localhost";class Na extends FT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=xp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Oo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Oo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Oo(t,n)}buildRequest(){const t={requestUri:UI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Zh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends bu{constructor(){super("facebook.com")}static credential(t){return Na._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Na._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Or.credential(n,s)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends bu{constructor(){super("github.com")}static credential(t){return Na._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ns.credential(t.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends bu{constructor(){super("twitter.com")}static credential(t,n){return Na._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Os.credential(n,s)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Li._fromIdTokenResponse(t,s,o),f=R0(s);return new ko({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=R0(s);return new ko({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function R0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Gr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Oh(t,n,s,o)}}function GT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,t,s):u})}async function zI(r,t,n=!1){const s=await cu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ko._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,t,n=!1){const{auth:s}=r;if(Ii(s.app))return Promise.reject(Us(s));const o="reauthenticate";try{const u=await cu(r,GT(s,o,t,r),n);xt(u.idToken,s,"internal-error");const f=Vp(u.idToken);xt(f,s,"internal-error");const{sub:m}=f;return xt(r.uid===m,s,"user-mismatch"),ko._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,t,n=!1){if(Ii(r.app))return Promise.reject(Us(r));const s="signIn",o=await GT(r,s,t),u=await ko._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(r,t){return Ne(r).setPersistence(t)}function qI(r,t,n,s){return Ne(r).onIdTokenChanged(t,n,s)}function HI(r,t,n){return Ne(r).beforeAuthStateChanged(t,n)}function YT(r,t,n,s){return Ne(r).onAuthStateChanged(t,n,s)}function FI(r){return Ne(r).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1e3,QI=10;class $T extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);wI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}$T.type="LOCAL";const Lp=$T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XT.type="SESSION";const JT=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Wh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await YI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Up("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function $I(r){tr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function XI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZI(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",WI=1,Vh="firebaseLocalStorage",t1="fbase_key";class Au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(r,t){return r.transaction([Vh],t?"readwrite":"readonly").objectStore(Vh)}function tC(){const r=indexedDB.deleteDatabase(WT);return new Au(r).toPromise()}function tp(){const r=indexedDB.open(WT,WI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:t1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?t(s):(s.close(),await tC(),t(await tp()))})})}async function I0(r,t,n){const s=tf(r,!0).put({[t1]:t,value:n});return new Au(s).toPromise()}async function eC(r,t){const n=tf(r,!1).get(t),s=await new Au(n).toPromise();return s===void 0?null:s.value}function C0(r,t){const n=tf(r,!0).delete(t);return new Au(n).toPromise()}const nC=800,iC=3;class e1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>iC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new KI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tp();return await I0(t,Mh,"1"),await C0(t,Mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>I0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>eC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>C0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new Au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e1.type="LOCAL";const rC=e1;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r,t){return t?Vr(t):(xt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends FT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sC(r){return BI(r.auth,new jp(r),r.bypassAuthState)}function aC(r){const{auth:t,user:n}=r;return xt(n,t,"internal-error"),jI(n,new jp(r),r.bypassAuthState)}async function oC(r){const{auth:t,user:n}=r;return xt(n,t,"internal-error"),zI(n,new jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sC;case"linkViaPopup":case"linkViaRedirect":return oC;case"reauthViaPopup":case"reauthViaRedirect":return aC;default:rr(this.auth,"internal-error")}}resolve(t){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Su(2e3,1e4);async function uC(r,t,n){if(Ii(r.app))return Promise.reject(Ui(r,"operation-not-supported-in-this-environment"));const s=wu(r);CT(r,t,Zh);const o=zp(s,n);return new Ia(s,"signInViaPopup",t,o).executeNotNull()}class Ia extends n1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const t=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lC.get())};t()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="pendingRedirect",yh=new Map;class hC extends n1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=yh.get(this.auth._key());if(!t){try{const s=await fC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}yh.set(this.auth._key(),t)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fC(r,t){const n=r1(t),s=i1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function dC(r,t){return i1(r)._set(r1(t),"true")}function mC(r,t){yh.set(r._key(),t)}function i1(r){return Vr(r._redirectPersistence)}function r1(r){return gh(cC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r,t,n){return pC(r,t,n)}async function pC(r,t,n){if(Ii(r.app))return Promise.reject(Us(r));const s=wu(r);CT(r,t,Zh),await s._initializationPromise;const o=zp(s,n);return await dC(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function gC(r,t,n=!1){if(Ii(r.app))return Promise.reject(Us(r));const s=wu(r),o=zp(s,t),f=await new hC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=600*1e3;class _C{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!s1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yC&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(t))}saveEventToCache(t){this.cachedEventUids.add(D0(t)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function s1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,t={}){return Go(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;async function wC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await EC(r);for(const n of t)try{if(bC(n))return}catch{}rr(r,"unauthorized-domain")}function bC(r){const t=Zm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!SC.test(n))return!1;if(TC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Su(3e4,6e4);function N0(){const r=tr().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RC(r){return new Promise((t,n)=>{var s,o,u;function f(){N0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{N0(),n(Ui(r,"network-request-failed"))},timeout:AC.get()})}if(!((o=(s=tr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=tr().gapi)===null||u===void 0)&&u.load)f();else{const m=OI("iframefcb");return tr()[m]=()=>{gapi.load?f():n(Ui(r,"network-request-failed"))},DI(`${NI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw _h=null,t})}let _h=null;function IC(r){return _h=_h||RC(r),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Su(5e3,15e3),xC="__/auth/iframe",DC="emulator/auth/iframe",NC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MC(r){const t=r.config;xt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Op(t,DC):`https://${r.config.authDomain}/${xC}`,s={apiKey:t.apiKey,appName:r.name,v:Fo},o=OC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Tu(s).slice(1)}`}async function VC(r){const t=await IC(r),n=tr().gapi;return xt(n,r,"internal-error"),t.open({where:document.body,url:MC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ui(r,"network-request-failed"),m=tr().setTimeout(()=>{u(f)},CC.get());function p(){tr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PC=500,LC=600,UC="_blank",zC="http://localhost";class O0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(r,t,n,s=PC,o=LC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},kC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=xn().toLowerCase();n&&(m=PT(g)?UC:n),VT(g)&&(t=t||zC,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[V,H])=>`${b}${V}=${H},`,"");if(SI(g)&&m!=="_self")return BC(t||"",m),new O0(null);const T=window.open(t||"",m,E);xt(T,r,"popup-blocked");try{T.focus()}catch{}return new O0(T)}function BC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__/auth/handler",HC="emulator/auth/handler",FC=encodeURIComponent("fac");async function M0(r,t,n,s,o,u){xt(r.config.authDomain,r,"auth-domain-config-required"),xt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Fo,eventId:o};if(t instanceof Zh){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",QR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof bu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${FC}=${encodeURIComponent(p)}`:"";return`${GC(r)}?${Tu(m).slice(1)}${g}`}function GC({config:r}){return r.emulator?Op(r,HC):`https://${r.authDomain}/${qC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class QC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JT,this._completeRedirectFn=gC,this._overrideRedirectResult=mC}async _openPopup(t,n,s,o){var u;jr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await M0(t,n,s,Zm(),o);return jC(t,f,Up())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await M0(t,n,s,Zm(),o);return $I(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(jr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await VC(t),s=new _C(t);return n.register("authEvent",o=>(xt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];f!==void 0&&n(!!f),rr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return BT()||kT()||kp()}}const YC=QC;var V0="@firebase/auth",k0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(r){Vo(new Da("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;xt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(r)},g=new CI(s,o,u,p);return VI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Vo(new Da("auth-internal",t=>{const n=wu(t.getProvider("auth").getImmediate());return(s=>new KC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(V0,k0,$C(r)),Ls(V0,k0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=300,ZC=yT("authIdTokenMaxAge")||JC;let P0=null;const WC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n==null?void 0:n.token;P0!==o&&(P0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tx(r=wT()){const t=Cp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=MI(r,{popupRedirectResolver:YC,persistence:[rC,Lp,JT]}),s=yT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=WC(u.toString());HI(n,f,()=>f(n.currentUser)),qI(n,m=>f(m))}}const o=pT("auth");return o&&kI(n,`http://${o}`),n}function ex(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}xI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ex().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,a1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(O,k,U){for(var x=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)x[Oe-2]=arguments[Oe];return A.prototype[k].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,I){I||(I=0);var O=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)O[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;16>k;++k)O[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],k=D.g[2];var U=D.g[3],x=A+(U^I&(k^U))+O[0]+3614090360&4294967295;A=I+(x<<7&4294967295|x>>>25),x=U+(k^A&(I^k))+O[1]+3905402710&4294967295,U=A+(x<<12&4294967295|x>>>20),x=k+(I^U&(A^I))+O[2]+606105819&4294967295,k=U+(x<<17&4294967295|x>>>15),x=I+(A^k&(U^A))+O[3]+3250441966&4294967295,I=k+(x<<22&4294967295|x>>>10),x=A+(U^I&(k^U))+O[4]+4118548399&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(k^A&(I^k))+O[5]+1200080426&4294967295,U=A+(x<<12&4294967295|x>>>20),x=k+(I^U&(A^I))+O[6]+2821735955&4294967295,k=U+(x<<17&4294967295|x>>>15),x=I+(A^k&(U^A))+O[7]+4249261313&4294967295,I=k+(x<<22&4294967295|x>>>10),x=A+(U^I&(k^U))+O[8]+1770035416&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(k^A&(I^k))+O[9]+2336552879&4294967295,U=A+(x<<12&4294967295|x>>>20),x=k+(I^U&(A^I))+O[10]+4294925233&4294967295,k=U+(x<<17&4294967295|x>>>15),x=I+(A^k&(U^A))+O[11]+2304563134&4294967295,I=k+(x<<22&4294967295|x>>>10),x=A+(U^I&(k^U))+O[12]+1804603682&4294967295,A=I+(x<<7&4294967295|x>>>25),x=U+(k^A&(I^k))+O[13]+4254626195&4294967295,U=A+(x<<12&4294967295|x>>>20),x=k+(I^U&(A^I))+O[14]+2792965006&4294967295,k=U+(x<<17&4294967295|x>>>15),x=I+(A^k&(U^A))+O[15]+1236535329&4294967295,I=k+(x<<22&4294967295|x>>>10),x=A+(k^U&(I^k))+O[1]+4129170786&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^k&(A^I))+O[6]+3225465664&4294967295,U=A+(x<<9&4294967295|x>>>23),x=k+(A^I&(U^A))+O[11]+643717713&4294967295,k=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(k^U))+O[0]+3921069994&4294967295,I=k+(x<<20&4294967295|x>>>12),x=A+(k^U&(I^k))+O[5]+3593408605&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^k&(A^I))+O[10]+38016083&4294967295,U=A+(x<<9&4294967295|x>>>23),x=k+(A^I&(U^A))+O[15]+3634488961&4294967295,k=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(k^U))+O[4]+3889429448&4294967295,I=k+(x<<20&4294967295|x>>>12),x=A+(k^U&(I^k))+O[9]+568446438&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^k&(A^I))+O[14]+3275163606&4294967295,U=A+(x<<9&4294967295|x>>>23),x=k+(A^I&(U^A))+O[3]+4107603335&4294967295,k=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(k^U))+O[8]+1163531501&4294967295,I=k+(x<<20&4294967295|x>>>12),x=A+(k^U&(I^k))+O[13]+2850285829&4294967295,A=I+(x<<5&4294967295|x>>>27),x=U+(I^k&(A^I))+O[2]+4243563512&4294967295,U=A+(x<<9&4294967295|x>>>23),x=k+(A^I&(U^A))+O[7]+1735328473&4294967295,k=U+(x<<14&4294967295|x>>>18),x=I+(U^A&(k^U))+O[12]+2368359562&4294967295,I=k+(x<<20&4294967295|x>>>12),x=A+(I^k^U)+O[5]+4294588738&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^k)+O[8]+2272392833&4294967295,U=A+(x<<11&4294967295|x>>>21),x=k+(U^A^I)+O[11]+1839030562&4294967295,k=U+(x<<16&4294967295|x>>>16),x=I+(k^U^A)+O[14]+4259657740&4294967295,I=k+(x<<23&4294967295|x>>>9),x=A+(I^k^U)+O[1]+2763975236&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^k)+O[4]+1272893353&4294967295,U=A+(x<<11&4294967295|x>>>21),x=k+(U^A^I)+O[7]+4139469664&4294967295,k=U+(x<<16&4294967295|x>>>16),x=I+(k^U^A)+O[10]+3200236656&4294967295,I=k+(x<<23&4294967295|x>>>9),x=A+(I^k^U)+O[13]+681279174&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^k)+O[0]+3936430074&4294967295,U=A+(x<<11&4294967295|x>>>21),x=k+(U^A^I)+O[3]+3572445317&4294967295,k=U+(x<<16&4294967295|x>>>16),x=I+(k^U^A)+O[6]+76029189&4294967295,I=k+(x<<23&4294967295|x>>>9),x=A+(I^k^U)+O[9]+3654602809&4294967295,A=I+(x<<4&4294967295|x>>>28),x=U+(A^I^k)+O[12]+3873151461&4294967295,U=A+(x<<11&4294967295|x>>>21),x=k+(U^A^I)+O[15]+530742520&4294967295,k=U+(x<<16&4294967295|x>>>16),x=I+(k^U^A)+O[2]+3299628645&4294967295,I=k+(x<<23&4294967295|x>>>9),x=A+(k^(I|~U))+O[0]+4096336452&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~k))+O[7]+1126891415&4294967295,U=A+(x<<10&4294967295|x>>>22),x=k+(A^(U|~I))+O[14]+2878612391&4294967295,k=U+(x<<15&4294967295|x>>>17),x=I+(U^(k|~A))+O[5]+4237533241&4294967295,I=k+(x<<21&4294967295|x>>>11),x=A+(k^(I|~U))+O[12]+1700485571&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~k))+O[3]+2399980690&4294967295,U=A+(x<<10&4294967295|x>>>22),x=k+(A^(U|~I))+O[10]+4293915773&4294967295,k=U+(x<<15&4294967295|x>>>17),x=I+(U^(k|~A))+O[1]+2240044497&4294967295,I=k+(x<<21&4294967295|x>>>11),x=A+(k^(I|~U))+O[8]+1873313359&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~k))+O[15]+4264355552&4294967295,U=A+(x<<10&4294967295|x>>>22),x=k+(A^(U|~I))+O[6]+2734768916&4294967295,k=U+(x<<15&4294967295|x>>>17),x=I+(U^(k|~A))+O[13]+1309151649&4294967295,I=k+(x<<21&4294967295|x>>>11),x=A+(k^(I|~U))+O[4]+4149444226&4294967295,A=I+(x<<6&4294967295|x>>>26),x=U+(I^(A|~k))+O[11]+3174756917&4294967295,U=A+(x<<10&4294967295|x>>>22),x=k+(A^(U|~I))+O[2]+718787259&4294967295,k=U+(x<<15&4294967295|x>>>17),x=I+(U^(k|~A))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,O=this.B,k=this.h,U=0;U<A;){if(k==0)for(;U<=I;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<A;)if(O[k++]=D.charCodeAt(U++),k==this.blockSize){o(this,O),k=0;break}}else for(;U<A;)if(O[k++]=D[U++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=A},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var O=0;32>O;O+=8)D[I++]=this.g[A]>>>O&255;return D};function u(D,A){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function f(D,A){this.h=A;for(var I=[],O=!0,k=D.length-1;0<=k;k--){var U=D[k]|0;O&&U==A||(I[k]=U,O=!1)}this.g=I}var m={};function p(D){return-128<=D&&128>D?u(D,function(A){return new f([A|0],0>A?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return F(g(-D));for(var A=[],I=1,O=0;D>=I;O++)A[O]=D/I|0,I*=4294967296;return new f(A,0)}function E(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return F(E(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),O=T,k=0;k<D.length;k+=8){var U=Math.min(8,D.length-k),x=parseInt(D.substring(k,k+U),A);8>U?(U=g(Math.pow(A,U)),O=O.j(U).add(g(x))):(O=O.j(I),O=O.add(g(x)))}return O}var T=p(0),b=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-F(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var O=this.i(I);D+=(0<=O?O:4294967296+O)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(X(this))return"-"+F(this).toString(D);for(var A=g(Math.pow(D,6)),I=this,O="";;){var k=Tt(I,A).g;I=ot(I,k.j(A));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=k,H(I))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function X(D){return D.h==-1}r.l=function(D){return D=ot(this,D),X(D)?-1:H(D)?0:1};function F(D){for(var A=D.g.length,I=[],O=0;O<A;O++)I[O]=~D.g[O];return new f(I,~D.h).add(b)}r.abs=function(){return X(this)?F(this):this},r.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0,k=0;k<=A;k++){var U=O+(this.i(k)&65535)+(D.i(k)&65535),x=(U>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);O=x>>>16,U&=65535,x&=65535,I[k]=x<<16|U}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ot(D,A){return D.add(F(A))}r.j=function(D){if(H(this)||H(D))return T;if(X(this))return X(D)?F(this).j(F(D)):F(F(this).j(D));if(X(D))return F(this.j(F(D)));if(0>this.l(V)&&0>D.l(V))return g(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],O=0;O<2*A;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<D.g.length;k++){var U=this.i(O)>>>16,x=this.i(O)&65535,Oe=D.i(k)>>>16,Qe=D.i(k)&65535;I[2*O+2*k]+=x*Qe,lt(I,2*O+2*k),I[2*O+2*k+1]+=U*Qe,lt(I,2*O+2*k+1),I[2*O+2*k+1]+=x*Oe,lt(I,2*O+2*k+1),I[2*O+2*k+2]+=U*Oe,lt(I,2*O+2*k+2)}for(O=0;O<A;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=A;O<2*A;O++)I[O]=0;return new f(I,0)};function lt(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function rt(D,A){this.g=D,this.h=A}function Tt(D,A){if(H(A))throw Error("division by zero");if(H(D))return new rt(T,T);if(X(D))return A=Tt(F(D),A),new rt(F(A.g),F(A.h));if(X(A))return A=Tt(D,F(A)),new rt(F(A.g),A.h);if(30<D.g.length){if(X(D)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var I=b,O=A;0>=O.l(D);)I=Mt(I),O=Mt(O);var k=bt(I,1),U=bt(O,1);for(O=bt(O,2),I=bt(I,2);!H(O);){var x=U.add(O);0>=x.l(D)&&(k=k.add(I),U=x),O=bt(O,1),I=bt(I,1)}return A=ot(D,k.j(A)),new rt(k,A)}for(k=T;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(I),x=U.j(A);X(x)||0<x.l(D);)I-=O,U=g(I),x=U.j(A);H(U)&&(U=b),k=k.add(U),D=ot(D,x)}return new rt(k,D)}r.A=function(D){return Tt(this,D).h},r.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)&D.i(O);return new f(I,this.h&D.h)},r.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)|D.i(O);return new f(I,this.h|D.h)},r.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)^D.i(O);return new f(I,this.h^D.h)};function Mt(D){for(var A=D.g.length+1,I=[],O=0;O<A;O++)I[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(I,D.h)}function bt(D,A){var I=A>>5;A%=32;for(var O=D.g.length-I,k=[],U=0;U<O;U++)k[U]=0<A?D.i(U+I)>>>A|D.i(U+I+1)<<32-A:D.i(U+I);return new f(k,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,a1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,zs=f}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1,Jl,l1,vh,ep,u1,c1,h1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in v))break t;v=v[j]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,j={next:function(){if(!w&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,b.apply(null,arguments)}function V(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function H(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,j,$){for(var ht=Array(arguments.length-2),re=2;re<arguments.length;re++)ht[re-2]=arguments[re];return y.prototype[j].apply(w,ht)}}function X(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function F(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const j=c.length||0,$=w.length||0;c.length=j+$;for(let ht=0;ht<$;ht++)c[j+ht]=w[ht]}else c.push(w)}}class ot{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function lt(c){return/^[\s\xa0]*$/.test(c)}function rt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Tt(c){return Tt[" "](c),c}Tt[" "]=function(){};var Mt=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function bt(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function A(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)c[v]=w[v];for(let $=0;$<I.length;$++)v=I[$],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Jt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Oe{constructor(){this.h=this.g=null}add(y,v){const w=Qe.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Qe=new ot(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,_t=!1,Jt=new Oe,Zt=()=>{const c=m.Promise.resolve(void 0);ut=()=>{c.then(M)}};var M=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){U(v)}var y=Qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}_t=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var dt=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c})();function gt(c,y){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Mt){t:{try{Tt(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ct[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&gt.aa.h.call(this)}}H(gt,it);var Ct={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Wt(c,y,v,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=j,this.key=++Ee,this.da=this.fa=!1}function Pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tn(c){this.src=c,this.g={},this.h=0}Tn.prototype.add=function(c,y,v,w,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ht=Ye(c,y,w,j);return-1<ht?(y=c[ht],v||(y.fa=!1)):(y=new Wt(y,this.src,$,!!w,j),y.fa=v,c.push(y)),y};function un(c,y){var v=y.type;if(v in c.g){var w=c.g[v],j=Array.prototype.indexOf.call(w,y,void 0),$;($=0<=j)&&Array.prototype.splice.call(w,j,1),$&&(Pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ye(c,y,v,w){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==w)return j}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ji={};function hi(c,y,v,w,j){if(Array.isArray(y)){for(var $=0;$<y.length;$++)hi(c,y[$],v,w,j);return null}return v=or(v),c&&c[Pt]?c.K(y,v,g(w)?!!w.capture:!1,j):Ws(c,y,v,!1,w,j)}function Ws(c,y,v,w,j,$){if(!y)throw Error("Invalid event type");var ht=g(j)?!!j.capture:!!j,re=ta(c);if(re||(c[Ae]=re=new Tn(c)),v=re.add(y,v,w,ht,$),v.proxy)return v;if(w=Ua(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)dt||(j=ht),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(Yr(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ua(){function c(v){return y.call(c.src,c.listener,v)}const y=Zo;return c}function Qr(c,y,v,w,j){if(Array.isArray(y))for(var $=0;$<y.length;$++)Qr(c,y[$],v,w,j);else w=g(w)?!!w.capture:!!w,v=or(v),c&&c[Pt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=Ye($,v,w,j),-1<v&&(Pe($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ta(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ye(y,v,w,j)),(v=-1<c?y[c]:null)&&ar(v))}function ar(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pt])un(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Yr(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=ta(y))?(un(v,c),v.h==0&&(v.src=null,y[Ae]=null)):Pe(c)}}}function Yr(c){return c in ji?ji[c]:ji[c]="on"+c}function Zo(c,y){if(c.da)c=!0;else{y=new gt(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&ar(c),c=v.call(w,y)}return c}function ta(c){return c=c[Ae],c instanceof Tn?c:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(c){return typeof c=="function"?c:(c[Ke]||(c[Ke]=function(y){return c.handleEvent(y)}),c[Ke])}function Re(){W.call(this),this.i=new Tn(this),this.M=this,this.F=null}H(Re,W),Re.prototype[Pt]=!0,Re.prototype.removeEventListener=function(c,y,v,w){Qr(this,c,y,v,w)};function Le(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new it(y,c);else if(y instanceof it)y.target=y.target||c;else{var j=y;y=new it(w,c),O(y,j)}if(j=!0,v)for(var $=v.length-1;0<=$;$--){var ht=y.g=v[$];j=xi(ht,w,!0,y)&&j}if(ht=y.g=c,j=xi(ht,w,!0,y)&&j,j=xi(ht,w,!1,y)&&j,v)for($=0;$<v.length;$++)ht=y.g=v[$],j=xi(ht,w,!1,y)&&j}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)Pe(v[w]);delete c.g[y],c.h--}}this.F=null},Re.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},Re.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function xi(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,$=0;$<y.length;++$){var ht=y[$];if(ht&&!ht.da&&ht.capture==v){var re=ht.listener,Ue=ht.ha||ht.src;ht.fa&&un(c.i,ht),j=re.call(Ue,w)!==!1&&j}}return j&&!w.defaultPrevented}function Kr(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function $r(c){c.g=Kr(()=>{c.g=null,c.i&&(c.i=!1,$r(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Di extends W{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(c){W.call(this),this.h=c,this.g={}}H(tn,W);var Bi=[];function $e(c){bt(c.g,function(y,v){this.g.hasOwnProperty(v)&&ar(y)},c),c.g={}}tn.prototype.N=function(){tn.aa.N.call(this),$e(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=m.JSON.stringify,cn=m.JSON.parse,Wo=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function lr(){}lr.prototype.h=null;function fi(c){return c.h||(c.h=c.i())}function di(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){it.call(this,"d")}H(qi,it);function Pn(){it.call(this,"c")}H(Pn,it);var Ln={},Hi=null;function Xr(){return Hi=Hi||new Re}Ln.La="serverreachability";function ur(c){it.call(this,Ln.La,c)}H(ur,it);function Ni(c){const y=Xr();Le(y,new ur(y))}Ln.STAT_EVENT="statevent";function Un(c,y){it.call(this,Ln.STAT_EVENT,c),this.stat=y}H(Un,it);function Te(c){const y=Xr();Le(y,new Un(y,c))}Ln.Ma="timingevent";function mi(c,y){it.call(this,Ln.Ma,c),this.size=y}H(mi,it);function hn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function ea(c,y,v,w,j,$){c.info(function(){if(c.g)if($)for(var ht="",re=$.split("&"),Ue=0;Ue<re.length;Ue++){var jt=re[Ue].split("=");if(1<jt.length){var nn=jt[0];jt=jt[1];var rn=nn.split("_");ht=2<=rn.length&&rn[1]=="type"?ht+(nn+"="+jt+"&"):ht+(nn+"=redacted&")}}else ht=null;else ht=$;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+v+`
`+ht})}function cr(c,y,v,w,j,$,ht){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+v+`
`+$+" "+ht})}function Oi(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pi(c,v)+(w?" "+w:"")})}function za(c,y){c.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function pi(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var ht=1;ht<j.length;ht++)j[ht]=""}}}}return Sn(v)}catch{return y}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function Fi(){}H(Fi,lr),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},Dn=new Fi;function gi(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ja}function ja(){this.i=null,this.g="",this.h=!1}var na={},Xn={};function Nn(c,y,v){c.L=1,c.v=ra(Ie(y)),c.m=v,c.P=!0,R(c,null)}function R(c,y){c.F=Date.now(),at(c),c.A=Ie(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),fr(v.i,"t",w),c.C=0,v=c.j.J,c.h=new ja,c.g=Ju(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Di(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Bi[0]=j.toString()),j=Bi);for(var $=0;$<j.length;$++){var ht=hi(v,j[$],w||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ni(),ea(c.i,c.u,c.A,c.l,c.R,c.m)}gi.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},gi.prototype.Y=function(c){try{if(c==this.g)t:{const rn=On(this.g);var y=this.g.Ba();const as=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||oa(this.g)))){this.J||rn!=4||y==7||(y==8||0>=as?Ni(3):Ni(2)),Dt(this);var v=this.g.Z();this.X=v;e:if(B(this)){var w=oa(this.g);c="";var j=w.length,$=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),St(this);var ht="";break e}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!($&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=v==200,cr(this.i,this.u,this.A,this.l,this.R,rn,v),this.o){if(this.T&&!this.K){e:{if(this.g){var re,Ue=this.g;if((re=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(re)){var jt=re;break e}}jt=null}if(v=jt)Oi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zt(this,v);else{this.o=!1,this.s=3,Te(12),Lt(this),St(this);break t}}if(this.P){v=!0;let jn;for(;!this.J&&this.C<ht.length;)if(jn=K(this,ht),jn==Xn){rn==4&&(this.s=4,Te(14),v=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==na){this.s=4,Te(15),Oi(this.i,this.l,ht,"[Invalid Chunk]"),v=!1;break}else Oi(this.i,this.l,jn,null),zt(this,jn);if(B(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||ht.length!=0||this.h.h||(this.s=1,Te(16),v=!1),this.o=this.o&&v,!v)Oi(this.i,this.l,ht,"[Invalid Chunked Response]"),Lt(this),St(this);else if(0<ht.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),ll(nn),nn.M=!0,Te(11))}}else Oi(this.i,this.l,ht,null),zt(this,ht);rn==4&&Lt(this),this.o&&!this.J&&(rn==4?Ku(this.j,this):(this.o=!1,at(this)))}else qu(this.g),v==400&&0<ht.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Lt(this),St(this)}}}catch{}finally{}};function B(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function K(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Xn:(v=Number(y.substring(v,w)),isNaN(v)?na:(w+=1,w+v>y.length?Xn:(y=y.slice(w,w+v),c.C=w+v,y)))}gi.prototype.cancel=function(){this.J=!0,Lt(this)};function at(c){c.S=Date.now()+c.I,ct(c,c.I)}function ct(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=hn(b(c.ba,c),y)}function Dt(c){c.B&&(m.clearTimeout(c.B),c.B=null)}gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(za(this.i,this.A),this.L!=2&&(Ni(),Te(17)),Lt(this),this.s=2,St(this)):ct(this,this.S-c)};function St(c){c.j.G==0||c.J||Ku(c.j,c)}function Lt(c){Dt(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$e(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function zt(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||wn(v.h,c))){if(!c.K&&wn(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)rs(v),is(v);else break t;ol(v),Te(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=hn(b(v.Za,v),6e3));if(1>=yi(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else mr(v,11)}else if((c.K||v.g==c)&&rs(v),!lt(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let jt=j[y];if(v.T=jt[0],jt=jt[1],v.G==2)if(jt[0]=="c"){v.K=jt[1],v.ia=jt[2];const nn=jt[3];nn!=null&&(v.la=nn,v.j.info("VER="+v.la));const rn=jt[4];rn!=null&&(v.Aa=rn,v.j.info("SVER="+v.Aa));const as=jt[5];as!=null&&typeof as=="number"&&0<as&&(w=1.5*as,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const jn=c.g;if(jn){const ca=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var $=w.h;$.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(fn($,$.h),$.h=null))}if(w.D){const pr=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;pr&&(w.ya=pr,te(w.I,w.D,pr))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ht=c;if(w.qa=Xu(w,w.J?w.ia:null,w.W),ht.K){de(w.h,ht);var re=ht,Ue=w.L;Ue&&(re.I=Ue),re.B&&(Dt(re),at(re)),w.g=ht}else Qu(w);0<v.i.length&&Ka(v)}else jt[0]!="stop"&&jt[0]!="close"||mr(v,7);else v.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?mr(v,7):sl(v):jt[0]!="noop"&&v.l&&v.l.ta(jt),v.v=0)}}Ni(4)}catch{}}var Vt=class{constructor(c,y){this.g=c,this.map=y}};function It(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Se(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function wn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fn(c,y){c.g?c.g.add(y):c.h=y}function de(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}It.prototype.cancel=function(){if(this.i=fe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fe(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return X(c.i)}function bn(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function _f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Ba(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_f(c),w=bn(c),j=w.length,$=0;$<j;$++)y.call(void 0,w[$],v&&v[$],c)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),j=null;if(0<=w){var $=c[v].substring(0,w);j=c[v].substring(w+1)}else $=c[v];y($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function hr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hr){this.h=c.h,Jr(this,c.j),this.o=c.o,this.g=c.g,ia(this,c.s),this.l=c.l;var y=c.i,v=new Gi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ha(this,v),this.m=c.m}else c&&(y=String(c).match(tl))?(this.h=!1,Jr(this,y[1]||"",!0),this.o=Zr(y[2]||""),this.g=Zr(y[3]||"",!0),ia(this,y[4]),this.l=Zr(y[5]||"",!0),Ha(this,y[6]||"",!0),this.m=Zr(y[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}hr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_i(y,el,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_i(y,el,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_i(v,v.charAt(0)=="/"?nl:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_i(v,Tf)),c.join("")};function Ie(c){return new hr(c)}function Jr(c,y,v){c.j=v?Zr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ia(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ha(c,y,v){y instanceof Gi?(c.i=y,zu(c.i,c.h)):(v||(y=_i(y,Ef)),c.i=new Gi(y,c.h))}function te(c,y,v){c.i.set(y,v)}function ra(c){return te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,vf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,Uu=/[#\?:]/g,nl=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function Gi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function en(c){c.g||(c.g=new Map,c.h=0,c.i&&qa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Gi.prototype,r.add=function(c,y){en(this),this.i=null,c=Jn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Fa(c,y){en(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ga(c,y){return en(c),y=Jn(c,y),c.g.has(y)}r.forEach=function(c,y){en(this),this.g.forEach(function(v,w){v.forEach(function(j){c.call(y,j,w,this)},this)},this)},r.na=function(){en(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const j=c[w];for(let $=0;$<j.length;$++)v.push(y[w])}return v},r.V=function(c){en(this);let y=[];if(typeof c=="string")Ga(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return en(this),this.i=null,c=Jn(this,c),Ga(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function fr(c,y,v){Fa(c,y),0<v.length&&(c.i=null,c.g.set(Jn(c,y),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const $=encodeURIComponent(String(w)),ht=this.V(w);for(w=0;w<ht.length;w++){var j=$;ht[w]!==""&&(j+="="+encodeURIComponent(String(ht[w]))),c.push(j)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(en(c),c.i=null,c.g.forEach(function(v,w){var j=w.toLowerCase();w!=j&&(Fa(this,w),fr(this,j,v))},c)),c.j=y}function il(c,y){const v=new $n;if(m.Image){const w=new Image;w.onload=V(zn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=V(zn,v,"TestLoadImage: error",!1,y,w),w.onabort=V(zn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(zn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ju(c,y){const v=new $n,w=new AbortController,j=setTimeout(()=>{w.abort(),zn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(j),$.ok?zn(v,"TestPingServer: ok",!0,y):zn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),zn(v,"TestPingServer: error",!1,y)})}function zn(c,y,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function Mi(){this.g=new Wo}function rl(c,y,v){const w=v||"";try{Ba(c,function(j,$){let ht=j;g(j)&&(ht=Sn(j)),y.push(w+$+"="+encodeURIComponent(ht))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function Qi(c){this.l=c.Ub||null,this.j=c.eb||!1}H(Qi,lr),Qi.prototype.g=function(){return new Zn(this.l,this.j)},Qi.prototype.i=(function(c){return function(){return c}})({});function Zn(c,y){Re.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Zn,Re),r=Zn.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Wr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Yi(this):Wr(this),this.readyState==3&&Qa(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yi(this))},r.Qa=function(c){this.g&&(this.response=c,Yi(this))},r.ga=function(){this.g&&Yi(this)};function Yi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Wr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sa(c){let y="";return bt(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function ts(c,y,v){t:{for(w in v){var w=!1;break t}w=!0}w||(v=sa(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):te(c,y,v))}function me(c){Re.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(me,Re);var An=/^https?$/i,dr=["POST","PUT"];r=me.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?fi(this.o):fi(Dn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){aa(this,$);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(dr,y,void 0))||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ht]of v)this.g.setRequestHeader($,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(c),this.u=!1}catch($){aa(this,$)}};function aa(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,es(c),ns(c)}function es(c){c.A||(c.A=!0,Le(c,"complete"),Le(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Le(this,"complete"),Le(this,"abort"),ns(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),me.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Bu(this):this.bb())},r.bb=function(){Bu(this)};function Bu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Kr(c.Ea,0,c);else if(Le(c,"readystatechange"),On(c)==4){c.h=!1;try{const ht=c.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var w;if(w=ht===0){var j=String(c.D).match(tl)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!An.test(j?j.toLowerCase():"")}v=w}if(v)Le(c,"complete"),Le(c,"success");else{c.m=6;try{var $=2<On(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",es(c)}}finally{ns(c)}}}}function ns(c,y){if(c.g){Ya(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Le(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ya(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),cn(y)}};function oa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qu(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(lt(c[w]))continue;var v=k(c[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[j]||[];y[j]=$,$.push(v)}D(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Hu(c){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,c),this.cb=la("retryDelaySeedMs",1e4,c),this.Wa=la("forwardChannelMaxRetries",2,c),this.wa=la("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new It(c&&c.concurrentRequestLimit),this.Da=new Mi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hu.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,w){Te(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Xu(this,null,this.W),Ka(this)};function sl(c){if(Fu(c),c.G==3){var y=c.U++,v=Ie(c.I);if(te(v,"SID",c.K),te(v,"RID",y),te(v,"TYPE","terminate"),ua(c,v),y=new gi(c,c.j,y),y.L=2,y.v=ra(Ie(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),at(y)}ul(c)}function is(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Fu(c){is(c),c.u&&(m.clearTimeout(c.u),c.u=null),rs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ka(c){if(!Se(c.h)&&!c.s){c.s=!0;var y=c.Ga;ut||Zt(),_t||(ut(),_t=!0),Jt.add(y,c),c.B=0}}function Sf(c,y){return yi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=hn(b(c.Ga,c,y),$u(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new gi(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),O($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=al(this,j,y),v=Ie(this.I),te(v,"RID",c),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),ua(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(sa($)))+"&"+y:this.m&&ts(v,this.m,$)),fn(this.h,j),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",y),te(v,"SID","null"),j.T=!0,Nn(j,v,null)):Nn(j,v,y),this.G=2}}else this.G==3&&(c?Gu(this,c):this.i.length==0||Se(this.h)||Gu(this))};function Gu(c,y){var v;y?v=y.l:v=c.U++;const w=Ie(c.I);te(w,"SID",c.K),te(w,"RID",v),te(w,"AID",c.T),ua(c,w),c.m&&c.o&&ts(w,c.m,c.o),v=new gi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=al(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fn(c.h,v),Nn(v,w,y)}function ua(c,y){c.H&&bt(c.H,function(v,w){te(y,w,v)}),c.l&&Ba({},function(v,w){te(y,w,v)})}function al(c,y,v){v=Math.min(c.i.length,v);var w=c.l?b(c.l.Na,c.l,c):null;t:{var j=c.i;let $=-1;for(;;){const ht=["count="+v];$==-1?0<v?($=j[0].g,ht.push("ofs="+$)):$=0:ht.push("ofs="+$);let re=!0;for(let Ue=0;Ue<v;Ue++){let jt=j[Ue].g;const nn=j[Ue].map;if(jt-=$,0>jt)$=Math.max(0,j[Ue].g-100),re=!1;else try{rl(nn,ht,"req"+jt+"_")}catch{w&&w(nn)}}if(re){w=ht.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,w}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ut||Zt(),_t||(ut(),_t=!0),Jt.add(y,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=hn(b(c.Fa,c),$u(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=hn(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),is(this),Yu(this))};function ll(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ie(c.qa);te(y,"RID","rpc"),te(y,"SID",c.K),te(y,"AID",c.T),te(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&te(y,"TO",c.ja),te(y,"TYPE","xmlhttp"),ua(c,y),c.m&&c.o&&ts(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ra(Ie(y)),v.m=null,v.P=!0,R(v,c)}r.Za=function(){this.C!=null&&(this.C=null,is(this),ol(this),Te(19))};function rs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){rs(c),ll(c),c.g=null;var w=2}else if(wn(c.h,y))v=y.D,de(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=Xr(),Le(w,new mi(w,v)),Ka(c)}else Qu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&Sf(c,y)||w==2&&ol(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:mr(c,5);break;case 4:mr(c,10);break;case 3:mr(c,6);break;default:mr(c,2)}}}function $u(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function mr(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),w=c.Xa;const j=!w;w=new hr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Jr(w,"https"),ra(w),j?il(w.toString(),v):ju(w.toString(),v)}else Te(2);c.G=0,c.l&&c.l.sa(y),ul(c),Fu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function ul(c){if(c.G=0,c.ka=[],c.l){const y=fe(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,v){var w=v instanceof hr?Ie(v):new hr(v);if(w.g!="")y&&(w.g=y+"."+w.g),ia(w,w.s);else{var j=m.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var $=new hr(null);w&&Jr($,w),y&&($.g=y),j&&ia($,j),v&&($.l=v),w=$}return v=c.D,y=c.ya,v&&y&&te(w,v,y),te(w,"VER",c.la),ua(c,w),w}function Ju(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new me(new Qi({eb:v})):new me(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $a(){}$a.prototype.g=function(c,y){return new Mn(c,y)};function Mn(c,y){Re.call(this),this.g=new Hu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!lt(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!lt(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ss(this)}H(Mn,Re),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){sl(this.g)},Mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Sn(c),c=v);y.i.push(new Vt(y.Ya++,c)),y.G==3&&Ka(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Mn.aa.N.call(this)};function Wu(c){qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}H(Wu,qi);function tc(){Pn.call(this),this.status=1}H(tc,Pn);function ss(c){this.g=c}H(ss,Zu),ss.prototype.ua=function(){Le(this.g,"a")},ss.prototype.ta=function(c){Le(this.g,new Wu(c))},ss.prototype.sa=function(c){Le(this.g,new tc)},ss.prototype.ra=function(){Le(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,h1=function(){return new $a},c1=function(){return Xr()},u1=Ln,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,vh=_e,Xe.COMPLETE="complete",l1=Xe,di.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Jl=di,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,o1=me}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore",z0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Rp("@firebase/firestore");function Ao(){return Oa.logLevel}function mt(r,...t){if(Oa.logLevel<=Qt.DEBUG){const n=t.map(Bp);Oa.debug(`Firestore (${Qo}): ${r}`,...n)}}function Br(r,...t){if(Oa.logLevel<=Qt.ERROR){const n=t.map(Bp);Oa.error(`Firestore (${Qo}): ${r}`,...n)}}function Hs(r,...t){if(Oa.logLevel<=Qt.WARN){const n=t.map(Bp);Oa.warn(`Firestore (${Qo}): ${r}`,...n)}}function Bp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,f1(r,s,n)}function f1(r,t,n){let s=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Br(s),new Error(s)}function Xt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||f1(t,o,s)}function Nt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Gr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Cn.UNAUTHENTICATED)))}shutdown(){}}class ix{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rx{constructor(t){this.t=t,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xt(typeof s.accessToken=="string",31837,{l:s}),new d1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new Cn(t)}}class sx{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ax{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new sx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0,3512);const s=u=>{u.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Bt(r,t){return r<t?-1:r>t?1:0}function np(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Bt(s,o);{const u=m1(),f=ux(u.encode(B0(r,n)),u.encode(B0(t,n)));return f!==0?f:Bt(s,o)}}n+=s>65535?2:1}return Bt(r.length,t.length)}function B0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function ux(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Bt(r[n],t[n]);return Bt(r.length,t.length)}function Po(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="__name__";class Zi{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Zi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Zi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Zi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Bt(t.length,n.length)}static compareSegments(t,n){const s=Zi.isNumericId(t),o=Zi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Zi.extractNumericId(t).compare(Zi.extractNumericId(n)):np(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zs.fromString(t.substring(4,t.length-2))}}class ce extends Zi{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Zi{construct(t,n,s){return new _n(t,n,s)}static isValidIdentifier(t){return cx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q0}static keyField(){return new _n([q0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ft(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r,t,n){if(!n)throw new ft(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function hx(r,t,n,s){if(t===!0&&s===!0)throw new ft(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function H0(r){if(!vt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function F0(r){if(vt.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function g1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt(12329,{type:typeof r})}function li(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(r);throw new ft(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r,t){const n={typeString:r};return t&&(n.value=t),n}function Ru(r,t){if(!g1(r))throw new ft(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ft(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,Q0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Q0);return new ye(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<G0)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ru(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-G0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Ge("string",ye._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new ye(0,0))}static max(){return new Rt(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function fx(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new ye(n+1,0):new ye(n,s));return new Fs(o,vt.empty(),t)}function dx(r){return new Fs(r.readTime,r.key,hu)}class Fs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Fs(Rt.min(),vt.empty(),hu)}static max(){return new Fs(Rt.max(),vt.empty(),hu)}}function mx(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(r.documentKey,t.documentKey),n!==0?n:Bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==px)throw r;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,s)=>{n(t)}))}static reject(t){return new st(((n,s)=>{s(t)}))}static waitFor(t){return new st(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=st.resolve(!1);for(const s of t)n=n.next((o=>o?st.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new st(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new st(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function yx(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}nf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function Iu(r){return r==null}function kh(r){return r===0&&1/r==-1/0}function _x(r){return typeof r=="number"&&Number.isInteger(r)&&!kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="";function vx(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Y0(t)),t=Ex(r.get(n),t);return Y0(t)}function Ex(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case y1:n+="";break;default:n+=u}}return n}function Y0(r){return r+y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Js(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function _1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t,n){this.comparator=t,this.root=n||yn.EMPTY}insert(t,n){return new be(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(t){return new be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uh(this.root,t,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uh(this.root,t,this.comparator,!0)}}class uh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??yn.RED,this.left=o??yn.EMPTY,this.right=u??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new yn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw wt(27949);return t+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new yn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.comparator=t,this.data=new be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(t){return new $0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new We(this.comparator);return n.data=t,n}}class $0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.fields=t,t.sort(_n.comparator)}static empty(){return new oi([])}unionWith(t){let n=new We(_n.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new v1("Invalid base64 string: "+u):u}})(t);return new vn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new vn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const n=Tx.exec(r);if(Xt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ke(r.seconds),nanos:ke(r.nanos)}}function ke(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qs(r){return typeof r=="string"?vn.fromBase64String(r):vn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="server_timestamp",T1="__type__",S1="__previous_value__",w1="__local_write_time__";function Fp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[T1])===null||n===void 0?void 0:n.stringValue)===E1}function rf(r){const t=r.mapValue.fields[S1];return Fp(t)?rf(t):t}function fu(r){const t=Gs(r.mapValue.fields[w1].timestampValue);return new ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ph="(default)";class du{constructor(t,n){this.projectId=t,this.database=n||Ph}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(t){return t instanceof du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="__type__",wx="__max__",ch={mapValue:{}},A1="__vector__",Lh="value";function Ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fp(r)?4:Ax(r)?9007199254740991:bx(r)?10:11:wt(28295,{value:r})}function sr(r,t){if(r===t)return!0;const n=Ys(r);if(n!==Ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return fu(r).isEqual(fu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gs(o.timestampValue),m=Gs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Qs(o.bytesValue).isEqual(Qs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ke(o.geoPointValue.latitude)===ke(u.geoPointValue.latitude)&&ke(o.geoPointValue.longitude)===ke(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ke(o.integerValue)===ke(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ke(o.doubleValue),m=ke(u.doubleValue);return f===m?kh(f)===kh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Po(r.arrayValue.values||[],t.arrayValue.values||[],sr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(K0(f)!==K0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!sr(f[p],m[p])))return!1;return!0})(r,t);default:return wt(52216,{left:r})}}function mu(r,t){return(r.values||[]).find((n=>sr(n,t)))!==void 0}function Lo(r,t){if(r===t)return 0;const n=Ys(r),s=Ys(t);if(n!==s)return Bt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ke(u.integerValue||u.doubleValue),p=ke(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return X0(r.timestampValue,t.timestampValue);case 4:return X0(fu(r),fu(t));case 5:return np(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Qs(u),p=Qs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Bt(m[g],p[g]);if(E!==0)return E}return Bt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Bt(ke(u.latitude),ke(f.latitude));return m!==0?m:Bt(ke(u.longitude),ke(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return J0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var m,p,g,E;const T=u.fields||{},b=f.fields||{},V=(m=T[Lh])===null||m===void 0?void 0:m.arrayValue,H=(p=b[Lh])===null||p===void 0?void 0:p.arrayValue,X=Bt(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:J0(V,H)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===ch.mapValue&&f===ch.mapValue)return 0;if(u===ch.mapValue)return 1;if(f===ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=np(p[T],E[T]);if(b!==0)return b;const V=Lo(m[p[T]],g[E[T]]);if(V!==0)return V}return Bt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw wt(23264,{le:n})}}function X0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Bt(r,t);const n=Gs(r),s=Gs(t),o=Bt(n.seconds,s.seconds);return o!==0?o:Bt(n.nanos,s.nanos)}function J0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Lo(n[o],s[o]);if(u)return u}return Bt(n.length,s.length)}function Uo(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Gs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Qs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return vt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(r.mapValue):wt(61005,{value:r})}function Eh(r){switch(Ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rf(r);return t?16+Eh(t):16;case 5:return 2*r.stringValue.length;case 6:return Qs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Js(s.fields,((u,f)=>{o+=u.length+Eh(f)})),o})(r.mapValue);default:throw wt(13486,{value:r})}}function Z0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Gp(r){return!!r&&"arrayValue"in r}function W0(r){return!!r&&"nullValue"in r}function tE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function bx(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[b1])===null||n===void 0?void 0:n.stringValue)===A1}function iu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Js(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=iu(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=iu(r.arrayValue.values[n]);return t}return Object.assign({},r)}function Ax(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=iu(n)}setAll(t){let n=_n.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=iu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return sr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Js(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new kn(iu(this.value))}}function R1(r){const t=[];return Js(r.fields,((n,s)=>{const o=new _n([n]);if(Th(s)){const u=R1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new ln(t,0,Rt.min(),Rt.min(),Rt.min(),kn.empty(),0)}static newFoundDocument(t,n,s,o){return new ln(t,1,n,Rt.min(),s,o,0)}static newNoDocument(t,n){return new ln(t,2,n,Rt.min(),Rt.min(),kn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,Rt.min(),Rt.min(),kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n){this.position=t,this.inclusive=n}}function eE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=vt.comparator(vt.fromName(f.referenceValue),n.key):s=Lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!sr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Rx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class Fe extends I1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Cx(t,n,s):n==="array-contains"?new Nx(t,s):n==="in"?new Ox(t,s):n==="not-in"?new Mx(t,s):n==="array-contains-any"?new Vx(t,s):new Fe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new xx(t,s):new Dx(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lo(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends I1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new zi(t,n)}matches(t){return C1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function C1(r){return r.op==="and"}function x1(r){return Ix(r)&&C1(r)}function Ix(r){for(const t of r.filters)if(t instanceof zi)return!1;return!0}function sp(r){if(r instanceof Fe)return r.field.canonicalString()+r.op.toString()+Uo(r.value);if(x1(r))return r.filters.map((t=>sp(t))).join(",");{const t=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${t})`}}function D1(r,t){return r instanceof Fe?(function(s,o){return o instanceof Fe&&s.op===o.op&&s.field.isEqual(o.field)&&sr(s.value,o.value)})(r,t):r instanceof zi?(function(s,o){return o instanceof zi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&D1(f,o.filters[m])),!0):!1})(r,t):void wt(19439)}function N1(r){return r instanceof Fe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`})(r):r instanceof zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(N1).join(" ,")+"}"})(r):"Filter"}class Cx extends Fe{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class xx extends Fe{constructor(t,n){super(t,"in",n),this.keys=O1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Dx extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=O1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function O1(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>vt.fromName(s.referenceValue)))}class Nx extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gp(n)&&mu(n.arrayValue,this.value)}}class Ox extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class Mx extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class Vx extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function iE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new kx(r,t,n,s,o,u,f)}function Qp(r){const t=Nt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Iu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Uo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Uo(s))).join(",")),t.Pe=n}return t.Pe}function Yp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Rx(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!D1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!nE(r.startAt,t.startAt)&&nE(r.endAt,t.endAt)}function ap(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Px(r,t,n,s,o,u,f,m){return new Cu(r,t,n,s,o,u,f,m)}function Kp(r){return new Cu(r)}function rE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function M1(r){return r.collectionGroup!==null}function ru(r){const t=Nt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new We(_n.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new zh(u,s))})),n.has(_n.keyField().canonicalString())||t.Te.push(new zh(_n.keyField(),s))}return t.Te}function er(r){const t=Nt(r);return t.Ie||(t.Ie=Lx(t,ru(r))),t.Ie}function Lx(r,t){if(r.limitType==="F")return iE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new zh(o.field,u)}));const n=r.endAt?new Uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uh(r.startAt.position,r.startAt.inclusive):null;return iE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function op(r,t){const n=r.filters.concat([t]);return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,t,n){return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function sf(r,t){return Yp(er(r),er(t))&&r.limitType===t.limitType}function V1(r){return`${Qp(er(r))}|lt:${r.limitType}`}function Ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>N1(o))).join(", ")}]`),Iu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Uo(o))).join(",")),`Target(${s})`})(er(r))}; limitType=${r.limitType})`}function af(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):vt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=eE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,ru(s),o)||s.endAt&&!(function(f,m,p){const g=eE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,ru(s),o))})(r,t)}function Ux(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k1(r){return(t,n)=>{let s=!1;for(const o of ru(r)){const u=zx(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zx(r,t,n){const s=r.field.isKeyField()?vt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Lo(p,g):wt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Js(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new be(vt.comparator);function qr(){return jx}const P1=new be(vt.comparator);function Zl(...r){let t=P1;for(const n of r)t=t.insert(n.key,n);return t}function L1(r){let t=P1;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ca(){return su()}function U1(){return su()}function su(){return new ka((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Bx=new be(vt.comparator),qx=new We(vt.comparator);function Yt(...r){let t=qx;for(const n of r)t=t.add(n);return t}const Hx=new We(Bt);function Fx(){return Hx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(t)?"-0":t}}function z1(r){return{integerValue:""+r}}function j1(r,t){return _x(t)?z1(t):$p(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function Gx(r,t,n){return r instanceof jh?(function(o,u){const f={fields:{[T1]:{stringValue:E1},[w1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=rf(u)),u&&(f.fields[S1]=u),{mapValue:f}})(n,t):r instanceof zo?q1(r,t):r instanceof pu?H1(r,t):(function(o,u){const f=B1(o,u),m=sE(f)+sE(o.Ee);return rp(f)&&rp(o.Ee)?z1(m):$p(o.serializer,m)})(r,t)}function Qx(r,t,n){return r instanceof zo?q1(r,t):r instanceof pu?H1(r,t):n}function B1(r,t){return r instanceof gu?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class jh extends of{}class zo extends of{constructor(t){super(),this.elements=t}}function q1(r,t){const n=F1(t);for(const s of r.elements)n.some((o=>sr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends of{constructor(t){super(),this.elements=t}}function H1(r,t){let n=F1(t);for(const s of r.elements)n=n.filter((o=>!sr(o,s)));return{arrayValue:{values:n}}}class gu extends of{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function sE(r){return ke(r.integerValue||r.doubleValue)}function F1(r){return Gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,n){this.field=t,this.transform=n}}function Yx(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof zo&&o instanceof zo||s instanceof pu&&o instanceof pu?Po(s.elements,o.elements,sr):s instanceof gu&&o instanceof gu?sr(s.Ee,o.Ee):s instanceof jh&&o instanceof jh})(r.transform,t.transform)}class Kx{constructor(t,n){this.version=t,this.transformResults=n}}class Ze{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ze}static exists(t){return new Ze(void 0,t)}static updateTime(t){return new Ze(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lf{}function Q1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Du(r.key,Ze.none()):new xu(r.key,r.data,Ze.none());{const n=r.data,s=kn.empty();let o=new We(_n.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Zs(r.key,s,new oi(o.toArray()),Ze.none())}}function $x(r,t,n){r instanceof xu?(function(o,u,f){const m=o.value.clone(),p=oE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Zs?(function(o,u,f){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=oE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Y1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function au(r,t,n,s){return r instanceof xu?(function(u,f,m,p){if(!Sh(u.precondition,f))return m;const g=u.value.clone(),E=lE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof Zs?(function(u,f,m,p){if(!Sh(u.precondition,f))return m;const g=lE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Y1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return Sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function Xx(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=B1(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function aE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Po(s,o,((u,f)=>Yx(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xu extends lf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zs extends lf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Y1(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function oE(r,t,n){const s=new Map;Xt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,Qx(f,m,n[o]))}return s}function lE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Gx(u,f,t))}return s}class Du extends lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K1 extends lf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&$x(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=au(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=au(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=U1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Q1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Yt())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,((n,s)=>aE(n,s)))&&Po(this.baseMutations,t.baseMutations,((n,s)=>aE(n,s)))}}class Xp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Xt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return Bx})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,$t;function $1(r){switch(r){case et.OK:return wt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt(15467,{code:r})}}function X1(r){if(r===void 0)return Br("GRPC error has no .code"),et.UNKNOWN;switch(r){case He.OK:return et.OK;case He.CANCELLED:return et.CANCELLED;case He.UNKNOWN:return et.UNKNOWN;case He.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case He.INTERNAL:return et.INTERNAL;case He.UNAVAILABLE:return et.UNAVAILABLE;case He.UNAUTHENTICATED:return et.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case He.NOT_FOUND:return et.NOT_FOUND;case He.ALREADY_EXISTS:return et.ALREADY_EXISTS;case He.PERMISSION_DENIED:return et.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case He.ABORTED:return et.ABORTED;case He.OUT_OF_RANGE:return et.OUT_OF_RANGE;case He.UNIMPLEMENTED:return et.UNIMPLEMENTED;case He.DATA_LOSS:return et.DATA_LOSS;default:return wt(39323,{code:r})}}($t=He||(He={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new zs([4294967295,4294967295],0);function uE(r){const t=m1().encode(r),n=new a1;return n.update(t),new Uint8Array(n.digest())}function cE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new zs([n,s],0),new zs([o,u],0)]}class Jp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=zs.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(zs.fromNumber(s)));return o.compare(tD)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=uE(t),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Jp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.fe===0)return;const n=uE(t),[s,o]=cE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Nu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new uf(Rt.min(),o,new be(Bt),qr(),Yt())}}class Nu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Nu(s,n,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class J1{constructor(t,n){this.targetId=t,this.De=n}}class Z1{constructor(t,n,s=vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hE{constructor(){this.ve=0,this.Ce=fE(),this.Fe=vn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Yt(),n=Yt(),s=Yt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:wt(38017,{changeType:u})}})),new Nu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=fE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class eD{constructor(t){this.We=t,this.Ge=new Map,this.ze=qr(),this.je=hh(),this.Je=hh(),this.He=new be(Bt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:wt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(ap(u))if(s===0){const f=new vt(u.path);this.Xe(n,f,ln.newNoDocument(f,Rt.min()))}else Xt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Qs(s).toUint8Array()}catch(p){if(p instanceof v1)return Hs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jp(f,o,u)}catch(p){return Hs(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&ap(m.target)){const p=new vt(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,ln.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Yt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(t)));const o=new uf(t,n,this.He,this.ze,s);return this.ze=qr(),this.je=hh(),this.Je=hh(),this.He=new be(Bt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new hE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new We(Bt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new We(Bt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||mt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new hE),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function hh(){return new be(vt.comparator)}function fE(){return new be(vt.comparator)}const nD={asc:"ASCENDING",desc:"DESCENDING"},iD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rD={and:"AND",or:"OR"};class sD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function up(r,t){return r.useProto3Json||Iu(t)?t:{value:t}}function Bh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function W1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aD(r,t){return Bh(r,t.toTimestamp())}function ui(r){return Xt(!!r,49232),Rt.fromTimestamp((function(n){const s=Gs(n);return new ye(s.seconds,s.nanos)})(r))}function Zp(r,t){return cp(r,t).canonicalString()}function cp(r,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function tS(r){const t=ce.fromString(r);return Xt(aS(t),10190,{key:t.toString()}),t}function qh(r,t){return Zp(r.databaseId,t.path)}function ou(r,t){const n=tS(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new vt(nS(n))}function eS(r,t){return Zp(r.databaseId,t)}function oD(r){const t=tS(r);return t.length===4?ce.emptyPath():nS(t)}function hp(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nS(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function dE(r,t,n){return{name:qh(r,t),fields:n.value.mapValue.fields}}function lD(r,t){return"found"in t?(function(s,o){Xt(!!o.found,43571),o.found.name,o.found.updateTime;const u=ou(s,o.found.name),f=ui(o.found.updateTime),m=o.found.createTime?ui(o.found.createTime):Rt.min(),p=new kn({mapValue:{fields:o.found.fields}});return ln.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Xt(!!o.missing,3894),Xt(!!o.readTime,22933);const u=ou(s,o.missing),f=ui(o.readTime);return ln.newNoDocument(u,f)})(r,t):wt(7234,{result:t})}function uD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Xt(E===void 0||typeof E=="string",58123),vn.fromBase64String(E||"")):(Xt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),vn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?et.UNKNOWN:X1(g.code);return new ft(E,g.message||"")})(f);n=new Z1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ou(r,s.document.name),u=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):Rt.min(),m=new kn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new wh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ou(r,s.document),u=s.readTime?ui(s.readTime):Rt.min(),f=ln.newNoDocument(o,u),m=s.removedTargetIds||[];n=new wh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ou(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in t))return wt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Wx(o,u),m=s.targetId;n=new J1(m,f)}}return n}function iS(r,t){let n;if(t instanceof xu)n={update:dE(r,t.key,t.value)};else if(t instanceof Du)n={delete:qh(r,t.key)};else if(t instanceof Zs)n={update:dE(r,t.key,t.data),updateMask:_D(t.fieldMask)};else{if(!(t instanceof K1))return wt(16599,{Rt:t.type});n={verify:qh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof jh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof zo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof gu)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw wt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt(27497)})(r,t.precondition)),n}function cD(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ui(o.updateTime):ui(u);return f.isEqual(Rt.min())&&(f=ui(u)),new Kx(f,o.transformResults||[])})(n,t)))):[]}function hD(r,t){return{documents:[eS(r,t.path)]}}function fD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eS(r,o);const u=(function(g){if(g.length!==0)return sS(zi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:Io(b.field),direction:pD(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=up(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function dD(r){let t=oD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=rS(T);return b instanceof zi&&x1(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(H){return new zh(Co(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Iu(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,V=T.values||[];return new Uh(V,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,V=T.values||[];return new Uh(V,b)})(n.endAt)),Px(t,o,f,u,m,"F",p,g)}function mD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Co(n.unaryFilter.field);return Fe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(n.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Co(n.unaryFilter.field);return Fe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Fe.create(Co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return zi.create(n.compositeFilter.filters.map((s=>rS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(n.compositeFilter.op))})(r):wt(30097,{filter:r})}function pD(r){return nD[r]}function gD(r){return iD[r]}function yD(r){return rD[r]}function Io(r){return{fieldPath:r.canonicalString()}}function Co(r){return _n.fromServerFormat(r.fieldPath)}function sS(r){return r instanceof Fe?(function(n){if(n.op==="=="){if(tE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(W0(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tE(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(W0(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:gD(n.op),value:n.value}}})(r):r instanceof zi?(function(n){const s=n.getFilters().map((o=>sS(o)));return s.length===1?s[0]:{compositeFilter:{op:yD(n.op),filters:s}}})(r):wt(54877,{filter:r})}function _D(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function aS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t,n,s,o,u=Rt.min(),f=Rt.min(),m=vn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ms(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.gt=t}}function ED(r){const t=dD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.Dn=new SD}addToCollectionParentIndex(t,n){return this.Dn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(Fs.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(Fs.min())}updateCollectionGroup(t,n,s){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class SD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new We(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new We(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class Yn{static withCacheSize(t){return new Yn(t,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(oS,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new jo(0)}static ur(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LruGarbageCollector",wD=1048576;function gE([r,t],[n,s]){const o=Bt(r,n);return o===0?Bt(t,s):o}class bD{constructor(t){this.Tr=t,this.buffer=new We(gE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){mt(pE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?mt(pE,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Rr(3e5)}))}}class RD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(nf.ue);const s=new bD(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(mE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),Ao()<=Qt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function ID(r,t){return new RD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.changes=new ka((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?st.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&au(s.mutation,o,oi.empty(),ye.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Yt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Yt()){const o=Ca();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Zl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ca();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Yt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=qr();const f=su(),m=(function(){return su()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Zs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),au(E.mutation,g,E.mutation.getFieldMask(),ye.now())):f.set(g.key,oi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var T;return m.set(g,new xD(E,(T=f.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=su();let o=new be(((f,m)=>f-m)),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||oi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Yt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=U1();E.forEach((b=>{if(!u.has(b)){const V=Q1(n.get(b),s.get(b));V!==null&&T.set(b,V),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,T))}return st.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):M1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):st.resolve(Ca());let m=hu,p=u;return f.next((g=>st.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?st.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Yt()))).next((E=>({batchId:m,changes:L1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Zl();return this.indexManager.getCollectionParents(t,u).next((m=>st.forEach(m,(p=>{const g=(function(T,b){return new Cu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,ln.newInvalidDocument(E)))}));let m=Zl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&au(E.mutation,g,oi.empty(),ye.now()),af(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return st.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:ED(o.bundledQuery),readTime:ui(o.readTime)}})(n)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.overlays=new be(vt.comparator),this.kr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ca();return st.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),st.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),st.resolve()}getOverlaysForCollection(t,n,s){const o=Ca(),u=n.length+1,f=new vt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return st.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new be(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ca(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return st.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Zx(n,s));let u=this.kr.get(n);u===void 0&&(u=Yt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.qr=new We(on.Qr),this.$r=new We(on.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new on(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new on(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new vt(new ce([])),s=new on(n,t),o=new on(n,t+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new vt(new ce([])),s=new on(n,t),o=new on(n,t+1);let u=Yt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new on(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class on{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return vt.comparator(t.key,n.key)||Bt(t.Hr,n.Hr)}static Ur(t,n){return Bt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new We(on.Qr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Jx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new on(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return st.resolve(f)}lookupMutationBatch(t,n){return st.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return st.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Hp:this.er-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new on(n,0),o=new on(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),st.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new We(Bt);return n.forEach((o=>{const u=new on(o,0),f=new on(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),st.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;vt.isDocumentKey(u)||(u=u.child(""));const f=new on(new vt(u),0);let m=new We(Bt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),st.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Xt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return st.forEach(n.mutations,(o=>{const u=new on(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new on(n,0),o=this.Yr.firstAfterOrEqual(s);return st.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.ni=t,this.docs=(function(){return new be(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return st.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=qr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))})),st.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=qr();const f=n.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||mx(dx(E),s)<=0||(o.has(E.key)||af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(t,n,s,o){wt(9500)}ri(t,n){return st.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new PD(this)}getSize(t){return st.resolve(this.size)}}class PD extends CD{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),st.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.persistence=t,this.ii=new ka((n=>Qp(n)),Yp),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.si=0,this.oi=new Wp,this.targetCount=0,this._i=jo.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),st.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new jo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.hr(n),st.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),st.waitFor(u).next((()=>o))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return st.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),st.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),st.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return st.resolve(s)}containsKey(t,n){return st.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,n){this.ai={},this.overlays={},this.ui=new nf(0),this.ci=!1,this.ci=!0,this.li=new MD,this.referenceDelegate=t(this),this.hi=new LD(this),this.indexManager=new TD,this.remoteDocumentCache=(function(o){return new kD(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new vD(n),this.Ti=new ND(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new OD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new VD(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){mt("MemoryPersistence","Starting transaction:",t);const o=new UD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return st.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class UD extends gx{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ai=new Wp,this.Ri=null}static Vi(t){return new tg(t)}get mi(){if(this.Ri)return this.Ri;throw wt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),st.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.mi,(s=>{const o=vt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,Rt.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return st.or([()=>st.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Hh{constructor(t,n){this.persistence=t,this.gi=new ka((s=>vx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ID(this,n)}static Vi(t,n){return new Hh(t,n)}Ii(){}di(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return st.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?st.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(f=>this.Sr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,Rt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),st.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Eh(t.data.value)),n}Sr(t,n,s){return st.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return st.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Yt(),o=Yt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return jR()?8:yx(xn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new zD;return this.ws(t,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(Ao()<=Qt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(Ao()<=Qt.DEBUG&&mt("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ao()<=Qt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,er(n))):st.resolve())}ps(t,n){if(rE(n))return st.resolve(null);let s=er(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=er(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Yt(...u);return this.gs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(t,lp(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return rE(n)||o.isEqual(Rt.min())?st.resolve(null):this.gs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?st.resolve(null):(Ao()<=Qt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.vs(t,f,n,fx(o,hu)).next((m=>m)))}))}bs(t,n){let s=new We(k1(t));return n.forEach(((o,u)=>{af(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return Ao()<=Qt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.gs.getDocumentsMatchingQuery(t,n,Fs.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",BD=3e8;class qD{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new be(Bt),this.Ms=new ka((u=>Qp(u)),Yp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function HD(r,t,n,s){return new qD(r,t,n,s)}async function uS(r,t){const n=Nt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Yt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function FD(r,t){const n=Nt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,b=T.keys();let V=st.resolve();return b.forEach((H=>{V=V.next((()=>E.getEntry(p,H))).next((X=>{const F=g.docVersions.get(H);Xt(F!==null,48541),X.version.compareTo(F)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Yt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function cS(r){const t=Nt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function GD(r,t){const n=Nt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,T))));let V=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(vn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(X,F,ot){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=BD?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(b,V,E)&&m.push(n.hi.updateTargetData(u,V))}));let p=qr(),g=Yt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(QD(u,f,t.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(Rt.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return st.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function QD(r,t,n){let s=Yt(),o=Yt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=qr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):mt(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function YD(r,t){const n=Nt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function KD(r,t){const n=Nt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,st.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Ms(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function fp(r,t,n){const s=Nt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ko(f))throw f;mt(ng,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function yE(r,t,n){const s=Nt(r);let o=Rt.min(),u=Yt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Nt(p),b=T.Ms.get(E);return b!==void 0?st.resolve(T.Fs.get(b)):T.hi.getTargetData(g,E)})(s,f,er(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:Rt.min(),n?u:Yt()))).next((m=>($D(s,Ux(t),m),{documents:m,qs:u})))))}function $D(r,t,n){let s=r.xs.get(t)||Rt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(t,s)}class _E{constructor(){this.activeTargetIds=Fx()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XD{constructor(){this.Fo=new _E,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new _E,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="ConnectivityMonitor";class EE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){mt(vE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){mt(vE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function dp(){return fh===null?fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WD{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=dp(),m=this.Go(t,n.toUriEncodedString());mt(Om,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Ho(g);return this.jo(t,m,p,s,E).then((T=>(mt(Om,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw Hs(Om,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=ZD[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class eN extends WD{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=dp();return new Promise(((m,p)=>{const g=new o1;g.setWithCredentials(!0),g.listenOnce(l1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const T=g.getResponseJson();mt(In,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case vh.TIMEOUT:mt(In,`RPC '${t}' ${f} timed out`),p(new ft(et.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const b=g.getStatus();if(mt(In,`RPC '${t}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V==null?void 0:V.error;if(H&&H.status&&H.message){const X=(function(ot){const lt=ot.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(lt)>=0?lt:et.UNKNOWN})(H.status);p(new ft(X,H.message))}else p(new ft(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ft(et.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{c_:t,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{mt(In,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);mt(In,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(t,n,s){const o=dp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=h1(),m=c1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");mt(In,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.T_(T);let b=!1,V=!1;const H=new tN({Ho:F=>{V?mt(In,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(b||(mt(In,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),mt(In,`RPC '${t}' stream ${o} sending:`,F),T.send(F))},Yo:()=>T.close()}),X=(F,ot,lt)=>{F.listen(ot,(rt=>{try{lt(rt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return X(T,Jl.EventType.OPEN,(()=>{V||(mt(In,`RPC '${t}' stream ${o} transport opened.`),H.s_())})),X(T,Jl.EventType.CLOSE,(()=>{V||(V=!0,mt(In,`RPC '${t}' stream ${o} transport closed`),H.__(),this.I_(T))})),X(T,Jl.EventType.ERROR,(F=>{V||(V=!0,Hs(In,`RPC '${t}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),H.__(new ft(et.UNAVAILABLE,"The operation could not be completed")))})),X(T,Jl.EventType.MESSAGE,(F=>{var ot;if(!V){const lt=F.data[0];Xt(!!lt,16349);const rt=lt,Tt=(rt==null?void 0:rt.error)||((ot=rt[0])===null||ot===void 0?void 0:ot.error);if(Tt){mt(In,`RPC '${t}' stream ${o} received error:`,Tt);const Mt=Tt.status;let bt=(function(I){const O=He[I];if(O!==void 0)return X1(O)})(Mt),D=Tt.message;bt===void 0&&(bt=et.INTERNAL,D="Unknown error status: "+Mt+" with message "+Tt.message),V=!0,H.__(new ft(bt,D)),T.close()}else mt(In,`RPC '${t}' stream ${o} received:`,lt),H.a_(lt)}})),X(m,u1.STAT_EVENT,(F=>{F.stat===ep.PROXY?mt(In,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===ep.NOPROXY&&mt(In,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.o_()}),0),H}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r){return new sD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class hS{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ig(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ft(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return mt(TE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(mt(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nN extends hS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=uD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?ui(f.readTime):Rt.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:hD(u,p)}:{query:fD(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=W1(u,f.resumeToken);const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=Bh(u,f.snapshotVersion.toTimestamp());const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=mD(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=hp(this.serializer),n.removeTarget=t,this.k_(n)}}class iN extends hS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=cD(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=hp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>iS(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{}class sN extends rN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,cp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(et.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(t,cp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(et.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class aN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Br(n),this._a=!1):mt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class oN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Pa(this)&&(mt(Ma,"Restarting streams for network reachability change."),await(async function(p){const g=Nt(p);g.Ia.add(4),await Ou(g),g.Aa.set("Unknown"),g.Ia.delete(4),await hf(g)})(this))}))})),this.Aa=new aN(s,o)}}async function hf(r){if(Pa(r))for(const t of r.da)await t(!0)}async function Ou(r){for(const t of r.da)await t(!1)}function fS(r,t){const n=Nt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),og(n)?ag(n):$o(n).x_()&&sg(n,t))}function rg(r,t){const n=Nt(r),s=$o(n);n.Ta.delete(t),s.x_()&&dS(n,t),n.Ta.size===0&&(s.x_()?s.B_():Pa(n)&&n.Aa.set("Unknown"))}function sg(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$o(r).H_(t)}function dS(r,t){r.Ra.$e(t),$o(r).Y_(t)}function ag(r){r.Ra=new eD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),$o(r).start(),r.Aa.aa()}function og(r){return Pa(r)&&!$o(r).M_()&&r.Ta.size>0}function Pa(r){return Nt(r).Ia.size===0}function mS(r){r.Ra=void 0}async function lN(r){r.Aa.set("Online")}async function uN(r){r.Ta.forEach(((t,n)=>{sg(r,t)}))}async function cN(r,t){mS(r),og(r)?(r.Aa.la(t),ag(r)):r.Aa.set("Unknown")}async function hN(r,t,n){if(r.Aa.set("Online"),t instanceof Z1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,t)}catch(s){mt(Ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Fh(r,s)}else if(t instanceof wh?r.Ra.Ye(t):t instanceof J1?r.Ra.it(t):r.Ra.et(t),!n.isEqual(Rt.min()))try{const s=await cS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(vn.EMPTY_BYTE_STRING,E.snapshotVersion)),dS(u,p);const T=new Ms(E.target,p,g,E.sequenceNumber);sg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){mt(Ma,"Failed to raise snapshot:",s),await Fh(r,s)}}async function Fh(r,t,n){if(!Ko(t))throw t;r.Ia.add(1),await Ou(r),r.Aa.set("Offline"),n||(n=()=>cS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{mt(Ma,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await hf(r)}))}function pS(r,t){return t().catch((n=>Fh(r,n,t)))}async function ff(r){const t=Nt(r),n=Ks(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Hp;for(;fN(t);)try{const o=await YD(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,dN(t,o)}catch(o){await Fh(t,o)}gS(t)&&yS(t)}function fN(r){return Pa(r)&&r.Pa.length<10}function dN(r,t){r.Pa.push(t);const n=Ks(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function gS(r){return Pa(r)&&!Ks(r).M_()&&r.Pa.length>0}function yS(r){Ks(r).start()}async function mN(r){Ks(r).na()}async function pN(r){const t=Ks(r);for(const n of r.Pa)t.X_(n.mutations)}async function gN(r,t,n){const s=r.Pa.shift(),o=Xp.from(s,t,n);await pS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function yN(r,t){t&&Ks(r).Z_&&await(async function(s,o){if((function(f){return $1(f)&&f!==et.ABORTED})(o.code)){const u=s.Pa.shift();Ks(s).N_(),await pS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(s)}})(r,t),gS(r)&&yS(r)}async function SE(r,t){const n=Nt(r);n.asyncQueue.verifyOperationInProgress(),mt(Ma,"RemoteStore received new credentials");const s=Pa(n);n.Ia.add(3),await Ou(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await hf(n)}async function _N(r,t){const n=Nt(r);t?(n.Ia.delete(2),await hf(n)):t||(n.Ia.add(2),await Ou(n),n.Aa.set("Unknown"))}function $o(r){return r.Va||(r.Va=(function(n,s,o){const u=Nt(n);return u.ia(),new nN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:lN.bind(null,r),e_:uN.bind(null,r),n_:cN.bind(null,r),J_:hN.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),og(r)?ag(r):r.Aa.set("Unknown")):(await r.Va.stop(),mS(r))}))),r.Va}function Ks(r){return r.ma||(r.ma=(function(n,s,o){const u=Nt(n);return u.ia(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:mN.bind(null,r),n_:yN.bind(null,r),ea:pN.bind(null,r),ta:gN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await ff(r)):(await r.ma.stop(),r.Pa.length>0&&(mt(Ma,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new lg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(r,t){if(Br("AsyncQueue",`${t}: ${r}`),Ko(r))return new ft(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(t){return new Mo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=Zl(),this.sortedSet=new be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.fa=new be(vt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):wt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Bo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Bo(t,n,Mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class EN{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Nt(n),u=o.queries;o.queries=bE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ft(et.ABORTED,"Firestore shutting down"))}}function bE(){return new ka((r=>V1(r)),sf)}async function _S(r,t){const n=Nt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new vN,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ug(f,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&cg(n)}async function vS(r,t){const n=Nt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TN(r,t){const n=Nt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&cg(n)}function SN(r,t,n){const s=Nt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function cg(r){r.Da.forEach((t=>{t.next()}))}var mp,AE;(AE=mp||(mp={})).Fa="default",AE.Cache="cache";class ES{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Bo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.key=t}}class SS{constructor(t){this.key=t}}class wN{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Yt(),this.mutatedKeys=Yt(),this.Xa=k1(t),this.eu=new Mo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new wE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const b=o.get(E),V=af(this.query,T)?T:null,H=!!b&&this.mutatedKeys.has(b.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;b&&V?b.data.isEqual(V.data)?H!==X&&(s.track({type:3,doc:V}),F=!0):this.iu(b,V)||(s.track({type:2,doc:V}),F=!0,(p&&this.Xa(V,p)>0||g&&this.Xa(V,g)<0)&&(m=!0)):!b&&V?(s.track({type:0,doc:V}),F=!0):b&&!V&&(s.track({type:1,doc:b}),F=!0,(p||g)&&(m=!0)),F&&(V?(f=f.add(V),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((E,T)=>(function(V,H){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt(20277,{At:F})}};return X(V)-X(H)})(E.type,T.type)||this.Xa(E.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Bo(this.query,t.eu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Yt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new SS(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new TS(s))})),n}uu(t){this.Ha=t.qs,this.Za=Yt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Bo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const hg="SyncEngine";class bN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class AN{constructor(t){this.key=t,this.lu=!1}}class RN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ka((m=>V1(m)),sf),this.Tu=new Map,this.Iu=new Set,this.du=new be(vt.comparator),this.Eu=new Map,this.Au=new Wp,this.Ru={},this.Vu=new Map,this.mu=jo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function IN(r,t,n=!0){const s=CS(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await wS(s,t,n,!0),o}async function CN(r,t){const n=CS(r);await wS(n,t,!0,!1)}async function wS(r,t,n,s){const o=await KD(r.localStore,er(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&fS(r.remoteStore,o),m}async function xN(r,t,n,s,o){r.gu=(T,b,V)=>(async function(X,F,ot,lt){let rt=F.view.nu(ot);rt.Ds&&(rt=await yE(X.localStore,F.query,!1).then((({documents:D})=>F.view.nu(D,rt))));const Tt=lt&&lt.targetChanges.get(F.targetId),Mt=lt&&lt.targetMismatches.get(F.targetId)!=null,bt=F.view.applyChanges(rt,X.isPrimaryClient,Tt,Mt);return IE(X,F.targetId,bt._u),bt.snapshot})(r,T,b,V);const u=await yE(r.localStore,t,!0),f=new wN(t,u.qs),m=f.nu(u.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);IE(r,n,g._u);const E=new bN(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),g.snapshot}async function DN(r,t,n){const s=Nt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!sf(f,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rg(s.remoteStore,o.targetId),pp(s,o.targetId)})).catch(Yo)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function NN(r,t){const n=Nt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rg(n.remoteStore,s.targetId))}async function ON(r,t,n){const s=zN(r);try{const o=await(function(f,m){const p=Nt(f),g=ye.now(),E=m.reduce(((V,H)=>V.add(H.key)),Yt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=qr(),X=Yt();return p.Os.getEntries(V,E).next((F=>{H=F,H.forEach(((ot,lt)=>{lt.isValidDocument()||(X=X.add(ot))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,H))).next((F=>{T=F;const ot=[];for(const lt of m){const rt=Xx(lt,T.get(lt.key).overlayedDocument);rt!=null&&ot.push(new Zs(lt.key,rt,R1(rt.value.mapValue),Ze.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,ot,m)})).next((F=>{b=F;const ot=F.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(V,F.batchId,ot)}))})).then((()=>({batchId:b.batchId,changes:L1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new be(Bt)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await Mu(s,o.changes),await ff(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");n.reject(u)}}async function bS(r,t){const n=Nt(r);try{const s=await GD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(Xt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Xt(f.lu,14607):o.removedDocuments.size>0&&(Xt(f.lu,42227),f.lu=!1))})),await Mu(n,s,t)}catch(s){await Yo(s)}}function RE(r,t,n){const s=Nt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Nt(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const b of T.wa)b.va(m)&&(g=!0)})),g&&cg(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MN(r,t,n){const s=Nt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new be(vt.comparator);f=f.insert(u,ln.newNoDocument(u,Rt.min()));const m=Yt().add(u),p=new uf(Rt.min(),new Map,new be(Bt),f,m);await bS(s,p),s.du=s.du.remove(u),s.Eu.delete(t),fg(s)}else await fp(s.localStore,t,!1).then((()=>pp(s,t,n))).catch(Yo)}async function VN(r,t){const n=Nt(r),s=t.batch.batchId;try{const o=await FD(n.localStore,t);RS(n,s,null),AS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mu(n,o)}catch(o){await Yo(o)}}async function kN(r,t,n){const s=Nt(r);try{const o=await(function(f,m){const p=Nt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);RS(s,t,n),AS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Mu(s,o)}catch(o){await Yo(o)}}function AS(r,t){(r.Vu.get(t)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(t)}function RS(r,t,n){const s=Nt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function pp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||IS(r,s)}))}function IS(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(rg(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),fg(r))}function IE(r,t,n){for(const s of n)s instanceof TS?(r.Au.addReference(s.key,t),PN(r,s)):s instanceof SS?(mt(hg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||IS(r,s.key)):wt(19791,{yu:s})}function PN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(mt(hg,"New document in limbo: "+n),r.Iu.add(s),fg(r))}function fg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new vt(ce.fromString(t)),s=r.mu.next();r.Eu.set(s,new AN(n)),r.du=r.du.insert(n,s),fS(r.remoteStore,new Ms(er(Kp(n.path)),s,"TargetPurposeLimboResolution",nf.ue))}}async function Mu(r,t,n){const s=Nt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,t,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=eg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=Nt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>st.forEach(g,(b=>st.forEach(b.Is,(V=>E.persistence.referenceDelegate.addReference(T,b.targetId,V))).next((()=>st.forEach(b.ds,(V=>E.persistence.referenceDelegate.removeReference(T,b.targetId,V)))))))))}catch(T){if(!Ko(T))throw T;mt(ng,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const V=E.Fs.get(b),H=V.snapshotVersion,X=V.withLastLimboFreeSnapshotVersion(H);E.Fs=E.Fs.insert(b,X)}}})(s.localStore,u))}async function LN(r,t){const n=Nt(r);if(!n.currentUser.isEqual(t)){mt(hg,"User change. New user:",t.toKey());const s=await uS(n.localStore,t);n.currentUser=t,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ft(et.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Mu(n,s.Bs)}}function UN(r,t){const n=Nt(r),s=n.Eu.get(t);if(s&&s.lu)return Yt().add(s.key);{let o=Yt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function CS(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MN.bind(null,t),t.hu.J_=TN.bind(null,t.eventManager),t.hu.pu=SN.bind(null,t.eventManager),t}function zN(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kN.bind(null,t),t}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return HD(this.persistence,new jD,t.initialUser,this.serializer)}Du(t){return new lS(tg.Vi,this.serializer)}bu(t){return new XD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class jN extends Gh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Xt(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AD(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new lS((s=>Hh.Vi(s,n)),this.serializer)}}class gp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new EN})()}createDatastore(t){const n=cf(t.databaseInfo.databaseId),s=(function(u){return new eN(u)})(t.databaseInfo);return(function(u,f,m,p){return new sN(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new oN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>RE(this.syncEngine,n,0)),(function(){return EE.C()?new EE:new JD})())}createSyncEngine(t,n){return(function(o,u,f,m,p,g,E){const T=new RN(o,u,f,m,p,g);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=Nt(o);mt(Ma,"RemoteStore shutting down."),u.Ia.add(5),await Ou(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Br("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ft(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Nt(o),m={documents:u.map((T=>qh(f.serializer,T)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,ce.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const b=lD(f.serializer,T);g.set(b.key.toString(),b)}));const E=[];return u.forEach((T=>{const b=g.get(T.toString());Xt(!!b,55234,{key:T}),E.push(b)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Du(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=vt.fromPath(s);this.mutations.push(new K1(o,this.precondition(o)))})),await(async function(s,o){const u=Nt(s),f={writes:o.map((m=>iS(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,ce.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw wt(50498,{Wu:t.constructor.name});n=Rt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ft(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Rt.min())?Ze.exists(!1):Ze.updateTime(n):Ze.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Rt.min()))throw new ft(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(n)}return Ze.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ig(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new BN(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!Iu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!$1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class HN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Cn.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{mt($s,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(mt($s,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ug(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Vm(r,t){r.asyncQueue.verifyOperationInProgress(),mt($s,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await uS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{Hs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{mt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Hs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=t}async function CE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await FN(r);mt($s,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>SE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>SE(t.remoteStore,o))),r._onlineComponents=t}async function FN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mt($s,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new Gh)}}else mt($s,"Using default OfflineComponentProvider"),await Vm(r,new jN(void 0));return r._offlineComponents}async function dg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mt($s,"Using user provided OnlineComponentProvider"),await CE(r,r._uninitializedComponentsProvider._online)):(mt($s,"Using default OnlineComponentProvider"),await CE(r,new gp))),r._onlineComponents}function GN(r){return dg(r).then((t=>t.syncEngine))}function QN(r){return dg(r).then((t=>t.datastore))}async function yp(r){const t=await dg(r),n=t.eventManager;return n.onListen=IN.bind(null,t.syncEngine),n.onUnlisten=DN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=CN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NN.bind(null,t.syncEngine),n}function YN(r,t,n={}){const s=new Lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new xS({next:b=>{E.Ou(),f.enqueueAndForget((()=>vS(u,T))),b.fromCache&&p.source==="server"?g.reject(new ft(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new ES(m,E,{includeMetadataChanges:!0,ka:!0});return _S(u,T)})(await yp(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",DE=!0;class NE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=DE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:DE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wD)throw new ft(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class df{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new nx;switch(s.type){case"firstParty":return new ax(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=xE.get(n);s&&(mt("ComponentProvider","Removing Datastore"),xE.delete(n),s.terminate())})(this),Promise.resolve()}}function KN(r,t,n,s={}){var o;r=li(r,df);const u=Ho(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(_T(`https://${p}`),vT("Firestore",!0)),f.host!==NS&&f.host!==p&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!qs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Cn.MOCK_USER;else{E=NR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ft(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Cn(b)}r._authCredentials=new ix(new d1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new La(this.firestore,t,this._query)}}class De{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Ru(n,De._jsonSchema))return new De(t,s||null,new vt(ce.fromString(n.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ge("string",De._jsonSchemaVersion),referencePath:Ge("string")};class js extends La{constructor(t,n,s){super(t,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new vt(t))}withConverter(t){return new js(this.firestore,t,this._path)}}function Kl(r,t,...n){if(r=Ne(r),p1("collection","path",t),r instanceof df){const s=ce.fromString(t,...n);return F0(s),new js(r,null,s)}{if(!(r instanceof De||r instanceof js))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return F0(s),new js(r.firestore,null,s)}}function Qn(r,t,...n){if(r=Ne(r),arguments.length===1&&(t=qp.newId()),p1("doc","path",t),r instanceof df){const s=ce.fromString(t,...n);return H0(s),new De(r,null,new vt(s))}{if(!(r instanceof De||r instanceof js))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return H0(s),new De(r.firestore,r instanceof js?r.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class ME{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ig(this,"async_queue_retry"),this.oc=()=>{const s=Mm();s&&mt(OE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Lr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Ko(t))throw t;mt(OE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Br("INTERNAL UNHANDLED ERROR: ",VE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=lg.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&wt(47125,{hc:VE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function VE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Hr extends df{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new ME,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ME(t),this._firestoreClient=void 0,await t}}}function $N(r,t){const n=typeof r=="object"?r:wT(),s=typeof r=="string"?r:Ph,o=Cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=xR("firestore");u&&KN(o,...u)}return o}function Vu(r){if(r._terminated)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||XN(r),r._firestoreClient}function XN(r){var t,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new Sx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,DS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new HN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ai(vn.fromBase64String(t))}catch(n){throw new ft(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ai(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ru(t,ai._jsonSchema))return ai.fromBase64String(t.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Ge("string",ai._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(t){if(Ru(t,nr._jsonSchema))return new nr(t.latitude,t.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Ge("string",nr._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ru(t,ir._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ir(t.vectorValues);throw new ft(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Ge("string",ir._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=/^__.*__$/;class ZN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Zs(t,this.data,this.fieldMask,n,this.fieldTransforms):new xu(t,this.data,n,this.fieldTransforms)}}class OS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Zs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function MS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ec:r})}}class mf{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new mf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Qh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(MS(this.Ec)&&JN.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class WN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||cf(t)}Dc(t,n,s,o=!1){return new mf({Ec:t,methodName:n,bc:s,path:_n.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(r){const t=r._freezeSettings(),n=cf(r._databaseId);return new WN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function mg(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);vg("Data must be an object, but it was:",f,s);const m=VS(s,f);let p,g;if(u.merge)p=new oi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=_p(t,T,n);if(!f.contains(b))throw new ft(et.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);PS(E,b)||E.push(b)}p=new oi(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new ZN(new kn(m),p,g)}class Lu extends ku{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lu}}function tO(r,t,n){return new mf({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class pg extends ku{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=tO(this,t,!0),s=this.vc.map((u=>Jo(u,n))),o=new zo(s);return new G1(t.path,o)}isEqual(t){return t instanceof pg&&qs(this.vc,t.vc)}}class gg extends ku{constructor(t,n){super(t),this.Cc=n}_toFieldTransform(t){const n=new gu(t.serializer,j1(t.serializer,this.Cc));return new G1(t.path,n)}isEqual(t){return t instanceof gg&&this.Cc===t.Cc}}function yg(r,t,n,s){const o=r.Dc(1,t,n);vg("Data must be an object, but it was:",o,s);const u=[],f=kn.empty();Js(s,((p,g)=>{const E=Eg(t,p,n);g=Ne(g);const T=o.gc(E);if(g instanceof Lu)u.push(E);else{const b=Jo(g,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new oi(u);return new OS(f,m,o.fieldTransforms)}function _g(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[_p(t,s,n)],p=[o];if(u.length%2!=0)throw new ft(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(_p(t,u[b])),p.push(u[b+1]);const g=[],E=kn.empty();for(let b=m.length-1;b>=0;--b)if(!PS(g,m[b])){const V=m[b];let H=p[b];H=Ne(H);const X=f.gc(V);if(H instanceof Lu)g.push(V);else{const F=Jo(H,X);F!=null&&(g.push(V),E.set(V,F))}}const T=new oi(g);return new OS(E,T,f.fieldTransforms)}function eO(r,t,n,s=!1){return Jo(n,r.Dc(s?4:3,t))}function Jo(r,t){if(kS(r=Ne(r)))return vg("Unsupported field value:",t,r),VS(r,t);if(r instanceof ku)return(function(s,o){if(!MS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Jo(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ne(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return j1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ye.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof ye){const u=new ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ai)return{bytesValue:W1(o.serializer,s._byteString)};if(s instanceof De){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ir)return(function(f,m){return{mapValue:{fields:{[b1]:{stringValue:A1},[Lh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return $p(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${ef(s)}`)})(r,t)}function VS(r,t){const n={};return _1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Js(r,((s,o)=>{const u=Jo(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function kS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ye||r instanceof nr||r instanceof ai||r instanceof De||r instanceof ku||r instanceof ir)}function vg(r,t,n){if(!kS(n)||!g1(n)){const s=ef(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function _p(r,t,n){if((t=Ne(t))instanceof Xo)return t._internalPath;if(typeof t=="string")return Eg(r,t);throw Qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const nO=new RegExp("[~\\*/\\[\\]]");function Eg(r,t,n){if(t.search(nO)>=0)throw Qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xo(...t.split("."))._internalPath}catch{throw Qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ft(et.INVALID_ARGUMENT,m+r+p)}function PS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iO extends Yh{data(){return super.data()}}function Tg(r,t){return typeof t=="string"?Eg(r,t):t instanceof Xo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class rO extends Sg{}function sO(r,t,...n){let s=[];t instanceof Sg&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof wg)).length,m=u.filter((p=>p instanceof pf)).length;if(f>1||f>0&&m>0)throw new ft(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class pf extends rO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new pf(t,n,s)}_apply(t){const n=this._parse(t);return US(t._query,n),new La(t.firestore,t.converter,op(t._query,n))}_parse(t){const n=Pu(t.firestore);return(function(u,f,m,p,g,E,T){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){LE(T,E);const H=[];for(const X of T)H.push(PE(p,u,X));b={arrayValue:{values:H}}}else b=PE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||LE(T,E),b=eO(m,f,T,E==="in"||E==="not-in");return Fe.create(g,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function aO(r,t,n){const s=t,o=Tg("where",r);return pf._create(o,s,n)}class wg extends Sg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new wg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)US(f,p),f=op(f,p)})(t._query,n),new La(t.firestore,t.converter,op(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PE(r,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new ft(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(t)&&n.indexOf("/")!==-1)throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ce.fromString(n));if(!vt.isDocumentKey(s))throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Z0(r,new vt(s))}if(n instanceof De)return Z0(r,n._key);throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function LE(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function US(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class zS{convertValue(t,n="none"){switch(Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Js(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Lh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>ke(f.doubleValue)));return new ir(u)}convertGeoPoint(t){return new nr(ke(t.latitude),ke(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=rf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fu(t));default:return null}}convertTimestamp(t){const n=Gs(t);return new ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Xt(aS(s),9688,{name:t});const o=new du(s.get(1),s.get(3)),u=new vt(s.popFirst(5));return o.isEqual(n)||Br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class oO extends zS{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}class xo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends Yh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ge("string",Bs._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class bh extends Bs{data(t={}){return super.data(t)}}class xa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new xo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new bh(this._firestore,this._userDataWriter,s.key,s,new xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new bh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:lO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:r})}}xa._jsonSchemaVersion="firestore/querySnapshot/1.0",xa._jsonSchema={type:Ge("string",xa._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class gf extends zS{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,n)}}function UE(r){r=li(r,La);const t=li(r.firestore,Hr),n=Vu(t),s=new gf(t);return LS(r._query),YN(n,r._query).then((o=>new xa(t,s,r,o)))}function $l(r,t,n){r=li(r,De);const s=li(r.firestore,Hr),o=bg(r.converter,t,n);return yf(s,[mg(Pu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ze.none())])}function Xl(r,t,n,...s){r=li(r,De);const o=li(r.firestore,Hr),u=Pu(o);let f;return f=typeof(t=Ne(t))=="string"||t instanceof Xo?_g(u,"updateDoc",r._key,t,n,s):yg(u,"updateDoc",r._key,t),yf(o,[f.toMutation(r._key,Ze.exists(!0))])}function km(r){return yf(li(r.firestore,Hr),[new Du(r._key,Ze.none())])}function Pm(r,...t){var n,s,o;r=Ne(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||kE(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(kE(t[f])){const T=t[f];t[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof De)g=li(r.firestore,Hr),E=Kp(r._key.path),p={next:T=>{t[f]&&t[f](uO(g,r,T))},error:t[f+1],complete:t[f+2]};else{const T=li(r,La);g=li(T.firestore,Hr),E=T._query;const b=new gf(g);p={next:V=>{t[f]&&t[f](new xa(g,b,T,V))},error:t[f+1],complete:t[f+2]},LS(r._query)}return(function(b,V,H,X){const F=new xS(X),ot=new ES(V,F,H);return b.asyncQueue.enqueueAndForget((async()=>_S(await yp(b),ot))),()=>{F.Ou(),b.asyncQueue.enqueueAndForget((async()=>vS(await yp(b),ot)))}})(Vu(g),E,m,p)}function yf(r,t){return(function(s,o){const u=new Lr;return s.asyncQueue.enqueueAndForget((async()=>ON(await GN(s),o,u))),u.promise})(Vu(r),t)}function uO(r,t,n){const s=n.docs.get(t._key),o=new gf(r);return new Bs(r,o,t._key,s,new xo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pu(t)}set(t,n,s){this._verifyNotCommitted();const o=Vs(t,this._firestore),u=bg(o.converter,n,s),f=mg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Ze.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Vs(t,this._firestore);let f;return f=typeof(n=Ne(n))=="string"||n instanceof Xo?_g(this._dataReader,"WriteBatch.update",u._key,n,s,o):yg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Ze.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Vs(t,this._firestore);return this._mutations=this._mutations.concat(new Du(n._key,Ze.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ft(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vs(r,t){if((r=Ne(r)).firestore!==t)throw new ft(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Pu(t)}get(t){const n=Vs(t,this._firestore),s=new oO(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return wt(24041);const u=o[0];if(u.isFoundDocument())return new Yh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Yh(this._firestore,s,n._key,null,n.converter);throw wt(18433,{doc:u})}))}set(t,n,s){const o=Vs(t,this._firestore),u=bg(o.converter,n,s),f=mg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Vs(t,this._firestore);let f;return f=typeof(n=Ne(n))=="string"||n instanceof Xo?_g(this._dataReader,"Transaction.update",u._key,n,s,o):yg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Vs(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO extends fO{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Vs(t,this._firestore),s=new gf(this._firestore);return super.get(t).then((o=>new Bs(this._firestore,s,n._key,o._document,new xo(!1,!1),n.converter)))}}function mO(r,t,n){r=li(r,Hr);const s=Object.assign(Object.assign({},cO),n);return(function(u){if(u.maxAttempts<1)throw new ft(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Lr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await QN(u);new qN(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Vu(r),(o=>t(new dO(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return new Lu("deleteField")}function gO(...r){return new pg("arrayUnion",r)}function yO(r){return new gg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r){return Vu(r=li(r,Hr)),new hO(r,(t=>yf(r,t)))}(function(t,n=!0){(function(o){Qo=o})(Fo),Vo(new Da("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Hr(new rx(s.getProvider("auth-internal")),new ox(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ls(U0,z0,t),Ls(U0,z0,"esm2017")})();var vO="firebase",EO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(vO,EO,"app");const TO={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},jS=ST(TO),kr=tx(jS),Lm=new Or,an=$N(jS),SO=({className:r})=>z.jsxs("span",{className:"relative inline-block "+(r||""),children:[z.jsx(uT,{className:"w-5 h-5"}),z.jsx("span",{className:"absolute -right-1 -top-1",children:z.jsx(Qm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await QT(kr,Lp)}catch{}})();function wO(r,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(t)}`}async function bO(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function tu(){try{try{await QT(kr,Lp)}catch{}await uC(kr,Lm)}catch(r){const t=r==null?void 0:r.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await x0(kr,Lm);return}await x0(kr,Lm)}}function AO(r){const t=encodeURIComponent(r);window.open(`https://wa.me/?text=${t}`,"_blank")}const RO=()=>{const[r]=iR(),t=Tp(),n=r.get("listId"),s=r.get("token"),[o,u]=P.useState(kr.currentUser),[f,m]=P.useState(!0),[p,g]=P.useState(!1),[E,T]=P.useState(null);P.useEffect(()=>YT(kr,H=>{u(H),m(!1)}),[]);const b=async()=>{T(null);try{await tu()}catch(H){T((H==null?void 0:H.message)||" ")}},V=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await b();return}g(!0),T(null);try{await mO(an,async H=>{var rt;const X=Qn(an,"lists",n),F=await H.get(X);if(!F.exists())throw new Error("  ");const lt=(rt=F.data().pendingInvites)==null?void 0:rt[s];if(!lt)throw new Error("  ");if(lt.expiresAt<Date.now())throw new Error("  ");H.update(X,{sharedWith:gO(o.uid),[`pendingInvites.${s}`]:pO()})}),localStorage.setItem("activeListId",n),t("/")}catch(H){T((H==null?void 0:H.message)||"  ")}finally{g(!1)}};return f?z.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[z.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),z.jsx(Rh,{className:"animate-spin text-indigo-600"})]}):z.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:z.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[z.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:z.jsx(hT,{className:"w-10 h-10"})}),z.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?z.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?z.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?z.jsx("button",{onClick:V,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?z.jsx(Rh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):z.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[z.jsx(cT,{className:"w-4 h-4"}),"   "]})]})})},BS={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Nr=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),qS=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Kh(r){return r?/^\d+$/.test(r)?!0:BS[r]!=null:!1}function IO(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const t=BS[r];return t??null}const CO=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function xO(r){return CO.has(r)}const Um=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),zm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),jm=new Set(["","","","","","","","","","","","",""]);function DO(r){const t=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Kh(o)&&!Kh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Um.has(f)||Um.has(p)){t.push(Um.has(f)?f:p),n+=2;continue}if(zm.has(u)||zm.has(m)){t.push(zm.has(u)?f:p),n+=2;continue}if(jm.has(u)||jm.has(m)){t.push(jm.has(u)?f:p),n+=2;continue}}t.push(o),n+=1}return t}function NO(r){const t=Nr(r);if(!t)return[];let n=t.split(" ").filter(Boolean);if(n=DO(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Kh(g)){const T=Math.max(1,IO(g)||1),b=m(p);if(u.length===0){o=T;continue}if(!b){f(T);continue}f(),o=T;continue}u.push(g);const E=m(p);u.length===1&&xO(u[0])||g===""||g===""||E===""||E===""||Kh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function OO(r){const t=qS(r),n=Nr(t);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=NO(f);for(const p of m)u.push(p)}return u}const MO=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function Wi(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const HS="shopping_list_item_history_v1",FS="shopping_list_hidden_suggestions_v1",VO=1440*60*1e3;function Ag(){try{const r=localStorage.getItem(FS);if(!r)return{};const t=JSON.parse(r);if(!t||typeof t!="object"||Array.isArray(t))return{};const n={};for(const[s,o]of Object.entries(t))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Rg(r){try{localStorage.setItem(FS,JSON.stringify(r))}catch{}}function zE(){const r=Ag(),t=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>t?n.push(o):(delete r[o],s=!0)}return s&&Rg(r),n}function kO(r){const t=Ag();t[r]=Date.now()+VO,Rg(t)}function Bm(r){try{const t=Ag();t[r]&&(delete t[r],Rg(t))}catch{}}function PO(){try{const r=localStorage.getItem(HS);if(!r)return{};const t=JSON.parse(r);return!t||typeof t!="object"?{}:t}catch{return{}}}function jE(r){try{localStorage.setItem(HS,JSON.stringify(r))}catch{}}function LO(r){const t=r.query,n=Wi(t),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const T=g.trim();if(!T)return;const b=Wi(T);if(!b||r.hiddenKeys.has(b))return;const V=o.get(b);if(V){V.sources.add(E);return}o.set(b,{name:T,key:b,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const T=o.get(g);T&&(T.history=E)}for(const g of MO)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=Wi(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,T=E.startsWith(n),b=!T&&E.includes(n);if(!T&&!b)return-1/0;let V=T?120:70;if(g.sources.has("favorite")&&(V+=45),g.sources.has("history")&&(V+=35),g.sources.has("items")&&(V+=20),g.sources.has("static")&&(V+=10),g.history){const H=Math.max(0,g.history.count||0),X=Math.max(0,g.history.lastUsed||0);V+=Math.min(30,Math.log2(H+1)*8);const F=(Date.now()-X)/(1e3*60*60*24),ot=Math.max(0,20-F);V+=Math.min(20,ot)}return V};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const UO=()=>{const[r,t]=P.useState(null),[n,s]=P.useState(null),[o,u]=P.useState([]),[f,m]=P.useState([]),[p,g]=P.useState("list"),[E,T]=P.useState(""),b=P.useRef(null),[V,H]=P.useState(!1),[X,F]=P.useState(-1),ot=P.useRef({}),lt=P.useRef(null);P.useEffect(()=>{ot.current=PO()},[]);const[rt,Tt]=P.useState(!1),[Mt,bt]=P.useState(!1),[D,A]=P.useState(!1),[I,O]=P.useState(()=>{const R=new Date,B=new Date(R);B.setMinutes(0,0,0),B.setHours(18),B.getTime()<R.getTime()&&B.setHours(R.getHours()+1);const K=at=>String(at).padStart(2,"0");return`${B.getFullYear()}-${K(B.getMonth()+1)}-${K(B.getDate())}T${K(B.getHours())}:${K(B.getMinutes())}`}),[k,U]=P.useState(60),[x,Oe]=P.useState(!0),[Qe,J]=P.useState(!1),[ut,_t]=P.useState(!1),[Jt]=P.useState("hold_to_talk"),[Zt,M]=P.useState(""),[W,it]=P.useState(null),dt=P.useRef(null),gt=P.useRef(!1),Ct=P.useRef([]),Pt=P.useRef(""),Ee=P.useRef(!1),Wt=P.useRef(null),Pe=P.useRef(null),Tn=P.useRef(!1),un=P.useRef(null),[Ye,Ae]=P.useState({id:null,dx:0}),ji=70,hi=110,Ws=R=>{const B=R;return B?!!B.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},Ua=R=>B=>{Ws(B.target)||(Tn.current=!1,Wt.current={x:B.clientX,y:B.clientY,id:R,pointerId:B.pointerId},Pe.current={x:B.clientX,y:B.clientY},Ae({id:R,dx:0}))},Qr=R=>B=>{const K=Wt.current;if(!K||K.id!==R||K.pointerId!==B.pointerId)return;Pe.current={x:B.clientX,y:B.clientY};const at=B.clientX-K.x,ct=Math.max(-hi,Math.min(hi,at));if(!un.current&&Math.abs(at)>10&&Math.abs(at)>=Math.abs(B.clientY-K.y))try{B.currentTarget.setPointerCapture(B.pointerId),un.current={el:B.currentTarget,pointerId:B.pointerId}}catch{}Ae({id:R,dx:ct})},ar=R=>async B=>{const K=Wt.current,at=Pe.current;Wt.current=null;try{un.current&&un.current.el.releasePointerCapture(K.pointerId)}catch{}if(un.current=null,Pe.current=null,!K||K.id!==R){Ae({id:null,dx:0});return}const ct=(at==null?void 0:at.x)??B.clientX,Dt=(at==null?void 0:at.y)??B.clientY,St=ct-K.x,Lt=Dt-K.y;if(Ae({id:null,dx:0}),!(Math.abs(St)<ji||Math.abs(St)<Math.abs(Lt))){Tn.current=!0;try{St<0?await di(R):await Kn(R)}finally{window.setTimeout(()=>{Tn.current=!1},0)}}},Yr=R=>B=>{if(Ws(B.target))return;const K=B.touches[0];K&&(Tn.current=!1,Wt.current={x:K.clientX,y:K.clientY,id:R,pointerId:-1},Pe.current={x:K.clientX,y:K.clientY},Ae({id:R,dx:0}))},Zo=R=>B=>{const K=Wt.current;if(!K||K.id!==R)return;const at=B.touches[0];if(!at)return;Pe.current={x:at.clientX,y:at.clientY};const ct=at.clientX-K.x,Dt=at.clientY-K.y;if(Math.abs(ct)<6||Math.abs(ct)<Math.abs(Dt))return;try{B.preventDefault()}catch{}const St=Math.max(-hi,Math.min(hi,ct));Ae({id:R,dx:St})},ta=R=>async B=>{const K=Wt.current,at=Pe.current;if(Wt.current=null,Pe.current=null,!K||K.id!==R){Ae({id:null,dx:0});return}const ct=at?at.x-K.x:0;if(Math.abs(ct)<ji){Ae({id:null,dx:0});return}Tn.current=!0,ct<0?await di(R):await Kn(R),Ae({id:null,dx:0})},Ke=()=>{Wt.current=null,Pe.current=null;try{un.current&&un.current.el.releasePointerCapture(un.current.pointerId)}catch{}un.current=null,Ae({id:null,dx:0})},or=P.useRef(null),Re=P.useRef([]);P.useEffect(()=>{or.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),P.useEffect(()=>{Re.current=o},[o]),P.useEffect(()=>{if(!W)return;const R=setTimeout(()=>it(null),2500);return()=>clearTimeout(R)},[W]),P.useEffect(()=>YT(kr,async R=>{if(t(R),Oe(!1),!R){s(null),u([]),m([]);return}J(!0);const B=sO(Kl(an,"lists"),aO("sharedWith","array-contains",R.uid)),K=await UE(B);if(K.empty){const at=Qn(Kl(an,"lists")),ct={id:at.id,title:" ",ownerUid:R.uid,sharedWith:[R.uid],createdAt:Date.now(),updatedAt:Date.now()};await $l(at,ct),s(ct),localStorage.setItem("activeListId",at.id)}else{const at=localStorage.getItem("activeListId"),ct=at?K.docs.find(St=>St.id===at)??K.docs[0]:K.docs[0],Dt=ct.data();s({...Dt,id:ct.id}),localStorage.setItem("activeListId",ct.id)}J(!1)}),[]),P.useEffect(()=>{if(!(n!=null&&n.id))return;const R=Qn(an,"lists",n.id),B=Kl(R,"items"),K=Kl(R,"favorites"),at=Pm(R,St=>{St.exists()&&s({...St.data(),id:St.id})}),ct=Pm(B,St=>{const Lt=St.docs.map(zt=>zt.data());u(Lt)}),Dt=Pm(K,St=>{const Lt=St.docs.map(zt=>{const Vt=zt.data();return{id:zt.id,name:String((Vt==null?void 0:Vt.name)||""),createdAt:Number((Vt==null?void 0:Vt.createdAt)||0)}});Lt.sort((zt,Vt)=>Vt.createdAt-zt.createdAt),m(Lt)});return()=>{at(),ct(),Dt()}},[n==null?void 0:n.id]);const Le=P.useMemo(()=>{const R=new Set;for(const B of f)R.add(B.id);return R},[f]),xi=P.useMemo(()=>o.filter(R=>!R.isPurchased).sort((R,B)=>B.createdAt-R.createdAt),[o]),Kr=P.useMemo(()=>o.filter(R=>R.isPurchased).sort((R,B)=>(B.purchasedAt||0)-(R.purchasedAt||0)),[o]),$r=R=>{const B=R.trim();if(!B)return;const K=Wi(B);if(!K)return;const at=ot.current[K],ct={name:B,count:((at==null?void 0:at.count)||0)+1,lastUsed:Date.now()};ot.current={...ot.current,[K]:ct},jE(ot.current)},Di=P.useRef(new Set);P.useEffect(()=>{Di.current=new Set(zE())},[]);const tn=P.useMemo(()=>{const R=new Set(zE());return Di.current=R,LO({query:E,favorites:f.map(B=>B.name),items:o,history:ot.current,hiddenKeys:R,limit:8})},[E,f,o]),Bi=()=>{lt.current&&window.clearTimeout(lt.current),lt.current=window.setTimeout(()=>{H(!1),F(-1)},120)},$e=()=>{lt.current&&window.clearTimeout(lt.current),H(!0)},Sn=async R=>{if(R.isInList&&R.itemId){const B=(R.currentQty??1)+1;await fi(R.itemId,1);const K=R.key||Wi(R.name);K&&(Bm(K),Di.current.delete(K)),it(`  -   -${B}`),T(""),F(-1),H(!1),window.requestAnimationFrame(()=>{var at;return(at=b.current)==null?void 0:at.focus()});return}T(R.name),F(-1),H(!1),window.requestAnimationFrame(()=>{var B;return(B=b.current)==null?void 0:B.focus()})},cn=R=>{const B=R.key||Wi(R.name);if(!B)return;const K={...ot.current};K[B]&&(delete K[B],ot.current=K,jE(K));const at=new Set(Di.current);at.add(B),Di.current=at,kO(B),H(!1),F(-1),window.requestAnimationFrame(()=>{var ct;return(ct=b.current)==null?void 0:ct.focus()})},Wo=async R=>{if(R&&R.preventDefault(),!r){await tu();return}if(!(n!=null&&n.id))return;const B=E.trim();if(!B)return;const K=Wi(B),at=o.find(St=>Wi(St.name)===K);if(at){await fi(at.id,1),K&&(Bm(K),Di.current.delete(K)),$r(at.name),T(""),H(!1),F(-1);return}const ct=crypto.randomUUID(),Dt={id:ct,name:B,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await $l(Qn(an,"lists",n.id,"items",ct),Dt),K&&(Bm(K),Di.current.delete(K)),$r(B),T(""),H(!1),F(-1)},lr=async R=>{if(!(n!=null&&n.id))return;const B=o.find(at=>at.id===R);if(!B)return;const K=!B.isPurchased;await Xl(Qn(an,"lists",n.id,"items",R),{isPurchased:K,purchasedAt:K?Date.now():null})},fi=async(R,B)=>{if(!(n!=null&&n.id))return;if(B>0){await Xl(Qn(an,"lists",n.id,"items",R),{quantity:yO(B)});return}const K=o.find(at=>at.id===R);K&&await Xl(Qn(an,"lists",n.id,"items",R),{quantity:Math.max(1,K.quantity+B)})},di=async R=>{n!=null&&n.id&&await km(Qn(an,"lists",n.id,"items",R))},Kn=async R=>{if(!(n!=null&&n.id))return;const B=Qn(an,"lists",n.id,"favorites",R);if(Le.has(R))await km(B);else{const K=o.find(at=>at.id===R);await $l(B,{name:(K==null?void 0:K.name)||"",createdAt:Date.now()})}},qi=async R=>{n!=null&&n.id&&await km(Qn(an,"lists",n.id,"favorites",R))},Pn=async()=>{const R=or.current||(n==null?void 0:n.id);if(!R)return;const B=Kl(an,"lists",R,"items"),K=await UE(B);if(K.empty){bt(!1);return}const at=K.docs;let ct=0;for(;ct<at.length;){const Dt=_O(an),St=at.slice(ct,ct+450);for(const Lt of St)Dt.delete(Lt.ref);await Dt.commit(),ct+=St.length}bt(!1)},Ln=async()=>{if(!r)return await tu(),null;if(!(n!=null&&n.id))return null;const R=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),B=Date.now()+2880*60*1e3;return await Xl(Qn(an,"lists",n.id),{[`pendingInvites.${R}`]:{createdAt:Date.now(),expiresAt:B}}),wO(n.id,R)},Hi=async()=>{const R=await Ln();if(R){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:R});return}}catch{}await bO(R),Tt(!0),setTimeout(()=>Tt(!1),2e3)}},Xr=(R,B)=>{const[K,at]=R.split("T"),[ct,Dt,St]=K.split("-").map(bn=>parseInt(bn,10)),[Lt,zt]=at.split(":").map(bn=>parseInt(bn,10)),Vt=new Date(ct,Dt-1,St,Lt,zt,0,0),It=new Date(Vt.getTime()+Math.max(15,B)*6e4),Se=bn=>String(bn).padStart(2,"0"),yi=bn=>`${bn.getFullYear()}${Se(bn.getMonth()+1)}${Se(bn.getDate())}T${Se(bn.getHours())}${Se(bn.getMinutes())}00`,wn=`${yi(Vt)}/${yi(It)}`,fn=encodeURIComponent("  "),de=encodeURIComponent("   -     "),fe=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${fn}&dates=${encodeURIComponent(wn)}&details=${de}&ctz=${fe}`},ur=R=>{const B=navigator.userAgent||"",K=/Android/i.test(B),[at,ct]=I.split("T"),[Dt,St,Lt]=at.split("-").map(de=>parseInt(de,10)),[zt,Vt]=ct.split(":").map(de=>parseInt(de,10)),It=new Date(Dt,St-1,Lt,zt,Vt,0,0),Se=new Date(It.getTime()+Math.max(15,k)*6e4),yi="  ",wn="   -     ",fn=Xr(I,k);if(K){const de=R==="google"?"com.google.android.calendar":R==="samsung"?"com.samsung.android.calendar":null;let fe=`intent://com.android.calendar/events#Intent;scheme=content;action=android.intent.action.INSERT;type=vnd.android.cursor.item/event;S.title=${encodeURIComponent(yi)};S.description=${encodeURIComponent(wn)};l.beginTime=${It.getTime()};l.endTime=${Se.getTime()}`;de&&(fe+=`;package=${de}`),fe+=";end",window.location.href=fe;return}window.open(fn,"_blank","noopener,noreferrer")},Ni=()=>{const R=(n==null?void 0:n.title)||" ",B=o.filter(It=>!It.isPurchased),K="",at="",ct="",Dt="",St=B.length>0?B.map(It=>(It.quantity||1)<=1?`${K}${It.name}${at}`:`${K}${It.name} X ${ct}${It.quantity}${Dt}${at}`).join(`
`):`${K}(  )${at}`,Vt=`${`*${R}:*`}

${St}

   `;AO(Vt)},Un=P.useRef(null),Te=P.useRef(null),mi=P.useRef(null),[hn,$n]=P.useState({id:null,dx:0,rawDx:0}),ea=60,cr=110,Oi=async R=>{if(!(n!=null&&n.id))return;const B=Wi(R.name),K=o.find(at=>!at.isPurchased&&Wi(at.name)===B);if(K)await fi(K.id,1);else{const at=crypto.randomUUID(),ct={id:at,name:R.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await $l(Qn(an,"lists",n.id,"items",at),ct)}},za=R=>B=>{Ws(B.target)||(Un.current={x:B.clientX,y:B.clientY,id:R,pointerId:B.pointerId},Te.current={x:B.clientX,y:B.clientY},$n({id:R,dx:0,rawDx:0}))},pi=R=>B=>{const K=Un.current;if(!K||K.id!==R)return;Te.current={x:B.clientX,y:B.clientY};const at=B.clientX-K.x,ct=B.clientY-K.y;if(!mi.current&&Math.abs(at)>10&&Math.abs(ct)<=Math.abs(at)*1.2)try{B.currentTarget.setPointerCapture(B.pointerId),mi.current={el:B.currentTarget,pointerId:B.pointerId}}catch{}if(Math.abs(ct)>Math.abs(at)*1.6)return;const Dt=Math.max(-cr,Math.min(cr,at));$n({id:R,dx:Dt,rawDx:at})},_e=R=>async B=>{const K=Un.current,at=Te.current;Un.current=null;try{mi.current&&K&&mi.current.el.releasePointerCapture(K.pointerId)}catch{}if(mi.current=null,Te.current=null,$n({id:null,dx:0,rawDx:0}),!K||K.id!==R)return;const ct=(at==null?void 0:at.x)??B.clientX,Dt=(at==null?void 0:at.y)??B.clientY,St=ct-K.x,Lt=Dt-K.y;if(Math.abs(St)<ea||Math.abs(Lt)>Math.abs(St)*1.6)return;const zt=f.find(Vt=>Vt.id===R);St>0?zt&&await Oi(zt):(await qi(R),it(" "))},Xe=()=>{Un.current=null,Te.current=null,mi.current=null,$n({id:null,dx:0,rawDx:0})},Dn=R=>{const B=Nr(R),K=o.find(ct=>Nr(ct.name)===B);return K||o.find(ct=>Nr(ct.name).includes(B)||B.includes(Nr(ct.name)))||null},Fi=async(R,B)=>{const K=or.current||(n==null?void 0:n.id);if(!K)return;const at=Re.current||o,ct=R.trim();if(!ct)return;const Dt=at.find(zt=>!zt.isPurchased&&Nr(zt.name)===Nr(ct));if(Dt){await Xl(Qn(an,"lists",K,"items",Dt.id),{quantity:B});return}const St=crypto.randomUUID(),Lt={id:St,name:ct,quantity:B,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await $l(Qn(an,"lists",K,"items",St),Lt)},gi=R=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(R)||/^(||)$/.test(R)||R.includes("")&&R.includes("")&&(R.includes("")||R.includes(""))||R.includes("")&&(R.includes("")||R.includes("")),ja=async R=>{if(!(or.current||(n==null?void 0:n.id)))return;const K=Nr(R);if(!K)return;if(gi(K)){await Pn(),it(" ");return}if(/^(|||)\s+/.test(K)){const Vt=K.replace(/^(|||)\s+/,"").trim(),It=Dn(Vt);if(!It){it("   ");return}await di(It.id),it(`: ${It.name}`);return}const at=K.match(/^(||)\s+(.+)\s+(||)$/);if(at){const Vt=at[2].trim(),It=Dn(Vt);if(!It){it("   ");return}It.isPurchased||await lr(It.id),it(` : ${It.name}`);return}const ct=K.match(/^(||)\s+(.+)$/);if(ct){const Vt=ct[2].trim(),It=Dn(Vt);return It?(await fi(It.id,1),it(`: ${It.name}`)):it("   ")}const Dt=K.match(/^(||)\s+(.+)$/);if(Dt){const Vt=Dt[2].trim(),It=Dn(Vt);return It?(await fi(It.id,-1),it(`: ${It.name}`)):it("   ")}const St=K.match(/^(|||)(?:\s+)?\s+(.+)$/),Lt=St?St[2]:K,zt=OO(Lt);if(zt.length!==0){for(const Vt of zt)await Fi(Vt.name,Vt.qty);if(zt.length===1){const Vt=zt[0];it(Vt.qty>1?`: ${Vt.name} x${Vt.qty}`:`: ${Vt.name}`)}else it(` ${zt.length} `)}},na=()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;return R||null},Xn=()=>{const R=na();if(!R){alert("    .  Chrome  Edge.");return}if(!r){it("    "),tu();return}if(Ct.current=[],Pt.current="",Ee.current=!1,gt.current=!0,M(""),_t(!0),it("  -   "),dt.current){try{dt.current.stop()}catch{}dt.current=null}const B=new R;dt.current=B,B.lang="he-IL",B.interimResults=!0,B.maxAlternatives=1,B.continuous=!0;const K=3e3,at=9e4;let ct=!1,Dt=Date.now(),St=null,Lt=null;const zt=()=>{St!=null&&window.clearTimeout(St),Lt!=null&&window.clearTimeout(Lt),St=null,Lt=null},Vt=()=>{gt.current&&ct&&(St!=null&&window.clearTimeout(St),St=window.setTimeout(()=>{if(!gt.current)return;Date.now()-Dt>=K&&Nn()},K+50))};Lt=window.setTimeout(()=>{gt.current&&(it("     - ..."),Nn())},at),B.onstart=()=>{},B.onaudiostart=()=>{},B.onspeechstart=()=>{},B.onresult=It=>{try{let Se="";for(let wn=It.resultIndex;wn<It.results.length;wn++){const fn=It.results[wn],de=fn==null?void 0:fn[0],fe=qS(String((de==null?void 0:de.transcript)||""));fe&&(fn.isFinal?(Ct.current.push(fe),Pt.current=""):(Se=fe,Pt.current=fe))}const yi=Se||(Ct.current.length?Ct.current[Ct.current.length-1]:"");yi&&M(yi),ct=!0,Dt=Date.now(),Vt()}catch{}},B.onerror=It=>{const Se=String((It==null?void 0:It.error)||"");console.warn("Speech error:",Se,It),Se!=="no-speech"&&(zt(),clearVoiceTimers(),_t(!1),gt.current=!1,Se==="not-allowed"||Se==="service-not-allowed"?alert("  .     ."):it(Se==="audio-capture"?"   (    )":` : ${Se||"unknown"}`))},B.onend=()=>{if(!gt.current){zt();return}Vt(),!Ee.current&&(Ee.current=!0,setTimeout(()=>{if(!gt.current){Ee.current=!1,zt();return}try{B.start()}catch{}finally{Ee.current=!1}},180))};try{B.start(),Vt()}catch(It){console.error(It),zt(),clearVoiceTimers(),_t(!1),gt.current=!1,it("   ")}},Nn=async()=>{var at,ct;if(!gt.current)return;gt.current=!1,_t(!1);try{(ct=(at=dt.current)==null?void 0:at.stop)==null||ct.call(at)}catch{}const R=Ct.current.join(" ").trim(),B=(Pt.current||"").trim(),K=`${R} ${B}`.replace(/\s+/g," ").trim();if(Ct.current=[],Pt.current="",!K){it("   -  ");return}it("...");try{await ja(K)}catch(Dt){console.error(Dt),it(`: ${String((Dt==null?void 0:Dt.message)||Dt||"")}`)}};return P.useEffect(()=>()=>{var R,B;try{gt.current=!1,(B=(R=dt.current)==null?void 0:R.stop)==null||B.call(R)}catch{}},[]),r?x?z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:z.jsx(Rh,{className:"animate-spin text-indigo-600"})}):Qe||!(n!=null&&n.id)?z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:z.jsx(Rh,{className:"animate-spin text-indigo-600"})}):z.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[z.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[z.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[z.jsx("button",{onClick:()=>bt(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:z.jsx(ah,{className:"w-5 h-5"})}),z.jsx("button",{onClick:Hi,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:rt?z.jsx(fR,{className:"w-5 h-5 text-emerald-500"}):z.jsx(hT,{className:"w-5 h-5"})})]}),z.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),z.jsx("button",{onClick:()=>FI(kr),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:z.jsx(pR,{className:"w-4 h-4"})})]}),z.jsx("div",{className:"px-5 pt-3",children:z.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[z.jsx("div",{className:"text-[11px] font-black text-slate-400",children:ut?"  -    ":" :    ,  "}),Zt?z.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",Zt]}):null,z.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),z.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?z.jsxs(z.Fragment,{children:[z.jsxs("form",{onSubmit:Wo,className:"relative",children:[z.jsx("input",{ref:b,value:E,onFocus:$e,onBlur:Bi,onKeyDown:R=>{if(V){if(R.key==="Escape"){R.preventDefault(),H(!1),F(-1);return}if(R.key==="ArrowDown"){if(R.preventDefault(),tn.length===0)return;F(B=>{const K=B+1;return K>=tn.length?0:K});return}if(R.key==="ArrowUp"){if(R.preventDefault(),tn.length===0)return;F(B=>{const K=B-1;return K<0?tn.length-1:K});return}if(R.key==="Tab"){if(tn.length===0)return;R.preventDefault(),Sn(tn[Math.max(0,X>=0?X:0)]);return}if(R.key==="Enter"&&tn.length>0){R.preventDefault();const B=X>=0?X:0;Sn(tn[B]);return}}},onChange:R=>{T(R.target.value),$e(),F(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),z.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:z.jsx(Qm,{className:"w-6 h-6"})}),V&&E.trim()&&tn.length>0?z.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:R=>{R.preventDefault()},onPointerDown:R=>{R.preventDefault()},children:tn.map((R,B)=>z.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(B===X?"bg-slate-100":""),children:[z.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:K=>{K.preventDefault(),Sn(R)},title:"",children:[z.jsx("span",{className:"font-semibold text-slate-700",children:R.name}),R.isInList?z.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof R.currentQty=="number"?` (${R.currentQty})`:""]}):z.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),R.canHide?z.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:K=>{K.preventDefault(),K.stopPropagation(),cn(R)},title:" ","aria-label":" ",children:""}):null]},R.key+"-"+B))}):null]}),o.length===0?z.jsxs("div",{className:"text-center py-20 opacity-20",children:[z.jsx(ER,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),z.jsx("p",{className:"text-lg font-bold",children:" "})]}):z.jsx("div",{className:"space-y-4",children:z.jsxs("div",{className:"space-y-3",children:[xi.map(R=>z.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:Ua(R.id),onPointerMove:Qr(R.id),onPointerUp:ar(R.id),onPointerCancel:Ke,onTouchStart:Yr(R.id),onTouchMove:Zo(R.id),onTouchEnd:ta(R.id),style:{touchAction:"pan-y"},children:[z.jsx("div",{className:`absolute inset-0 ${Ye.id===R.id?Ye.dx>0?"bg-emerald-50":Ye.dx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:Ye.id===R.id?Math.min(1,Math.abs(Ye.dx)/hi):0}}),z.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:Ye.id===R.id?`translateX(${Ye.dx}px)`:void 0,transition:Ye.id===R.id?"none":"transform 120ms ease-out"},children:[z.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{Tn.current||lr(R.id)},children:R.name}),z.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[z.jsx("button",{onClick:()=>fi(R.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:z.jsx(vR,{className:"w-3 h-3"})}),z.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:R.quantity}),z.jsx("button",{onClick:()=>fi(R.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:z.jsx(Qm,{className:"w-3 h-3"})})]})]}),Ye.id===R.id&&Ye.dx>12?z.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center text-emerald-600 pointer-events-none",children:z.jsx(sh,{className:"w-5 h-5 fill-emerald-600"})}):null,Ye.id===R.id&&Ye.dx<-12?z.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center text-rose-600 pointer-events-none",children:z.jsx(ah,{className:"w-5 h-5"})}):null]},R.id)),Kr.length>0?z.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[z.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",Kr.length,")"]}),Kr.map(R=>z.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:z.jsxs("div",{className:"flex items-center justify-between w-full",children:[z.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>lr(R.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[z.jsx(mR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),z.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:z.jsxs("span",{className:"flex gap-1",children:[z.jsx("span",{children:R.name}),(R.quantity||1)>1&&z.jsxs(z.Fragment,{children:[z.jsx("span",{children:"x"}),z.jsx("span",{children:R.quantity})]})]})})]}),z.jsx("button",{onClick:()=>di(R.id),className:"p-2 text-slate-300",title:"",children:z.jsx(ah,{className:"w-4 h-4"})})]})},R.id))]}):null]})})]}):z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{className:"text-right",children:[z.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),z.jsx("p",{className:"text-sm text-slate-400 font-bold",children:z.jsx("span",{className:"font-semibold",children:"  "})})]}),f.length===0?z.jsxs("div",{className:"text-center py-20 opacity-20",children:[z.jsx(sh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),z.jsx("p",{className:"font-bold",children:"  "})]}):z.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(R=>z.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:za(R.id),onPointerMove:pi(R.id),onPointerUp:_e(R.id),onPointerCancel:Xe,style:{touchAction:"pan-y"},children:[z.jsx("div",{className:`absolute inset-0 ${hn.id===R.id?hn.rawDx>0?"bg-emerald-50":hn.rawDx<0?"bg-rose-50":"bg-transparent":"bg-transparent"}`,style:{opacity:hn.id===R.id?Math.min(1,Math.abs(hn.rawDx)/cr):0}}),z.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 pointer-events-none",children:[z.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:z.jsx(SO,{className:"w-6 h-6"})}),z.jsx("div",{className:"flex items-center gap-2 text-rose-600",children:z.jsx(ah,{className:"w-5 h-5"})})]}),z.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:hn.id===R.id?`translateX(${hn.dx}px)`:void 0,transition:hn.id===R.id?"none":"transform 160ms ease-out"},children:[z.jsx("div",{className:"flex items-center gap-2"}),z.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:R.name}),z.jsx(sh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},R.id))})]})}),z.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:z.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:z.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:z.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[z.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[z.jsx(sh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),z.jsxs("button",{onClick:Ni,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[z.jsx(gR,{className:"w-7 h-7"}),""]}),z.jsxs("button",{onClick:()=>A(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[z.jsx(o0,{className:"w-7 h-7"}),""]}),z.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[z.jsx(uT,{className:"w-7 h-7"}),""]}),z.jsx("button",{onPointerDown:R=>{R.preventDefault(),Xn()},onPointerUp:R=>{R.preventDefault(),Nn()},onPointerCancel:R=>{R.preventDefault(),Nn()},onPointerLeave:R=>{gt.current&&(R.preventDefault(),Nn())},onTouchStart:R=>{R.preventDefault(),Xn()},onTouchEnd:R=>{R.preventDefault(),Nn()},onMouseDown:R=>{R.preventDefault(),Xn()},onMouseUp:R=>{R.preventDefault(),Nn()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${ut?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:ut?"  -   ":"   ",children:ut?z.jsx(yR,{className:"w-7 h-7"}):z.jsx(_R,{className:"w-7 h-7"})})]})})})}),D?z.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:z.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:z.jsxs("div",{className:"p-6 space-y-4",children:[z.jsxs("div",{className:"flex items-start justify-between gap-3",children:[z.jsxs("div",{className:"text-right",children:[z.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),z.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),z.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:z.jsx(o0,{className:"w-5 h-5"})})]}),z.jsxs("div",{className:"space-y-3",children:[z.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),z.jsx("input",{type:"datetime-local",value:I,onChange:R=>O(R.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),z.jsxs("div",{className:"space-y-3",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),z.jsxs("span",{className:"text-sm font-black text-slate-500",children:[k," "]})]}),z.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(R=>z.jsx("button",{onClick:()=>U(R),className:`py-2 rounded-2xl font-black text-sm ${k===R?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:R},R))})]}),z.jsxs("div",{className:"space-y-3 pt-2",children:[z.jsxs("div",{className:"flex gap-3",children:[z.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),z.jsx("button",{onClick:()=>{A(!1),ur("default")},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:"   "})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[z.jsx("button",{onClick:()=>{A(!1),ur("samsung")},className:"py-3 rounded-2xl font-black bg-slate-900 text-white",title:"Samsung Calendar ( )",children:"Samsung Calendar"}),z.jsx("button",{onClick:()=>{A(!1),ur("google")},className:"py-3 rounded-2xl font-black bg-slate-100 text-slate-800 border border-slate-200",title:"Google Calendar ( )",children:"Google Calendar"})]}),z.jsx("div",{className:"text-xs font-bold text-slate-400 text-right",children:"     - Android      ."})]})]})})}):null,Mt?z.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:z.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:z.jsx(dR,{className:"w-5 h-5"})}),z.jsxs("div",{className:"text-right",children:[z.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),z.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),z.jsxs("div",{className:"flex gap-3",children:[z.jsx("button",{onClick:()=>bt(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),z.jsx("button",{onClick:Pn,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,W?z.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:W}):null]}):z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:z.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[z.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),z.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),z.jsxs("button",{onClick:async()=>{await tu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[z.jsx(cT,{className:"w-4 h-4"}),"  "]})]})})},zO=()=>z.jsx(ZA,{children:z.jsxs(IA,{children:[z.jsx(Hm,{path:"/",element:z.jsx(UO,{})}),z.jsx(Hm,{path:"/invite",element:z.jsx(RO,{})})]})}),GS=document.getElementById("root");if(!GS)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const t=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",r=>{const t=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());Db.createRoot(GS).render(z.jsx(wb.StrictMode,{children:z.jsx(zO,{})}));
