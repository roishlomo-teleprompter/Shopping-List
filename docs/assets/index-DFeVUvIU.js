(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function RS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function IS(){if(Z_)return Jl;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=e,Jl.jsx=n,Jl.jsxs=n,Jl}var e0;function CS(){return e0||(e0=1,vm.exports=IS()),vm.exports}var V=CS(),_m={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function xS(){if(t0)return ze;t0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function k(T){return T===null||typeof T!="object"?null:(T=A&&T[A]||T["@@iterator"],typeof T=="function"?T:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,U={};function ue(T,B,X){this.props=T,this.context=B,this.refs=U,this.updater=X||G}ue.prototype.isReactComponent={},ue.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},ue.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ce(){}ce.prototype=ue.prototype;function re(T,B,X){this.props=T,this.context=B,this.refs=U,this.updater=X||G}var Se=re.prototype=new ce;Se.constructor=re,Z(Se,ue.prototype),Se.isPureReactComponent=!0;var Pe=Array.isArray;function Ne(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(T,B,X){var le=X.ref;return{$$typeof:r,type:T,key:B,ref:le!==void 0?le:null,props:X}}function O(T,B){return C(T.type,B,T.props)}function P(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function j(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return B[X]})}var x=/\/+/g;function St(T,B){return typeof T=="object"&&T!==null&&T.key!=null?j(""+T.key):B.toString(36)}function kt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ne,Ne):(T.status="pending",T.then(function(B){T.status==="pending"&&(T.status="fulfilled",T.value=B)},function(B){T.status==="pending"&&(T.status="rejected",T.reason=B)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ee(T,B,X,le,he){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(ge){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case r:case e:fe=!0;break;case E:return fe=T._init,ee(fe(T._payload),B,X,le,he)}}if(fe)return he=he(T),fe=le===""?"."+St(T,0):le,Pe(he)?(X="",fe!=null&&(X=fe.replace(x,"$&/")+"/"),ee(he,B,X,"",function(we){return we})):he!=null&&(P(he)&&(he=O(he,X+(he.key==null||T&&T.key===he.key?"":(""+he.key).replace(x,"$&/")+"/")+fe)),B.push(he)),1;fe=0;var be=le===""?".":le+":";if(Pe(T))for(var Ce=0;Ce<T.length;Ce++)le=T[Ce],ge=be+St(le,Ce),fe+=ee(le,B,X,ge,he);else if(Ce=k(T),typeof Ce=="function")for(T=Ce.call(T),Ce=0;!(le=T.next()).done;)le=le.value,ge=be+St(le,Ce++),fe+=ee(le,B,X,ge,he);else if(ge==="object"){if(typeof T.then=="function")return ee(kt(T),B,X,le,he);throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return fe}function me(T,B,X){if(T==null)return T;var le=[],he=0;return ee(T,le,"","",function(ge){return B.call(X,ge,he++)}),le}function Te(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var We=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},H={map:me,forEach:function(T,B,X){me(T,function(){B.apply(this,arguments)},X)},count:function(T){var B=0;return me(T,function(){B++}),B},toArray:function(T){return me(T,function(B){return B})||[]},only:function(T){if(!P(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ze.Activity=w,ze.Children=H,ze.Component=ue,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=re,ze.StrictMode=s,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ze.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},ze.cache=function(T){return function(){return T.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(T,B,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var le=Z({},T.props),he=T.key;if(B!=null)for(ge in B.key!==void 0&&(he=""+B.key),B)!I.call(B,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&B.ref===void 0||(le[ge]=B[ge]);var ge=arguments.length-2;if(ge===1)le.children=X;else if(1<ge){for(var fe=Array(ge),be=0;be<ge;be++)fe[be]=arguments[be+2];le.children=fe}return C(T.type,he,le)},ze.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ze.createElement=function(T,B,X){var le,he={},ge=null;if(B!=null)for(le in B.key!==void 0&&(ge=""+B.key),B)I.call(B,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(he[le]=B[le]);var fe=arguments.length-2;if(fe===1)he.children=X;else if(1<fe){for(var be=Array(fe),Ce=0;Ce<fe;Ce++)be[Ce]=arguments[Ce+2];he.children=be}if(T&&T.defaultProps)for(le in fe=T.defaultProps,fe)he[le]===void 0&&(he[le]=fe[le]);return C(T,ge,he)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(T){return{$$typeof:m,render:T}},ze.isValidElement=P,ze.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:Te}},ze.memo=function(T,B){return{$$typeof:g,type:T,compare:B===void 0?null:B}},ze.startTransition=function(T){var B=D.T,X={};D.T=X;try{var le=T(),he=D.S;he!==null&&he(X,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ne,We)}catch(ge){We(ge)}finally{B!==null&&X.types!==null&&(B.types=X.types),D.T=B}},ze.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ze.use=function(T){return D.H.use(T)},ze.useActionState=function(T,B,X){return D.H.useActionState(T,B,X)},ze.useCallback=function(T,B){return D.H.useCallback(T,B)},ze.useContext=function(T){return D.H.useContext(T)},ze.useDebugValue=function(){},ze.useDeferredValue=function(T,B){return D.H.useDeferredValue(T,B)},ze.useEffect=function(T,B){return D.H.useEffect(T,B)},ze.useEffectEvent=function(T){return D.H.useEffectEvent(T)},ze.useId=function(){return D.H.useId()},ze.useImperativeHandle=function(T,B,X){return D.H.useImperativeHandle(T,B,X)},ze.useInsertionEffect=function(T,B){return D.H.useInsertionEffect(T,B)},ze.useLayoutEffect=function(T,B){return D.H.useLayoutEffect(T,B)},ze.useMemo=function(T,B){return D.H.useMemo(T,B)},ze.useOptimistic=function(T,B){return D.H.useOptimistic(T,B)},ze.useReducer=function(T,B,X){return D.H.useReducer(T,B,X)},ze.useRef=function(T){return D.H.useRef(T)},ze.useState=function(T){return D.H.useState(T)},ze.useSyncExternalStore=function(T,B,X){return D.H.useSyncExternalStore(T,B,X)},ze.useTransition=function(){return D.H.useTransition()},ze.version="19.2.3",ze}var n0;function Ap(){return n0||(n0=1,_m.exports=xS()),_m.exports}var L=Ap();const NS=RS(L);var Em={exports:{}},Wl={},Tm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function DS(){return i0||(i0=1,(function(r){function e(ee,me){var Te=ee.length;ee.push(me);e:for(;0<Te;){var We=Te-1>>>1,H=ee[We];if(0<o(H,me))ee[We]=me,ee[Te]=H,Te=We;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var me=ee[0],Te=ee.pop();if(Te!==me){ee[0]=Te;e:for(var We=0,H=ee.length,T=H>>>1;We<T;){var B=2*(We+1)-1,X=ee[B],le=B+1,he=ee[le];if(0>o(X,Te))le<H&&0>o(he,X)?(ee[We]=he,ee[le]=Te,We=le):(ee[We]=X,ee[B]=Te,We=B);else if(le<H&&0>o(he,Te))ee[We]=he,ee[le]=Te,We=le;else break e}}return me}function o(ee,me){var Te=ee.sortIndex-me.sortIndex;return Te!==0?Te:ee.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,k=!1,G=!1,Z=!1,U=!1,ue=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Se(ee){for(var me=n(g);me!==null;){if(me.callback===null)s(g);else if(me.startTime<=ee)s(g),me.sortIndex=me.expirationTime,e(p,me);else break;me=n(g)}}function Pe(ee){if(Z=!1,Se(ee),!G)if(n(p)!==null)G=!0,Ne||(Ne=!0,j());else{var me=n(g);me!==null&&kt(Pe,me.startTime-ee)}}var Ne=!1,D=-1,I=5,C=-1;function O(){return U?!0:!(r.unstable_now()-C<I)}function P(){if(U=!1,Ne){var ee=r.unstable_now();C=ee;var me=!0;try{e:{G=!1,Z&&(Z=!1,ce(D),D=-1),k=!0;var Te=A;try{t:{for(Se(ee),w=n(p);w!==null&&!(w.expirationTime>ee&&O());){var We=w.callback;if(typeof We=="function"){w.callback=null,A=w.priorityLevel;var H=We(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof H=="function"){w.callback=H,Se(ee),me=!0;break t}w===n(p)&&s(p),Se(ee)}else s(p);w=n(p)}if(w!==null)me=!0;else{var T=n(g);T!==null&&kt(Pe,T.startTime-ee),me=!1}}break e}finally{w=null,A=Te,k=!1}me=void 0}}finally{me?j():Ne=!1}}}var j;if(typeof re=="function")j=function(){re(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,St=x.port2;x.port1.onmessage=P,j=function(){St.postMessage(null)}}else j=function(){ue(P,0)};function kt(ee,me){D=ue(function(){ee(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(ee){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var Te=A;A=me;try{return ee()}finally{A=Te}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Te=A;A=ee;try{return me()}finally{A=Te}},r.unstable_scheduleCallback=function(ee,me,Te){var We=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?We+Te:We):Te=We,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Te+H,ee={id:E++,callback:me,priorityLevel:ee,startTime:Te,expirationTime:H,sortIndex:-1},Te>We?(ee.sortIndex=Te,e(g,ee),n(p)===null&&ee===n(g)&&(Z?(ce(D),D=-1):Z=!0,kt(Pe,Te-We))):(ee.sortIndex=H,e(p,ee),G||k||(G=!0,Ne||(Ne=!0,j()))),ee},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(ee){var me=A;return function(){var Te=A;A=me;try{return ee.apply(this,arguments)}finally{A=Te}}}})(wm)),wm}var r0;function MS(){return r0||(r0=1,Tm.exports=DS()),Tm.exports}var bm={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function OS(){if(s0)return kn;s0=1;var r=Ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},kn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},kn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},kn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},kn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},kn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},kn.requestFormReset=function(p){s.d.r(p)},kn.unstable_batchedUpdates=function(p,g){return p(g)},kn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},kn.useFormStatus=function(){return f.H.useHostTransitionStatus()},kn.version="19.2.3",kn}var a0;function VS(){if(a0)return bm.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=OS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function kS(){if(o0)return Wl;o0=1;var r=MS(),e=Ap(),n=VS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function St(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ue:return"Profiler";case U:return"StrictMode";case Pe:return"Suspense";case Ne:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:St(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return St(t(i))}catch{}}return null}var kt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},We=[],H=-1;function T(t){return{current:t}}function B(t){0>H||(t.current=We[H],We[H]=null,H--)}function X(t,i){H++,We[H]=t.current,t.current=i}var le=T(null),he=T(null),ge=T(null),fe=T(null);function be(t,i){switch(X(ge,i),X(he,t),X(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?w_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=w_(i),t=b_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(le),X(le,t)}function Ce(){B(le),B(he),B(ge)}function we(t){t.memoizedState!==null&&X(fe,t);var i=le.current,a=b_(i,t.type);i!==a&&(X(he,t),X(le,a))}function Be(t){he.current===t&&(B(le),B(he)),fe.current===t&&(B(fe),Yl._currentValue=Te)}var je,at;function Me(t){if(je===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);je=i&&i[1]||"",at=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+t+at}var gt=!1;function yt(t,i){if(!t||gt)return"";gt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var K=J}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(J){K=J}t.call(ae.prototype)}}else{try{throw Error()}catch(J){K=J}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var N=v.split(`
`),Y=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===Y.length)for(l=N.length-1,h=Y.length-1;1<=l&&0<=h&&N[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==Y[h]){var te=`
`+N[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{gt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Me(a):""}function At(t,i){switch(t.tag){case 26:case 27:case 5:return Me(t.type);case 16:return Me("Lazy");case 13:return t.child!==i&&i!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return yt(t.type,!1);case 11:return yt(t.type.render,!1);case 1:return yt(t.type,!0);case 31:return Me("Activity");default:return""}}function Qt(t){try{var i="",a=null;do i+=At(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Dt=Object.prototype.hasOwnProperty,Fe=r.unstable_scheduleCallback,an=r.unstable_cancelCallback,Kn=r.unstable_shouldYield,Dn=r.unstable_requestPaint,wt=r.unstable_now,tr=r.unstable_getCurrentPriorityLevel,Mt=r.unstable_ImmediatePriority,jt=r.unstable_UserBlockingPriority,ii=r.unstable_NormalPriority,wr=r.unstable_LowPriority,nr=r.unstable_IdlePriority,br=r.log,qi=r.unstable_setDisableYieldValue,jn=null,on=null;function En(t){if(typeof br=="function"&&qi(t),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(jn,t)}catch{}}var ln=Math.clz32?Math.clz32:as,Ya=Math.log,ua=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(Ya(t)/ua|0)|0}var ir=256,dn=262144,un=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ri(l):(v&=b,v!==0?h=ri(v):a||(a=b&~t,a!==0&&(h=ri(a))))):(b=l&~d,b!==0?h=ri(b):v!==0?h=ri(v):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function bi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function os(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ca(){var t=un;return un<<=1,(un&62914560)===0&&(un=4194304),t}function si(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function qn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bt(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,Y=t.hiddenUpdates;for(a=v&~a;0<a;){var te=31-ln(a),ae=1<<te;b[te]=0,N[te]=-1;var K=Y[te];if(K!==null)for(Y[te]=null,te=0;te<K.length;te++){var J=K[te];J!==null&&(J.lane&=-536870913)}a&=~ae}l!==0&&ls(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ls(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ln(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function rr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ln(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Hi(t,i){var a=i&-i;return a=(a&42)!==0?1:ha(a),(a&(t.suspendedLanes|i))!==0?0:a}function ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fi(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function Ka(t,i){var a=me.p;try{return me.p=t,i()}finally{me.p=a}}var Si=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Si,Pt="__reactProps$"+Si,Mn="__reactContainer$"+Si,Hn="__reactEvents$"+Si,ot="__reactListeners$"+Si,Sr="__reactHandles$"+Si,sr="__reactResources$"+Si,On="__reactMarker$"+Si;function Ai(t){delete t[Ot],delete t[Pt],delete t[Hn],delete t[ot],delete t[Sr]}function Gi(t){var i=t[Ot];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Mn]||a[Ot]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[Ot])return a;t=N_(t)}return i}t=a,a=t.parentNode}return null}function Qi(t){if(t=t[Ot]||t[Mn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Ar(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ai(t){var i=t[sr];return i||(i=t[sr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(t){t[On]=!0}var Yi=new Set,ar={};function Tn(t,i){Ri(t,i),Ri(t+"Capture",i)}function Ri(t,i){for(ar[t]=i,t=0;t<i.length;t++)Yi.add(i[t])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rr={},oi={};function R(t){return Dt.call(oi,t)?!0:Dt.call(Rr,t)?!1:al.test(t)?oi[t]=!0:(Rr[t]=!0,!1)}function q(t,i,a){if(R(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function $(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function se(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function de(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ae(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Re(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function lt(t){if(!t._valueTracker){var i=Ae(t)?"checked":"value";t._valueTracker=Re(t,i,""+t[i])}}function ht(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ae(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ke(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ke=/[\n"\\]/g;function $e(t){return t.replace(ke,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wn(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+de(i)):t.value!==""+de(i)&&(t.value=""+de(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ci(t,v,de(i)):a!=null?Ci(t,v,de(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+de(b):t.removeAttribute("name")}function Ii(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){lt(t);return}a=a!=null?""+de(a):"",i=i!=null?""+de(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),lt(t)}function Ci(t,i,a){i==="number"&&Ke(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ge(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+de(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function li(t,i,a){if(i!=null&&(i=""+de(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+de(a):""}function Rt(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=de(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),lt(t)}function xi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Tf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ol(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ol(t,d,i[d])}function ll(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(t){return bf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mn(){}var $a=null;function Xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ir=null,ui=null;function qu(t){var i=Qi(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(wn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));wn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ht(l)}break e;case"textarea":li(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ge(t,!!a.multiple,i,!1)}}}var ul=!1;function Hu(t,i,a){if(ul)return t(i,a);ul=!0;try{var l=t(i);return l}finally{if(ul=!1,(Ir!==null||ui!==null)&&(zc(),Ir&&(i=Ir,t=ui,ui=Ir=null,qu(i),t)))for(i=0;i<t.length;i++)qu(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cl=!1;if(Ki)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){cl=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{cl=!1}var ci=null,Ja=null,ur=null;function cs(){if(ur)return ur;var t,i=Ja,a=i.length,l,h="value"in ci?ci.value:ci.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return ur=h.slice(t,1<l?1-l:void 0)}function fa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function It(){return!1}function Vn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:It,this.isPropagationStopped=It,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Vn(Cr),fs=w({},Cr,{view:0,detail:0}),Fu=Vn(fs),ds,Wa,Fn,ma=w({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(ds=t.screenX-Fn.screenX,Wa=t.screenY-Fn.screenY):Wa=ds=0,Fn=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:Wa}}),Gu=Vn(ma),pa=w({},ma,{dataTransfer:0}),Qu=Vn(pa),hl=w({},fs,{relatedTarget:0}),ms=Vn(hl),Yu=w({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Vn(Yu),Sf=w({},Cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=Vn(Sf),ga=w({},Cr,{data:0}),fl=Vn(ga),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ml[t])?!!i[t]:!1}function ps(){return Xu}var Ju=w({},fs,{key:function(t){if(t.key){var i=$u[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wu=Vn(Ju),xr=w({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Vn(xr),Zu=w({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),ec=Vn(Zu),tc=w({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),eo=Vn(tc),Gn=w({},ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nc=Vn(Gn),ic=w({},Cr,{newState:0,oldState:0}),gs=Vn(ic),c=[9,13,27,32],y=Ki&&"CompositionEvent"in window,_=null;Ki&&"documentMode"in document&&(_=document.documentMode);var S=Ki&&"TextEvent"in window&&!_,F=Ki&&(!y||_&&8<_&&11>=_),W=" ",pe=!1;function dt(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qe=!1;function pn(t,i){switch(t){case"compositionend":return Jt(i);case"keypress":return i.which!==32?null:(pe=!0,W);case"textInput":return t=i.data,t===W&&pe?null:t;default:return null}}function gn(t,i){if(Qe)return t==="compositionend"||!y&&dt(t,i)?(t=cs(),ur=Ja=ci=null,Qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return F&&i.locale!=="ko"?null:i.data;default:return null}}var ys={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ys[t.type]:i==="textarea"}function ya(t,i,a,l){Ir?ui?ui.push(l):ui=[l]:Ir=l,i=Qc(i,"onChange"),0<i.length&&(a=new da("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Nr=null,gl=null;function Zw(t){g_(t,0)}function rc(t){var i=Ar(t);if(ht(i))return t}function kg(t,i){if(t==="change")return i}var Pg=!1;if(Ki){var Af;if(Ki){var Rf="oninput"in document;if(!Rf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Rf=typeof Lg.oninput=="function"}Af=Rf}else Af=!1;Pg=Af&&(!document.documentMode||9<document.documentMode)}function Ug(){Nr&&(Nr.detachEvent("onpropertychange",zg),gl=Nr=null)}function zg(t){if(t.propertyName==="value"&&rc(gl)){var i=[];ya(i,gl,t,Xa(t)),Hu(Zw,i)}}function eb(t,i,a){t==="focusin"?(Ug(),Nr=i,gl=a,Nr.attachEvent("onpropertychange",zg)):t==="focusout"&&Ug()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(gl)}function nb(t,i){if(t==="click")return rc(i)}function ib(t,i){if(t==="input"||t==="change")return rc(i)}function rb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hi=typeof Object.is=="function"?Object.is:rb;function yl(t,i){if(hi(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Dt.call(i,h)||!hi(t[h],i[h]))return!1}return!0}function jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,i){var a=jg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jg(a)}}function qg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ke(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ke(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var sb=Ki&&"documentMode"in document&&11>=document.documentMode,to=null,Cf=null,vl=null,xf=!1;function Fg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||to==null||to!==Ke(l)||(l=to,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),vl&&yl(vl,l)||(vl=l,l=Qc(Cf,"onSelect"),0<l.length&&(i=new da("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=to)))}function va(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var no={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},Nf={},Gg={};Ki&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function _a(t){if(Nf[t])return Nf[t];if(!no[t])return t;var i=no[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gg)return Nf[t]=i[a];return t}var Qg=_a("animationend"),Yg=_a("animationiteration"),Kg=_a("animationstart"),ab=_a("transitionrun"),ob=_a("transitionstart"),lb=_a("transitioncancel"),$g=_a("transitionend"),Xg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function $i(t,i){Xg.set(t,i),Tn(i,[t])}var sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ni=[],io=0,Mf=0;function ac(){for(var t=io,i=Mf=io=0;i<t;){var a=Ni[i];Ni[i++]=null;var l=Ni[i];Ni[i++]=null;var h=Ni[i];Ni[i++]=null;var d=Ni[i];if(Ni[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Jg(a,h,d)}}function oc(t,i,a,l){Ni[io++]=t,Ni[io++]=i,Ni[io++]=a,Ni[io++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return oc(t,i,a,l),lc(t)}function Ea(t,i){return oc(t,null,null,i),lc(t)}function Jg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ln(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function lc(t){if(50<jl)throw jl=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ro={};function ub(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(t,i,a,l){return new ub(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dr(t,i){var a=t.alternate;return a===null?(a=fi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function uc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=mS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=fi(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return Ta(a.children,h,d,i);case U:v=8,h|=24;break;case ue:return t=fi(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case Pe:return t=fi(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case Ne:return t=fi(19,a,i,h),t.elementType=Ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ce:v=9;break e;case Se:v=11;break e;case D:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=fi(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ta(t,i,a,l){return t=fi(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=fi(6,t,null,i),t.lanes=a,t}function Zg(t){var i=fi(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=fi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ey=new WeakMap;function Di(t,i){if(typeof t=="object"&&t!==null){var a=ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Qt(i)},ey.set(t,i),i)}return{value:t,source:i,stack:Qt(i)}}var so=[],ao=0,cc=null,_l=0,Mi=[],Oi=0,vs=null,cr=1,hr="";function Mr(t,i){so[ao++]=_l,so[ao++]=cc,cc=t,_l=i}function ty(t,i,a){Mi[Oi++]=cr,Mi[Oi++]=hr,Mi[Oi++]=vs,vs=t;var l=cr;t=hr;var h=32-ln(l)-1;l&=~(1<<h),a+=1;var d=32-ln(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,cr=1<<32-ln(i)+h|a<<h|l,hr=d+t}else cr=1<<d|a<<h|l,hr=t}function Lf(t){t.return!==null&&(Mr(t,1),ty(t,1,0))}function Uf(t){for(;t===cc;)cc=so[--ao],so[ao]=null,_l=so[--ao],so[ao]=null;for(;t===vs;)vs=Mi[--Oi],Mi[Oi]=null,hr=Mi[--Oi],Mi[Oi]=null,cr=Mi[--Oi],Mi[Oi]=null}function ny(t,i){Mi[Oi++]=cr,Mi[Oi++]=hr,Mi[Oi++]=vs,cr=i.id,hr=i.overflow,vs=t}var bn=null,Ct=null,it=!1,_s=null,Vi=!1,zf=Error(s(519));function Es(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw El(Di(i,t)),zf}function iy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ot]=t,i[Pt]=l,a){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(a=0;a<ql.length;a++)Je(ql[a],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),Ii(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),Rt(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),l.onScroll!=null&&Je("scroll",i),l.onScrollEnd!=null&&Je("scrollend",i),l.onClick!=null&&(i.onclick=mn),i=!0):i=!1,i||Es(t,!0)}function ry(t){for(bn=t.return;bn;)switch(bn.tag){case 5:case 31:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:bn=bn.return}}function oo(t){if(t!==bn)return!1;if(!it)return ry(t),it=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&Ct&&Es(t),ry(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ct=x_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ct=x_(t)}else i===27?(i=Ct,Vs(t.type)?(t=lm,lm=null,Ct=t):Ct=i):Ct=bn?Pi(t.stateNode.nextSibling):null;return!0}function wa(){Ct=bn=null,it=!1}function jf(){var t=_s;return t!==null&&(ei===null?ei=t:ei.push.apply(ei,t),_s=null),t}function El(t){_s===null?_s=[t]:_s.push(t)}var Bf=T(null),ba=null,Or=null;function Ts(t,i,a){X(Bf,i._currentValue),i._currentValue=a}function Vr(t){t._currentValue=Bf.current,B(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function lo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;hi(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function hc(t){for(t=t.firstContext;t!==null;){if(!hi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sa(t){ba=t,Or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Sn(t){return sy(ba,t)}function fc(t,i){return ba===null&&Sa(t),sy(t,i)}function sy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Or===null){if(t===null)throw Error(s(308));Or=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Or=Or.next=i;return a}var cb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},hb=r.unstable_scheduleCallback,fb=r.unstable_NormalPriority,Wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new cb,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&hb(fb,function(){t.controller.abort()})}var wl=null,Gf=0,uo=0,co=null;function db(t,i){if(wl===null){var a=wl=[];Gf=0,uo=Kd(),co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(ay,ay),i}function ay(){if(--Gf===0&&wl!==null){co!==null&&(co.status="fulfilled");var t=wl;wl=null,uo=0,co=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function mb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var oy=ee.S;ee.S=function(t,i){Fv=wt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&db(t,i),oy!==null&&oy(t,i)};var Aa=T(null);function Qf(){var t=Aa.current;return t!==null?t:bt.pooledCache}function dc(t,i){i===null?X(Aa,Aa.current):X(Aa,i.pool)}function ly(){var t=Qf();return t===null?null:{parent:Wt._currentValue,pool:t}}var ho=Error(s(460)),Yf=Error(s(474)),mc=Error(s(542)),pc={then:function(){}};function uy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(mn,mn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t;default:if(typeof i.status=="string")i.then(mn,mn);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t}throw Ia=i,ho}}function Ra(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ia=a,ho):a}}var Ia=null;function hy(){if(Ia===null)throw Error(s(459));var t=Ia;return Ia=null,t}function fy(t){if(t===ho||t===mc)throw Error(s(483))}var fo=null,bl=0;function gc(t){var i=bl;return bl+=1,fo===null&&(fo=[]),cy(fo,t,i)}function Sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function yc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){function i(z,M){if(t){var Q=z.deletions;Q===null?(z.deletions=[M],z.flags|=16):Q.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Dr(z,M),z.index=0,z.sibling=null,z}function d(z,M,Q){return z.index=Q,t?(Q=z.alternate,Q!==null?(Q=Q.index,Q<M?(z.flags|=67108866,M):Q):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function b(z,M,Q,ne){return M===null||M.tag!==6?(M=kf(Q,z.mode,ne),M.return=z,M):(M=h(M,Q),M.return=z,M)}function N(z,M,Q,ne){var xe=Q.type;return xe===Z?te(z,M,Q.props.children,ne,Q.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===I&&Ra(xe)===M.type)?(M=h(M,Q.props),Sl(M,Q),M.return=z,M):(M=uc(Q.type,Q.key,Q.props,null,z.mode,ne),Sl(M,Q),M.return=z,M)}function Y(z,M,Q,ne){return M===null||M.tag!==4||M.stateNode.containerInfo!==Q.containerInfo||M.stateNode.implementation!==Q.implementation?(M=Pf(Q,z.mode,ne),M.return=z,M):(M=h(M,Q.children||[]),M.return=z,M)}function te(z,M,Q,ne,xe){return M===null||M.tag!==7?(M=Ta(Q,z.mode,ne,xe),M.return=z,M):(M=h(M,Q),M.return=z,M)}function ae(z,M,Q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kf(""+M,z.mode,Q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return Q=uc(M.type,M.key,M.props,null,z.mode,Q),Sl(Q,M),Q.return=z,Q;case G:return M=Pf(M,z.mode,Q),M.return=z,M;case I:return M=Ra(M),ae(z,M,Q)}if(kt(M)||j(M))return M=Ta(M,z.mode,Q,null),M.return=z,M;if(typeof M.then=="function")return ae(z,gc(M),Q);if(M.$$typeof===re)return ae(z,fc(z,M),Q);yc(z,M)}return null}function K(z,M,Q,ne){var xe=M!==null?M.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return xe!==null?null:b(z,M,""+Q,ne);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return Q.key===xe?N(z,M,Q,ne):null;case G:return Q.key===xe?Y(z,M,Q,ne):null;case I:return Q=Ra(Q),K(z,M,Q,ne)}if(kt(Q)||j(Q))return xe!==null?null:te(z,M,Q,ne,null);if(typeof Q.then=="function")return K(z,M,gc(Q),ne);if(Q.$$typeof===re)return K(z,M,fc(z,Q),ne);yc(z,Q)}return null}function J(z,M,Q,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(Q)||null,b(M,z,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return z=z.get(ne.key===null?Q:ne.key)||null,N(M,z,ne,xe);case G:return z=z.get(ne.key===null?Q:ne.key)||null,Y(M,z,ne,xe);case I:return ne=Ra(ne),J(z,M,Q,ne,xe)}if(kt(ne)||j(ne))return z=z.get(Q)||null,te(M,z,ne,xe,null);if(typeof ne.then=="function")return J(z,M,Q,gc(ne),xe);if(ne.$$typeof===re)return J(z,M,Q,fc(M,ne),xe);yc(M,ne)}return null}function _e(z,M,Q,ne){for(var xe=null,ut=null,Ee=M,He=M=0,et=null;Ee!==null&&He<Q.length;He++){Ee.index>He?(et=Ee,Ee=null):et=Ee.sibling;var ct=K(z,Ee,Q[He],ne);if(ct===null){Ee===null&&(Ee=et);break}t&&Ee&&ct.alternate===null&&i(z,Ee),M=d(ct,M,He),ut===null?xe=ct:ut.sibling=ct,ut=ct,Ee=et}if(He===Q.length)return a(z,Ee),it&&Mr(z,He),xe;if(Ee===null){for(;He<Q.length;He++)Ee=ae(z,Q[He],ne),Ee!==null&&(M=d(Ee,M,He),ut===null?xe=Ee:ut.sibling=Ee,ut=Ee);return it&&Mr(z,He),xe}for(Ee=l(Ee);He<Q.length;He++)et=J(Ee,z,He,Q[He],ne),et!==null&&(t&&et.alternate!==null&&Ee.delete(et.key===null?He:et.key),M=d(et,M,He),ut===null?xe=et:ut.sibling=et,ut=et);return t&&Ee.forEach(function(zs){return i(z,zs)}),it&&Mr(z,He),xe}function Oe(z,M,Q,ne){if(Q==null)throw Error(s(151));for(var xe=null,ut=null,Ee=M,He=M=0,et=null,ct=Q.next();Ee!==null&&!ct.done;He++,ct=Q.next()){Ee.index>He?(et=Ee,Ee=null):et=Ee.sibling;var zs=K(z,Ee,ct.value,ne);if(zs===null){Ee===null&&(Ee=et);break}t&&Ee&&zs.alternate===null&&i(z,Ee),M=d(zs,M,He),ut===null?xe=zs:ut.sibling=zs,ut=zs,Ee=et}if(ct.done)return a(z,Ee),it&&Mr(z,He),xe;if(Ee===null){for(;!ct.done;He++,ct=Q.next())ct=ae(z,ct.value,ne),ct!==null&&(M=d(ct,M,He),ut===null?xe=ct:ut.sibling=ct,ut=ct);return it&&Mr(z,He),xe}for(Ee=l(Ee);!ct.done;He++,ct=Q.next())ct=J(Ee,z,He,ct.value,ne),ct!==null&&(t&&ct.alternate!==null&&Ee.delete(ct.key===null?He:ct.key),M=d(ct,M,He),ut===null?xe=ct:ut.sibling=ct,ut=ct);return t&&Ee.forEach(function(AS){return i(z,AS)}),it&&Mr(z,He),xe}function Et(z,M,Q,ne){if(typeof Q=="object"&&Q!==null&&Q.type===Z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:e:{for(var xe=Q.key;M!==null;){if(M.key===xe){if(xe=Q.type,xe===Z){if(M.tag===7){a(z,M.sibling),ne=h(M,Q.props.children),ne.return=z,z=ne;break e}}else if(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===I&&Ra(xe)===M.type){a(z,M.sibling),ne=h(M,Q.props),Sl(ne,Q),ne.return=z,z=ne;break e}a(z,M);break}else i(z,M);M=M.sibling}Q.type===Z?(ne=Ta(Q.props.children,z.mode,ne,Q.key),ne.return=z,z=ne):(ne=uc(Q.type,Q.key,Q.props,null,z.mode,ne),Sl(ne,Q),ne.return=z,z=ne)}return v(z);case G:e:{for(xe=Q.key;M!==null;){if(M.key===xe)if(M.tag===4&&M.stateNode.containerInfo===Q.containerInfo&&M.stateNode.implementation===Q.implementation){a(z,M.sibling),ne=h(M,Q.children||[]),ne.return=z,z=ne;break e}else{a(z,M);break}else i(z,M);M=M.sibling}ne=Pf(Q,z.mode,ne),ne.return=z,z=ne}return v(z);case I:return Q=Ra(Q),Et(z,M,Q,ne)}if(kt(Q))return _e(z,M,Q,ne);if(j(Q)){if(xe=j(Q),typeof xe!="function")throw Error(s(150));return Q=xe.call(Q),Oe(z,M,Q,ne)}if(typeof Q.then=="function")return Et(z,M,gc(Q),ne);if(Q.$$typeof===re)return Et(z,M,fc(z,Q),ne);yc(z,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,M!==null&&M.tag===6?(a(z,M.sibling),ne=h(M,Q),ne.return=z,z=ne):(a(z,M),ne=kf(Q,z.mode,ne),ne.return=z,z=ne),v(z)):a(z,M)}return function(z,M,Q,ne){try{bl=0;var xe=Et(z,M,Q,ne);return fo=null,xe}catch(Ee){if(Ee===ho||Ee===mc)throw Ee;var ut=fi(29,Ee,null,z.mode);return ut.lanes=ne,ut.return=z,ut}finally{}}}var Ca=dy(!0),my=dy(!1),ws=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ft&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=lc(t),Jg(t,null,a),i}return oc(t,l,i,a),lc(t)}function Al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,rr(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function Rl(){if(Jf){var t=co;if(t!==null)throw t}}function Il(t,i,a,l){Jf=!1;var h=t.updateQueue;ws=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,Y=N.next;N.next=null,v===null?d=Y:v.next=Y,v=N;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==v&&(b===null?te.firstBaseUpdate=Y:b.next=Y,te.lastBaseUpdate=N))}if(d!==null){var ae=h.baseState;v=0,te=Y=N=null,b=d;do{var K=b.lane&-536870913,J=K!==b.lane;if(J?(Ze&K)===K:(l&K)===K){K!==0&&K===uo&&(Jf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var _e=t,Oe=b;K=i;var Et=a;switch(Oe.tag){case 1:if(_e=Oe.payload,typeof _e=="function"){ae=_e.call(Et,ae,K);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Oe.payload,K=typeof _e=="function"?_e.call(Et,ae,K):_e,K==null)break e;ae=w({},ae,K);break e;case 2:ws=!0}}K=b.callback,K!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[K]:J.push(K))}else J={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(Y=te=J,N=ae):te=te.next=J,v|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;J=b,b=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);te===null&&(N=ae),h.baseState=N,h.firstBaseUpdate=Y,h.lastBaseUpdate=te,d===null&&(h.shared.lanes=0),xs|=v,t.lanes=v,t.memoizedState=ae}}function py(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function gy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)py(a[t],i)}var mo=T(null),vc=T(0);function yy(t,i){t=Hr,X(vc,t),X(mo,i),Hr=t|i.baseLanes}function Wf(){X(vc,Hr),X(mo,mo.current)}function Zf(){Hr=vc.current,B(mo),B(vc)}var di=T(null),ki=null;function As(t){var i=t.alternate;X(Yt,Yt.current&1),X(di,t),ki===null&&(i===null||mo.current!==null||i.memoizedState!==null)&&(ki=t)}function ed(t){X(Yt,Yt.current),X(di,t),ki===null&&(ki=t)}function vy(t){t.tag===22?(X(Yt,Yt.current),X(di,t),ki===null&&(ki=t)):Rs()}function Rs(){X(Yt,Yt.current),X(di,di.current)}function mi(t){B(di),ki===t&&(ki=null),B(Yt)}var Yt=T(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kr=0,qe=null,vt=null,Zt=null,Ec=!1,po=!1,xa=!1,Tc=0,Cl=0,go=null,pb=0;function qt(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hi(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return kr=d,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?tv:yd,xa=!1,d=a(l,h),xa=!1,po&&(d=Ey(i,a,l,h)),_y(t),d}function _y(t){ee.H=Dl;var i=vt!==null&&vt.next!==null;if(kr=0,Zt=vt=qe=null,Ec=!1,Cl=0,go=null,i)throw Error(s(300));t===null||en||(t=t.dependencies,t!==null&&hc(t)&&(en=!0))}function Ey(t,i,a,l){qe=t;var h=0;do{if(po&&(go=null),Cl=0,po=!1,25<=h)throw Error(s(301));if(h+=1,Zt=vt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=nv,d=i(a,l)}while(po);return d}function gb(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?xl(i):i,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(qe.flags|=1024),i}function id(){var t=Tc!==0;return Tc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(Ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ec=!1}kr=0,Zt=vt=qe=null,po=!1,Cl=Tc=0,go=null}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?qe.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Kt(){if(vt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var i=Zt===null?qe.memoizedState:Zt.next;if(i!==null)Zt=i,vt=t;else{if(t===null)throw qe.alternate===null?Error(s(467)):Error(s(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Zt===null?qe.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var i=Cl;return Cl+=1,go===null&&(go=[]),t=cy(go,t,i),i=qe,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?tv:yd),t}function bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===re)return Sn(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=qe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wc(),qe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Pr(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=Kt();return od(i,vt,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,N=null,Y=i,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Ze&ae)===ae:(kr&ae)===ae){var K=Y.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===uo&&(te=!0);else if((kr&K)===K){Y=Y.next,K===uo&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(b=N=ae,v=d):N=N.next=ae,qe.lanes|=K,xs|=K;ae=Y.action,xa&&a(d,ae),d=Y.hasEagerState?Y.eagerState:a(d,ae)}else K={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(b=N=K,v=d):N=N.next=K,qe.lanes|=ae,xs|=ae;Y=Y.next}while(Y!==null&&Y!==i);if(N===null?v=d:N.next=b,!hi(d,t.memoizedState)&&(en=!0,te&&(a=co,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=Kt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hi(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ty(t,i,a){var l=qe,h=Kt(),d=it;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hi((vt||h).memoizedState,a);if(v&&(h.memoizedState=a,en=!0),h=h.queue,hd(Sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},by.bind(null,l,h,a,i),null),bt===null)throw Error(s(349));d||(kr&127)!==0||wy(l,i,a)}return a}function wy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i=wc(),qe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function by(t,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&Ry(t)}function Sy(t,i,a){return a(function(){Ay(i)&&Ry(t)})}function Ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hi(t,a)}catch{return!0}}function Ry(t){var i=Ea(t,2);i!==null&&ti(i,t,2)}function ud(t){var i=Qn();if(typeof t=="function"){var a=t;if(t=a(),xa){En(!0);try{a()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:t},i}function Iy(t,i,a,l){return t.baseState=a,od(t,vt,typeof l=="function"?l:Pr)}function yb(t,i,a,l,h){if(Ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Cy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Cy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=ee.T,v={};ee.T=v;try{var b=a(h,l),N=ee.S;N!==null&&N(v,b),xy(t,i,b)}catch(Y){cd(t,i,Y)}finally{d!==null&&v.types!==null&&(d.types=v.types),ee.T=d}}else try{d=a(h,l),xy(t,i,d)}catch(Y){cd(t,i,Y)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ny(t,i,l)},function(l){return cd(t,i,l)}):Ny(t,i,a)}function Ny(t,i,a){i.status="fulfilled",i.value=a,Dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cy(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dy(i),i=i.next;while(i!==l)}t.action=null}function Dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function My(t,i){return i}function Oy(t,i){if(it){var a=bt.formState;if(a!==null){e:{var l=qe;if(it){if(Ct){t:{for(var h=Ct,d=Vi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ct=Pi(h.nextSibling),l=h.data==="F!";break e}}Es(l)}l=!1}l&&(i=a[0])}}return a=Qn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:i},a.queue=l,a=Wy.bind(null,qe,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,qe,!1,l.queue),l=Qn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=yb.bind(null,qe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Vy(t){var i=Kt();return ky(i,vt,t)}function ky(t,i,a){if(i=od(t,i,My)[0],t=Sc(Pr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(v){throw v===ho?mc:v}else l=i;i=Kt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(qe.flags|=2048,yo(9,{destroy:void 0},vb.bind(null,h,a),null)),[l,d,t]}function vb(t,i){t.action=i}function Py(t){var i=Kt(),a=vt;if(a!==null)return ky(i,a,t);Kt(),i=i.memoizedState,a=Kt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function yo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=qe.updateQueue,i===null&&(i=wc(),qe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ly(){return Kt().memoizedState}function Ac(t,i,a,l){var h=Qn();qe.flags|=t,h.memoizedState=yo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Rc(t,i,a,l){var h=Kt();l=l===void 0?null:l;var d=h.memoizedState.inst;vt!==null&&l!==null&&td(l,vt.memoizedState.deps)?h.memoizedState=yo(i,d,a,l):(qe.flags|=t,h.memoizedState=yo(1|i,d,a,l))}function Uy(t,i){Ac(8390656,8,t,i)}function hd(t,i){Rc(2048,8,t,i)}function _b(t){qe.flags|=4;var i=qe.updateQueue;if(i===null)i=wc(),qe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function zy(t){var i=Kt().memoizedState;return _b({ref:i,nextImpl:t}),function(){if((ft&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function jy(t,i){return Rc(4,2,t,i)}function By(t,i){return Rc(4,4,t,i)}function qy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hy(t,i,a){a=a!=null?a.concat([t]):null,Rc(4,4,qy.bind(null,i,t),a)}function fd(){}function Fy(t,i){var a=Kt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gy(t,i){var a=Kt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),xa){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(kr&1073741824)!==0&&(Ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Qv(),qe.lanes|=t,xs|=t,a)}function Qy(t,i,a,l){return hi(a,i)?a:mo.current!==null?(t=dd(t,a,l),hi(t,i)||(en=!0),t):(kr&42)===0||(kr&1073741824)!==0&&(Ze&261930)===0?(en=!0,t.memoizedState=a):(t=Qv(),qe.lanes|=t,xs|=t,i)}function Yy(t,i,a,l,h){var d=me.p;me.p=d!==0&&8>d?d:8;var v=ee.T,b={};ee.T=b,gd(t,!1,i,a);try{var N=h(),Y=ee.S;if(Y!==null&&Y(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var te=mb(N,l);Nl(t,i,te,yi(t))}else Nl(t,i,l,yi(t))}catch(ae){Nl(t,i,{then:function(){},status:"rejected",reason:ae},yi())}finally{me.p=d,v!==null&&b.types!==null&&(v.types=b.types),ee.T=v}}function Eb(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ky(t).queue;Yy(t,h,i,Te,a===null?Eb:function(){return $y(t),a(l)})}function Ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:Te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function $y(t){var i=Ky(t);i.next===null&&(i=t.alternate.memoizedState),Nl(t,i.next.queue,{},yi())}function pd(){return Sn(Yl)}function Xy(){return Kt().memoizedState}function Jy(){return Kt().memoizedState}function Tb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yi();t=bs(a);var l=Ss(i,t,a);l!==null&&(ti(l,i,a),Al(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function wb(t,i,a){var l=yi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(t)?Zy(i,a):(a=Of(t,i,a,l),a!==null&&(ti(a,t,l),ev(a,i,l)))}function Wy(t,i,a){var l=yi();Nl(t,i,a,l)}function Nl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(t))Zy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,hi(b,v))return oc(t,i,h,0),bt===null&&ac(),!1}catch{}finally{}if(a=Of(t,i,h,l),a!==null)return ti(a,t,l),ev(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ic(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&ti(i,t,2)}function Ic(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function Zy(t,i){po=Ec=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ev(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,rr(t,a)}}var Dl={readContext:Sn,use:bc,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt};Dl.useEffectEvent=qt;var tv={readContext:Sn,use:bc,useCallback:function(t,i){return Qn().memoizedState=[t,i===void 0?null:i],t},useContext:Sn,useEffect:Uy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,qy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=Qn();i=i===void 0?null:i;var l=t();if(xa){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Qn();if(a!==void 0){var h=a(i);if(xa){En(!0);try{a(i)}finally{En(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wb.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=Qn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=Wy.bind(null,qe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=Qn();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=Yy.bind(null,qe,t.queue,!0,!1),Qn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=qe,h=Qn();if(it){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),bt===null)throw Error(s(349));(Ze&127)!==0||wy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Uy(Sy.bind(null,l,d,t),[t]),l.flags|=2048,yo(9,{destroy:void 0},by.bind(null,l,d,a,i),null),a},useId:function(){var t=Qn(),i=bt.identifierPrefix;if(it){var a=hr,l=cr;a=(l&~(1<<32-ln(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Tc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=pb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t){var i=Qn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,qe,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return Qn().memoizedState=Tb.bind(null,qe)},useEffectEvent:function(t){var i=Qn(),a={impl:t};return i.memoizedState=a,function(){if((ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:Sn,use:bc,useCallback:Fy,useContext:Sn,useEffect:hd,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:Sc,useRef:Ly,useState:function(){return Sc(Pr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Kt();return Qy(a,vt.memoizedState,t,i)},useTransition:function(){var t=Sc(Pr)[0],i=Kt().memoizedState;return[typeof t=="boolean"?t:xl(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:pd,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=Kt();return Iy(a,vt,t,i)},useMemoCache:ad,useCacheRefresh:Jy};yd.useEffectEvent=zy;var nv={readContext:Sn,use:bc,useCallback:Fy,useContext:Sn,useEffect:hd,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:ld,useRef:Ly,useState:function(){return ld(Pr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Kt();return vt===null?dd(a,t,i):Qy(a,vt.memoizedState,t,i)},useTransition:function(){var t=ld(Pr)[0],i=Kt().memoizedState;return[typeof t=="boolean"?t:xl(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:pd,useFormState:Py,useActionState:Py,useOptimistic:function(t,i){var a=Kt();return vt!==null?Iy(a,vt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Jy};nv.useEffectEvent=zy;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yi(),h=bs(l);h.payload=i,a!=null&&(h.callback=a),i=Ss(t,h,l),i!==null&&(ti(i,t,l),Al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yi(),h=bs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ss(t,h,l),i!==null&&(ti(i,t,l),Al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yi(),l=bs(a);l.tag=2,i!=null&&(l.callback=i),i=Ss(t,l,a),i!==null&&(ti(i,t,a),Al(i,t,a))}};function iv(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!yl(a,l)||!yl(h,d):!0}function rv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function sv(t){sc(t)}function av(t){console.error(t)}function ov(t){sc(t)}function Cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function lv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,i)},a}function uv(t){return t=bs(t),t.tag=3,t}function cv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){lv(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){lv(i,a,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function bb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&lo(i,a,h,!0),a=di.current,a!==null){switch(a.tag){case 31:case 13:return ki===null?jc():a.alternate===null&&Ht===0&&(Ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===pc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),jc(),!1}if(it)return i=di.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),El(Di(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),El(Di(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Di(l,a),h=Ed(t.stateNode,l,h),Xf(t,h),Ht!==4&&(Ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Di(d,a),zl===null?zl=[d]:zl.push(d),Ht!==4&&(Ht=2),i===null)return!0;l=Di(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ns===null||!Ns.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uv(h),cv(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),en=!1;function An(t,i,a,l){i.child=t===null?my(i,null,a,l):Ca(i,t.child,a,l)}function hv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Sa(i),l=nd(t,i,a,v,d,h),b=id(),t!==null&&!en?(rd(t,i,h),Lr(t,i,h)):(it&&b&&Lf(i),i.flags|=1,An(t,i,l,h),i.child)}function fv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dv(t,i,d,l,h)):(t=uc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(v,l)&&t.ref===i.ref)return Lr(t,i,h)}return i.flags|=1,t=Dr(d,l),t.ref=i.ref,t.return=i,i.child=t}function dv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(yl(d,l)&&t.ref===i.ref)if(en=!1,i.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Lr(t,i,h)}return wd(t,i,a,l,h)}function mv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return pv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&dc(i,d!==null?d.cachePool:null),d!==null?yy(i,d):Wf(),vy(i);else return l=i.lanes=536870912,pv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(dc(i,d.cachePool),yy(i,d),Rs(),i.memoizedState=null):(t!==null&&dc(i,null),Wf(),Rs());return An(t,i,h,a),i.child}function Ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function pv(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:Wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&dc(i,null),Wf(),vy(i),t!==null&&lo(t,i,l,!0),i.childLanes=h,null}function xc(t,i){return i=Dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function gv(t,i,a){return Ca(i,t.child,null,a),t=xc(i,i.pendingProps),t.flags|=2,mi(i),i.memoizedState=null,t}function Sb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(it){if(l.mode==="hidden")return t=xc(i,l),i.lanes=536870912,Ml(null,t);if(ed(i),(t=Ct)?(t=C_(t,Vi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vs!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,bn=i,Ct=null)):t=null,t===null)throw Es(i);return i.lanes=536870912,null}return xc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=gv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(en||lo(t,i,a,!1),h=(a&t.childLanes)!==0,en||h){if(l=bt,l!==null&&(v=Hi(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ea(t,v),ti(l,t,v),Td;jc(),i=gv(t,i,a)}else t=d.treeContext,Ct=Pi(v.nextSibling),bn=i,it=!0,_s=null,Vi=!1,t!==null&&ny(i,t),i=xc(i,l),i.flags|=4096;return i}return t=Dr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Nc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function wd(t,i,a,l,h){return Sa(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!en?(rd(t,i,h),Lr(t,i,h)):(it&&l&&Lf(i),i.flags|=1,An(t,i,a,h),i.child)}function yv(t,i,a,l,h,d){return Sa(i),i.updateQueue=null,a=Ey(i,l,a,h),_y(t),l=id(),t!==null&&!en?(rd(t,i,d),Lr(t,i,d)):(it&&l&&Lf(i),i.flags|=1,An(t,i,a,d),i.child)}function vv(t,i,a,l,h){if(Sa(i),i.stateNode===null){var d=ro,v=a.contextType;typeof v=="object"&&v!==null&&(d=Sn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Sn(v):ro,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),Il(i,l,d,h),Rl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Na(a,b);d.props=N;var Y=d.context,te=a.contextType;v=ro,typeof te=="object"&&te!==null&&(v=Sn(te));var ae=a.getDerivedStateFromProps;te=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Y!==v)&&rv(i,d,l,v),ws=!1;var K=i.memoizedState;d.state=K,Il(i,l,d,h),Rl(),Y=i.memoizedState,b||K!==Y||ws?(typeof ae=="function"&&(vd(i,a,ae,l),Y=i.memoizedState),(N=ws||iv(i,a,N,l,K,Y,v))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),v=i.memoizedProps,te=Na(a,v),d.props=te,ae=i.pendingProps,K=d.context,Y=a.contextType,N=ro,typeof Y=="object"&&Y!==null&&(N=Sn(Y)),b=a.getDerivedStateFromProps,(Y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ae||K!==N)&&rv(i,d,l,N),ws=!1,K=i.memoizedState,d.state=K,Il(i,l,d,h),Rl();var J=i.memoizedState;v!==ae||K!==J||ws||t!==null&&t.dependencies!==null&&hc(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),J=i.memoizedState),(te=ws||iv(i,a,te,l,K,J,N)||t!==null&&t.dependencies!==null&&hc(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=N,l=te):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Nc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ca(i,t.child,null,h),i.child=Ca(i,null,a,h)):An(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Lr(t,i,h),t}function _v(t,i,a,l){return wa(),i.flags|=256,An(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:ly()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=gi),t}function Ev(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(it){if(h?As(i):Rs(),(t=Ct)?(t=C_(t,Vi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:vs!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,bn=i,Ct=null)):t=null,t===null)throw Es(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Rs(),h=i.mode,b=Dc({mode:"hidden",children:b},h),l=Ta(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,Ml(null,l)):(As(i),Rd(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(As(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(Rs(),i.child=t.child,i.flags|=128,i=null):(Rs(),b=l.fallback,h=i.mode,l=Dc({mode:"visible",children:l.children},h),b=Ta(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Ca(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,i=Ml(null,l));else if(As(i),om(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(s(419)),l.stack="",l.digest=v,El({value:l,source:null,stack:null}),i=Id(t,i,a)}else if(en||lo(t,i,a,!1),v=(a&t.childLanes)!==0,en||v){if(v=bt,v!==null&&(l=Hi(v,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ea(t,l),ti(v,t,l),Td;am(b)||jc(),i=Id(t,i,a)}else am(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,Ct=Pi(b.nextSibling),bn=i,it=!0,_s=null,Vi=!1,t!==null&&ny(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(Rs(),b=l.fallback,h=i.mode,N=t.child,Y=N.sibling,l=Dr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,Y!==null?b=Dr(Y,b):(b=Ta(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Ml(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Sd(a):(h=b.cachePool,h!==null?(N=Wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=ly(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ad(t,v,a),i.memoizedState=bd,Ml(t.child,l)):(As(i),a=t.child,t=a.sibling,a=Dr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=fi(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return Ca(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Tv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function Cd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function wv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Yt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,X(Yt,v),An(t,i,l,a),l=it?_l:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tv(t,a,i);else if(t.tag===19)Tv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&_c(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Lr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(lo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Dr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Dr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&hc(t)))}function Ab(t,i,a){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),Ts(i,Wt,t.memoizedState.cache),wa();break;case 27:case 5:we(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:Ts(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(As(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ev(t,i,a):(As(i),t=Lr(t,i,a),t!==null?t.sibling:null);As(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(lo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return wv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Yt,Yt.current),l)break;return null;case 22:return i.lanes=0,mv(t,i,a,i.pendingProps);case 24:Ts(i,Wt,t.memoizedState.cache)}return Lr(t,i,a)}function bv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return en=!1,Ab(t,i,a);en=(t.flags&131072)!==0}else en=!1,it&&(i.flags&1048576)!==0&&ty(i,_l,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ra(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Na(t,l),i.tag=1,i=vv(null,i,t,l,a)):(i.tag=0,i=wd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Se){i.tag=11,i=hv(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=fv(null,i,t,l,a);break e}}throw i=St(t)||t,Error(s(306,i,""))}}return i;case 0:return wd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Na(l,i.pendingProps),vv(t,i,l,h,a);case 3:e:{if(be(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,$f(t,i),Il(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ts(i,Wt,l),l!==d.cache&&Hf(i,[Wt],a,!0),Rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_v(t,i,l,a);break e}else if(l!==h){h=Di(Error(s(424)),i),El(h),i=_v(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ct=Pi(t.firstChild),bn=i,it=!0,_s=null,Vi=!0,a=my(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wa(),l===h){i=Lr(t,i,a);break e}An(t,i,l,a)}i=i.child}return i;case 26:return Nc(t,i),t===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:it||(a=i.type,t=i.pendingProps,l=Yc(ge.current).createElement(a),l[Ot]=i,l[Pt]=t,Rn(l,a,t),Lt(l),i.stateNode=l):i.memoizedState=V_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return we(i),t===null&&it&&(l=i.stateNode=D_(i.type,i.pendingProps,ge.current),bn=i,Vi=!0,h=Ct,Vs(i.type)?(lm=h,Ct=Pi(l.firstChild)):Ct=h),An(t,i,i.pendingProps.children,a),Nc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&it&&((h=l=Ct)&&(l=tS(l,i.type,i.pendingProps,Vi),l!==null?(i.stateNode=l,bn=i,Ct=Pi(l.firstChild),Vi=!1,h=!0):h=!1),h||Es(i)),we(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,gb,null,null,a),Yl._currentValue=h),Nc(t,i),An(t,i,l,a),i.child;case 6:return t===null&&it&&((t=a=Ct)&&(a=nS(a,i.pendingProps,Vi),a!==null?(i.stateNode=a,bn=i,Ct=null,t=!0):t=!1),t||Es(i)),null;case 13:return Ev(t,i,a);case 4:return be(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ca(i,null,l,a):An(t,i,l,a),i.child;case 11:return hv(t,i,i.type,i.pendingProps,a);case 7:return An(t,i,i.pendingProps,a),i.child;case 8:return An(t,i,i.pendingProps.children,a),i.child;case 12:return An(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ts(i,i.type,l.value),An(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Sa(i),h=Sn(h),l=l(h),i.flags|=1,An(t,i,l,a),i.child;case 14:return fv(t,i,i.type,i.pendingProps,a);case 15:return dv(t,i,i.type,i.pendingProps,a);case 19:return wv(t,i,a);case 31:return Sb(t,i,a);case 22:return mv(t,i,a,i.pendingProps);case 24:return Sa(i),l=Sn(Wt),t===null?(h=Qf(),h===null&&(h=bt,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),Ts(i,Wt,h)):((t.lanes&a)!==0&&($f(t,i),Il(i,null,null,a),Rl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ts(i,Wt,l)):(l=d.cache,Ts(i,Wt,l),l!==h.cache&&Hf(i,[Wt],a,!0))),An(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ur(t){t.flags|=4}function Nd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xv())t.flags|=8192;else throw Ia=pc,Yf}else t.flags&=-16777217}function Sv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z_(i))if(Xv())t.flags|=8192;else throw Ia=pc,Yf}function Mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ca():536870912,t.lanes|=i,To|=i)}function Ol(t,i){if(!it)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function xt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Rb(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return xt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vr(Wt),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(oo(i)?Ur(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),xt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ur(i),d!==null?(xt(i),Sv(i,d)):(xt(i),Nd(i,h,null,l,a))):d?d!==t.memoizedState?(Ur(i),xt(i),Sv(i,d)):(xt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ur(i),xt(i),Nd(i,h,t,l,a)),null;case 27:if(Be(i),a=ge.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return xt(i),null}t=le.current,oo(i)?iy(i):(t=D_(h,l,a),i.stateNode=t,Ur(i))}return xt(i),null;case 5:if(Be(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return xt(i),null}if(d=le.current,oo(i))iy(i);else{var v=Yc(ge.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Ot]=i,d[Pt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Rn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ur(i)}}return xt(i),Nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ur(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ge.current,oo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=bn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ot]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||Es(i,!0)}else t=Yc(t).createTextNode(l),t[Ot]=i,i.stateNode=t}return xt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=oo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ot]=i}else wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(mi(i),i):(mi(i),null);if((i.flags&128)!==0)throw Error(s(558))}return xt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=oo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ot]=i}else wa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(mi(i),i):(mi(i),null)}return mi(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Mc(i,i.updateQueue),xt(i),null);case 4:return Ce(),t===null&&Wd(i.stateNode.containerInfo),xt(i),null;case 10:return Vr(i.type),xt(i),null;case 19:if(B(Yt),l=i.memoizedState,l===null)return xt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Ol(l,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,Ol(l,!1),t=d.updateQueue,i.updateQueue=t,Mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Wg(a,t),a=a.sibling;return X(Yt,Yt.current&1|2),it&&Mr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&wt()>Lc&&(i.flags|=128,h=!0,Ol(l,!1),i.lanes=4194304)}else{if(!h)if(t=_c(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Mc(i,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!it)return xt(i),null}else 2*wt()-l.renderingStartTime>Lc&&a!==536870912&&(i.flags|=128,h=!0,Ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=wt(),t.sibling=null,a=Yt.current,X(Yt,h?a&1|2:a&1),it&&Mr(i,l.treeForkCount),t):(xt(i),null);case 22:case 23:return mi(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),a=i.updateQueue,a!==null&&Mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&B(Aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vr(Wt),xt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ib(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vr(Wt),Ce(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Be(i),null;case 31:if(i.memoizedState!==null){if(mi(i),i.alternate===null)throw Error(s(340));wa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(mi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));wa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return B(Yt),null;case 4:return Ce(),null;case 10:return Vr(i.type),null;case 22:case 23:return mi(i),Zf(),t!==null&&B(Aa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vr(Wt),null;case 25:return null;default:return null}}function Av(t,i){switch(Uf(i),i.tag){case 3:Vr(Wt),Ce();break;case 26:case 27:case 5:Be(i);break;case 4:Ce();break;case 31:i.memoizedState!==null&&mi(i);break;case 13:mi(i);break;case 19:B(Yt);break;case 10:Vr(i.type);break;case 22:case 23:mi(i),Zf(),t!==null&&B(Aa);break;case 24:Vr(Wt)}}function Vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){pt(i,i.return,b)}}function Is(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var N=a,Y=b;try{Y()}catch(te){pt(h,N,te)}}}l=l.next}while(l!==d)}}catch(te){pt(i,i.return,te)}}function Rv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{gy(i,a)}catch(l){pt(t,t.return,l)}}}function Iv(t,i,a){a.props=Na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){pt(t,i,l)}}function kl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){pt(t,i,h)}}function fr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){pt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){pt(t,i,h)}else a.current=null}function Cv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){pt(t,t.return,h)}}function Dd(t,i,a){try{var l=t.stateNode;$b(l,t.type,a,i),l[Pt]=i}catch(h){pt(t,t.return,h)}}function xv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vs(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mn));else if(l!==4&&(l===27&&Vs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Vs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,i,a),t=t.sibling;t!==null;)Oc(t,i,a),t=t.sibling}function Nv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Rn(i,l,a),i[Ot]=t,i[Pt]=a}catch(d){pt(t,t.return,d)}}var zr=!1,tn=!1,Vd=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,yn=null;function Cb(t,i){if(t=t.containerInfo,tm=eh,t=Hg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,N=-1,Y=0,te=0,ae=t,K=null;t:for(;;){for(var J;ae!==a||h!==0&&ae.nodeType!==3||(b=v+h),ae!==d||l!==0&&ae.nodeType!==3||(N=v+l),ae.nodeType===3&&(v+=ae.nodeValue.length),(J=ae.firstChild)!==null;)K=ae,ae=J;for(;;){if(ae===t)break t;if(K===a&&++Y===h&&(b=v),K===d&&++te===l&&(N=v),(J=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=J}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},eh=!1,yn=i;yn!==null;)if(i=yn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,yn=t;else for(;yn!==null;){switch(i=yn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=Na(a.type,h);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Oe){pt(a,a.return,Oe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,yn=t;break}yn=i.return}}function Mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Br(t,a),l&4&&Vl(5,a);break;case 1:if(Br(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){pt(a,a.return,v)}else{var h=Na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){pt(a,a.return,v)}}l&64&&Rv(a),l&512&&kl(a,a.return);break;case 3:if(Br(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gy(t,i)}catch(v){pt(a,a.return,v)}}break;case 27:i===null&&l&4&&Nv(a);case 26:case 5:Br(t,a),i===null&&l&4&&Cv(a),l&512&&kl(a,a.return);break;case 12:Br(t,a);break;case 31:Br(t,a),l&4&&kv(t,a);break;case 13:Br(t,a),l&4&&Pv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Lb.bind(null,a),iS(t,a))));break;case 22:if(l=a.memoizedState!==null||zr,!l){i=i!==null&&i.memoizedState!==null||tn,h=zr;var d=tn;zr=l,(tn=i)&&!d?qr(t,a,(a.subtreeFlags&8772)!==0):Br(t,a),zr=h,tn=d}break;case 30:break;default:Br(t,a)}}function Ov(t){var i=t.alternate;i!==null&&(t.alternate=null,Ov(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ai(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Vt=null,Jn=!1;function jr(t,i,a){for(a=a.child;a!==null;)Vv(t,i,a),a=a.sibling}function Vv(t,i,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:tn||fr(a,i),jr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||fr(a,i);var l=Vt,h=Jn;Vs(a.type)&&(Vt=a.stateNode,Jn=!1),jr(t,i,a),Fl(a.stateNode),Vt=l,Jn=h;break;case 5:tn||fr(a,i);case 6:if(l=Vt,h=Jn,Vt=null,jr(t,i,a),Vt=l,Jn=h,Vt!==null)if(Jn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(a.stateNode)}catch(d){pt(a,i,d)}else try{Vt.removeChild(a.stateNode)}catch(d){pt(a,i,d)}break;case 18:Vt!==null&&(Jn?(t=Vt,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xo(t)):R_(Vt,a.stateNode));break;case 4:l=Vt,h=Jn,Vt=a.stateNode.containerInfo,Jn=!0,jr(t,i,a),Vt=l,Jn=h;break;case 0:case 11:case 14:case 15:Is(2,a,i),tn||Is(4,a,i),jr(t,i,a);break;case 1:tn||(fr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Iv(a,i,l)),jr(t,i,a);break;case 21:jr(t,i,a);break;case 22:tn=(l=tn)||a.memoizedState!==null,jr(t,i,a),tn=l;break;default:jr(t,i,a)}}function kv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{xo(t)}catch(a){pt(i,i.return,a)}}}function Pv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xo(t)}catch(a){pt(i,i.return,a)}}function xb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Dv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Dv),i;default:throw Error(s(435,t.tag))}}function Vc(t,i){var a=xb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Ub.bind(null,t,l);l.then(h,h)}})}function Wn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Vs(b.type)){Vt=b.stateNode,Jn=!1;break e}break;case 5:Vt=b.stateNode,Jn=!1;break e;case 3:case 4:Vt=b.stateNode.containerInfo,Jn=!0;break e}b=b.return}if(Vt===null)throw Error(s(160));Vv(d,v,h),Vt=null,Jn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Lv(i,t),i=i.sibling}var Xi=null;function Lv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Wn(i,t),Zn(t),l&4&&(Is(3,t,t.return),Vl(3,t),Is(5,t,t.return));break;case 1:Wn(i,t),Zn(t),l&512&&(tn||a===null||fr(a,a.return)),l&64&&zr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xi;if(Wn(i,t),Zn(t),l&512&&(tn||a===null||fr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[On]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Rn(d,l,a),d[Ot]=t,Lt(d),l=d;break e;case"link":var v=L_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Rn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=L_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Rn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ot]=t,Lt(d),l=d}t.stateNode=l}else U_(h,t.type,t.stateNode);else t.stateNode=P_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?U_(h,t.type,t.stateNode):P_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Wn(i,t),Zn(t),l&512&&(tn||a===null||fr(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Wn(i,t),Zn(t),l&512&&(tn||a===null||fr(a,a.return)),t.flags&32){h=t.stateNode;try{xi(h,"")}catch(_e){pt(t,t.return,_e)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(Wn(i,t),Zn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(_e){pt(t,t.return,_e)}}break;case 3:if(Xc=null,h=Xi,Xi=Kc(i.containerInfo),Wn(i,t),Xi=h,Zn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xo(i.containerInfo)}catch(_e){pt(t,t.return,_e)}Vd&&(Vd=!1,Uv(t));break;case 4:l=Xi,Xi=Kc(t.stateNode.containerInfo),Wn(i,t),Zn(t),Xi=l;break;case 12:Wn(i,t),Zn(t);break;case 31:Wn(i,t),Zn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 13:Wn(i,t),Zn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pc=wt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,Y=zr,te=tn;if(zr=Y||h,tn=te||N,Wn(i,t),tn=te,zr=Y,Zn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||zr||tn||Da(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=N.stateNode;var ae=N.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(_e){pt(N,N.return,_e)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(_e){pt(N,N.return,_e)}}}else if(i.tag===18){if(a===null){N=i;try{var J=N.stateNode;h?I_(J,!0):I_(N.stateNode,!1)}catch(_e){pt(N,N.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vc(t,a))));break;case 19:Wn(i,t),Zn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vc(t,l)));break;case 30:break;case 21:break;default:Wn(i,t),Zn(t)}}function Zn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(xv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Oc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(xi(v,""),a.flags&=-33);var b=Md(t);Oc(t,b,v);break;case 3:case 4:var N=a.stateNode.containerInfo,Y=Md(t);Od(t,Y,N);break;default:throw Error(s(161))}}catch(te){pt(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Br(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Mv(t,i.alternate,i),i=i.sibling}function Da(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Is(4,i,i.return),Da(i);break;case 1:fr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Iv(i,i.return,a),Da(i);break;case 27:Fl(i.stateNode);case 26:case 5:fr(i,i.return),Da(i);break;case 22:i.memoizedState===null&&Da(i);break;case 30:Da(i);break;default:Da(i)}t=t.sibling}}function qr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:qr(h,d,a),Vl(4,d);break;case 1:if(qr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){pt(l,l.return,Y)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)py(N[h],b)}catch(Y){pt(l,l.return,Y)}}a&&v&64&&Rv(d),kl(d,d.return);break;case 27:Nv(d);case 26:case 5:qr(h,d,a),a&&l===null&&v&4&&Cv(d),kl(d,d.return);break;case 12:qr(h,d,a);break;case 31:qr(h,d,a),a&&v&4&&kv(h,d);break;case 13:qr(h,d,a),a&&v&4&&Pv(h,d);break;case 22:d.memoizedState===null&&qr(h,d,a),kl(d,d.return);break;case 30:break;default:qr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Tl(t))}function Ji(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zv(t,i,a,l),i=i.sibling}function zv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ji(t,i,a,l),h&2048&&Vl(9,i);break;case 1:Ji(t,i,a,l);break;case 3:Ji(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){Ji(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){pt(i,i.return,N)}}else Ji(t,i,a,l);break;case 31:Ji(t,i,a,l);break;case 13:Ji(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ji(t,i,a,l):Pl(t,i):d._visibility&2?Ji(t,i,a,l):(d._visibility|=2,vo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(v,i);break;case 24:Ji(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:Ji(t,i,a,l)}}function vo(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,N=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:vo(d,v,b,N,h),Vl(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?vo(d,v,b,N,h):Pl(d,v):(te._visibility|=2,vo(d,v,b,N,h)),h&&Y&2048&&kd(v.alternate,v);break;case 24:vo(d,v,b,N,h),h&&Y&2048&&Pd(v.alternate,v);break;default:vo(d,v,b,N,h)}i=i.sibling}}function Pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Pl(a,l),h&2048&&kd(l.alternate,l);break;case 24:Pl(a,l),h&2048&&Pd(l.alternate,l);break;default:Pl(a,l)}i=i.sibling}}var Ll=8192;function _o(t,i,a){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)jv(t,i,a),t=t.sibling}function jv(t,i,a){switch(t.tag){case 26:_o(t,i,a),t.flags&Ll&&t.memoizedState!==null&&pS(a,Xi,t.memoizedState,t.memoizedProps);break;case 5:_o(t,i,a);break;case 3:case 4:var l=Xi;Xi=Kc(t.stateNode.containerInfo),_o(t,i,a),Xi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,_o(t,i,a),Ll=l):_o(t,i,a));break;default:_o(t,i,a)}}function Bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];yn=l,Hv(l,t)}Bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qv(t),t=t.sibling}function qv(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&Is(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,kc(t)):Ul(t);break;default:Ul(t)}}function kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];yn=l,Hv(l,t)}Bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Is(8,i,i.return),kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,kc(i));break;default:kc(i)}t=t.sibling}}function Hv(t,i){for(;yn!==null;){var a=yn;switch(a.tag){case 0:case 11:case 15:Is(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,yn=l;else e:for(a=t;yn!==null;){l=yn;var h=l.sibling,d=l.return;if(Ov(l),l===a){yn=null;break e}if(h!==null){h.return=d,yn=h;break e}yn=d}}}var Nb={getCacheForType:function(t){var i=Sn(Wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Sn(Wt).controller.signal}},Db=typeof WeakMap=="function"?WeakMap:Map,ft=0,bt=null,Xe=null,Ze=0,mt=0,pi=null,Cs=!1,Eo=!1,Ld=!1,Hr=0,Ht=0,xs=0,Ma=0,Ud=0,gi=0,To=0,zl=null,ei=null,zd=!1,Pc=0,Fv=0,Lc=1/0,Uc=null,Ns=null,cn=0,Ds=null,wo=null,Fr=0,jd=0,Bd=null,Gv=null,jl=0,qd=null;function yi(){return(ft&2)!==0&&Ze!==0?Ze&-Ze:ee.T!==null?Kd():Fi()}function Qv(){if(gi===0)if((Ze&536870912)===0||it){var t=dn;dn<<=1,(dn&3932160)===0&&(dn=262144),gi=t}else gi=536870912;return t=di.current,t!==null&&(t.flags|=32),gi}function ti(t,i,a){(t===bt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(bo(t,0),Ms(t,Ze,gi,!1)),qn(t,a),((ft&2)===0||t!==bt)&&(t===bt&&((ft&2)===0&&(Ma|=a),Ht===4&&Ms(t,Ze,gi,!1)),dr(t))}function Yv(t,i,a){if((ft&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||bi(t,i),h=l?Vb(t,i):Fd(t,i,!0),d=l;do{if(h===0){Eo&&!l&&Ms(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Mb(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=zl;var N=b.current.memoizedState.isDehydrated;if(N&&(bo(b,v).flags|=256),v=Fd(b,v,!1),v!==2){if(Ld&&!N){b.errorRecoveryDisabledLanes|=d,Ma|=d,h=4;break e}d=ei,ei=h,d!==null&&(ei===null?ei=d:ei.push.apply(ei,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){bo(t,0),Ms(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ms(l,i,gi,!Cs);break e;case 2:ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Pc+300-wt(),10<h)){if(Ms(l,i,gi,!Cs),Bn(l,0,!0)!==0)break e;Fr=i,l.timeoutHandle=S_(Kv.bind(null,l,a,ei,Uc,zd,i,gi,Ma,To,Cs,d,"Throttled",-0,0),h);break e}Kv(l,a,ei,Uc,zd,i,gi,Ma,To,Cs,d,null,-0,0)}}break}while(!0);dr(t)}function Kv(t,i,a,l,h,d,v,b,N,Y,te,ae,K,J){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},jv(i,d,ae);var _e=(d&62914560)===d?Pc-wt():(d&4194048)===d?Fv-wt():0;if(_e=gS(ae,_e),_e!==null){Fr=d,t.cancelPendingCommit=_e(n_.bind(null,t,i,d,a,l,h,v,b,N,te,ae,null,K,J)),Ms(t,d,v,!Y);return}}n_(t,i,d,a,l,h,v,b,N)}function Mb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hi(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(t,i,a,l){i&=~Ud,i&=~Ma,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ln(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ls(t,a,i)}function zc(){return(ft&6)===0?(Bl(0),!1):!0}function Hd(){if(Xe!==null){if(mt===0)var t=Xe.return;else t=Xe,Or=ba=null,sd(t),fo=null,bl=0,t=Xe;for(;t!==null;)Av(t.alternate,t),t=t.return;Xe=null}}function bo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Wb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Fr=0,Hd(),bt=t,Xe=a=Dr(t.current,null),Ze=i,mt=0,pi=null,Cs=!1,Eo=bi(t,i),Ld=!1,To=gi=Ud=Ma=xs=Ht=0,ei=zl=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ln(l),d=1<<h;i|=t[h],l&=~d}return Hr=i,ac(),a}function $v(t,i){qe=null,ee.H=Dl,i===ho||i===mc?(i=hy(),mt=3):i===Yf?(i=hy(),mt=4):mt=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pi=i,Xe===null&&(Ht=1,Cc(t,Di(i,t.current)))}function Xv(){var t=di.current;return t===null?!0:(Ze&4194048)===Ze?ki===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?t===ki:!1}function Jv(){var t=ee.H;return ee.H=Dl,t===null?Dl:t}function Wv(){var t=ee.A;return ee.A=Nb,t}function jc(){Ht=4,Cs||(Ze&4194048)!==Ze&&di.current!==null||(Eo=!0),(xs&134217727)===0&&(Ma&134217727)===0||bt===null||Ms(bt,Ze,gi,!1)}function Fd(t,i,a){var l=ft;ft|=2;var h=Jv(),d=Wv();(bt!==t||Ze!==i)&&(Uc=null,bo(t,i)),i=!1;var v=Ht;e:do try{if(mt!==0&&Xe!==null){var b=Xe,N=pi;switch(mt){case 8:Hd(),v=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(i=!0);var Y=mt;if(mt=0,pi=null,So(t,b,N,Y),a&&Eo){v=0;break e}break;default:Y=mt,mt=0,pi=null,So(t,b,N,Y)}}Ob(),v=Ht;break}catch(te){$v(t,te)}while(!0);return i&&t.shellSuspendCounter++,Or=ba=null,ft=l,ee.H=h,ee.A=d,Xe===null&&(bt=null,Ze=0,ac()),v}function Ob(){for(;Xe!==null;)Zv(Xe)}function Vb(t,i){var a=ft;ft|=2;var l=Jv(),h=Wv();bt!==t||Ze!==i?(Uc=null,Lc=wt()+500,bo(t,i)):Eo=bi(t,i);e:do try{if(mt!==0&&Xe!==null){i=Xe;var d=pi;t:switch(mt){case 1:mt=0,pi=null,So(t,i,d,1);break;case 2:case 9:if(uy(d)){mt=0,pi=null,e_(i);break}i=function(){mt!==2&&mt!==9||bt!==t||(mt=7),dr(t)},d.then(i,i);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:uy(d)?(mt=0,pi=null,e_(i)):(mt=0,pi=null,So(t,i,d,7));break;case 5:var v=null;switch(Xe.tag){case 26:v=Xe.memoizedState;case 5:case 27:var b=Xe;if(v?z_(v):b.stateNode.complete){mt=0,pi=null;var N=b.sibling;if(N!==null)Xe=N;else{var Y=b.return;Y!==null?(Xe=Y,Bc(Y)):Xe=null}break t}}mt=0,pi=null,So(t,i,d,5);break;case 6:mt=0,pi=null,So(t,i,d,6);break;case 8:Hd(),Ht=6;break e;default:throw Error(s(462))}}kb();break}catch(te){$v(t,te)}while(!0);return Or=ba=null,ee.H=l,ee.A=h,ft=a,Xe!==null?0:(bt=null,Ze=0,ac(),Ht)}function kb(){for(;Xe!==null&&!Kn();)Zv(Xe)}function Zv(t){var i=bv(t.alternate,t,Hr);t.memoizedProps=t.pendingProps,i===null?Bc(t):Xe=i}function e_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yv(a,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=yv(a,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:sd(i);default:Av(a,i),i=Xe=Wg(i,Hr),i=bv(a,i,Hr)}t.memoizedProps=t.pendingProps,i===null?Bc(t):Xe=i}function So(t,i,a,l){Or=ba=null,sd(i),fo=null,bl=0;var h=i.return;try{if(bb(t,h,i,a,Ze)){Ht=1,Cc(t,Di(a,t.current)),Xe=null;return}}catch(d){if(h!==null)throw Xe=h,d;Ht=1,Cc(t,Di(a,t.current)),Xe=null;return}i.flags&32768?(it||l===1?t=!0:Eo||(Ze&536870912)!==0?t=!1:(Cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=di.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,t)):Bc(i)}function Bc(t){var i=t;do{if((i.flags&32768)!==0){t_(i,Cs);return}t=i.return;var a=Rb(i.alternate,i,Hr);if(a!==null){Xe=a;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=t}while(i!==null);Ht===0&&(Ht=5)}function t_(t,i){do{var a=Ib(t.alternate,t);if(a!==null){a.flags&=32767,Xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Xe=t;return}Xe=t=a}while(t!==null);Ht=6,Xe=null}function n_(t,i,a,l,h,d,v,b,N){t.cancelPendingCommit=null;do qc();while(cn!==0);if((ft&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,Bt(t,a,d,v,b,N),t===bt&&(Xe=bt=null,Ze=0),wo=i,Ds=t,Fr=a,jd=d,Bd=h,Gv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zb(ii,function(){return o_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=me.p,me.p=2,v=ft,ft|=4;try{Cb(t,i,a)}finally{ft=v,me.p=h,ee.T=l}}cn=1,i_(),r_(),s_()}}function i_(){if(cn===1){cn=0;var t=Ds,i=wo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=me.p;me.p=2;var h=ft;ft|=4;try{Lv(i,t);var d=nm,v=Hg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&qg(b.ownerDocument.documentElement,b)){if(N!==null&&If(b)){var Y=N.start,te=N.end;if(te===void 0&&(te=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(te,b.value.length);else{var ae=b.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var J=K.getSelection(),_e=b.textContent.length,Oe=Math.min(N.start,_e),Et=N.end===void 0?Oe:Math.min(N.end,_e);!J.extend&&Oe>Et&&(v=Et,Et=Oe,Oe=v);var z=Bg(b,Oe),M=Bg(b,Et);if(z&&M&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==M.node||J.focusOffset!==M.offset)){var Q=ae.createRange();Q.setStart(z.node,z.offset),J.removeAllRanges(),Oe>Et?(J.addRange(Q),J.extend(M.node,M.offset)):(Q.setEnd(M.node,M.offset),J.addRange(Q))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ne=ae[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}eh=!!tm,nm=tm=null}finally{ft=h,me.p=l,ee.T=a}}t.current=i,cn=2}}function r_(){if(cn===2){cn=0;var t=Ds,i=wo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=me.p;me.p=2;var h=ft;ft|=4;try{Mv(t,i.alternate,i)}finally{ft=h,me.p=l,ee.T=a}}cn=3}}function s_(){if(cn===4||cn===3){cn=0,Dn();var t=Ds,i=wo,a=Fr,l=Gv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?cn=5:(cn=0,wo=Ds=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ns=null),us(a),i=i.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=me.p,me.p=2,ee.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{ee.T=i,me.p=h}}(Fr&3)!==0&&qc(),dr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?jl++:(jl=0,qd=t):jl=0,Bl(0)}}function a_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Tl(i)))}function qc(){return i_(),r_(),s_(),o_()}function o_(){if(cn!==5)return!1;var t=Ds,i=jd;jd=0;var a=us(Fr),l=ee.T,h=me.p;try{me.p=32>a?32:a,ee.T=null,a=Bd,Bd=null;var d=Ds,v=Fr;if(cn=0,wo=Ds=null,Fr=0,(ft&6)!==0)throw Error(s(331));var b=ft;if(ft|=4,qv(d.current),zv(d,d.current,v,a),ft=b,Bl(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{me.p=h,ee.T=l,a_(t,i)}}function l_(t,i,a){i=Di(a,i),i=Ed(t.stateNode,i,2),t=Ss(t,i,2),t!==null&&(qn(t,2),dr(t))}function pt(t,i,a){if(t.tag===3)l_(t,t,a);else for(;i!==null;){if(i.tag===3){l_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){t=Di(a,t),a=uv(2),l=Ss(i,a,2),l!==null&&(cv(a,l,i,t),qn(l,2),dr(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Db;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=Pb.bind(null,t,i,a),i.then(t,t))}function Pb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,bt===t&&(Ze&a)===a&&(Ht===4||Ht===3&&(Ze&62914560)===Ze&&300>wt()-Pc?(ft&2)===0&&bo(t,0):Ud|=a,To===Ze&&(To=0)),dr(t)}function u_(t,i){i===0&&(i=ca()),t=Ea(t,i),t!==null&&(qn(t,i),dr(t))}function Lb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(t,a)}function Ub(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),u_(t,a)}function zb(t,i){return Fe(t,i)}var Hc=null,Ao=null,Qd=!1,Fc=!1,Yd=!1,Os=0;function dr(t){t!==Ao&&t.next===null&&(Ao===null?Hc=Ao=t:Ao=Ao.next=t),Fc=!0,Qd||(Qd=!0,Bb())}function Bl(t,i){if(!Yd&&Fc){Yd=!0;do for(var a=!1,l=Hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ln(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Ze,d=Bn(l,l===bt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||bi(l,d)||(a=!0,d_(l,d));l=l.next}while(a);Yd=!1}}function jb(){c_()}function c_(){Fc=Qd=!1;var t=0;Os!==0&&Jb()&&(t=Os);for(var i=wt(),a=null,l=Hc;l!==null;){var h=l.next,d=h_(l,i);d===0?(l.next=null,a===null?Hc=h:a.next=h,h===null&&(Ao=a)):(a=l,(t!==0||(d&3)!==0)&&(Fc=!0)),l=h}cn!==0&&cn!==5||Bl(t),Os!==0&&(Os=0)}function h_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-ln(d),b=1<<v,N=h[v];N===-1?((b&a)===0||(b&l)!==0)&&(h[v]=os(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=bt,a=Ze,a=Bn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&an(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||bi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&an(l),us(a)){case 2:case 8:a=jt;break;case 32:a=ii;break;case 268435456:a=nr;break;default:a=ii}return l=f_.bind(null,t),a=Fe(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&an(l),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,i){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(qc()&&t.callbackNode!==a)return null;var l=Ze;return l=Bn(t,t===bt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yv(t,l,i),h_(t,wt()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function d_(t,i){if(qc())return null;Yv(t,i,!0)}function Bb(){Zb(function(){(ft&6)!==0?Fe(Mt,jb):c_()})}function Kd(){if(Os===0){var t=uo;t===0&&(t=ir,ir<<=1,(ir&261888)===0&&(ir=256)),Os=t}return Os}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:or(""+t)}function p_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function qb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=m_((h[Pt]||null).action),v=l.submitter;v&&(i=(i=v[Pt]||null)?m_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new da("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Os!==0){var N=v?p_(h,v):new FormData(h);md(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=v?p_(h,v):new FormData(h),md(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var $d=0;$d<Df.length;$d++){var Xd=Df[$d],Hb=Xd.toLowerCase(),Fb=Xd[0].toUpperCase()+Xd.slice(1);$i(Hb,"on"+Fb)}$i(Qg,"onAnimationEnd"),$i(Yg,"onAnimationIteration"),$i(Kg,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(ab,"onTransitionRun"),$i(ob,"onTransitionStart"),$i(lb,"onTransitionCancel"),$i($g,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function g_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],N=b.instance,Y=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){sc(te)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(b=l[v],N=b.instance,Y=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){sc(te)}h.currentTarget=null,d=N}}}}function Je(t,i){var a=i[Hn];a===void 0&&(a=i[Hn]=new Set);var l=t+"__bubble";a.has(l)||(y_(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),y_(a,t,l,i)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Gc]){t[Gc]=!0,Yi.forEach(function(a){a!=="selectionchange"&&(Gb.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Gc]||(i[Gc]=!0,Jd("selectionchange",!1,i))}}function y_(t,i,a,l){switch(Q_(i)){case 2:var h=_S;break;case 8:h=ES;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!cl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Gi(b),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Hu(function(){var Y=d,te=Xa(a),ae=[];e:{var K=Xg.get(t);if(K!==void 0){var J=da,_e=t;switch(t){case"keypress":if(fa(a)===0)break e;case"keydown":case"keyup":J=Wu;break;case"focusin":_e="focus",J=ms;break;case"focusout":_e="blur",J=ms;break;case"beforeblur":case"afterblur":J=ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ec;break;case Qg:case Yg:case Kg:J=Za;break;case $g:J=eo;break;case"scroll":case"scrollend":J=Fu;break;case"wheel":J=nc;break;case"copy":case"cut":case"paste":J=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=pl;break;case"toggle":case"beforetoggle":J=gs}var Oe=(i&4)!==0,Et=!Oe&&(t==="scroll"||t==="scrollend"),z=Oe?K!==null?K+"Capture":null:K;Oe=[];for(var M=Y,Q;M!==null;){var ne=M;if(Q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Q===null||z===null||(ne=$n(M,z),ne!=null&&Oe.push(Hl(M,ne,Q))),Et)break;M=M.return}0<Oe.length&&(K=new J(K,_e,null,a,te),ae.push({event:K,listeners:Oe}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",K&&a!==$a&&(_e=a.relatedTarget||a.fromElement)&&(Gi(_e)||_e[Mn]))break e;if((J||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,J?(_e=a.relatedTarget||a.toElement,J=Y,_e=_e?Gi(_e):null,_e!==null&&(Et=u(_e),Oe=_e.tag,_e!==Et||Oe!==5&&Oe!==27&&Oe!==6)&&(_e=null)):(J=null,_e=Y),J!==_e)){if(Oe=Gu,ne="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=pl,ne="onPointerLeave",z="onPointerEnter",M="pointer"),Et=J==null?K:Ar(J),Q=_e==null?K:Ar(_e),K=new Oe(ne,M+"leave",J,a,te),K.target=Et,K.relatedTarget=Q,ne=null,Gi(te)===Y&&(Oe=new Oe(z,M+"enter",_e,a,te),Oe.target=Q,Oe.relatedTarget=Et,ne=Oe),Et=ne,J&&_e)t:{for(Oe=Qb,z=J,M=_e,Q=0,ne=z;ne;ne=Oe(ne))Q++;ne=0;for(var xe=M;xe;xe=Oe(xe))ne++;for(;0<Q-ne;)z=Oe(z),Q--;for(;0<ne-Q;)M=Oe(M),ne--;for(;Q--;){if(z===M||M!==null&&z===M.alternate){Oe=z;break t}z=Oe(z),M=Oe(M)}Oe=null}else Oe=null;J!==null&&v_(ae,K,J,Oe,!1),_e!==null&&Et!==null&&v_(ae,Et,_e,Oe,!0)}}e:{if(K=Y?Ar(Y):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var ut=kg;else if(Xn(K))if(Pg)ut=ib;else{ut=tb;var Ee=eb}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&ll(Y.elementType)&&(ut=kg):ut=nb;if(ut&&(ut=ut(t,Y))){ya(ae,ut,a,te);break e}Ee&&Ee(t,K,Y),t==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Ci(K,"number",K.value)}switch(Ee=Y?Ar(Y):window,t){case"focusin":(Xn(Ee)||Ee.contentEditable==="true")&&(to=Ee,Cf=Y,vl=null);break;case"focusout":vl=Cf=to=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Fg(ae,a,te);break;case"selectionchange":if(sb)break;case"keydown":case"keyup":Fg(ae,a,te)}var He;if(y)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Qe?dt(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(F&&a.locale!=="ko"&&(Qe||et!=="onCompositionStart"?et==="onCompositionEnd"&&Qe&&(He=cs()):(ci=te,Ja="value"in ci?ci.value:ci.textContent,Qe=!0)),Ee=Qc(Y,et),0<Ee.length&&(et=new fl(et,t,null,a,te),ae.push({event:et,listeners:Ee}),He?et.data=He:(He=Jt(a),He!==null&&(et.data=He)))),(He=S?pn(t,a):gn(t,a))&&(et=Qc(Y,"onBeforeInput"),0<et.length&&(Ee=new fl("onBeforeInput","beforeinput",null,a,te),ae.push({event:Ee,listeners:et}),Ee.data=He)),qb(ae,t,Y,a,te)}g_(ae,i)})}function Hl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(t,a),h!=null&&l.unshift(Hl(t,h,d)),h=$n(t,i),h!=null&&l.push(Hl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,N=b.alternate,Y=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||Y===null||(N=Y,h?(Y=$n(a,d),Y!=null&&v.unshift(Hl(a,Y,N))):h||(Y=$n(a,d),Y!=null&&v.push(Hl(a,Y,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Yb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(Yb,`
`).replace(Kb,"")}function E_(t,i){return i=__(i),__(t)===i}function _t(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xi(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xi(t,""+l);break;case"className":$(t,"class",l);break;case"tabIndex":$(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$(t,a,l);break;case"style":Bu(t,l,d);break;case"data":if(i!=="object"){$(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=or(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&_t(t,i,"name",h.name,h,null),_t(t,i,"formEncType",h.formEncType,h,null),_t(t,i,"formMethod",h.formMethod,h,null),_t(t,i,"formTarget",h.formTarget,h,null)):(_t(t,i,"encType",h.encType,h,null),_t(t,i,"method",h.method,h,null),_t(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=or(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=mn);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),q(t,"popover",l);break;case"xlinkActuate":se(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":se(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":se(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":se(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":se(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":se(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":se(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":se(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":se(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":q(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wf.get(a)||a,q(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":Bu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xi(t,l):(typeof l=="number"||typeof l=="bigint")&&xi(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):q(t,a,l)}}}function Rn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:_t(t,i,d,v,a,null)}}h&&_t(t,i,"srcSet",a.srcSet,a,null),l&&_t(t,i,"src",a.src,a,null);return;case"input":Je("invalid",t);var b=d=v=h=null,N=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":v=te;break;case"checked":N=te;break;case"defaultChecked":Y=te;break;case"value":d=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:_t(t,i,l,te,a,null)}}Ii(t,d,b,N,Y,v,h,!1);return;case"select":Je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:_t(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ge(t,!!l,i,!1):a!=null&&Ge(t,!!l,a,!0);return;case"textarea":Je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:_t(t,i,v,b,a,null)}Rt(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,i,N,l,a,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)Je(ql[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:_t(t,i,Y,l,a,null)}return;default:if(ll(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&em(t,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&_t(t,i,b,l,a,null))}function $b(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,N=null,Y=null,te=null;for(J in a){var ae=a[J];if(a.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ae;default:l.hasOwnProperty(J)||_t(t,i,J,null,l,ae)}}for(var K in l){var J=l[K];if(ae=a[K],l.hasOwnProperty(K)&&(J!=null||ae!=null))switch(K){case"type":d=J;break;case"name":h=J;break;case"checked":Y=J;break;case"defaultChecked":te=J;break;case"value":v=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==ae&&_t(t,i,K,J,l,ae)}}wn(t,v,b,N,Y,te,d,h);return;case"select":J=v=b=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":J=N;default:l.hasOwnProperty(d)||_t(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==N&&_t(t,i,h,d,l,N)}i=b,a=v,l=J,K!=null?Ge(t,!!a,K,!1):!!l!=!!a&&(i!=null?Ge(t,!!a,i,!0):Ge(t,!!a,a?[]:"",!1));return;case"textarea":J=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:_t(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&_t(t,i,v,h,l,d)}li(t,K,J);return;case"option":for(var _e in a)if(K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:_t(t,i,_e,null,l,K)}for(N in l)if(K=l[N],J=a[N],l.hasOwnProperty(N)&&K!==J&&(K!=null||J!=null))switch(N){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:_t(t,i,N,K,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in a)K=a[Oe],a.hasOwnProperty(Oe)&&K!=null&&!l.hasOwnProperty(Oe)&&_t(t,i,Oe,null,l,K);for(Y in l)if(K=l[Y],J=a[Y],l.hasOwnProperty(Y)&&K!==J&&(K!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:_t(t,i,Y,K,l,J)}return;default:if(ll(i)){for(var Et in a)K=a[Et],a.hasOwnProperty(Et)&&K!==void 0&&!l.hasOwnProperty(Et)&&em(t,i,Et,void 0,l,K);for(te in l)K=l[te],J=a[te],!l.hasOwnProperty(te)||K===J||K===void 0&&J===void 0||em(t,i,te,K,l,J);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&_t(t,i,z,null,l,K);for(ae in l)K=l[ae],J=a[ae],!l.hasOwnProperty(ae)||K===J||K==null&&J==null||_t(t,i,ae,K,l,J)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&T_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],Y=N.startTime;if(Y>b)break;var te=N.transferSize,ae=N.initiatorType;te&&T_(ae)&&(N=N.responseEnd,v+=te*(N<b?1:(b-Y)/(N-Y)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Yc(t){return t.nodeType===9?t:t.ownerDocument}function w_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function Jb(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Zb=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(eS)}:S_;function eS(t){setTimeout(function(){throw t})}function Vs(t){return t==="head"}function R_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),xo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Fl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Fl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[On]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Fl(t.ownerDocument.body);a=h}while(a);xo(i)}function I_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[On])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pi(t.nextSibling),t===null)break}return null}function nS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pi(t.nextSibling),t===null))return null;return t}function C_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pi(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function iS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function x_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pi(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function D_(t,i,a){switch(i=Yc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ai(t)}var Li=new Map,M_=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gr=me.d;me.d={f:rS,r:sS,D:aS,C:oS,L:lS,m:uS,X:hS,S:cS,M:fS};function rS(){var t=Gr.f(),i=zc();return t||i}function sS(t){var i=Qi(t);i!==null&&i.tag===5&&i.type==="form"?$y(i):Gr.r(t)}var Ro=typeof document>"u"?null:document;function O_(t,i,a){var l=Ro;if(l&&typeof i=="string"&&i){var h=$e(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Rn(i,"link",t),Lt(i),l.head.appendChild(i)))}}function aS(t){Gr.D(t),O_("dns-prefetch",t,null)}function oS(t,i){Gr.C(t,i),O_("preconnect",t,i)}function lS(t,i,a){Gr.L(t,i,a);var l=Ro;if(l&&t&&i){var h='link[rel="preload"][as="'+$e(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+$e(a.imageSizes)+'"]')):h+='[href="'+$e(t)+'"]';var d=h;switch(i){case"style":d=Io(t);break;case"script":d=Co(t)}Li.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Li.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Gl(d))||i==="script"&&l.querySelector(Ql(d))||(i=l.createElement("link"),Rn(i,"link",t),Lt(i),l.head.appendChild(i)))}}function uS(t,i){Gr.m(t,i);var a=Ro;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Co(t)}if(!Li.has(d)&&(t=w({rel:"modulepreload",href:t},i),Li.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),Rn(l,"link",t),Lt(l),a.head.appendChild(l)}}}function cS(t,i,a){Gr.S(t,i,a);var l=Ro;if(l&&t){var h=ai(l).hoistableStyles,d=Io(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Gl(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Li.get(d))&&um(t,a);var N=v=l.createElement("link");Lt(N),Rn(N,"link",t),N._p=new Promise(function(Y,te){N.onload=Y,N.onerror=te}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$c(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function hS(t,i){Gr.X(t,i);var a=Ro;if(a&&t){var l=ai(a).hoistableScripts,h=Co(t),d=l.get(h);d||(d=a.querySelector(Ql(h)),d||(t=w({src:t,async:!0},i),(i=Li.get(h))&&cm(t,i),d=a.createElement("script"),Lt(d),Rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fS(t,i){Gr.M(t,i);var a=Ro;if(a&&t){var l=ai(a).hoistableScripts,h=Co(t),d=l.get(h);d||(d=a.querySelector(Ql(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Li.get(h))&&cm(t,i),d=a.createElement("script"),Lt(d),Rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V_(t,i,a,l){var h=(h=ge.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Io(a.href),a=ai(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Io(a.href);var d=ai(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Gl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Li.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Li.set(t,a),d||dS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Co(a),a=ai(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Io(t){return'href="'+$e(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function dS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Rn(i,"link",a),Lt(i),t.head.appendChild(i))}function Co(t){return'[src="'+$e(t)+'"]'}function Ql(t){return"script[async]"+t}function P_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return i.instance=l,Lt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),Rn(l,"style",h),$c(l,a.precedence,t),i.instance=l;case"stylesheet":h=Io(a.href);var d=t.querySelector(Gl(h));if(d)return i.state.loading|=4,i.instance=d,Lt(d),d;l=k_(a),(h=Li.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),Lt(d);var v=d;return v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),Rn(d,"link",l),i.state.loading|=4,$c(d,a.precedence,t),i.instance=d;case"script":return d=Co(a.src),(h=t.querySelector(Ql(d)))?(i.instance=h,Lt(h),h):(l=a,(h=Li.get(d))&&(l=w({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),Rn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$c(l,a.precedence,t));return i.instance}function $c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Xc=null;function L_(t,i,a){if(Xc===null){var l=new Map,h=Xc=new Map;h.set(a,l)}else h=Xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[On]||d[Ot]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function U_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function mS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function pS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Io(l.href),d=i.querySelector(Gl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Lt(d);return}d=i.ownerDocument||i,l=k_(l),(h=Li.get(h))&&um(l,h),d=d.createElement("link"),Lt(d);var v=d;v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),Rn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function gS(t,i){return t.stylesheets&&t.count===0&&Zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*Xb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wc=null;function Zc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wc=new Map,i.forEach(yS,t),Wc=null,Jc.call(t))}function yS(t,i){if(!(i.state.loading&4)){var a=Wc.get(t);if(a)var l=a.get(null);else{a=new Map,Wc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Yl={$$typeof:re,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function vS(t,i,a,l,h,d,v,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function j_(t,i,a,l,h,d,v,b,N,Y,te,ae){return t=new vS(t,i,a,v,N,Y,te,ae,b),i=1,d===!0&&(i|=24),d=fi(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function B_(t){return t?(t=ro,t):ro}function q_(t,i,a,l,h,d){h=B_(h),l.context===null?l.context=h:l.pendingContext=h,l=bs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ss(t,l,i),a!==null&&(ti(a,t,i),Al(a,t,i))}function H_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){H_(t,i),(t=t.alternate)&&H_(t,i)}function F_(t){if(t.tag===13||t.tag===31){var i=Ea(t,67108864);i!==null&&ti(i,t,67108864),fm(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var i=yi();i=ha(i);var a=Ea(t,i);a!==null&&ti(a,t,i),fm(t,i)}}var eh=!0;function _S(t,i,a,l){var h=ee.T;ee.T=null;var d=me.p;try{me.p=2,dm(t,i,a,l)}finally{me.p=d,ee.T=h}}function ES(t,i,a,l){var h=ee.T;ee.T=null;var d=me.p;try{me.p=8,dm(t,i,a,l)}finally{me.p=d,ee.T=h}}function dm(t,i,a,l){if(eh){var h=mm(l);if(h===null)Zd(t,i,l,th,a),Y_(t,l);else if(wS(h,t,i,a,l))l.stopPropagation();else if(Y_(t,l),i&4&&-1<TS.indexOf(t)){for(;h!==null;){var d=Qi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ri(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var N=1<<31-ln(v);b.entanglements[1]|=N,v&=~N}dr(d),(ft&6)===0&&(Lc=wt()+500,Bl(0))}}break;case 31:case 13:b=Ea(d,2),b!==null&&ti(b,d,2),zc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,th,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=Xa(t),pm(t)}var th=null;function pm(t){if(th=null,t=Gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return th=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case Mt:return 2;case jt:return 8;case ii:case wr:return 32;case nr:return 268435456;default:return 32}default:return 32}}var gm=!1,ks=null,Ps=null,Ls=null,Kl=new Map,$l=new Map,Us=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y_(t,i){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Qi(i),i!==null&&F_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function wS(t,i,a,l,h){switch(i){case"focusin":return ks=Xl(ks,t,i,a,l,h),!0;case"dragenter":return Ps=Xl(Ps,t,i,a,l,h),!0;case"mouseover":return Ls=Xl(Ls,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Xl(Kl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Xl($l.get(d)||null,t,i,a,l,h)),!0}return!1}function K_(t){var i=Gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Ka(t.priority,function(){G_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Ka(t.priority,function(){G_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$a=l,a.target.dispatchEvent(l),$a=null}else return i=Qi(a),i!==null&&F_(i),t.blockedOn=a,!1;i.shift()}return!0}function $_(t,i,a){nh(t)&&a.delete(i)}function bS(){gm=!1,ks!==null&&nh(ks)&&(ks=null),Ps!==null&&nh(Ps)&&(Ps=null),Ls!==null&&nh(Ls)&&(Ls=null),Kl.forEach($_),$l.forEach($_)}function ih(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bS)))}var rh=null;function X_(t){rh!==t&&(rh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rh===t&&(rh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=Qi(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xo(t){function i(N){return ih(N,t)}ks!==null&&ih(ks,t),Ps!==null&&ih(Ps,t),Ls!==null&&ih(Ls,t),Kl.forEach(i),$l.forEach(i);for(var a=0;a<Us.length;a++){var l=Us[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Us.length&&(a=Us[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&Us.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Pt]||null;if(typeof d=="function")v||X_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)b=v.formAction;else if(pm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),X_(a)}}}function J_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}sh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yi();q_(a,l,t,i,null,null)},sh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;q_(t.current,2,null,t,null,null),zc(),i[Mn]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Fi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Us.length&&i!==0&&i<Us[a].priority;a++);Us.splice(a,0,t),a===0&&K_(t)}};var W_=e.version;if(W_!=="19.2.3")throw Error(s(527,W_,"19.2.3"));me.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var SS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{jn=ah.inject(SS),on=ah}catch{}}return Wl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=sv,d=av,v=ov;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=j_(t,1,!1,null,null,a,l,null,h,d,v,J_),t[Mn]=i.current,Wd(t),new ym(i)},Wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=sv,v=av,b=ov,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=j_(t,1,!0,i,a??null,l,h,N,d,v,b,J_),i.context=B_(null),a=i.current,l=yi(),l=ha(l),h=bs(l),h.callback=null,Ss(a,h,l),a=l,i.current.lanes=a,qn(i,a),dr(i),t[Mn]=i.current,Wd(t),new sh(i)},Wl.version="19.2.3",Wl}var l0;function PS(){if(l0)return Em.exports;l0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=kS(),Em.exports}var LS=PS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u0="popstate";function US(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=qa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Qm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:du(u))}function s(o,u){wi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return jS(e,n,s,r)}function Ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zS(){return Math.random().toString(36).substring(2,10)}function c0(r,e){return{usr:r.state,key:r.key,idx:e}}function Qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:n,key:e&&e.key||s||zS()}}function du({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function qa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function jS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let U=E(),ue=U==null?null:U-g;g=U,p&&p({action:m,location:Z.location,delta:ue})}function A(U,ue){m="PUSH";let ce=Qm(Z.location,U,ue);n&&n(ce,U),g=E()+1;let re=c0(ce,g),Se=Z.createHref(ce);try{f.pushState(re,"",Se)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(Se)}u&&p&&p({action:m,location:Z.location,delta:1})}function k(U,ue){m="REPLACE";let ce=Qm(Z.location,U,ue);n&&n(ce,U),g=E();let re=c0(ce,g),Se=Z.createHref(ce);f.replaceState(re,"",Se),u&&p&&p({action:m,location:Z.location,delta:0})}function G(U){return BS(U)}let Z={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(u0,w),p=U,()=>{o.removeEventListener(u0,w),p=null}},createHref(U){return e(o,U)},createURL:G,encodeLocation(U){let ue=G(U);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:A,replace:k,go(U){return f.go(U)}};return Z}function BS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:du(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $E(r,e,n="/"){return qS(r,e,n,!1)}function qS(r,e,n,s){let o=typeof e=="string"?qa(e):e,u=Jr(o.pathname||"/",n);if(u==null)return null;let f=XE(r);HS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=eA(u);m=WS(f[p],g,s)}return m}function XE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=$r([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(Ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),XE(f.children,e,A,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:XS(w,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of JE(f.path))u(f,m,!0,g)}),e}function JE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=JE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function HS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:JS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FS=/^:[\w-]+$/,GS=3,QS=2,YS=1,KS=10,$S=-2,h0=r=>r==="*";function XS(r,e){let n=r.split("/"),s=n.length;return n.some(h0)&&(s+=$S),e&&(s+=QS),n.filter(o=>!h0(o)).reduce((o,u)=>o+(FS.test(u)?GS:u===""?YS:KS),s)}function JS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function WS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:$r([u,w.pathname]),pathnameBase:rA($r([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=$r([u,w.pathnameBase]))}return f}function Ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ZS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let G=m[A]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const k=m[A];return w&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function ZS(r,e=!1,n=!0){wi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Jr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tA=r=>WE.test(r);function nA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?qa(r):r,u;if(n)if(tA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),wi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=f0(n.substring(1),"/"):u=f0(n,e)}else u=e;return{pathname:u,search:sA(s),hash:aA(o)}}function f0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ZE(r){let e=iA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function eT(r,e,n,s=!1){let o;typeof r=="string"?o=qa(r):(o={...r},Ut(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),Ut(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),Ut(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=nA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var $r=r=>r.join("/").replace(/\/\/+/g,"/"),rA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),sA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,oA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function uA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nT(r,e){let n=r;if(typeof n!="string"||!WE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(tT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Jr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{wi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iT=["POST","PUT","PATCH","DELETE"];new Set(iT);var cA=["GET",...iT];new Set(cA);var Xo=L.createContext(null);Xo.displayName="DataRouter";var Jh=L.createContext(null);Jh.displayName="DataRouterState";var hA=L.createContext(!1),rT=L.createContext({isTransitioning:!1});rT.displayName="ViewTransition";var fA=L.createContext(new Map);fA.displayName="Fetchers";var dA=L.createContext(null);dA.displayName="Await";var Bi=L.createContext(null);Bi.displayName="Navigation";var Tu=L.createContext(null);Tu.displayName="Location";var rs=L.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Rp=L.createContext(null);Rp.displayName="RouteError";var sT="REACT_ROUTER_ERROR",mA="REDIRECT",pA="ROUTE_ERROR_RESPONSE";function gA(r){if(r.startsWith(`${sT}:${mA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yA(r){if(r.startsWith(`${sT}:${pA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new oA(e.status,e.statusText,e.data)}catch{}}function vA(r,{relative:e}={}){Ut(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Bi),{hash:o,pathname:u,search:f}=bu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$r([n,u])),s.createHref({pathname:m,search:f,hash:o})}function wu(){return L.useContext(Tu)!=null}function aa(){return Ut(wu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Tu).location}var aT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oT(r){L.useContext(Bi).static||L.useLayoutEffect(r)}function Ip(){let{isDataRoute:r}=L.useContext(rs);return r?DA():_A()}function _A(){Ut(wu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Xo),{basename:e,navigator:n}=L.useContext(Bi),{matches:s}=L.useContext(rs),{pathname:o}=aa(),u=JSON.stringify(ZE(s)),f=L.useRef(!1);return oT(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(wi(f.current,aT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=eT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$r([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}L.createContext(null);function bu(r,{relative:e}={}){let{matches:n}=L.useContext(rs),{pathname:s}=aa(),o=JSON.stringify(ZE(n));return L.useMemo(()=>eT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function EA(r,e){return lT(r,e)}function lT(r,e,n,s,o){var ce;Ut(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Bi),{matches:f}=L.useContext(rs),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";cT(g,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let A=aa(),k;if(e){let re=typeof e=="string"?qa(e):e;Ut(E==="/"||((ce=re.pathname)==null?void 0:ce.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),k=re}else k=A;let G=k.pathname||"/",Z=G;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Z="/"+G.replace(/^\//,"").split("/").slice(re.length).join("/")}let U=$E(r,{pathname:Z});wi(w||U!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),wi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=AA(U&&U.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:$r([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:$r([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ue?L.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},ue):ue}function TA(){let r=NA(),e=lA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var wA=L.createElement(TA,null),uT=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=yA(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(rs.Provider,{value:this.props.routeContext},L.createElement(Rp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(bA,{error:r},e):e}};uT.contextType=hA;var Am=new WeakMap;function bA({children:r,error:e}){let{basename:n}=L.useContext(Bi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=gA(e.digest);if(s){let o=Am.get(e);if(o)throw o;let u=nT(s.location,n);if(tT&&!Am.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(e,f),f}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function SA({routeContext:r,match:e,children:n}){let s=L.useContext(Xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(rs.Provider,{value:r},n)}function AA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Ut(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let w=u[E];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=E),w.route.id){let{loaderData:A,errors:k}=n,G=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!k||k[w.route.id]===void 0);if(w.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,w)=>{var A,k;s(E,{location:n.location,params:((k=(A=n.matches)==null?void 0:A[0])==null?void 0:k.params)??{},unstable_pattern:uA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((E,w,A)=>{let k,G=!1,Z=null,U=null;n&&(k=f&&w.route.id?f[w.route.id]:void 0,Z=w.route.errorElement||wA,m&&(p<0&&A===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,U=null):p===A&&(G=!0,U=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,A+1)),ce=()=>{let re;return k?re=Z:G?re=U:w.route.Component?re=L.createElement(w.route.Component,null):w.route.element?re=w.route.element:re=E,L.createElement(SA,{match:w,routeContext:{outlet:E,matches:ue,isDataRoute:n!=null},children:re})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?L.createElement(uT,{location:n.location,revalidation:n.revalidation,component:Z,error:k,children:ce(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:g}):ce()},null)}function Cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(r){let e=L.useContext(Xo);return Ut(e,Cp(r)),e}function IA(r){let e=L.useContext(Jh);return Ut(e,Cp(r)),e}function CA(r){let e=L.useContext(rs);return Ut(e,Cp(r)),e}function xp(r){let e=CA(r),n=e.matches[e.matches.length-1];return Ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function xA(){return xp("useRouteId")}function NA(){var s;let r=L.useContext(Rp),e=IA("useRouteError"),n=xp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function DA(){let{router:r}=RA("useNavigate"),e=xp("useNavigate"),n=L.useRef(!1);return oT(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{wi(n.current,aT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var d0={};function cT(r,e,n){!e&&!d0[r]&&(d0[r]=!0,wi(!1,n))}L.memo(MA);function MA({routes:r,future:e,state:n,onError:s}){return lT(r,void 0,n,s,e)}function Ym(r){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ut(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=qa(n));let{pathname:g="/",search:E="",hash:w="",state:A=null,key:k="default"}=n,G=L.useMemo(()=>{let Z=Jr(g,m);return Z==null?null:{location:{pathname:Z,search:E,hash:w,state:A,key:k},navigationType:s}},[m,g,E,w,A,k,s]);return wi(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:L.createElement(Bi.Provider,{value:p},L.createElement(Tu.Provider,{children:e,value:G}))}function VA({children:r,location:e}){return EA(Km(r),e)}function Km(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Km(s.props.children,u));return}Ut(s.type===Ym,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Km(s.props.children,u)),n.push(f)}),n}var gh="get",yh="application/x-www-form-urlencoded";function Wh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function kA(r){return Wh(r)&&r.tagName.toLowerCase()==="button"}function PA(r){return Wh(r)&&r.tagName.toLowerCase()==="form"}function LA(r){return Wh(r)&&r.tagName.toLowerCase()==="input"}function UA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zA(r,e){return r.button===0&&(!e||e==="_self")&&!UA(r)}function $m(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function jA(r,e){let n=$m(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var oh=null;function BA(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var qA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!qA.has(r)?(wi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):r}function HA(r,e){let n,s,o,u,f;if(PA(r)){let m=r.getAttribute("action");s=m?Jr(m,e):null,n=r.getAttribute("method")||gh,o=Rm(r.getAttribute("enctype"))||yh,u=new FormData(r)}else if(kA(r)||LA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Jr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||gh,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||yh,u=new FormData(m,r),!BA()){let{name:g,type:E,value:w}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gh,s=null,o=yh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Jr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function GA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function YA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await GA(u,n);return f.links?f.links():[]}return[]}));return JA(s.flat(1).filter(QA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function m0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function KA(r,e,{includeHydrateFallback:n}={}){return $A(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $A(r){return[...new Set(r)]}function XA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function JA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(XA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function hT(){let r=L.useContext(Xo);return Np(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function WA(){let r=L.useContext(Jh);return Np(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Dp=L.createContext(void 0);Dp.displayName="FrameworkContext";function fT(){let r=L.useContext(Dp);return Np(r,"You must render this element inside a <HydratedRouter> element"),r}function ZA(r,e){let n=L.useContext(Dp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ue=>{ue.forEach(ce=>{f(ce.isIntersecting)})},U=new IntersectionObserver(Z,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[r]),L.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let k=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Zl(m,k),onBlur:Zl(p,G),onMouseEnter:Zl(g,k),onMouseLeave:Zl(E,G),onTouchStart:Zl(w,k)}]:[!1,A,{}]}function Zl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function eR({page:r,...e}){let{router:n}=hT(),s=L.useMemo(()=>$E(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(nR,{page:r,matches:s,...e}):null}function tR(r){let{manifest:e,routeModules:n}=fT(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return YA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function nR({page:r,matches:e,...n}){let s=aa(),{future:o,manifest:u,routeModules:f}=fT(),{basename:m}=hT(),{loaderData:p,matches:g}=WA(),E=L.useMemo(()=>m0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=L.useMemo(()=>m0(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,U=!1;if(e.forEach(ce=>{var Se;let re=u.routes[ce.route.id];!re||!re.hasLoader||(!E.some(Pe=>Pe.route.id===ce.route.id)&&ce.route.id in p&&((Se=f[ce.route.id])!=null&&Se.shouldRevalidate)||re.hasClientLoader?U=!0:Z.add(ce.route.id))}),Z.size===0)return[];let ue=FA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&Z.size>0&&ue.searchParams.set("_routes",e.filter(ce=>Z.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[ue.pathname+ue.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),k=L.useMemo(()=>KA(w,u),[w,u]),G=tR(w);return L.createElement(L.Fragment,null,A.map(Z=>L.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),k.map(Z=>L.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),G.map(({key:Z,link:U})=>L.createElement("link",{key:Z,nonce:n.nonce,...U})))}function iR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rR&&(window.__reactRouterVersion="7.12.0")}catch{}function sR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=US({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(OA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mT=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...k},G){let{basename:Z,unstable_useTransitions:U}=L.useContext(Bi),ue=typeof g=="string"&&dT.test(g),ce=nT(g,Z);g=ce.to;let re=vA(g,{relative:o}),[Se,Pe,Ne]=ZA(s,k),D=uR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:U});function I(O){e&&e(O),O.defaultPrevented||D(O)}let C=L.createElement("a",{...k,...Ne,href:ce.absoluteURL||re,onClick:ce.isExternal||u?e:I,ref:iR(G,Pe),target:p,"data-discover":!ue&&n==="render"?"true":void 0});return Se&&!ue?L.createElement(L.Fragment,null,C,L.createElement(eR,{page:re})):C});mT.displayName="Link";var aR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=bu(f,{relative:g.relative}),A=aa(),k=L.useContext(Jh),{navigator:G,basename:Z}=L.useContext(Bi),U=k!=null&&pR(w)&&m===!0,ue=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,ce=A.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ce=ce.toLowerCase(),re=re?re.toLowerCase():null,ue=ue.toLowerCase()),re&&Z&&(re=Jr(re,Z)||re);const Se=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Pe=ce===ue||!o&&ce.startsWith(ue)&&ce.charAt(Se)==="/",Ne=re!=null&&(re===ue||!o&&re.startsWith(ue)&&re.charAt(ue.length)==="/"),D={isActive:Pe,isPending:Ne,isTransitioning:U},I=Pe?e:void 0,C;typeof s=="function"?C=s(D):C=[s,Pe?"active":null,Ne?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(D):u;return L.createElement(mT,{...g,"aria-current":I,className:C,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(D):p)});aR.displayName="NavLink";var oR=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=gh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A,...k},G)=>{let{unstable_useTransitions:Z}=L.useContext(Bi),U=dR(),ue=mR(m,{relative:g}),ce=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&dT.test(m),Se=Pe=>{if(p&&p(Pe),Pe.defaultPrevented)return;Pe.preventDefault();let Ne=Pe.nativeEvent.submitter,D=(Ne==null?void 0:Ne.getAttribute("formmethod"))||f,I=()=>U(Ne||Pe.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:A});Z&&n!==!1?L.startTransition(()=>I()):I()};return L.createElement("form",{ref:G,method:ce,action:ue,onSubmit:s?p:Se,...k,"data-discover":!re&&r==="render"?"true":void 0})});oR.displayName="Form";function lR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let e=L.useContext(Xo);return Ut(e,lR(r)),e}function uR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Ip(),E=aa(),w=bu(r,{relative:u});return L.useCallback(A=>{if(zA(A,e)){A.preventDefault();let k=n!==void 0?n:du(E)===du(w),G=()=>g(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>G()):G()}},[E,g,w,n,s,e,r,o,u,f,m,p])}function cR(r){wi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef($m(r)),n=L.useRef(!1),s=aa(),o=L.useMemo(()=>jA(s.search,n.current?null:e.current),[s.search]),u=Ip(),f=L.useCallback((m,p)=>{const g=$m(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var hR=0,fR=()=>`__${String(++hR)}__`;function dR(){let{router:r}=pT("useSubmit"),{basename:e}=L.useContext(Bi),n=xA(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:w}=HA(u,e);if(f.navigate===!1){let A=f.fetcherKey||fR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function mR(r,{relative:e}={}){let{basename:n}=L.useContext(Bi),s=L.useContext(rs);Ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(r||".",{relative:e})},f=aa();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$r([n,u.pathname])),du(u)}function pR(r,{relative:e}={}){let n=L.useContext(rT);Ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pT("useViewTransitionState"),o=bu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ch(o.pathname,f)!=null||Ch(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...yR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:gT("lucide",o),...m},[...f.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(vR,{ref:u,iconNode:e,className:gT(`lucide-${gR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Nn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Nn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Nn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Nn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=Nn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Nn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=Nn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Nn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Nn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Nn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Nn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Nn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Nn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Nn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Nn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Nn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),IR=()=>{};var g0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},CR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(A=64)),s.push(n[E],n[w],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_T(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new xR;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),w!==64){const G=g<<6&192|w;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(r){const e=_T(r);return ET.encodeByteArray(e,!0)},xh=function(r){return NR(r).replace(/\./g,"")},TT=function(r){try{return ET.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>DR().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof g0>"u")return;const r=g0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},VR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&TT(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return IR()||MR()||OR()||VR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wT=r=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},kR=r=>{const e=wT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bT=()=>{var r;return(r=Zh())===null||r===void 0?void 0:r.config},ST=r=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xh(JSON.stringify(n)),xh(JSON.stringify(f)),""].join(".")}const su={};function UR(){const r={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?r.emulator.push(e):r.prod.push(e);return r}function zR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let y0=!1;function RT(r,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||su[r]===e||su[r]||y0)return;su[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=UR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{y0=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=zR(s),k=n("text"),G=document.getElementById(k)||document.createElement("span"),Z=n("learnmore"),U=document.getElementById(Z)||document.createElement("a"),ue=n("preprendIcon"),ce=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(U,Z);const Se=g();p(ce,ue),re.append(ce,G,U,Se),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function BR(){var r;const e=(r=Zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GR(){const r=zn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QR(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YR(){try{return typeof indexedDB=="object"}catch{return!1}}function KR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="FirebaseError";class ss extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$R,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?XR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ss(o,m,s)}}function XR(r,e){return r.replace(JR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JR=/\{\$([^}]+)}/g;function WR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Wr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(v0(u)&&v0(f)){if(!Wr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function v0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ZR(r,e){const n=new e2(r,e);return n.subscribe.bind(n)}class e2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");t2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r){return r&&r._delegate?r._delegate:r}class Ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new PR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r2(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(r){return r===Va?void 0:r}function r2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(tt||(tt={}));const a2={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},o2=tt.INFO,l2={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},u2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=l2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=o2,this._logHandler=u2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const c2=(r,e)=>e.some(n=>r instanceof n);let _0,E0;function h2(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f2(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,Wm=new WeakMap,CT=new WeakMap,xm=new WeakMap,Op=new WeakMap;function d2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,r)}).catch(()=>{}),Op.set(e,r),e}function m2(r){if(Wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Wm.set(r,e)}let Zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||CT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function p2(r){Zm=r(Zm)}function g2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Nm(this),e,...n);return CT.set(s,e.sort?e.sort():[e]),Qs(s)}:f2().includes(r)?function(...e){return r.apply(Nm(this),e),Qs(IT.get(this))}:function(...e){return Qs(r.apply(Nm(this),e))}}function y2(r){return typeof r=="function"?g2(r):(r instanceof IDBTransaction&&m2(r),c2(r,h2())?new Proxy(r,Zm):r)}function Qs(r){if(r instanceof IDBRequest)return d2(r);if(xm.has(r))return xm.get(r);const e=y2(r);return e!==r&&(xm.set(r,e),Op.set(e,r)),e}const Nm=r=>Op.get(r);function v2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Qs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Qs(f.result),p.oldVersion,p.newVersion,Qs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _2=["get","getKey","getAll","getAllKeys","count"],E2=["put","add","delete","clear"],Dm=new Map;function T0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=E2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Dm.set(e,u),u}p2(r=>({...r,get:(e,n,s)=>T0(e,n)||r.get(e,n,s),has:(e,n)=>!!T0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function w2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",w0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Mp("@firebase/app"),b2="@firebase/app-compat",S2="@firebase/analytics-compat",A2="@firebase/analytics",R2="@firebase/app-check-compat",I2="@firebase/app-check",C2="@firebase/auth",x2="@firebase/auth-compat",N2="@firebase/database",D2="@firebase/data-connect",M2="@firebase/database-compat",O2="@firebase/functions",V2="@firebase/functions-compat",k2="@firebase/installations",P2="@firebase/installations-compat",L2="@firebase/messaging",U2="@firebase/messaging-compat",z2="@firebase/performance",j2="@firebase/performance-compat",B2="@firebase/remote-config",q2="@firebase/remote-config-compat",H2="@firebase/storage",F2="@firebase/storage-compat",G2="@firebase/firestore",Q2="@firebase/ai",Y2="@firebase/firestore-compat",K2="firebase",$2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",X2={[ep]:"fire-core",[b2]:"fire-core-compat",[A2]:"fire-analytics",[S2]:"fire-analytics-compat",[I2]:"fire-app-check",[R2]:"fire-app-check-compat",[C2]:"fire-auth",[x2]:"fire-auth-compat",[N2]:"fire-rtdb",[D2]:"fire-data-connect",[M2]:"fire-rtdb-compat",[O2]:"fire-fn",[V2]:"fire-fn-compat",[k2]:"fire-iid",[P2]:"fire-iid-compat",[L2]:"fire-fcm",[U2]:"fire-fcm-compat",[z2]:"fire-perf",[j2]:"fire-perf-compat",[B2]:"fire-rc",[q2]:"fire-rc-compat",[H2]:"fire-gcs",[F2]:"fire-gcs-compat",[G2]:"fire-fst",[Y2]:"fire-fst-compat",[Q2]:"fire-vertex","fire-js":"fire-js",[K2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,J2=new Map,np=new Map;function b0(r,e){try{r.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Bo(r){const e=r.name;if(np.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,r);for(const n of Nh.values())b0(n,r);for(const n of J2.values())b0(n,r);return!0}function Vp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Su("app","Firebase",W2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=$2;function xT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ys.create("bad-app-name",{appName:String(o)});if(n||(n=bT()),!n)throw Ys.create("no-options");const u=Nh.get(o);if(u){if(Wr(n,u.options)&&Wr(s,u.config))return u;throw Ys.create("duplicate-app",{appName:o})}const f=new s2(o);for(const p of np.values())f.addComponent(p);const m=new Z2(n,s,f);return Nh.set(o,m),m}function NT(r=tp){const e=Nh.get(r);if(!e&&r===tp&&bT())return xT();if(!e)throw Ys.create("no-app",{appName:r});return e}function Ks(r,e,n){var s;let o=(s=X2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(m.join(" "));return}Bo(new Ua(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebase-heartbeat-database",tI=1,mu="firebase-heartbeat-store";let Mm=null;function DT(){return Mm||(Mm=v2(eI,tI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ys.create("idb-open",{originalErrorMessage:r.message})})),Mm}async function nI(r){try{const n=(await DT()).transaction(mu),s=await n.objectStore(mu).get(MT(r));return await n.done,s}catch(e){if(e instanceof ss)Zr.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function S0(r,e){try{const s=(await DT()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,MT(r)),await s.done}catch(n){if(n instanceof ss)Zr.warn(n.message);else{const s=Ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(s.message)}}}function MT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1024,rI=30;class sI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=A0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>rI){const f=lI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A0(),{heartbeatsToSend:s,unsentEntries:o}=aI(this._heartbeatsCache.heartbeats),u=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zr.warn(n),""}}}function A0(){return new Date().toISOString().substring(0,10)}function aI(r,e=iI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),R0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),R0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YR()?KR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function R0(r){return xh(JSON.stringify({version:2,heartbeats:r})).length}function lI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r){Bo(new Ua("platform-logger",e=>new T2(e),"PRIVATE")),Bo(new Ua("heartbeat",e=>new sI(e),"PRIVATE")),Ks(ep,w0,r),Ks(ep,w0,"esm2017"),Ks("fire-js","")}uI("");function kp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cI=OT,VT=new Su("auth","Firebase",OT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Mp("@firebase/auth");function hI(r,...e){Dh.logLevel<=tt.WARN&&Dh.warn(`Auth (${Wo}): ${r}`,...e)}function vh(r,...e){Dh.logLevel<=tt.ERROR&&Dh.error(`Auth (${Wo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,...e){throw Lp(r,...e)}function Zi(r,...e){return Lp(r,...e)}function Pp(r,e,n){const s=Object.assign(Object.assign({},cI()),{[e]:n});return new Su("auth","Firebase",s).create(e,{appName:r.name})}function $s(r){return Pp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Er(r,"argument-error"),Pp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VT.create(r,...e)}function Le(r,e,...n){if(!r)throw Lp(e,...n)}function Yr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function es(r,e){r||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function fI(){return I0()==="http:"||I0()==="https:"}function I0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fI()||HR()||"connection"in navigator)?navigator.onLine:!0}function mI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=jR()||FR()}get(){return dI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r,e){es(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new Ru(3e4,6e4);function zp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Zo(r,e,n,s,o={}){return LT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Au(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return qR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Jo(r.emulatorConfig.host)&&(g.credentials="include"),PT.fetch()(await UT(r,r.config.apiHost,n,m),g)})}async function LT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},pI),e);try{const o=new _I(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ch(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ch(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Pp(r,E,g);Er(r,E)}}catch(o){if(o instanceof ss)throw o;Er(r,"network-request-failed",{message:String(o)})}}async function vI(r,e,n,s,o={}){const u=await Zo(r,e,n,s,o);return"mfaPendingCredential"in u&&Er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function UT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Up(r.config,o):`${r.config.apiScheme}://${o}`;return gI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class _I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Zi(this.auth,"network-request-failed")),yI.get())})}}function ch(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Zi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(r,e){return Zo(r,"POST","/v1/accounts:delete",e)}async function Mh(r,e){return Zo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TI(r,e=!1){const n=Gt(r),s=await n.getIdToken(e),o=jp(s);Le(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:au(Om(o.auth_time)),issuedAtTime:au(Om(o.iat)),expirationTime:au(Om(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Om(r){return Number(r)*1e3}function jp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=TT(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function C0(r){const e=jp(r);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ss&&wI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await pu(r,Mh(n,{idToken:s}));Le(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?zT(u.providerUserInfo):[],m=AI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new rp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function SI(r){const e=Gt(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function zT(r){return r.map(e=>{var{providerId:n}=e,s=kp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,e){const n=await LT(r,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await UT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Jo(r.emulatorConfig.host)&&(p.credentials="include"),PT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function II(r,e){return Zo(r,"POST","/v2/accounts:revokeToken",zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=C0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Lo;return s&&(Le(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Le(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Le(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(r,e){Le(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new rp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TI(this,e)}reload(){return SI(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await pu(this,EI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,G=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ue=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ce=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:Se,isAnonymous:Pe,providerData:Ne,stsTokenManager:D}=n;Le(re&&D,e,"internal-error");const I=Lo.fromJSON(this.name,D);Le(typeof re=="string",e,"internal-error"),js(w,e.name),js(A,e.name),Le(typeof Se=="boolean",e,"internal-error"),Le(typeof Pe=="boolean",e,"internal-error"),js(k,e.name),js(G,e.name),js(Z,e.name),js(U,e.name),js(ue,e.name),js(ce,e.name);const C=new Wi({uid:re,auth:e,email:A,emailVerified:Se,displayName:w,isAnonymous:Pe,photoURL:G,phoneNumber:k,tenantId:Z,stsTokenManager:I,createdAt:ue,lastLoginAt:ce});return Ne&&Array.isArray(Ne)&&(C.providerData=Ne.map(O=>Object.assign({},O))),U&&(C._redirectEventId=U),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Lo;o.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Le(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?zT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Lo;m.updateFromIdToken(s);const p=new Wi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function Kr(r){es(r instanceof Function,"Expected a class definition");let e=x0.get(r);return e?(es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,x0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const sp=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(r,e,n){return`firebase:${r}:${e}:${n}`}class Uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,e):null}return Wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Uo(Kr(sp),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Kr(sp);const f=_h(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await Mh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Wi._fromGetAccountInfoResponse(e,A,E)}else w=Wi._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(YT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||HT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function BT(r=zn()){return/firefox\//i.test(r)}function qT(r=zn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HT(r=zn()){return/crios\//i.test(r)}function FT(r=zn()){return/iemobile/i.test(r)}function GT(r=zn()){return/android/i.test(r)}function QT(r=zn()){return/blackberry/i.test(r)}function YT(r=zn()){return/webos/i.test(r)}function Bp(r=zn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CI(r=zn()){var e;return Bp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xI(){return GR()&&document.documentMode===10}function KT(r=zn()){return Bp(r)||GT(r)||YT(r)||QT(r)||/windows phone/i.test(r)||FT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e=[]){let n;switch(r){case"Browser":n=N0(zn());break;case"Worker":n=`${N0(zn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e={}){return Zo(r,"GET","/v2/passwordPolicy",zp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=6;class OI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:MI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D0(this),this.idTokenSubscription=new D0(this),this.beforeStateQueue=new NI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject($s(this));const n=e?Gt(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DI(this),n=new OI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await II(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Iu(r){return Gt(r)}class D0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZR(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kI(r){qp=r}function PI(r){return qp.loadJS(r)}function LI(){return qp.gapiScript}function UI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r,e){const n=Vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Wr(u,e??{}))return o;Er(o,"already-initialized")}return n.initialize({options:e})}function jI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function BI(r,e,n){const s=Iu(r);Le(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=XT(e),{host:f,port:m}=qI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Le(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Le(Wr(g,s.config.emulator)&&Wr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Jo(f)?(AT(`${u}//${f}${p}`),RT("Auth",!0)):HI()}function XT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function qI(r){const e=XT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:M0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:M0(f)}}}function M0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function HI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(r,e){return vI(r,"POST","/v1/accounts:signInWithIdp",zp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="http://localhost";class za extends JT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=kp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new za(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,zo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:FI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Cu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return za._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Cu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Cu{constructor(){super("twitter.com")}static credential(e,n){return za._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Hs.credential(n,s)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wi._fromIdTokenResponse(e,s,o),f=O0(s);return new qo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=O0(s);return new qo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function O0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends ss{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Vh(e,n,s,o)}}function WT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(r,u,e,s):u})}async function GI(r,e,n=!1){const s=await pu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return qo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e,n=!1){const{auth:s}=r;if(zi(s.app))return Promise.reject($s(s));const o="reauthenticate";try{const u=await pu(r,WT(s,o,e,r),n);Le(u.idToken,s,"internal-error");const f=jp(u.idToken);Le(f,s,"internal-error");const{sub:m}=f;return Le(r.uid===m,s,"user-mismatch"),qo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r,e,n=!1){if(zi(r.app))return Promise.reject($s(r));const s="signIn",o=await WT(r,s,e),u=await qo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r,e){return Gt(r).setPersistence(e)}function KI(r,e,n,s){return Gt(r).onIdTokenChanged(e,n,s)}function $I(r,e,n){return Gt(r).beforeAuthStateChanged(e,n)}function ZT(r,e,n,s){return Gt(r).onAuthStateChanged(e,n,s)}function XI(r){return Gt(r).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1e3,WI=10;class t1 extends e1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);xI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t1.type="LOCAL";const tf=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends e1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n1.type="SESSION";const i1=n1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await ZI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function tC(r){gr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function nC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function rC(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebaseLocalStorageDb",sC=1,Ph="firebaseLocalStorage",a1="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(r,e){return r.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function aC(){const r=indexedDB.deleteDatabase(s1);return new xu(r).toPromise()}function ap(){const r=indexedDB.open(s1,sC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ph,{keyPath:a1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await aC(),e(await ap()))})})}async function V0(r,e,n){const s=rf(r,!0).put({[a1]:e,value:n});return new xu(s).toPromise()}async function oC(r,e){const n=rf(r,!1).get(e),s=await new xu(n).toPromise();return s===void 0?null:s.value}function k0(r,e){const n=rf(r,!0).delete(e);return new xu(n).toPromise()}const lC=800,uC=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>uC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(rC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await V0(e,kh,"1"),await k0(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>V0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const l1=o1;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r,e){return e?Kr(e):(Le(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends JT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cC(r){return YI(r.auth,new Gp(r),r.bypassAuthState)}function hC(r){const{auth:e,user:n}=r;return Le(n,e,"internal-error"),QI(n,new Gp(r),r.bypassAuthState)}async function fC(r){const{auth:e,user:n}=r;return Le(n,e,"internal-error"),GI(n,new Gp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return hC;default:Er(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Ru(2e3,1e4);async function mC(r,e,n){if(zi(r.app))return Promise.reject(Zi(r,"operation-not-supported-in-this-environment"));const s=Iu(r);kT(r,e,ef);const o=Fp(s,n);return new ka(s,"signInViaPopup",e,o).executeNotNull()}class ka extends u1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dC.get())};e()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="pendingRedirect",Eh=new Map;class gC extends u1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const s=await yC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yC(r,e){const n=h1(e),s=c1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function vC(r,e){return c1(r)._set(h1(e),"true")}function _C(r,e){Eh.set(r._key(),e)}function c1(r){return Kr(r._redirectPersistence)}function h1(r){return _h(pC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r,e,n){return EC(r,e,n)}async function EC(r,e,n){if(zi(r.app))return Promise.reject($s(r));const s=Iu(r);kT(r,e,ef),await s._initializationPromise;const o=Fp(s,n);return await vC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function TC(r,e,n=!1){if(zi(r.app))return Promise.reject($s(r));const s=Iu(r),o=Fp(s,e),f=await new gC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=600*1e3;class bC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!f1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wC&&this.cachedEventUids.clear(),this.cachedEventUids.has(L0(e))}saveEventToCache(e){this.cachedEventUids.add(L0(e)),this.lastProcessedEventTime=Date.now()}}function L0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function f1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,e={}){return Zo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function CC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AC(r);for(const n of e)try{if(xC(n))return}catch{}Er(r,"unauthorized-domain")}function xC(r){const e=ip(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!IC.test(n))return!1;if(RC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Ru(3e4,6e4);function U0(){const r=gr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DC(r){return new Promise((e,n)=>{var s,o,u;function f(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),n(Zi(r,"network-request-failed"))},timeout:NC.get()})}if(!((o=(s=gr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gr().gapi)===null||u===void 0)&&u.load)f();else{const m=UI("iframefcb");return gr()[m]=()=>{gapi.load?f():n(Zi(r,"network-request-failed"))},PI(`${LI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Th=null,e})}let Th=null;function MC(r){return Th=Th||DC(r),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new Ru(5e3,15e3),VC="__/auth/iframe",kC="emulator/auth/iframe",PC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UC(r){const e=r.config;Le(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Up(e,kC):`https://${r.config.authDomain}/${VC}`,s={apiKey:e.apiKey,appName:r.name,v:Wo},o=LC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Au(s).slice(1)}`}async function zC(r){const e=await MC(r),n=gr().gapi;return Le(n,r,"internal-error"),e.open({where:document.body,url:UC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Zi(r,"network-request-failed"),m=gr().setTimeout(()=>{u(f)},OC.get());function p(){gr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BC=500,qC=600,HC="_blank",FC="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GC(r,e,n,s=BC,o=qC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},jC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=zn().toLowerCase();n&&(m=HT(g)?HC:n),BT(g)&&(e=e||FC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,G])=>`${A}${k}=${G},`,"");if(CI(g)&&m!=="_self")return QC(e||"",m),new z0(null);const w=window.open(e||"",m,E);Le(w,r,"popup-blocked");try{w.focus()}catch{}return new z0(w)}function QC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="__/auth/handler",KC="emulator/auth/handler",$C=encodeURIComponent("fac");async function j0(r,e,n,s,o,u){Le(r.config.authDomain,r,"auth-domain-config-required"),Le(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Wo,eventId:o};if(e instanceof ef){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",WR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Cu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${$C}=${encodeURIComponent(p)}`:"";return`${XC(r)}?${Au(m).slice(1)}${g}`}function XC({config:r}){return r.emulator?Up(r,KC):`https://${r.authDomain}/${YC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class JC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=TC,this._overrideRedirectResult=_C}async _openPopup(e,n,s,o){var u;es((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await j0(e,n,s,ip(),o);return GC(e,f,Hp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await j0(e,n,s,ip(),o);return tC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(es(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await zC(e),s=new bC(e);return n.register("authEvent",o=>(Le(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Vm];f!==void 0&&n(!!f),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KT()||qT()||Bp()}}const WC=JC;var B0="@firebase/auth",q0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tx(r){Bo(new Ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Le(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$T(r)},g=new VI(s,o,u,p);return jI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Bo(new Ua("auth-internal",e=>{const n=Iu(e.getProvider("auth").getImmediate());return(s=>new ZC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(B0,q0,ex(r)),Ks(B0,q0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=300,ix=ST("authIdTokenMaxAge")||nx;let H0=null;const rx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ix)return;const o=n==null?void 0:n.token;H0!==o&&(H0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function sx(r=NT()){const e=Vp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=zI(r,{popupRedirectResolver:WC,persistence:[l1,tf,i1]}),s=ST("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rx(u.toString());$I(n,f,()=>f(n.currentUser)),KI(n,m=>f(m))}}const o=wT("auth");return o&&BI(n,`http://${o}`),n}function ax(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}kI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Zi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ax().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tx("Browser");var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,d1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function C(){}C.prototype=I.prototype,D.D=I.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(O,P,j){for(var x=Array(arguments.length-2),St=2;St<arguments.length;St++)x[St-2]=arguments[St];return I.prototype[P].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,I,C){C||(C=0);var O=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)O[P]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(P=0;16>P;++P)O[P]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=D.g[0],C=D.g[1],P=D.g[2];var j=D.g[3],x=I+(j^C&(P^j))+O[0]+3614090360&4294967295;I=C+(x<<7&4294967295|x>>>25),x=j+(P^I&(C^P))+O[1]+3905402710&4294967295,j=I+(x<<12&4294967295|x>>>20),x=P+(C^j&(I^C))+O[2]+606105819&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(I^P&(j^I))+O[3]+3250441966&4294967295,C=P+(x<<22&4294967295|x>>>10),x=I+(j^C&(P^j))+O[4]+4118548399&4294967295,I=C+(x<<7&4294967295|x>>>25),x=j+(P^I&(C^P))+O[5]+1200080426&4294967295,j=I+(x<<12&4294967295|x>>>20),x=P+(C^j&(I^C))+O[6]+2821735955&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(I^P&(j^I))+O[7]+4249261313&4294967295,C=P+(x<<22&4294967295|x>>>10),x=I+(j^C&(P^j))+O[8]+1770035416&4294967295,I=C+(x<<7&4294967295|x>>>25),x=j+(P^I&(C^P))+O[9]+2336552879&4294967295,j=I+(x<<12&4294967295|x>>>20),x=P+(C^j&(I^C))+O[10]+4294925233&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(I^P&(j^I))+O[11]+2304563134&4294967295,C=P+(x<<22&4294967295|x>>>10),x=I+(j^C&(P^j))+O[12]+1804603682&4294967295,I=C+(x<<7&4294967295|x>>>25),x=j+(P^I&(C^P))+O[13]+4254626195&4294967295,j=I+(x<<12&4294967295|x>>>20),x=P+(C^j&(I^C))+O[14]+2792965006&4294967295,P=j+(x<<17&4294967295|x>>>15),x=C+(I^P&(j^I))+O[15]+1236535329&4294967295,C=P+(x<<22&4294967295|x>>>10),x=I+(P^j&(C^P))+O[1]+4129170786&4294967295,I=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(I^C))+O[6]+3225465664&4294967295,j=I+(x<<9&4294967295|x>>>23),x=P+(I^C&(j^I))+O[11]+643717713&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^I&(P^j))+O[0]+3921069994&4294967295,C=P+(x<<20&4294967295|x>>>12),x=I+(P^j&(C^P))+O[5]+3593408605&4294967295,I=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(I^C))+O[10]+38016083&4294967295,j=I+(x<<9&4294967295|x>>>23),x=P+(I^C&(j^I))+O[15]+3634488961&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^I&(P^j))+O[4]+3889429448&4294967295,C=P+(x<<20&4294967295|x>>>12),x=I+(P^j&(C^P))+O[9]+568446438&4294967295,I=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(I^C))+O[14]+3275163606&4294967295,j=I+(x<<9&4294967295|x>>>23),x=P+(I^C&(j^I))+O[3]+4107603335&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^I&(P^j))+O[8]+1163531501&4294967295,C=P+(x<<20&4294967295|x>>>12),x=I+(P^j&(C^P))+O[13]+2850285829&4294967295,I=C+(x<<5&4294967295|x>>>27),x=j+(C^P&(I^C))+O[2]+4243563512&4294967295,j=I+(x<<9&4294967295|x>>>23),x=P+(I^C&(j^I))+O[7]+1735328473&4294967295,P=j+(x<<14&4294967295|x>>>18),x=C+(j^I&(P^j))+O[12]+2368359562&4294967295,C=P+(x<<20&4294967295|x>>>12),x=I+(C^P^j)+O[5]+4294588738&4294967295,I=C+(x<<4&4294967295|x>>>28),x=j+(I^C^P)+O[8]+2272392833&4294967295,j=I+(x<<11&4294967295|x>>>21),x=P+(j^I^C)+O[11]+1839030562&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^I)+O[14]+4259657740&4294967295,C=P+(x<<23&4294967295|x>>>9),x=I+(C^P^j)+O[1]+2763975236&4294967295,I=C+(x<<4&4294967295|x>>>28),x=j+(I^C^P)+O[4]+1272893353&4294967295,j=I+(x<<11&4294967295|x>>>21),x=P+(j^I^C)+O[7]+4139469664&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^I)+O[10]+3200236656&4294967295,C=P+(x<<23&4294967295|x>>>9),x=I+(C^P^j)+O[13]+681279174&4294967295,I=C+(x<<4&4294967295|x>>>28),x=j+(I^C^P)+O[0]+3936430074&4294967295,j=I+(x<<11&4294967295|x>>>21),x=P+(j^I^C)+O[3]+3572445317&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^I)+O[6]+76029189&4294967295,C=P+(x<<23&4294967295|x>>>9),x=I+(C^P^j)+O[9]+3654602809&4294967295,I=C+(x<<4&4294967295|x>>>28),x=j+(I^C^P)+O[12]+3873151461&4294967295,j=I+(x<<11&4294967295|x>>>21),x=P+(j^I^C)+O[15]+530742520&4294967295,P=j+(x<<16&4294967295|x>>>16),x=C+(P^j^I)+O[2]+3299628645&4294967295,C=P+(x<<23&4294967295|x>>>9),x=I+(P^(C|~j))+O[0]+4096336452&4294967295,I=C+(x<<6&4294967295|x>>>26),x=j+(C^(I|~P))+O[7]+1126891415&4294967295,j=I+(x<<10&4294967295|x>>>22),x=P+(I^(j|~C))+O[14]+2878612391&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~I))+O[5]+4237533241&4294967295,C=P+(x<<21&4294967295|x>>>11),x=I+(P^(C|~j))+O[12]+1700485571&4294967295,I=C+(x<<6&4294967295|x>>>26),x=j+(C^(I|~P))+O[3]+2399980690&4294967295,j=I+(x<<10&4294967295|x>>>22),x=P+(I^(j|~C))+O[10]+4293915773&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~I))+O[1]+2240044497&4294967295,C=P+(x<<21&4294967295|x>>>11),x=I+(P^(C|~j))+O[8]+1873313359&4294967295,I=C+(x<<6&4294967295|x>>>26),x=j+(C^(I|~P))+O[15]+4264355552&4294967295,j=I+(x<<10&4294967295|x>>>22),x=P+(I^(j|~C))+O[6]+2734768916&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~I))+O[13]+1309151649&4294967295,C=P+(x<<21&4294967295|x>>>11),x=I+(P^(C|~j))+O[4]+4149444226&4294967295,I=C+(x<<6&4294967295|x>>>26),x=j+(C^(I|~P))+O[11]+3174756917&4294967295,j=I+(x<<10&4294967295|x>>>22),x=P+(I^(j|~C))+O[2]+718787259&4294967295,P=j+(x<<15&4294967295|x>>>17),x=C+(j^(P|~I))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var C=I-this.blockSize,O=this.B,P=this.h,j=0;j<I;){if(P==0)for(;j<=C;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<I;)if(O[P++]=D.charCodeAt(j++),P==this.blockSize){o(this,O),P=0;break}}else for(;j<I;)if(O[P++]=D[j++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=I},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var C=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.u(D),D=Array(16),I=C=0;4>I;++I)for(var O=0;32>O;O+=8)D[C++]=this.g[I]>>>O&255;return D};function u(D,I){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=I(D)}function f(D,I){this.h=I;for(var C=[],O=!0,P=D.length-1;0<=P;P--){var j=D[P]|0;O&&j==I||(C[P]=j,O=!1)}this.g=C}var m={};function p(D){return-128<=D&&128>D?u(D,function(I){return new f([I|0],0>I?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return U(g(-D));for(var I=[],C=1,O=0;D>=C;O++)I[O]=D/C|0,C*=4294967296;return new f(I,0)}function E(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return U(E(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),O=w,P=0;P<D.length;P+=8){var j=Math.min(8,D.length-P),x=parseInt(D.substring(P,P+j),I);8>j?(j=g(Math.pow(I,j)),O=O.j(j).add(g(x))):(O=O.j(C),O=O.add(g(x)))}return O}var w=p(0),A=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-U(this).m();for(var D=0,I=1,C=0;C<this.g.length;C++){var O=this.i(C);D+=(0<=O?O:4294967296+O)*I,I*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(Z(this))return"-"+U(this).toString(D);for(var I=g(Math.pow(D,6)),C=this,O="";;){var P=Se(C,I).g;C=ue(C,P.j(I));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=P,G(C))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function Z(D){return D.h==-1}r.l=function(D){return D=ue(this,D),Z(D)?-1:G(D)?0:1};function U(D){for(var I=D.g.length,C=[],O=0;O<I;O++)C[O]=~D.g[O];return new f(C,~D.h).add(A)}r.abs=function(){return Z(this)?U(this):this},r.add=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],O=0,P=0;P<=I;P++){var j=O+(this.i(P)&65535)+(D.i(P)&65535),x=(j>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);O=x>>>16,j&=65535,x&=65535,C[P]=x<<16|j}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(D,I){return D.add(U(I))}r.j=function(D){if(G(this)||G(D))return w;if(Z(this))return Z(D)?U(this).j(U(D)):U(U(this).j(D));if(Z(D))return U(this.j(U(D)));if(0>this.l(k)&&0>D.l(k))return g(this.m()*D.m());for(var I=this.g.length+D.g.length,C=[],O=0;O<2*I;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<D.g.length;P++){var j=this.i(O)>>>16,x=this.i(O)&65535,St=D.i(P)>>>16,kt=D.i(P)&65535;C[2*O+2*P]+=x*kt,ce(C,2*O+2*P),C[2*O+2*P+1]+=j*kt,ce(C,2*O+2*P+1),C[2*O+2*P+1]+=x*St,ce(C,2*O+2*P+1),C[2*O+2*P+2]+=j*St,ce(C,2*O+2*P+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new f(C,0)};function ce(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function re(D,I){this.g=D,this.h=I}function Se(D,I){if(G(I))throw Error("division by zero");if(G(D))return new re(w,w);if(Z(D))return I=Se(U(D),I),new re(U(I.g),U(I.h));if(Z(I))return I=Se(D,U(I)),new re(U(I.g),I.h);if(30<D.g.length){if(Z(D)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=I;0>=O.l(D);)C=Pe(C),O=Pe(O);var P=Ne(C,1),j=Ne(O,1);for(O=Ne(O,2),C=Ne(C,2);!G(O);){var x=j.add(O);0>=x.l(D)&&(P=P.add(C),j=x),O=Ne(O,1),C=Ne(C,1)}return I=ue(D,P.j(I)),new re(P,I)}for(P=w;0<=D.l(I);){for(C=Math.max(1,Math.floor(D.m()/I.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(C),x=j.j(I);Z(x)||0<x.l(D);)C-=O,j=g(C),x=j.j(I);G(j)&&(j=A),P=P.add(j),D=ue(D,x)}return new re(P,D)}r.A=function(D){return Se(this,D).h},r.and=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)&D.i(O);return new f(C,this.h&D.h)},r.or=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)|D.i(O);return new f(C,this.h|D.h)},r.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)^D.i(O);return new f(C,this.h^D.h)};function Pe(D){for(var I=D.g.length+1,C=[],O=0;O<I;O++)C[O]=D.i(O)<<1|D.i(O-1)>>>31;return new f(C,D.h)}function Ne(D,I){var C=I>>5;I%=32;for(var O=D.g.length-C,P=[],j=0;j<O;j++)P[j]=0<I?D.i(j+C)>>>I|D.i(j+C+1)<<32-I:D.i(j+C);return new f(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,d1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Xs=f}).apply(typeof F0<"u"?F0:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1,eu,p1,wh,op,g1,y1,v1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break e;_=_[F]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function G(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,W){for(var pe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)pe[dt-2]=arguments[dt];return y.prototype[F].apply(S,pe)}}function Z(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const F=c.length||0,W=S.length||0;c.length=F+W;for(let pe=0;pe<W;pe++)c[F+pe]=S[pe]}else c.push(S)}}class ue{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ce(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Se(c){return Se[" "](c),c}Se[" "]=function(){};var Pe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Ne(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function x(){var c=We;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class St{constructor(){this.h=this.g=null}add(y,_){const S=kt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var kt=new ue(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Te=!1,We=new St,H=()=>{const c=m.Promise.resolve(void 0);me=()=>{c.then(T)}};var T=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){j(_)}var y=kt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Te=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function he(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Pe){e:{try{Se(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&he.aa.h.call(this)}}G(he,X);var ge={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ce(c,y,_,S,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=F,this.key=++be,this.da=this.fa=!1}function we(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c){this.src=c,this.g={},this.h=0}Be.prototype.add=function(c,y,_,S,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var pe=at(c,y,S,F);return-1<pe?(y=c[pe],_||(y.fa=!1)):(y=new Ce(y,this.src,W,!!S,F),y.fa=_,c.push(y)),y};function je(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(S,F,1),W&&(we(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function at(c,y,_,S){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==S)return F}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(c,y,_,S,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)yt(c,y[W],_,S,F);return null}return _=tr(_),c&&c[fe]?c.K(y,_,g(S)?!!S.capture:!1,F):At(c,y,_,!1,S,F)}function At(c,y,_,S,F,W){if(!y)throw Error("Invalid event type");var pe=g(F)?!!F.capture:!!F,dt=Dn(c);if(dt||(c[Me]=dt=new Be(c)),_=dt.add(y,_,S,pe,W),_.proxy)return _;if(S=Qt(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)le||(F=pe),F===void 0&&(F=!1),c.addEventListener(y.toString(),S,F);else if(c.attachEvent)c.attachEvent(an(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qt(){function c(_){return y.call(c.src,c.listener,_)}const y=Kn;return c}function Dt(c,y,_,S,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)Dt(c,y[W],_,S,F);else S=g(S)?!!S.capture:!!S,_=tr(_),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=at(W,_,S,F),-1<_&&(we(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Dn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=at(y,_,S,F)),(_=-1<c?y[c]:null)&&Fe(_))}function Fe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])je(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(an(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Dn(y))?(je(_,c),_.h==0&&(_.src=null,y[Me]=null)):we(c)}}}function an(c){return c in gt?gt[c]:gt[c]="on"+c}function Kn(c,y){if(c.da)c=!0;else{y=new he(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Fe(c),c=_.call(S,y)}return c}function Dn(c){return c=c[Me],c instanceof Be?c:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function tr(c){return typeof c=="function"?c:(c[wt]||(c[wt]=function(y){return c.handleEvent(y)}),c[wt])}function Mt(){B.call(this),this.i=new Be(this),this.M=this,this.F=null}G(Mt,B),Mt.prototype[fe]=!0,Mt.prototype.removeEventListener=function(c,y,_,S){Dt(this,c,y,_,S)};function jt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var F=y;y=new X(S,c),O(y,F)}if(F=!0,_)for(var W=_.length-1;0<=W;W--){var pe=y.g=_[W];F=ii(pe,S,!0,y)&&F}if(pe=y.g=c,F=ii(pe,S,!0,y)&&F,F=ii(pe,S,!1,y)&&F,_)for(W=0;W<_.length;W++)pe=y.g=_[W],F=ii(pe,S,!1,y)&&F}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)we(_[S]);delete c.g[y],c.h--}}this.F=null},Mt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},Mt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function ii(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var pe=y[W];if(pe&&!pe.da&&pe.capture==_){var dt=pe.listener,Jt=pe.ha||pe.src;pe.fa&&je(c.i,pe),F=dt.call(Jt,S)!==!1&&F}}return F&&!S.defaultPrevented}function wr(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function nr(c){c.g=wr(()=>{c.g=null,c.i&&(c.i=!1,nr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class br extends B{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:nr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(c){B.call(this),this.h=c,this.g={}}G(qi,B);var jn=[];function on(c){Ne(c.g,function(y,_){this.g.hasOwnProperty(_)&&Fe(y)},c),c.g={}}qi.prototype.N=function(){qi.aa.N.call(this),on(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=m.JSON.stringify,ln=m.JSON.parse,Ya=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ua(){}ua.prototype.h=null;function as(c){return c.h||(c.h=c.i())}function ir(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){X.call(this,"d")}G(un,X);function ri(){X.call(this,"c")}G(ri,X);var Bn={},bi=null;function os(){return bi=bi||new Mt}Bn.La="serverreachability";function ca(c){X.call(this,Bn.La,c)}G(ca,X);function si(c){const y=os();jt(y,new ca(y))}Bn.STAT_EVENT="statevent";function qn(c,y){X.call(this,Bn.STAT_EVENT,c),this.stat=y}G(qn,X);function Bt(c){const y=os();jt(y,new qn(y,c))}Bn.Ma="timingevent";function ls(c,y){X.call(this,Bn.Ma,c),this.size=y}G(ls,X);function rr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function ha(c,y,_,S,F,W){c.info(function(){if(c.g)if(W)for(var pe="",dt=W.split("&"),Jt=0;Jt<dt.length;Jt++){var Qe=dt[Jt].split("=");if(1<Qe.length){var pn=Qe[0];Qe=Qe[1];var gn=pn.split("_");pe=2<=gn.length&&gn[1]=="type"?pe+(pn+"="+Qe+"&"):pe+(pn+"=redacted&")}}else pe=null;else pe=W;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+_+`
`+pe})}function us(c,y,_,S,F,W,pe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+_+`
`+W+" "+pe})}function Fi(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Si(c,_)+(S?" "+S:"")})}function Ka(c,y){c.info(function(){return"TIMEOUT: "+y})}Hi.prototype.info=function(){};function Si(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var pe=1;pe<F.length;pe++)F[pe]=""}}}}return En(_)}catch{return y}}var Ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Hn(){}G(Hn,ua),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},Mn=new Hn;function ot(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}var sr={},On={};function Ai(c,y,_){c.L=1,c.v=li($e(y)),c.m=_,c.P=!0,Gi(c,null)}function Gi(c,y){c.F=Date.now(),ai(c),c.A=$e(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ir(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Sr,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new br(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(jn[0]=F.toString()),F=jn);for(var W=0;W<F.length;W++){var pe=yt(_,F[W],S||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),si(),ha(c.i,c.u,c.A,c.l,c.R,c.m)}ot.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},ot.prototype.Y=function(c){try{if(c==this.g)e:{const gn=Fn(this.g);var y=this.g.Ba();const ys=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||ma(this.g)))){this.J||gn!=4||y==7||(y==8||0>=ys?si(3):si(2)),Yi(this);var _=this.g.Z();this.X=_;t:if(Qi(this)){var S=ma(this.g);c="";var F=S.length,W=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),ar(this);var pe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==F-1)});S.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=_==200,us(this.i,this.u,this.A,this.l,this.R,gn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Jt=this.g;if((dt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ce(dt)){var Qe=dt;break t}}Qe=null}if(_=Qe)Fi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ri(this,_);else{this.o=!1,this.s=3,Bt(12),Tn(this),ar(this);break e}}if(this.P){_=!0;let Xn;for(;!this.J&&this.C<pe.length;)if(Xn=Ar(this,pe),Xn==On){gn==4&&(this.s=4,Bt(14),_=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==sr){this.s=4,Bt(15),Fi(this.i,this.l,pe,"[Invalid Chunk]"),_=!1;break}else Fi(this.i,this.l,Xn,null),Ri(this,Xn);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||pe.length!=0||this.h.h||(this.s=1,Bt(16),_=!1),this.o=this.o&&_,!_)Fi(this.i,this.l,pe,"[Invalid Chunked Response]"),Tn(this),ar(this);else if(0<pe.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ml(pn),pn.M=!0,Bt(11))}}else Fi(this.i,this.l,pe,null),Ri(this,pe);gn==4&&Tn(this),this.o&&!this.J&&(gn==4?Ju(this.j,this):(this.o=!1,ai(this)))}else Gu(this.g),_==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Tn(this),ar(this)}}}catch{}finally{}};function Qi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ar(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?On:(_=Number(y.substring(_,S)),isNaN(_)?sr:(S+=1,S+_>y.length?On:(y=y.slice(S,S+_),c.C=S+_,y)))}ot.prototype.cancel=function(){this.J=!0,Tn(this)};function ai(c){c.S=Date.now()+c.I,Lt(c,c.I)}function Lt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rr(A(c.ba,c),y)}function Yi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ot.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ka(this.i,this.A),this.L!=2&&(si(),Bt(17)),Tn(this),this.s=2,ar(this)):Lt(this,this.S-c)};function ar(c){c.j.G==0||c.J||Ju(c.j,c)}function Tn(c){Yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,on(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ri(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||q(_.h,c))){if(!c.K&&q(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ps(_),ms(_);else break e;dl(_),Bt(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=rr(A(_.Za,_),6e3));if(1>=R(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xr(_,11)}else if((c.K||_.g==c)&&ps(_),!ce(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Qe=F[y];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const pn=Qe[3];pn!=null&&(_.la=pn,_.j.info("VER="+_.la));const gn=Qe[4];gn!=null&&(_.Aa=gn,_.j.info("SVER="+_.Aa));const ys=Qe[5];ys!=null&&typeof ys=="number"&&0<ys&&(S=1.5*ys,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Xn=c.g;if(Xn){const ya=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var W=S.h;W.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&($(W,W.h),W.h=null))}if(S.D){const Nr=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nr&&(S.ya=Nr,Ge(S.I,S.D,Nr))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var pe=c;if(S.qa=Zu(S,S.J?S.ia:null,S.W),pe.K){se(S.h,pe);var dt=pe,Jt=S.L;Jt&&(dt.I=Jt),dt.B&&(Yi(dt),ai(dt)),S.g=pe}else $u(S);0<_.i.length&&Za(_)}else Qe[0]!="stop"&&Qe[0]!="close"||xr(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?xr(_,7):hl(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}si(4)}catch{}}var al=class{constructor(c,y){this.g=c,this.map=y}};function Rr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function R(c){return c.h?1:c.g?c.g.size:0}function q(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $(c,y){c.g?c.g.add(y):c.h=y}function se(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Rr.prototype.cancel=function(){if(this.i=de(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function de(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Z(c.i)}function Ae(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function Re(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function lt(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Re(c),S=Ae(c),F=S.length,W=0;W<F;W++)y.call(void 0,S[W],_&&_[W],c)}var ht=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ke(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var W=c[_].substring(0,S);F=c[_].substring(S+1)}else W=c[_];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ke(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ke){this.h=c.h,wn(this,c.j),this.o=c.o,this.g=c.g,Ii(this,c.s),this.l=c.l;var y=c.i,_=new or;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ci(this,_),this.m=c.m}else c&&(y=String(c).match(ht))?(this.h=!1,wn(this,y[1]||"",!0),this.o=Rt(y[2]||""),this.g=Rt(y[3]||"",!0),Ii(this,y[4]),this.l=Rt(y[5]||"",!0),Ci(this,y[6]||"",!0),this.m=Rt(y[7]||"")):(this.h=!1,this.i=new or(null,this.h))}ke.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xi(y,ol,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xi(y,ol,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xi(_,_.charAt(0)=="/"?ll:Bu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xi(_,bf)),c.join("")};function $e(c){return new ke(c)}function wn(c,y,_){c.j=_?Rt(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ii(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ci(c,y,_){y instanceof or?(c.i=y,qu(c.i,c.h)):(_||(y=xi(y,wf)),c.i=new or(y,c.h))}function Ge(c,y,_){c.i.set(y,_)}function li(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rt(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xi(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Tf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ol=/[#\/\?@]/g,Bu=/[#\?:]/g,ll=/[#\?]/g,wf=/[#\?@]/g,bf=/#/g;function or(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ke(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=or.prototype,r.add=function(c,y){mn(this),this.i=null,c=ui(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function $a(c,y){mn(c),y=ui(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xa(c,y){return mn(c),y=ui(c,y),c.g.has(y)}r.forEach=function(c,y){mn(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(y,F,S,this)},this)},this)},r.na=function(){mn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const F=c[S];for(let W=0;W<F.length;W++)_.push(y[S])}return _},r.V=function(c){mn(this);let y=[];if(typeof c=="string")Xa(this,c)&&(y=y.concat(this.g.get(ui(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return mn(this),this.i=null,c=ui(this,c),Xa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ir(c,y,_){$a(c,y),0<_.length&&(c.i=null,c.g.set(ui(c,y),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const W=encodeURIComponent(String(S)),pe=this.V(S);for(S=0;S<pe.length;S++){var F=W;pe[S]!==""&&(F+="="+encodeURIComponent(String(pe[S]))),c.push(F)}}return this.i=c.join("&")};function ui(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function qu(c,y){y&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&($a(this,S),Ir(this,F,_))},c)),c.j=y}function ul(c,y){const _=new Hi;if(m.Image){const S=new Image;S.onload=k($n,_,"TestLoadImage: loaded",!0,y,S),S.onerror=k($n,_,"TestLoadImage: error",!1,y,S),S.onabort=k($n,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=k($n,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hu(c,y){const _=new Hi,S=new AbortController,F=setTimeout(()=>{S.abort(),$n(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(F),W.ok?$n(_,"TestPingServer: ok",!0,y):$n(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),$n(_,"TestPingServer: error",!1,y)})}function $n(c,y,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function Ki(){this.g=new Ya}function cl(c,y,_){const S=_||"";try{lt(c,function(F,W){let pe=F;g(F)&&(pe=En(F)),y.push(S+W+"="+encodeURIComponent(pe))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function lr(c){this.l=c.Ub||null,this.j=c.eb||!1}G(lr,ua),lr.prototype.g=function(){return new ci(this.l,this.j)},lr.prototype.i=(function(c){return function(){return c}})({});function ci(c,y){Mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(ci,Mt),r=ci.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,cs(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ja(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ja(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ur(this):cs(this),this.readyState==3&&Ja(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ur(this))},r.Qa=function(c){this.g&&(this.response=c,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cs(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function cs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fa(c){let y="";return Ne(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function hs(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=fa(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ge(c,y,_))}function It(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(It,Mt);var Vn=/^https?$/i,Cr=["POST","PUT"];r=It.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?as(this.o):as(Mn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){da(this,W);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())_.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cr,y,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,pe]of _)this.g.setRequestHeader(W,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){da(this,W)}};function da(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fs(c),ds(c)}function fs(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),ds(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),It.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fu(this):this.bb())},r.bb=function(){Fu(this)};function Fu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)wr(c.Ea,0,c);else if(jt(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=pe===0){var F=String(c.D).match(ht)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),S=!Vn.test(F?F.toLowerCase():"")}_=S}if(_)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var W=2<Fn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",fs(c)}}finally{ds(c)}}}}function ds(c,y){if(c.g){Wa(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||jt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Wa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ln(y)}};function ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gu(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ce(c[S]))continue;var _=P(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[F]||[];y[F]=W,W.push(_)}D(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Qu(c){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Rr(c&&c.concurrentRequestLimit),this.Da=new Ki,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qu.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){Bt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Zu(this,null,this.W),Za(this)};function hl(c){if(Yu(c),c.G==3){var y=c.U++,_=$e(c.I);if(Ge(_,"SID",c.K),Ge(_,"RID",y),Ge(_,"TYPE","terminate"),ga(c,_),y=new ot(c,c.j,y),y.L=2,y.v=li($e(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ai(y)}pl(c)}function ms(c){c.g&&(ml(c),c.g.cancel(),c.g=null)}function Yu(c){ms(c),c.u&&(m.clearTimeout(c.u),c.u=null),ps(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Za(c){if(!oi(c.h)&&!c.s){c.s=!0;var y=c.Ga;me||H(),Te||(me(),Te=!0),We.add(y,c),c.B=0}}function Sf(c,y){return R(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rr(A(c.Ga,c,y),Wu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new ot(this,this.j,c);let W=this.o;if(this.S&&(W?(W=I(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=fl(this,F,y),_=$e(this.I),Ge(_,"RID",c),Ge(_,"CVER",22),this.D&&Ge(_,"X-HTTP-Session-Id",this.D),ga(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(fa(W)))+"&"+y:this.m&&hs(_,this.m,W)),$(this.h,F),this.Ua&&Ge(_,"TYPE","init"),this.P?(Ge(_,"$req",y),Ge(_,"SID","null"),F.T=!0,Ai(F,_,null)):Ai(F,_,y),this.G=2}}else this.G==3&&(c?Ku(this,c):this.i.length==0||oi(this.h)||Ku(this))};function Ku(c,y){var _;y?_=y.l:_=c.U++;const S=$e(c.I);Ge(S,"SID",c.K),Ge(S,"RID",_),Ge(S,"AID",c.T),ga(c,S),c.m&&c.o&&hs(S,c.m,c.o),_=new ot(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=fl(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$(c.h,_),Ai(_,S,y)}function ga(c,y){c.H&&Ne(c.H,function(_,S){Ge(y,S,_)}),c.l&&lt({},function(_,S){Ge(y,S,_)})}function fl(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const pe=["count="+_];W==-1?0<_?(W=F[0].g,pe.push("ofs="+W)):W=0:pe.push("ofs="+W);let dt=!0;for(let Jt=0;Jt<_;Jt++){let Qe=F[Jt].g;const pn=F[Jt].map;if(Qe-=W,0>Qe)W=Math.max(0,F[Jt].g-100),dt=!1;else try{cl(pn,pe,"req"+Qe+"_")}catch{S&&S(pn)}}if(dt){S=pe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;me||H(),Te||(me(),Te=!0),We.add(y,c),c.v=0}}function dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rr(A(c.Fa,c),Wu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rr(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),ms(this),Xu(this))};function ml(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new ot(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=$e(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),ga(c,y),c.m&&c.o&&hs(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=li($e(y)),_.m=null,_.P=!0,Gi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ms(this),dl(this),Bt(19))};function ps(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ju(c,y){var _=null;if(c.g==y){ps(c),ml(c),c.g=null;var S=2}else if(q(c.h,y))_=y.D,se(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;S=os(),jt(S,new ls(S,_)),Za(c)}else $u(c);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&Sf(c,y)||S==2&&dl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:xr(c,5);break;case 4:xr(c,10);break;case 3:xr(c,6);break;default:xr(c,2)}}}function Wu(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function xr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const F=!S;S=new ke(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wn(S,"https"),li(S),F?ul(S.toString(),_):Hu(S.toString(),_)}else Bt(2);c.G=0,c.l&&c.l.sa(y),pl(c),Yu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function pl(c){if(c.G=0,c.ka=[],c.l){const y=de(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,_){var S=_ instanceof ke?$e(_):new ke(_);if(S.g!="")y&&(S.g=y+"."+S.g),Ii(S,S.s);else{var F=m.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new ke(null);S&&wn(W,S),y&&(W.g=y),F&&Ii(W,F),_&&(W.l=_),S=W}return _=c.D,y=c.ya,_&&y&&Ge(S,_,y),Ge(S,"VER",c.la),ga(c,S),S}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new It(new lr({eb:_})):new It(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}r=tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function eo(){}eo.prototype.g=function(c,y){return new Gn(c,y)};function Gn(c,y){Mt.call(this),this.g=new Qu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ce(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ce(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gs(this)}G(Gn,Mt),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){hl(this.g)},Gn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=En(c),c=_);y.i.push(new al(y.Ya++,c)),y.G==3&&Za(y)},Gn.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,Gn.aa.N.call(this)};function nc(c){un.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}G(nc,un);function ic(){ri.call(this),this.status=1}G(ic,ri);function gs(c){this.g=c}G(gs,tc),gs.prototype.ua=function(){jt(this.g,"a")},gs.prototype.ta=function(c){jt(this.g,new nc(c))},gs.prototype.sa=function(c){jt(this.g,new ic)},gs.prototype.ra=function(){jt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,v1=function(){return new eo},y1=function(){return os()},g1=Bn,op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ot.NO_ERROR=0,Ot.TIMEOUT=8,Ot.HTTP_ERROR=6,wh=Ot,Pt.COMPLETE="complete",p1=Pt,ir.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,eu=ir,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,m1=It}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const G0="@firebase/firestore",Q0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Mp("@firebase/firestore");function Mo(){return ja.logLevel}function ve(r,...e){if(ja.logLevel<=tt.DEBUG){const n=e.map(Qp);ja.debug(`Firestore (${el}): ${r}`,...n)}}function ts(r,...e){if(ja.logLevel<=tt.ERROR){const n=e.map(Qp);ja.error(`Firestore (${el}): ${r}`,...n)}}function Zs(r,...e){if(ja.logLevel<=tt.WARN){const n=e.map(Qp);ja.warn(`Firestore (${el}): ${r}`,...n)}}function Qp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,_1(r,s,n)}function _1(r,e,n){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ts(s),new Error(s)}function st(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||_1(e,o,s)}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Un.UNAUTHENTICATED)))}shutdown(){}}class lx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ux{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new E1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class cx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new cx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=dx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ye(r,e){return r<e?-1:r>e?1:0}function lp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ye(s,o);{const u=T1(),f=mx(u.encode(K0(r,n)),u.encode(K0(e,n)));return f!==0?f:Ye(s,o)}}n+=s>65535?2:1}return Ye(r.length,e.length)}function K0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function mx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ye(r[n],e[n]);return Ye(r.length,e.length)}function Ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__name__";class mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&De(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ye(e.length,n.length)}static compareSegments(e,n){const s=mr.isNumericId(e),o=mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):lp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class Tt extends mr{construct(e,n,s){return new Tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const px=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends mr{construct(e,n,s){return new Cn(e,n,s)}static isValidIdentifier(e){return px.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new Cn([$0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Tt.fromString(e))}static fromName(e){return new Ie(Tt.fromString(e).popFirst(5))}static empty(){return new Ie(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,e,n){if(!n)throw new ye(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function gx(r,e,n,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function X0(r){if(!Ie.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function J0(r){if(Ie.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function b1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function Ei(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(r);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Nu(r,e){if(!b1(r))throw new ye(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=-62135596800,Z0=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Z0);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z0}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:sn("string",Nt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Nt(0,0))}static max(){return new Ve(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function yx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new ea(o,Ie.empty(),e)}function vx(r){return new ea(r.readTime,r.key,gu)}class ea{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ea(Ve.min(),Ie.empty(),gu)}static max(){return new ea(Ve.max(),Ie.empty(),gu)}}function _x(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(r.documentKey,e.documentKey),n!==0?n:Ye(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==Ex)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((o=>o?oe.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new oe(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function wx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}af.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function Du(r){return r==null}function Lh(r){return r===0&&1/r==-1/0}function bx(r){return typeof r=="number"&&Number.isInteger(r)&&!Lh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="";function Sx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=eE(e)),e=Ax(r.get(n),e);return eE(e)}function Ax(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case S1:n+="";break;default:n+=u}}return n}function eE(r){return r+S1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function oa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function A1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??In.RED,this.left=o??In.EMPTY,this.right=u??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new In(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return In.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(e){return new nE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class nE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new _i([])}unionWith(e){let n=new fn(Cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R1("Invalid base64 string: "+u):u}})(e);return new xn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const Rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(r){if(st(!!r,39018),typeof r=="string"){let e=0;const n=Rx.exec(r);if(st(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(r.seconds),nanos:Xt(r.nanos)}}function Xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function na(r){return typeof r=="string"?xn.fromBase64String(r):xn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="server_timestamp",C1="__type__",x1="__previous_value__",N1="__local_write_time__";function $p(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[C1])===null||n===void 0?void 0:n.stringValue)===I1}function of(r){const e=r.mapValue.fields[x1];return $p(e)?of(e):e}function yu(r){const e=ta(r.mapValue.fields[N1].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Uh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Uh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Uh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__type__",Cx="__max__",dh={mapValue:{}},M1="__vector__",zh="value";function ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$p(r)?4:Nx(r)?9007199254740991:xx(r)?10:11:De(28295,{value:r})}function Tr(r,e){if(r===e)return!0;const n=ia(r);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ta(o.timestampValue),m=ta(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Xt(o.geoPointValue.latitude)===Xt(u.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Xt(o.integerValue)===Xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Xt(o.doubleValue),m=Xt(u.doubleValue);return f===m?Lh(f)===Lh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Ho(r.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(tE(f)!==tE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Tr(f[p],m[p])))return!1;return!0})(r,e);default:return De(52216,{left:r})}}function _u(r,e){return(r.values||[]).find((n=>Tr(n,e)))!==void 0}function Fo(r,e){if(r===e)return 0;const n=ia(r),s=ia(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Xt(u.integerValue||u.doubleValue),p=Xt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return iE(r.timestampValue,e.timestampValue);case 4:return iE(yu(r),yu(e));case 5:return lp(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=na(u),p=na(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ye(m[g],p[g]);if(E!==0)return E}return Ye(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ye(Xt(u.latitude),Xt(f.latitude));return m!==0?m:Ye(Xt(u.longitude),Xt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return rE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},k=(m=w[zh])===null||m===void 0?void 0:m.arrayValue,G=(p=A[zh])===null||p===void 0?void 0:p.arrayValue,Z=Ye(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=G==null?void 0:G.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:rE(k,G)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===dh.mapValue&&f===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(f===dh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=lp(p[w],E[w]);if(A!==0)return A;const k=Fo(m[p[w]],g[E[w]]);if(k!==0)return k}return Ye(p.length,E.length)})(r.mapValue,e.mapValue);default:throw De(23264,{le:n})}}function iE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const n=ta(r),s=ta(e),o=Ye(n.seconds,s.seconds);return o!==0?o:Ye(n.nanos,s.nanos)}function rE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Fo(n[o],s[o]);if(u)return u}return Ye(n.length,s.length)}function Go(r){return up(r)}function up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ta(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return na(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ie.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=up(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${up(n.fields[f])}`;return o+"}"})(r.mapValue):De(61005,{value:r})}function bh(r){switch(ia(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=of(r);return e?16+bh(e):16;case 5:return 2*r.stringValue.length;case 6:return na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return oa(s.fields,((u,f)=>{o+=u.length+bh(f)})),o})(r.mapValue);default:throw De(13486,{value:r})}}function sE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function cp(r){return!!r&&"integerValue"in r}function Xp(r){return!!r&&"arrayValue"in r}function aE(r){return!!r&&"nullValue"in r}function oE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Sh(r){return!!r&&"mapValue"in r}function xx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||n===void 0?void 0:n.stringValue)===M1}function lu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return oa(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=lu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Nx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Cx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=Cn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=lu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){oa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Yn(lu(this.value))}}function O1(r){const e=[];return oa(r.fields,((n,s)=>{const o=new Cn([n]);if(Sh(s)){const u=O1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new _i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Ve.min(),Ve.min(),Ve.min(),Yn.empty(),0)}static newFoundDocument(e,n,s,o){return new _n(e,1,n,Ve.min(),s,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Ve.min(),Ve.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ve.min(),Ve.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function lE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ie.comparator(Ie.fromName(f.referenceValue),n.key):s=Fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function uE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Tr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class rn extends V1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ox(e,n,s):n==="array-contains"?new Px(e,s):n==="in"?new Lx(e,s):n==="not-in"?new Ux(e,s):n==="array-contains-any"?new zx(e,s):new rn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Vx(e,s):new kx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends V1{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new er(e,n)}matches(e){return k1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function k1(r){return r.op==="and"}function P1(r){return Mx(r)&&k1(r)}function Mx(r){for(const e of r.filters)if(e instanceof er)return!1;return!0}function hp(r){if(r instanceof rn)return r.field.canonicalString()+r.op.toString()+Go(r.value);if(P1(r))return r.filters.map((e=>hp(e))).join(",");{const e=r.filters.map((n=>hp(n))).join(",");return`${r.op}(${e})`}}function L1(r,e){return r instanceof rn?(function(s,o){return o instanceof rn&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)})(r,e):r instanceof er?(function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&L1(f,o.filters[m])),!0):!1})(r,e):void De(19439)}function U1(r){return r instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`})(r):r instanceof er?(function(n){return n.op.toString()+" {"+n.getFilters().map(U1).join(" ,")+"}"})(r):"Filter"}class Ox extends rn{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vx extends rn{constructor(e,n){super(e,"in",n),this.keys=z1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kx extends rn{constructor(e,n){super(e,"not-in",n),this.keys=z1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z1(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ie.fromName(s.referenceValue)))}class Px extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xp(n)&&_u(n.arrayValue,this.value)}}class Lx extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class Ux extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class zx extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>_u(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function cE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new jx(r,e,n,s,o,u,f)}function Jp(r){const e=Ue(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>hp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Du(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Go(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Go(s))).join(",")),e.Pe=n}return e.Pe}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Dx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uE(r.startAt,e.startAt)&&uE(r.endAt,e.endAt)}function fp(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Bx(r,e,n,s,o,u,f,m){return new Mu(r,e,n,s,o,u,f,m)}function Zp(r){return new Mu(r)}function hE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function j1(r){return r.collectionGroup!==null}function uu(r){const e=Ue(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new fn(Cn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Bh(u,s))})),n.has(Cn.keyField().canonicalString())||e.Te.push(new Bh(Cn.keyField(),s))}return e.Te}function yr(r){const e=Ue(r);return e.Ie||(e.Ie=qx(e,uu(r))),e.Ie}function qx(r,e){if(r.limitType==="F")return cE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)}));const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return cE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function dp(r,e){const n=r.filters.concat([e]);return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function mp(r,e,n){return new Mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function lf(r,e){return Wp(yr(r),yr(e))&&r.limitType===e.limitType}function B1(r){return`${Jp(yr(r))}|lt:${r.limitType}`}function Oo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>U1(o))).join(", ")}]`),Du(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Go(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Go(o))).join(",")),`Target(${s})`})(yr(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ie.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of uu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=lE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,uu(s),o)||s.endAt&&!(function(f,m,p){const g=lE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,uu(s),o))})(r,e)}function Hx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q1(r){return(e,n)=>{let s=!1;for(const o of uu(r)){const u=Fx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Fx(r,e,n){const s=r.field.isKeyField()?Ie.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Fo(p,g):De(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new zt(Ie.comparator);function ns(){return Gx}const H1=new zt(Ie.comparator);function tu(...r){let e=H1;for(const n of r)e=e.insert(n.key,n);return e}function F1(r){let e=H1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Pa(){return cu()}function G1(){return cu()}function cu(){return new Ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Qx=new zt(Ie.comparator),Yx=new fn(Ie.comparator);function nt(...r){let e=Yx;for(const n of r)e=e.add(n);return e}const Kx=new fn(Ye);function $x(){return Kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function Q1(r){return{integerValue:""+r}}function Y1(r,e){return bx(e)?Q1(e):eg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function Xx(r,e,n){return r instanceof qh?(function(o,u){const f={fields:{[C1]:{stringValue:I1},[N1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&$p(u)&&(u=of(u)),u&&(f.fields[x1]=u),{mapValue:f}})(n,e):r instanceof Qo?$1(r,e):r instanceof Yo?X1(r,e):(function(o,u){const f=K1(o,u),m=fE(f)+fE(o.Ee);return cp(f)&&cp(o.Ee)?Q1(m):eg(o.serializer,m)})(r,e)}function Jx(r,e,n){return r instanceof Qo?$1(r,e):r instanceof Yo?X1(r,e):n}function K1(r,e){return r instanceof Eu?(function(s){return cp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class qh extends cf{}class Qo extends cf{constructor(e){super(),this.elements=e}}function $1(r,e){const n=J1(e);for(const s of r.elements)n.some((o=>Tr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Yo extends cf{constructor(e){super(),this.elements=e}}function X1(r,e){let n=J1(e);for(const s of r.elements)n=n.filter((o=>!Tr(o,s)));return{arrayValue:{values:n}}}class Eu extends cf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function fE(r){return Xt(r.integerValue||r.doubleValue)}function J1(r){return Xp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.field=e,this.transform=n}}function Wx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Qo&&o instanceof Qo||s instanceof Yo&&o instanceof Yo?Ho(s.elements,o.elements,Tr):s instanceof Eu&&o instanceof Eu?Tr(s.Ee,o.Ee):s instanceof qh&&o instanceof qh})(r.transform,e.transform)}class Zx{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hf{}function W1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vu(r.key,hn.none()):new Ou(r.key,r.data,hn.none());{const n=r.data,s=Yn.empty();let o=new fn(Cn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new la(r.key,s,new _i(o.toArray()),hn.none())}}function eN(r,e,n){r instanceof Ou?(function(o,u,f){const m=o.value.clone(),p=mE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof la?(function(o,u,f){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=mE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Z1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function hu(r,e,n,s){return r instanceof Ou?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const g=u.value.clone(),E=pE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof la?(function(u,f,m,p){if(!Ah(u.precondition,f))return m;const g=pE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Z1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return Ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function tN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=K1(s.transform,o||null);u!=null&&(n===null&&(n=Yn.empty()),n.set(s.field,u))}return n||null}function dE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ho(s,o,((u,f)=>Wx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ou extends hf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class la extends hf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function mE(r,e,n){const s=new Map;st(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Jx(f,m,n[o]))}return s}function pE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Xx(u,f,e))}return s}class Vu extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ew extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&eN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=hu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=hu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=G1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=W1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,((n,s)=>dE(n,s)))&&Ho(this.baseMutations,e.baseMutations,((n,s)=>dE(n,s)))}}class ng{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){st(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return Qx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ng(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,rt;function tw(r){switch(r){case ie.OK:return De(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function nw(r){if(r===void 0)return ts("GRPC error has no .code"),ie.UNKNOWN;switch(r){case nn.OK:return ie.OK;case nn.CANCELLED:return ie.CANCELLED;case nn.UNKNOWN:return ie.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ie.INTERNAL;case nn.UNAVAILABLE:return ie.UNAVAILABLE;case nn.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case nn.NOT_FOUND:return ie.NOT_FOUND;case nn.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case nn.ABORTED:return ie.ABORTED;case nn.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case nn.DATA_LOSS:return ie.DATA_LOSS;default:return De(39323,{code:r})}}(rt=nn||(nn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new Xs([4294967295,4294967295],0);function gE(r){const e=T1().encode(r),n=new d1;return n.update(e),new Uint8Array(n.digest())}function yE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xs([n,s],0),new Xs([o,u],0)]}class ig{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Xs.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(Xs.fromNumber(s)));return o.compare(sN)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ig(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=gE(e),[s,o]=yE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ff(Ve.min(),o,new zt(Ye),ns(),nt())}}class ku{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ku(s,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class iw{constructor(e,n){this.targetId=e,this.De=n}}class rw{constructor(e,n,s=xn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class vE{constructor(){this.ve=0,this.Ce=_E(),this.Fe=xn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),n=nt(),s=nt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:De(38017,{changeType:u})}})),new ku(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=_E()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class aN{constructor(e){this.We=e,this.Ge=new Map,this.ze=ns(),this.je=mh(),this.Je=mh(),this.He=new zt(Ye)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(fp(u))if(s===0){const f=new Ie(u.path);this.Xe(n,f,_n.newNoDocument(f,Ve.min()))}else st(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=na(s).toUint8Array()}catch(p){if(p instanceof R1)return Zs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ig(f,o,u)}catch(p){return Zs(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&fp(m.target)){const p=new Ie(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,_n.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=nt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new ff(e,n,this.He,this.ze,s);return this.ze=ns(),this.je=mh(),this.Je=mh(),this.He=new zt(Ye),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new vE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new fn(Ye),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new fn(Ye),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new vE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function mh(){return new zt(Ie.comparator)}function _E(){return new zt(Ie.comparator)}const oN={asc:"ASCENDING",desc:"DESCENDING"},lN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uN={and:"AND",or:"OR"};class cN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(r,e){return r.useProto3Json||Du(e)?e:{value:e}}function Hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hN(r,e){return Hh(r,e.toTimestamp())}function Ti(r){return st(!!r,49232),Ve.fromTimestamp((function(n){const s=ta(n);return new Nt(s.seconds,s.nanos)})(r))}function rg(r,e){return gp(r,e).canonicalString()}function gp(r,e){const n=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function aw(r){const e=Tt.fromString(r);return st(fw(e),10190,{key:e.toString()}),e}function Fh(r,e){return rg(r.databaseId,e.path)}function fu(r,e){const n=aw(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ie(lw(n))}function ow(r,e){return rg(r.databaseId,e)}function fN(r){const e=aw(r);return e.length===4?Tt.emptyPath():lw(e)}function yp(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lw(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function EE(r,e,n){return{name:Fh(r,e),fields:n.value.mapValue.fields}}function dN(r,e){return"found"in e?(function(s,o){st(!!o.found,43571),o.found.name,o.found.updateTime;const u=fu(s,o.found.name),f=Ti(o.found.updateTime),m=o.found.createTime?Ti(o.found.createTime):Ve.min(),p=new Yn({mapValue:{fields:o.found.fields}});return _n.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){st(!!o.missing,3894),st(!!o.readTime,22933);const u=fu(s,o.missing),f=Ti(o.readTime);return _n.newNoDocument(u,f)})(r,e):De(7234,{result:e})}function mN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(st(E===void 0||typeof E=="string",58123),xn.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),xn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ie.UNKNOWN:nw(g.code);return new ye(E,g.message||"")})(f);n=new rw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fu(r,s.document.name),u=Ti(s.document.updateTime),f=s.document.createTime?Ti(s.document.createTime):Ve.min(),m=new Yn({mapValue:{fields:s.document.fields}}),p=_n.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Rh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fu(r,s.document),u=s.readTime?Ti(s.readTime):Ve.min(),f=_n.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Rh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fu(r,s.document),u=s.removedTargetIds||[];n=new Rh([],u,o,null)}else{if(!("filter"in e))return De(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new rN(o,u),m=s.targetId;n=new iw(m,f)}}return n}function uw(r,e){let n;if(e instanceof Ou)n={update:EE(r,e.key,e.value)};else if(e instanceof Vu)n={delete:Fh(r,e.key)};else if(e instanceof la)n={update:EE(r,e.key,e.data),updateMask:bN(e.fieldMask)};else{if(!(e instanceof ew))return De(16599,{Rt:e.type});n={verify:Fh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof qh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Qo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Eu)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw De(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:hN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(r,e.precondition)),n}function pN(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(Ve.min())&&(f=Ti(u)),new Zx(f,o.transformResults||[])})(n,e)))):[]}function gN(r,e){return{documents:[ow(r,e.path)]}}function yN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ow(r,o);const u=(function(g){if(g.length!==0)return hw(er.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:Vo(A.field),direction:EN(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=pp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function vN(r){let e=fN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){st(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const A=cw(w);return A instanceof er&&P1(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(G){return new Bh(ko(G.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,Du(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(w){const A=!!w.before,k=w.values||[];return new jh(k,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,k=w.values||[];return new jh(k,A)})(n.endAt)),Bx(e,o,f,u,m,"F",p,g)}function _N(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cw(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ko(n.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(n.unaryFilter.field);return rn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ko(n.unaryFilter.field);return rn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ko(n.unaryFilter.field);return rn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(r):r.fieldFilter!==void 0?(function(n){return rn.create(ko(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return er.create(n.compositeFilter.filters.map((s=>cw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(r):De(30097,{filter:r})}function EN(r){return oN[r]}function TN(r){return lN[r]}function wN(r){return uN[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function ko(r){return Cn.fromServerFormat(r.fieldPath)}function hw(r){return r instanceof rn?(function(n){if(n.op==="=="){if(oE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(aE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(aE(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:TN(n.op),value:n.value}}})(r):r instanceof er?(function(n){const s=n.getFilters().map((o=>hw(o)));return s.length===1?s[0]:{compositeFilter:{op:wN(n.op),filters:s}}})(r):De(54877,{filter:r})}function bN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,s,o,u=Ve.min(),f=Ve.min(),m=xn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.gt=e}}function AN(r){const e=vN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.Dn=new IN}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ea.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class IN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new fn(Tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new fn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dw=41943040;class ni{static withCacheSize(e){return new ni(e,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(dw,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ko(0)}static ur(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="LruGarbageCollector",CN=1048576;function bE([r,e],[n,s]){const o=Ye(r,n);return o===0?Ye(e,s):o}class xN{constructor(e){this.Tr=e,this.buffer=new fn(bE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(wE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?ve(wE,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Rr(3e5)}))}}class DN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(af.ue);const s=new xN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(TE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),Mo()<=tt.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function MN(r,e){return new DN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.changes=new Ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&hu(s.mutation,o,_i.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,nt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=nt()){const o=Pa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=tu();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Pa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,nt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ns();const f=cu(),m=(function(){return cu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof la)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),hu(E.mutation,g,E.mutation.getFieldMask(),Nt.now())):f.set(g.key,_i.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var w;return m.set(g,new VN(E,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=cu();let o=new zt(((f,m)=>f-m)),u=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||_i.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||nt()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=G1();E.forEach((A=>{if(!u.has(A)){const k=W1(n.get(A),s.get(A));k!==null&&w.set(A,k),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return oe.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ie.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(Pa());let m=gu,p=u;return f.next((g=>oe.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,nt()))).next((E=>({batchId:m,changes:F1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=tu();return this.indexManager.getCollectionParents(e,u).next((m=>oe.forEach(m,(p=>{const g=(function(w,A){return new Mu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))}));let m=tu();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&hu(E.mutation,g,_i.empty(),Nt.now()),uf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:AN(o.bundledQuery),readTime:Ti(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.overlays=new zt(Ie.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Pa();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=Pa(),u=n.length+1,f=new Ie(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new zt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Pa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return oe.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iN(n,s));let u=this.kr.get(n);u===void 0&&(u=nt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.qr=new fn(vn.Qr),this.$r=new fn(vn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new vn(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new vn(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ie(new Tt([])),s=new vn(n,e),o=new vn(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ie(new Tt([])),s=new vn(n,e),o=new vn(n,e+1);let u=nt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new vn(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class vn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ie.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new fn(vn.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new nN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new vn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Kp:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new vn(n,0),o=new vn(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new fn(Ye);return n.forEach((o=>{const u=new vn(o,0),f=new vn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ie.isDocumentKey(u)||(u=u.child(""));const f=new vn(new Ie(u),0);let m=new fn(Ye);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,(o=>{const u=new vn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new vn(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.ni=e,this.docs=(function(){return new zt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=ns();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ns();const f=n.path,m=new Ie(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||_x(vx(E),s)<=0||(o.has(E.key)||uf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){De(9500)}ri(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new BN(this)}getSize(e){return oe.resolve(this.size)}}class BN extends ON{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.persistence=e,this.ii=new Ha((n=>Jp(n)),Wp),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.si=0,this.oi=new sg,this.targetCount=0,this._i=Ko.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.ai={},this.overlays={},this.ui=new af(0),this.ci=!1,this.ci=!0,this.li=new UN,this.referenceDelegate=e(this),this.hi=new qN(this),this.indexManager=new RN,this.remoteDocumentCache=(function(o){return new jN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new SN(n),this.Ti=new PN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new zN(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ve("MemoryPersistence","Starting transaction:",e);const o=new HN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return oe.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class HN extends Tx{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ai=new sg,this.Ri=null}static Vi(e){return new ag(e)}get mi(){if(this.Ri)return this.Ri;throw De(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(s=>{const o=Ie.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Ve.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.gi=new Ha((s=>Sx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=MN(this,n)}static Vi(e,n){return new Gh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=nt(),o=nt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new og(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return QR()?8:wx(zn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new FN;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Mo()<=tt.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Mo()<=tt.DEBUG&&ve("QueryEngine","Query:",Oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Mo()<=tt.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):oe.resolve())}ps(e,n){if(hE(n))return oe.resolve(null);let s=yr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=mp(n,null,"F"),s=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=nt(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,mp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return hE(n)||o.isEqual(Ve.min())?oe.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?oe.resolve(null):(Mo()<=tt.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oo(n)),this.vs(e,f,n,yx(o,gu)).next((m=>m)))}))}bs(e,n){let s=new fn(q1(e));return n.forEach(((o,u)=>{uf(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Mo()<=tt.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Oo(n)),this.gs.getDocumentsMatchingQuery(e,n,ea.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",QN=3e8;class YN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new zt(Ye),this.Ms=new Ha((u=>Jp(u)),Wp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function KN(r,e,n,s){return new YN(r,e,n,s)}async function pw(r,e){const n=Ue(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=nt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function $N(r,e){const n=Ue(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,A=w.keys();let k=oe.resolve();return A.forEach((G=>{k=k.next((()=>E.getEntry(p,G))).next((Z=>{const U=g.docVersions.get(G);st(U!==null,48541),Z.version.compareTo(U)<0&&(w.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=nt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function gw(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function XN(r,e){const n=Ue(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,w))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(xn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(w,k),(function(Z,U,ue){return Z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=QN?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(A,k,E)&&m.push(n.hi.updateTargetData(u,k))}));let p=ns(),g=nt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(JN(u,f,e.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(Ve.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return oe.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function JN(r,e,n){let s=nt(),o=nt();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ns();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ve(lg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function WN(r,e){const n=Ue(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ZN(r,e){const n=Ue(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Fs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function vp(r,e,n){const s=Ue(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!nl(f))throw f;ve(lg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function SE(r,e,n){const s=Ue(r);let o=Ve.min(),u=nt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=Ue(p),A=w.Ms.get(E);return A!==void 0?oe.resolve(w.Fs.get(A)):w.hi.getTargetData(g,E)})(s,f,yr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Ve.min(),n?u:nt()))).next((m=>(eD(s,Hx(e),m),{documents:m,qs:u})))))}function eD(r,e,n){let s=r.xs.get(e)||Ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class AE{constructor(){this.activeTargetIds=$x()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.Fo=new AE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new AE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="ConnectivityMonitor";class IE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(RE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(RE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function _p(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Uh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=_p(),m=this.Go(e,n.toUriEncodedString());ve(km,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Jo(g);return this.jo(e,m,p,s,E).then((w=>(ve(km,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Zs(km,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=iD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class aD extends rD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=_p();return new Promise(((m,p)=>{const g=new m1;g.setWithCredentials(!0),g.listenOnce(p1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case wh.NO_ERROR:const w=g.getResponseJson();ve(Pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case wh.TIMEOUT:ve(Pn,`RPC '${e}' ${f} timed out`),p(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const A=g.getStatus();if(ve(Pn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k==null?void 0:k.error;if(G&&G.status&&G.message){const Z=(function(ue){const ce=ue.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(ce)>=0?ce:ie.UNKNOWN})(G.status);p(new ye(Z,G.message))}else p(new ye(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:De(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ve(Pn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ve(Pn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(e,n,s){const o=_p(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=v1(),m=y1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(Pn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let A=!1,k=!1;const G=new sD({Ho:U=>{k?ve(Pn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(ve(Pn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ve(Pn,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Yo:()=>w.close()}),Z=(U,ue,ce)=>{U.listen(ue,(re=>{try{ce(re)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return Z(w,eu.EventType.OPEN,(()=>{k||(ve(Pn,`RPC '${e}' stream ${o} transport opened.`),G.s_())})),Z(w,eu.EventType.CLOSE,(()=>{k||(k=!0,ve(Pn,`RPC '${e}' stream ${o} transport closed`),G.__(),this.I_(w))})),Z(w,eu.EventType.ERROR,(U=>{k||(k=!0,Zs(Pn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),G.__(new ye(ie.UNAVAILABLE,"The operation could not be completed")))})),Z(w,eu.EventType.MESSAGE,(U=>{var ue;if(!k){const ce=U.data[0];st(!!ce,16349);const re=ce,Se=(re==null?void 0:re.error)||((ue=re[0])===null||ue===void 0?void 0:ue.error);if(Se){ve(Pn,`RPC '${e}' stream ${o} received error:`,Se);const Pe=Se.status;let Ne=(function(C){const O=nn[C];if(O!==void 0)return nw(O)})(Pe),D=Se.message;Ne===void 0&&(Ne=ie.INTERNAL,D="Unknown error status: "+Pe+" with message "+Se.message),k=!0,G.__(new ye(Ne,D)),w.close()}else ve(Pn,`RPC '${e}' stream ${o} received:`,ce),G.a_(ce)}})),Z(m,g1.STAT_EVENT,(U=>{U.stat===op.PROXY?ve(Pn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===op.NOPROXY&&ve(Pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.o_()}),0),G}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return new cN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="PersistentStream";class yw{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ug(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ve(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ve(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oD extends yw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=mN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ve.min():f.readTime?Ti(f.readTime):Ve.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=yp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=fp(p)?{documents:gN(u,p)}:{query:yN(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sw(u,f.resumeToken);const g=pp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ve.min())>0){m.readTime=Hh(u,f.snapshotVersion.toTimestamp());const g=pp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=_N(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.k_(n)}}class lD extends yw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=pN(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=yp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>uw(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{}class cD extends uD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,gp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ie.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,gp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(ie.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class hD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ts(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class fD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Fa(this)&&(ve(Ba,"Restarting streams for network reachability change."),await(async function(p){const g=Ue(p);g.Ia.add(4),await Pu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await mf(g)})(this))}))})),this.Aa=new hD(s,o)}}async function mf(r){if(Fa(r))for(const e of r.da)await e(!0)}async function Pu(r){for(const e of r.da)await e(!1)}function vw(r,e){const n=Ue(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),dg(n)?fg(n):il(n).x_()&&hg(n,e))}function cg(r,e){const n=Ue(r),s=il(n);n.Ta.delete(e),s.x_()&&_w(n,e),n.Ta.size===0&&(s.x_()?s.B_():Fa(n)&&n.Aa.set("Unknown"))}function hg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(r).H_(e)}function _w(r,e){r.Ra.$e(e),il(r).Y_(e)}function fg(r){r.Ra=new aN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),il(r).start(),r.Aa.aa()}function dg(r){return Fa(r)&&!il(r).M_()&&r.Ta.size>0}function Fa(r){return Ue(r).Ia.size===0}function Ew(r){r.Ra=void 0}async function dD(r){r.Aa.set("Online")}async function mD(r){r.Ta.forEach(((e,n)=>{hg(r,e)}))}async function pD(r,e){Ew(r),dg(r)?(r.Aa.la(e),fg(r)):r.Aa.set("Unknown")}async function gD(r,e,n){if(r.Aa.set("Online"),e instanceof rw&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){ve(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qh(r,s)}else if(e instanceof Rh?r.Ra.Ye(e):e instanceof iw?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Ve.min()))try{const s=await gw(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(xn.EMPTY_BYTE_STRING,E.snapshotVersion)),_w(u,p);const w=new Fs(E.target,p,g,E.sequenceNumber);hg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ve(Ba,"Failed to raise snapshot:",s),await Qh(r,s)}}async function Qh(r,e,n){if(!nl(e))throw e;r.Ia.add(1),await Pu(r),r.Aa.set("Offline"),n||(n=()=>gw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ve(Ba,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await mf(r)}))}function Tw(r,e){return e().catch((n=>Qh(r,n,e)))}async function pf(r){const e=Ue(r),n=ra(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kp;for(;yD(e);)try{const o=await WN(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,vD(e,o)}catch(o){await Qh(e,o)}ww(e)&&bw(e)}function yD(r){return Fa(r)&&r.Pa.length<10}function vD(r,e){r.Pa.push(e);const n=ra(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function ww(r){return Fa(r)&&!ra(r).M_()&&r.Pa.length>0}function bw(r){ra(r).start()}async function _D(r){ra(r).na()}async function ED(r){const e=ra(r);for(const n of r.Pa)e.X_(n.mutations)}async function TD(r,e,n){const s=r.Pa.shift(),o=ng.from(s,e,n);await Tw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await pf(r)}async function wD(r,e){e&&ra(r).Z_&&await(async function(s,o){if((function(f){return tw(f)&&f!==ie.ABORTED})(o.code)){const u=s.Pa.shift();ra(s).N_(),await Tw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await pf(s)}})(r,e),ww(r)&&bw(r)}async function xE(r,e){const n=Ue(r);n.asyncQueue.verifyOperationInProgress(),ve(Ba,"RemoteStore received new credentials");const s=Fa(n);n.Ia.add(3),await Pu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await mf(n)}async function bD(r,e){const n=Ue(r);e?(n.Ia.delete(2),await mf(n)):e||(n.Ia.add(2),await Pu(n),n.Aa.set("Unknown"))}function il(r){return r.Va||(r.Va=(function(n,s,o){const u=Ue(n);return u.ia(),new oD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:dD.bind(null,r),e_:mD.bind(null,r),n_:pD.bind(null,r),J_:gD.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),dg(r)?fg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Ew(r))}))),r.Va}function ra(r){return r.ma||(r.ma=(function(n,s,o){const u=Ue(n);return u.ia(),new lD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:_D.bind(null,r),n_:wD.bind(null,r),ea:ED.bind(null,r),ta:TD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await pf(r)):(await r.ma.stop(),r.Pa.length>0&&(ve(Ba,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new mg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(r,e){if(ts("AsyncQueue",`${e}: ${r}`),nl(r))return new ye(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.fa=new zt(Ie.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):De(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class $o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new $o(e,n,jo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class AD{constructor(){this.queries=DE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Ue(n),u=o.queries;o.queries=DE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function DE(){return new Ha((r=>B1(r)),lf)}async function Sw(r,e){const n=Ue(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new SD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=pg(f,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&gg(n)}async function Aw(r,e){const n=Ue(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RD(r,e){const n=Ue(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&gg(n)}function ID(r,e,n){const s=Ue(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function gg(r){r.Da.forEach((e=>{e.next()}))}var Ep,ME;(ME=Ep||(Ep={})).Fa="default",ME.Cache="cache";class Rw{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new $o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.key=e}}class Cw{constructor(e){this.key=e}}class CD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=q1(e),this.eu=new jo(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new NE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const A=o.get(E),k=uf(this.query,w)?w:null,G=!!A&&this.mutatedKeys.has(A.key),Z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let U=!1;A&&k?A.data.isEqual(k.data)?G!==Z&&(s.track({type:3,doc:k}),U=!0):this.iu(A,k)||(s.track({type:2,doc:k}),U=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),U=!0):A&&!k&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(k?(f=f.add(k),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((E,w)=>(function(k,G){const Z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{At:U})}};return Z(k)-Z(G)})(E.type,w.type)||this.Xa(E.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new $o(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new NE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new Cw(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new Iw(s))})),n}uu(e){this.Ha=e.qs,this.Za=nt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return $o.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yg="SyncEngine";class xD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ND{constructor(e){this.key=e,this.lu=!1}}class DD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Ha((m=>B1(m)),lf),this.Tu=new Map,this.Iu=new Set,this.du=new zt(Ie.comparator),this.Eu=new Map,this.Au=new sg,this.Ru={},this.Vu=new Map,this.mu=Ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MD(r,e,n=!0){const s=Vw(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await xw(s,e,n,!0),o}async function OD(r,e){const n=Vw(r);await xw(n,e,!0,!1)}async function xw(r,e,n,s){const o=await ZN(r.localStore,yr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&vw(r.remoteStore,o),m}async function VD(r,e,n,s,o){r.gu=(w,A,k)=>(async function(Z,U,ue,ce){let re=U.view.nu(ue);re.Ds&&(re=await SE(Z.localStore,U.query,!1).then((({documents:D})=>U.view.nu(D,re))));const Se=ce&&ce.targetChanges.get(U.targetId),Pe=ce&&ce.targetMismatches.get(U.targetId)!=null,Ne=U.view.applyChanges(re,Z.isPrimaryClient,Se,Pe);return VE(Z,U.targetId,Ne._u),Ne.snapshot})(r,w,A,k);const u=await SE(r.localStore,e,!0),f=new CD(e,u.qs),m=f.nu(u.documents),p=ku.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);VE(r,n,g._u);const E=new xD(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function kD(r,e,n){const s=Ue(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!lf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await vp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&cg(s.remoteStore,o.targetId),Tp(s,o.targetId)})).catch(tl)):(Tp(s,o.targetId),await vp(s.localStore,o.targetId,!0))}async function PD(r,e){const n=Ue(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cg(n.remoteStore,s.targetId))}async function LD(r,e,n){const s=FD(r);try{const o=await(function(f,m){const p=Ue(f),g=Nt.now(),E=m.reduce(((k,G)=>k.add(G.key)),nt());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=ns(),Z=nt();return p.Os.getEntries(k,E).next((U=>{G=U,G.forEach(((ue,ce)=>{ce.isValidDocument()||(Z=Z.add(ue))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,G))).next((U=>{w=U;const ue=[];for(const ce of m){const re=tN(ce,w.get(ce.key).overlayedDocument);re!=null&&ue.push(new la(ce.key,re,O1(re.value.mapValue),hn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,ue,m)})).next((U=>{A=U;const ue=U.applyToLocalDocumentSet(w,Z);return p.documentOverlayCache.saveOverlays(k,U.batchId,ue)}))})).then((()=>({batchId:A.batchId,changes:F1(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new zt(Ye)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await Lu(s,o.changes),await pf(s.remoteStore)}catch(o){const u=pg(o,"Failed to persist write");n.reject(u)}}async function Nw(r,e){const n=Ue(r);try{const s=await XN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?st(f.lu,14607):o.removedDocuments.size>0&&(st(f.lu,42227),f.lu=!1))})),await Lu(n,s,e)}catch(s){await tl(s)}}function OE(r,e,n){const s=Ue(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ue(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const A of w.wa)A.va(m)&&(g=!0)})),g&&gg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UD(r,e,n){const s=Ue(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new zt(Ie.comparator);f=f.insert(u,_n.newNoDocument(u,Ve.min()));const m=nt().add(u),p=new ff(Ve.min(),new Map,new zt(Ye),f,m);await Nw(s,p),s.du=s.du.remove(u),s.Eu.delete(e),vg(s)}else await vp(s.localStore,e,!1).then((()=>Tp(s,e,n))).catch(tl)}async function zD(r,e){const n=Ue(r),s=e.batch.batchId;try{const o=await $N(n.localStore,e);Mw(n,s,null),Dw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,o)}catch(o){await tl(o)}}async function jD(r,e,n){const s=Ue(r);try{const o=await(function(f,m){const p=Ue(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(st(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);Mw(s,e,n),Dw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,o)}catch(o){await tl(o)}}function Dw(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function Mw(r,e,n){const s=Ue(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Tp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||Ow(r,s)}))}function Ow(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(cg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),vg(r))}function VE(r,e,n){for(const s of n)s instanceof Iw?(r.Au.addReference(s.key,e),BD(r,s)):s instanceof Cw?(ve(yg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Ow(r,s.key)):De(19791,{yu:s})}function BD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ve(yg,"New document in limbo: "+n),r.Iu.add(s),vg(r))}function vg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ie(Tt.fromString(e)),s=r.mu.next();r.Eu.set(s,new ND(n)),r.du=r.du.insert(n,s),vw(r.remoteStore,new Fs(yr(Zp(n.path)),s,"TargetPurposeLimboResolution",af.ue))}}async function Lu(r,e,n){const s=Ue(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=og.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=Ue(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(g,(A=>oe.forEach(A.Is,(k=>E.persistence.referenceDelegate.addReference(w,A.targetId,k))).next((()=>oe.forEach(A.ds,(k=>E.persistence.referenceDelegate.removeReference(w,A.targetId,k)))))))))}catch(w){if(!nl(w))throw w;ve(lg,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const k=E.Fs.get(A),G=k.snapshotVersion,Z=k.withLastLimboFreeSnapshotVersion(G);E.Fs=E.Fs.insert(A,Z)}}})(s.localStore,u))}async function qD(r,e){const n=Ue(r);if(!n.currentUser.isEqual(e)){ve(yg,"User change. New user:",e.toKey());const s=await pw(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ye(ie.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Bs)}}function HD(r,e){const n=Ue(r),s=n.Eu.get(e);if(s&&s.lu)return nt().add(s.key);{let o=nt();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function Vw(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.hu.J_=RD.bind(null,e.eventManager),e.hu.pu=ID.bind(null,e.eventManager),e}function FD(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jD.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return KN(this.persistence,new GN,e.initialUser,this.serializer)}Du(e){return new mw(ag.Vi,this.serializer)}bu(e){return new tD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class GD extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){st(this.persistence.referenceDelegate instanceof Gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NN(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ni.withCacheSize(this.cacheSizeBytes):ni.DEFAULT;return new mw((s=>Gh.Vi(s,n)),this.serializer)}}class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qD.bind(null,this.syncEngine),await bD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AD})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),s=(function(u){return new aD(u)})(e.databaseInfo);return(function(u,f,m,p){return new cD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new fD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>OE(this.syncEngine,n,0)),(function(){return IE.C()?new IE:new nD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const w=new DD(o,u,f,m,p,g);return E&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Ue(o);ve(Ba,"RemoteStore shutting down."),u.Ia.add(5),await Pu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Ue(o),m={documents:u.map((w=>Fh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,Tt.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const A=dN(f.serializer,w);g.set(A.key.toString(),A)}));const E=[];return u.forEach((w=>{const A=g.get(w.toString());st(!!A,55234,{key:w}),E.push(A)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Ie.fromPath(s);this.mutations.push(new ew(o,this.precondition(o)))})),await(async function(s,o){const u=Ue(s),f={writes:o.map((m=>uw(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,Tt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw De(50498,{Wu:e.constructor.name});n=Ve.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ye(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ve.min())?hn.exists(!1):hn.updateTime(n):hn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ve.min()))throw new ye(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(n)}return hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ug(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new QD(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Du(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!tw(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="FirestoreClient";class KD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Un.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ve(sa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ve(sa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=pg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(sa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await pw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Zs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Zs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function kE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await $D(r);ve(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>xE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>xE(e.remoteStore,o))),r._onlineComponents=e}async function $D(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(sa,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new Yh)}}else ve(sa,"Using default OfflineComponentProvider"),await Lm(r,new GD(void 0));return r._offlineComponents}async function _g(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(sa,"Using user provided OnlineComponentProvider"),await kE(r,r._uninitializedComponentsProvider._online)):(ve(sa,"Using default OnlineComponentProvider"),await kE(r,new wp))),r._onlineComponents}function XD(r){return _g(r).then((e=>e.syncEngine))}function JD(r){return _g(r).then((e=>e.datastore))}async function bp(r){const e=await _g(r),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=kD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PD.bind(null,e.syncEngine),n}function WD(r,e,n={}){const s=new Xr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new kw({next:A=>{E.Ou(),f.enqueueAndForget((()=>Aw(u,w))),A.fromCache&&p.source==="server"?g.reject(new ye(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new Rw(m,E,{includeMetadataChanges:!0,ka:!0});return Sw(u,w)})(await bp(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firestore.googleapis.com",LE=!0;class UE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lw,this.ssl=LE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:LE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CN)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ox;switch(s.type){case"firstParty":return new hx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=PE.get(n);s&&(ve("ComponentProvider","Removing Datastore"),PE.delete(n),s.terminate())})(this),Promise.resolve()}}function ZD(r,e,n,s={}){var o;r=Ei(r,gf);const u=Jo(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(AT(`https://${p}`),RT("Firestore",!0)),f.host!==Lw&&f.host!==p&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Wr(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Un.MOCK_USER;else{E=LR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Un(A)}r._authCredentials=new lx(new E1(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ga(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Nu(n,Ft._jsonSchema))return new Ft(e,s||null,new Ie(Tt.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:sn("string",Ft._jsonSchemaVersion),referencePath:sn("string")};class Js extends Ga{constructor(e,n,s){super(e,n,Zp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ie(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function Oa(r,e,...n){if(r=Gt(r),w1("collection","path",e),r instanceof gf){const s=Tt.fromString(e,...n);return J0(s),new Js(r,null,s)}{if(!(r instanceof Ft||r instanceof Js))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(e,...n));return J0(s),new Js(r.firestore,null,s)}}function Ln(r,e,...n){if(r=Gt(r),arguments.length===1&&(e=Yp.newId()),w1("doc","path",e),r instanceof gf){const s=Tt.fromString(e,...n);return X0(s),new Ft(r,null,new Ie(s))}{if(!(r instanceof Ft||r instanceof Js))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(e,...n));return X0(s),new Ft(r.firestore,r instanceof Js?r.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ug(this,"async_queue_retry"),this.oc=()=>{const s=Pm();s&&ve(zE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Xr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!nl(e))throw e;ve(zE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,ts("INTERNAL UNHANDLED ERROR: ",BE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=mg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&De(47125,{hc:BE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function BE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class is extends gf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new jE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function eM(r,e){const n=typeof r=="object"?r:NT(),s=typeof r=="string"?r:Uh,o=Vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kR("firestore");u&&ZD(o,...u)}return o}function Uu(r){if(r._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tM(r),r._firestoreClient}function tM(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new Ix(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Pw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new KD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(xn.fromBase64String(e))}catch(n){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:sn("string",vi._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:sn("string",vr._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new _r(e.vectorValues);throw new ye(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:sn("string",_r._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=/^__.*__$/;class iM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class Uw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ec:r})}}class yf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(zw(this.Ec)&&nM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class rM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||df(e)}Dc(e,n,s,o=!1){return new yf({Ec:e,methodName:n,bc:s,path:Cn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zu(r){const e=r._freezeSettings(),n=df(r._databaseId);return new rM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Eg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Rg("Data must be an object, but it was:",f,s);const m=Bw(s,f);let p,g;if(u.merge)p=new _i(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=Sp(e,w,n);if(!f.contains(A))throw new ye(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Hw(E,A)||E.push(A)}p=new _i(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new iM(new Yn(m),p,g)}class ju extends sl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function jw(r,e,n){return new yf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tg extends sl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=jw(this,e,!0),s=this.vc.map((u=>Qa(u,n))),o=new Qo(s);return new tg(e.path,o)}isEqual(e){return e instanceof Tg&&Wr(this.vc,e.vc)}}class wg extends sl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=jw(this,e,!0),s=this.vc.map((u=>Qa(u,n))),o=new Yo(s);return new tg(e.path,o)}isEqual(e){return e instanceof wg&&Wr(this.vc,e.vc)}}class bg extends sl{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Eu(e.serializer,Y1(e.serializer,this.Cc));return new tg(e.path,n)}isEqual(e){return e instanceof bg&&this.Cc===e.Cc}}function Sg(r,e,n,s){const o=r.Dc(1,e,n);Rg("Data must be an object, but it was:",o,s);const u=[],f=Yn.empty();oa(s,((p,g)=>{const E=Ig(e,p,n);g=Gt(g);const w=o.gc(E);if(g instanceof ju)u.push(E);else{const A=Qa(g,w);A!=null&&(u.push(E),f.set(E,A))}}));const m=new _i(u);return new Uw(f,m,o.fieldTransforms)}function Ag(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[Sp(e,s,n)],p=[o];if(u.length%2!=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Sp(e,u[A])),p.push(u[A+1]);const g=[],E=Yn.empty();for(let A=m.length-1;A>=0;--A)if(!Hw(g,m[A])){const k=m[A];let G=p[A];G=Gt(G);const Z=f.gc(k);if(G instanceof ju)g.push(k);else{const U=Qa(G,Z);U!=null&&(g.push(k),E.set(k,U))}}const w=new _i(g);return new Uw(E,w,f.fieldTransforms)}function sM(r,e,n,s=!1){return Qa(n,r.Dc(s?4:3,e))}function Qa(r,e){if(qw(r=Gt(r)))return Rg("Unsupported field value:",e,r),Bw(r,e);if(r instanceof sl)return(function(s,o){if(!zw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Qa(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Y1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof vr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vi)return{bytesValue:sw(o.serializer,s._byteString)};if(s instanceof Ft){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _r)return(function(f,m){return{mapValue:{fields:{[D1]:{stringValue:M1},[zh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return eg(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${sf(s)}`)})(r,e)}function Bw(r,e){const n={};return A1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(r,((s,o)=>{const u=Qa(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function qw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Nt||r instanceof vr||r instanceof vi||r instanceof Ft||r instanceof sl||r instanceof _r)}function Rg(r,e,n){if(!qw(n)||!b1(n)){const s=sf(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Sp(r,e,n){if((e=Gt(e))instanceof rl)return e._internalPath;if(typeof e=="string")return Ig(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const aM=new RegExp("[~\\*/\\[\\]]");function Ig(r,e,n){if(e.search(aM)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rl(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(ie.INVALID_ARGUMENT,m+r+p)}function Hw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oM extends $h{data(){return super.data()}}function Cg(r,e){return typeof e=="string"?Ig(r,e):e instanceof rl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class lM extends xg{}function HE(r,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Ng)).length,m=u.filter((p=>p instanceof vf)).length;if(f>1||f>0&&m>0)throw new ye(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class vf extends lM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vf(e,n,s)}_apply(e){const n=this._parse(e);return Gw(e._query,n),new Ga(e.firestore,e.converter,dp(e._query,n))}_parse(e){const n=zu(e.firestore);return(function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){QE(w,E);const G=[];for(const Z of w)G.push(GE(p,u,Z));A={arrayValue:{values:G}}}else A=GE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||QE(w,E),A=sM(m,f,w,E==="in"||E==="not-in");return rn.create(g,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FE(r,e,n){const s=e,o=Cg("where",r);return vf._create(o,s,n)}class Ng extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Gw(f,p),f=dp(f,p)})(e._query,n),new Ga(e.firestore,e.converter,dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function GE(r,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new ye(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j1(e)&&n.indexOf("/")!==-1)throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tt.fromString(n));if(!Ie.isDocumentKey(s))throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sE(r,new Ie(s))}if(n instanceof Ft)return sE(r,n._key);throw new ye(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function QE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gw(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qw{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[zh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Xt(f.doubleValue)));return new _r(u)}convertGeoPoint(e){return new vr(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=of(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=ta(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tt.fromString(e);st(fw(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new Ie(s.popFirst(5));return o.isEqual(n)||ts(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class uM extends Qw{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}class Po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends $h{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Cg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:sn("string",Ws._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class Ih extends Ws{data(e={}){return super.data(e)}}class La{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Po(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new Po(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:cM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:sn("string",La._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class _f extends Qw{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Um(r){r=Ei(r,Ga);const e=Ei(r.firestore,is),n=Uu(e),s=new _f(e);return Fw(r._query),WD(n,r._query).then((o=>new La(e,s,r,o)))}function No(r,e,n){r=Ei(r,Ft);const s=Ei(r.firestore,is),o=Dg(r.converter,e,n);return Ef(s,[Eg(zu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,hn.none())])}function Do(r,e,n,...s){r=Ei(r,Ft);const o=Ei(r.firestore,is),u=zu(o);let f;return f=typeof(e=Gt(e))=="string"||e instanceof rl?Ag(u,"updateDoc",r._key,e,n,s):Sg(u,"updateDoc",r._key,e),Ef(o,[f.toMutation(r._key,hn.exists(!0))])}function zm(r){return Ef(Ei(r.firestore,is),[new Vu(r._key,hn.none())])}function jm(r,...e){var n,s,o;r=Gt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||qE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(qE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof Ft)g=Ei(r.firestore,is),E=Zp(r._key.path),p={next:w=>{e[f]&&e[f](hM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=Ei(r,Ga);g=Ei(w.firestore,is),E=w._query;const A=new _f(g);p={next:k=>{e[f]&&e[f](new La(g,A,w,k))},error:e[f+1],complete:e[f+2]},Fw(r._query)}return(function(A,k,G,Z){const U=new kw(Z),ue=new Rw(k,U,G);return A.asyncQueue.enqueueAndForget((async()=>Sw(await bp(A),ue))),()=>{U.Ou(),A.asyncQueue.enqueueAndForget((async()=>Aw(await bp(A),ue)))}})(Uu(g),E,m,p)}function Ef(r,e){return(function(s,o){const u=new Xr;return s.asyncQueue.enqueueAndForget((async()=>LD(await XD(s),o,u))),u.promise})(Uu(r),e)}function hM(r,e,n){const s=n.docs.get(e._key),o=new _f(r);return new Ws(r,o,e._key,s,new Po(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zu(e)}set(e,n,s){this._verifyNotCommitted();const o=Gs(e,this._firestore),u=Dg(o.converter,n,s),f=Eg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,hn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Gs(e,this._firestore);let f;return f=typeof(n=Gt(n))=="string"||n instanceof rl?Ag(this._dataReader,"WriteBatch.update",u._key,n,s,o):Sg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gs(e,this._firestore);return this._mutations=this._mutations.concat(new Vu(n._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gs(r,e){if((r=Gt(r)).firestore!==e)throw new ye(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zu(e)}get(e){const n=Gs(e,this._firestore),s=new uM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return De(24041);const u=o[0];if(u.isFoundDocument())return new $h(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new $h(this._firestore,s,n._key,null,n.converter);throw De(18433,{doc:u})}))}set(e,n,s){const o=Gs(e,this._firestore),u=Dg(o.converter,n,s),f=Eg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Gs(e,this._firestore);let f;return f=typeof(n=Gt(n))=="string"||n instanceof rl?Ag(this._dataReader,"Transaction.update",u._key,n,s,o):Sg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Gs(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM extends mM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Gs(e,this._firestore),s=new _f(this._firestore);return super.get(e).then((o=>new Ws(this._firestore,s,n._key,o._document,new Po(!1,!1),n.converter)))}}function gM(r,e,n){r=Ei(r,is);const s=Object.assign(Object.assign({},fM),n);return(function(u){if(u.maxAttempts<1)throw new ye(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Xr;return u.asyncQueue.enqueueAndForget((async()=>{const g=await JD(u);new YD(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Uu(r),(o=>e(new pM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return new ju("deleteField")}function vM(...r){return new Tg("arrayUnion",r)}function _M(...r){return new wg("arrayRemove",r)}function EM(r){return new bg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(r){return Uu(r=Ei(r,is)),new dM(r,(e=>Ef(r,e)))}(function(e,n=!0){(function(o){el=o})(Wo),Bo(new Ua("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new is(new ux(s.getProvider("auth-internal")),new fx(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ks(G0,Q0,e),Ks(G0,Q0,"esm2017")})();var wM="firebase",bM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(wM,bM,"app");const SM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},Yw=xT(SM),ji=sx(Yw),$t=eM(Yw),Bm=new Qr;(async()=>{try{await ou(ji,l1)}catch{try{await ou(ji,tf)}catch{await ou(ji,sp)}}})();var Mg={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var H=new OffscreenCanvas(1,1),T=H.getContext("2d");T.fillRect(0,0,1,1);var B=H.transferToImageBitmap();T.createPattern(B,"no-repeat")}catch{return!1}return!0})();function p(){}function g(H){var T=n.exports.Promise,B=T!==void 0?T:e.Promise;return typeof B=="function"?new B(H):(H(p,p),null)}var E=(function(H,T){return{transform:function(B){if(H)return B;if(T.has(B))return T.get(B);var X=new OffscreenCanvas(B.width,B.height),le=X.getContext("2d");return le.drawImage(B,0,0),T.set(B,X),X},clear:function(){T.clear()}}})(m,new Map),w=(function(){var H=Math.floor(16.666666666666668),T,B,X={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(he){var ge=Math.random();return X[ge]=requestAnimationFrame(function fe(be){le===be||le+H-1<be?(le=be,delete X[ge],he()):X[ge]=requestAnimationFrame(fe)}),ge},B=function(he){X[he]&&cancelAnimationFrame(X[he])}):(T=function(he){return setTimeout(he,H)},B=function(he){return clearTimeout(he)}),{frame:T,cancel:B}})(),A=(function(){var H,T,B={};function X(le){function he(ge,fe){le.postMessage({options:ge||{},callback:fe})}le.init=function(fe){var be=fe.transferControlToOffscreen();le.postMessage({canvas:be},[be])},le.fire=function(fe,be,Ce){if(T)return he(fe,null),T;var we=Math.random().toString(36).slice(2);return T=g(function(Be){function je(at){at.data.callback===we&&(delete B[we],le.removeEventListener("message",je),T=null,E.clear(),Ce(),Be())}le.addEventListener("message",je),he(fe,we),B[we]=je.bind(null,{data:{callback:we}})}),T},le.reset=function(){le.postMessage({reset:!0});for(var fe in B)B[fe](),delete B[fe]}}return function(){if(H)return H;if(!s&&u){var le=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{H=new Worker(URL.createObjectURL(new Blob([le])))}catch(he){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",he),null}X(H)}return H}})(),k={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function G(H,T){return T?T(H):H}function Z(H){return H!=null}function U(H,T,B){return G(H&&Z(H[T])?H[T]:k[T],B)}function ue(H){return H<0?0:Math.floor(H)}function ce(H,T){return Math.floor(Math.random()*(T-H))+H}function re(H){return parseInt(H,16)}function Se(H){return H.map(Pe)}function Pe(H){var T=String(H).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:re(T.substring(0,2)),g:re(T.substring(2,4)),b:re(T.substring(4,6))}}function Ne(H){var T=U(H,"origin",Object);return T.x=U(T,"x",Number),T.y=U(T,"y",Number),T}function D(H){H.width=document.documentElement.clientWidth,H.height=document.documentElement.clientHeight}function I(H){var T=H.getBoundingClientRect();H.width=T.width,H.height=T.height}function C(H){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=H,T}function O(H,T,B,X,le,he,ge,fe,be){H.save(),H.translate(T,B),H.rotate(he),H.scale(X,le),H.arc(0,0,1,ge,fe,be),H.restore()}function P(H){var T=H.angle*(Math.PI/180),B=H.spread*(Math.PI/180);return{x:H.x,y:H.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:H.startVelocity*.5+Math.random()*H.startVelocity,angle2D:-T+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:H.color,shape:H.shape,tick:0,totalTicks:H.ticks,decay:H.decay,drift:H.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:H.gravity*3,ovalScalar:.6,scalar:H.scalar,flat:H.flat}}function j(H,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var B=T.tick++/T.totalTicks,X=T.x+T.random*T.tiltCos,le=T.y+T.random*T.tiltSin,he=T.wobbleX+T.random*T.tiltCos,ge=T.wobbleY+T.random*T.tiltSin;if(H.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-B)+")",H.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))H.fill(me(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(he-X)*.1,Math.abs(ge-le)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,be=Math.abs(he-X)*.1,Ce=Math.abs(ge-le)*.1,we=T.shape.bitmap.width*T.scalar,Be=T.shape.bitmap.height*T.scalar,je=new DOMMatrix([Math.cos(fe)*be,Math.sin(fe)*be,-Math.sin(fe)*Ce,Math.cos(fe)*Ce,T.x,T.y]);je.multiplySelf(new DOMMatrix(T.shape.matrix));var at=H.createPattern(E.transform(T.shape.bitmap),"no-repeat");at.setTransform(je),H.globalAlpha=1-B,H.fillStyle=at,H.fillRect(T.x-we/2,T.y-Be/2,we,Be),H.globalAlpha=1}else if(T.shape==="circle")H.ellipse?H.ellipse(T.x,T.y,Math.abs(he-X)*T.ovalScalar,Math.abs(ge-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):O(H,T.x,T.y,Math.abs(he-X)*T.ovalScalar,Math.abs(ge-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Me=Math.PI/2*3,gt=4*T.scalar,yt=8*T.scalar,At=T.x,Qt=T.y,Dt=5,Fe=Math.PI/Dt;Dt--;)At=T.x+Math.cos(Me)*yt,Qt=T.y+Math.sin(Me)*yt,H.lineTo(At,Qt),Me+=Fe,At=T.x+Math.cos(Me)*gt,Qt=T.y+Math.sin(Me)*gt,H.lineTo(At,Qt),Me+=Fe;else H.moveTo(Math.floor(T.x),Math.floor(T.y)),H.lineTo(Math.floor(T.wobbleX),Math.floor(le)),H.lineTo(Math.floor(he),Math.floor(ge)),H.lineTo(Math.floor(X),Math.floor(T.wobbleY));return H.closePath(),H.fill(),T.tick<T.totalTicks}function x(H,T,B,X,le){var he=T.slice(),ge=H.getContext("2d"),fe,be,Ce=g(function(we){function Be(){fe=be=null,ge.clearRect(0,0,X.width,X.height),E.clear(),le(),we()}function je(){s&&!(X.width===o.width&&X.height===o.height)&&(X.width=H.width=o.width,X.height=H.height=o.height),!X.width&&!X.height&&(B(H),X.width=H.width,X.height=H.height),ge.clearRect(0,0,X.width,X.height),he=he.filter(function(at){return j(ge,at)}),he.length?fe=w.frame(je):Be()}fe=w.frame(je),be=Be});return{addFettis:function(we){return he=he.concat(we),Ce},canvas:H,promise:Ce,reset:function(){fe&&w.cancel(fe),be&&be()}}}function St(H,T){var B=!H,X=!!U(T||{},"resize"),le=!1,he=U(T,"disableForReducedMotion",Boolean),ge=u&&!!U(T||{},"useWorker"),fe=ge?A():null,be=B?D:I,Ce=H&&fe?!!H.__confetti_initialized:!1,we=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Be;function je(Me,gt,yt){for(var At=U(Me,"particleCount",ue),Qt=U(Me,"angle",Number),Dt=U(Me,"spread",Number),Fe=U(Me,"startVelocity",Number),an=U(Me,"decay",Number),Kn=U(Me,"gravity",Number),Dn=U(Me,"drift",Number),wt=U(Me,"colors",Se),tr=U(Me,"ticks",Number),Mt=U(Me,"shapes"),jt=U(Me,"scalar"),ii=!!U(Me,"flat"),wr=Ne(Me),nr=At,br=[],qi=H.width*wr.x,jn=H.height*wr.y;nr--;)br.push(P({x:qi,y:jn,angle:Qt,spread:Dt,startVelocity:Fe,color:wt[nr%wt.length],shape:Mt[ce(0,Mt.length)],ticks:tr,decay:an,gravity:Kn,drift:Dn,scalar:jt,flat:ii}));return Be?Be.addFettis(br):(Be=x(H,br,be,gt,yt),Be.promise)}function at(Me){var gt=he||U(Me,"disableForReducedMotion",Boolean),yt=U(Me,"zIndex",Number);if(gt&&we)return g(function(Fe){Fe()});B&&Be?H=Be.canvas:B&&!H&&(H=C(yt),document.body.appendChild(H)),X&&!Ce&&be(H);var At={width:H.width,height:H.height};fe&&!Ce&&fe.init(H),Ce=!0,fe&&(H.__confetti_initialized=!0);function Qt(){if(fe){var Fe={getBoundingClientRect:function(){if(!B)return H.getBoundingClientRect()}};be(Fe),fe.postMessage({resize:{width:Fe.width,height:Fe.height}});return}At.width=At.height=null}function Dt(){Be=null,X&&(le=!1,e.removeEventListener("resize",Qt)),B&&H&&(document.body.contains(H)&&document.body.removeChild(H),H=null,Ce=!1)}return X&&!le&&(le=!0,e.addEventListener("resize",Qt,!1)),fe?fe.fire(Me,At,Dt):je(Me,At,Dt)}return at.reset=function(){fe&&fe.reset(),Be&&Be.reset()},at}var kt;function ee(){return kt||(kt=St(null,{useWorker:!0,resize:!0})),kt}function me(H,T,B,X,le,he,ge){var fe=new Path2D(H),be=new Path2D;be.addPath(fe,new DOMMatrix(T));var Ce=new Path2D;return Ce.addPath(be,new DOMMatrix([Math.cos(ge)*le,Math.sin(ge)*le,-Math.sin(ge)*he,Math.cos(ge)*he,B,X])),Ce}function Te(H){if(!f)throw new Error("path confetti are not supported in this browser");var T,B;typeof H=="string"?T=H:(T=H.path,B=H.matrix);var X=new Path2D(T),le=document.createElement("canvas"),he=le.getContext("2d");if(!B){for(var ge=1e3,fe=ge,be=ge,Ce=0,we=0,Be,je,at=0;at<ge;at+=2)for(var Me=0;Me<ge;Me+=2)he.isPointInPath(X,at,Me,"nonzero")&&(fe=Math.min(fe,at),be=Math.min(be,Me),Ce=Math.max(Ce,at),we=Math.max(we,Me));Be=Ce-fe,je=we-be;var gt=10,yt=Math.min(gt/Be,gt/je);B=[yt,0,0,yt,-Math.round(Be/2+fe)*yt,-Math.round(je/2+be)*yt]}return{type:"path",path:T,matrix:B}}function We(H){var T,B=1,X="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof H=="string"?T=H:(T=H.text,B="scalar"in H?H.scalar:B,le="fontFamily"in H?H.fontFamily:le,X="color"in H?H.color:X);var he=10*B,ge=""+he+"px "+le,fe=new OffscreenCanvas(he,he),be=fe.getContext("2d");be.font=ge;var Ce=be.measureText(T),we=Math.ceil(Ce.actualBoundingBoxRight+Ce.actualBoundingBoxLeft),Be=Math.ceil(Ce.actualBoundingBoxAscent+Ce.actualBoundingBoxDescent),je=2,at=Ce.actualBoundingBoxLeft+je,Me=Ce.actualBoundingBoxAscent+je;we+=je+je,Be+=je+je,fe=new OffscreenCanvas(we,Be),be=fe.getContext("2d"),be.font=ge,be.fillStyle=X,be.fillText(T,at,Me);var gt=1/B;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[gt,0,0,gt,-we*gt/2,-Be*gt/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=St,n.exports.shapeFromPath=Te,n.exports.shapeFromText=We})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Mg,!1);const AM=Mg.exports;Mg.exports.create;const RM=({className:r})=>V.jsxs("span",{className:"relative inline-block "+(r||""),children:[V.jsx(yT,{className:"w-5 h-5"}),V.jsx("span",{className:"absolute -right-1 -top-1",children:V.jsx(Xm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await ou(ji,tf)}catch{}})();function IM(r,e){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function CM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function iu(){try{try{await ou(ji,tf)}catch{}await mC(ji,Bm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await P0(ji,Bm);return}await P0(ji,Bm)}}function xM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const NM=()=>{const[r]=cR(),e=Ip(),n=r.get("listId"),s=r.get("token"),[o,u]=L.useState(ji.currentUser),[f,m]=L.useState(!0),[p,g]=L.useState(!1),[E,w]=L.useState(null);L.useEffect(()=>ZT(ji,G=>{u(G),m(!1)}),[]);const A=async()=>{w(null);try{await iu()}catch(G){w((G==null?void 0:G.message)||" ")}},k=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await A();return}g(!0),w(null);try{await gM($t,async G=>{var re;const Z=Ln($t,"lists",n),U=await G.get(Z);if(!U.exists())throw new Error("  ");const ce=(re=U.data().pendingInvites)==null?void 0:re[s];if(!ce)throw new Error("  ");if(ce.expiresAt<Date.now())throw new Error("  ");G.update(Z,{sharedWith:vM(o.uid),[`pendingInvites.${s}`]:yM()})}),localStorage.setItem("activeListId",n),e("/")}catch(G){w((G==null?void 0:G.message)||"  ")}finally{g(!1)}};return f?V.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[V.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),V.jsx(ru,{className:"animate-spin text-indigo-600"})]}):V.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:V.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[V.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:V.jsx(Jm,{className:"w-10 h-10"})}),V.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?V.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?V.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?V.jsx("button",{onClick:k,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?V.jsx(ru,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):V.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[V.jsx(vT,{className:"w-4 h-4"}),"   "]})]})})},Kw={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Ui=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),$w=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Xh(r){return r?/^\d+$/.test(r)?!0:Kw[r]!=null:!1}function DM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=Kw[r];return e??null}const MM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function OM(r){return MM.has(r)}const qm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Hm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),Fm=new Set(["","","","","","","","","","","","",""]);function VM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Xh(o)&&!Xh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(qm.has(f)||qm.has(p)){e.push(qm.has(f)?f:p),n+=2;continue}if(Hm.has(u)||Hm.has(m)){e.push(Hm.has(u)?f:p),n+=2;continue}if(Fm.has(u)||Fm.has(m)){e.push(Fm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function kM(r){const e=Ui(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=VM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Xh(g)){const w=Math.max(1,DM(g)||1),A=m(p);if(u.length===0){o=w;continue}if(!A){f(w);continue}f(),o=w;continue}u.push(g);const E=m(p);u.length===1&&OM(u[0])||g===""||g===""||E===""||E===""||Xh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function PM(r){const e=$w(r),n=Ui(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=kM(f);for(const p of m)u.push(p)}return u}const LM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function pr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const Xw="shopping_list_item_history_v1",Jw="shopping_list_hidden_suggestions_v1",UM=1440*60*1e3;function Og(){try{const r=localStorage.getItem(Jw);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Vg(r){try{localStorage.setItem(Jw,JSON.stringify(r))}catch{}}function YE(){const r=Og(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&Vg(r),n}function zM(r){const e=Og();e[r]=Date.now()+UM,Vg(e)}function Gm(r){try{const e=Og();e[r]&&(delete e[r],Vg(e))}catch{}}function jM(){try{const r=localStorage.getItem(Xw);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function KE(r){try{localStorage.setItem(Xw,JSON.stringify(r))}catch{}}function BM(r){const e=r.query,n=pr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const w=g.trim();if(!w)return;const A=pr(w);if(!A||r.hiddenKeys.has(A))return;const k=o.get(A);if(k){k.sources.add(E);return}o.set(A,{name:w,key:A,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const w=o.get(g);w&&(w.history=E)}for(const g of LM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=pr(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,w=E.startsWith(n),A=!w&&E.includes(n);if(!w&&!A)return-1/0;let k=w?120:70;if(g.sources.has("favorite")&&(k+=45),g.sources.has("history")&&(k+=35),g.sources.has("items")&&(k+=20),g.sources.has("static")&&(k+=10),g.history){const G=Math.max(0,g.history.count||0),Z=Math.max(0,g.history.lastUsed||0);k+=Math.min(30,Math.log2(G+1)*8);const U=(Date.now()-Z)/(1e3*60*60*24),ue=Math.max(0,20-U);k+=Math.min(20,ue)}return k};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const qM=()=>{const[r,e]=L.useState(null),[n,s]=L.useState(null),[o,u]=L.useState([]),[f,m]=L.useState([]),[p,g]=L.useState("list"),[E,w]=L.useState(""),A=L.useRef(null),[k,G]=L.useState(!1),[Z,U]=L.useState(-1),ue=L.useRef({}),ce=L.useRef(null);L.useEffect(()=>{ue.current=jM()},[]);const[re,Se]=L.useState(!1),[Pe,Ne]=L.useState(!1),D=L.useRef(null),[I,C]=L.useState(!1),[O,P]=L.useState(!1),[j,x]=L.useState(!1),[St,kt]=L.useState(()=>{const R=new Date,q=new Date(R);q.setMinutes(0,0,0),q.setHours(18),q.getTime()<R.getTime()&&q.setHours(R.getHours()+1);const $=se=>String(se).padStart(2,"0");return`${q.getFullYear()}-${$(q.getMonth()+1)}-${$(q.getDate())}T${$(q.getHours())}:${$(q.getMinutes())}`}),[ee,me]=L.useState(60),[Te,We]=L.useState(!0),[H,T]=L.useState(!1),[B,X]=L.useState(!1),[le,he]=L.useState(!1),[ge]=L.useState("hold_to_talk"),[fe,be]=L.useState(""),[Ce,we]=L.useState(null),Be=L.useRef(null),je=L.useRef(!1),at=L.useRef([]),Me=L.useRef(""),gt=L.useRef(!1),yt=L.useRef(null),At=L.useRef(null),Qt=L.useRef(!1),Dt=L.useRef(null),[Fe,an]=L.useState({id:null,dx:0}),Kn=L.useRef({}),Dn=70,wt=110,tr=R=>{const q=R;return q?!!q.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},Mt=R=>q=>{tr(q.target)||(Qt.current=!1,yt.current={x:q.clientX,y:q.clientY,id:R,pointerId:q.pointerId},At.current={x:q.clientX,y:q.clientY},an({id:R,dx:0}),Kn.current[R]=!1)},jt=R=>q=>{const $=yt.current;if(!$||$.id!==R||$.pointerId!==q.pointerId)return;At.current={x:q.clientX,y:q.clientY};const se=q.clientX-$.x,de=Math.max(-wt,Math.min(wt,se)),Ae=Math.abs(se)>=Dn;if(Ae&&!Kn.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Kn.current[R]=!0),Ae||(Kn.current[R]=!1),!Dt.current&&Math.abs(se)>10&&Math.abs(se)>=Math.abs(q.clientY-$.y))try{q.currentTarget.setPointerCapture(q.pointerId),Dt.current={el:q.currentTarget,pointerId:q.pointerId}}catch{}an({id:R,dx:de})},ii=R=>async q=>{const $=yt.current,se=At.current;yt.current=null;try{Dt.current&&Dt.current.el.releasePointerCapture($.pointerId)}catch{}if(Dt.current=null,At.current=null,!$||$.id!==R){an({id:null,dx:0});return}const de=(se==null?void 0:se.x)??q.clientX,Ae=(se==null?void 0:se.y)??q.clientY,Re=de-$.x,lt=Ae-$.y;if(an({id:null,dx:0}),!(Math.abs(Re)<Dn||Math.abs(Re)<Math.abs(lt))){Qt.current=!0;try{Re>0?await Bt(R):ln.has(R)||await ls(R)}finally{window.setTimeout(()=>{Qt.current=!1},0)}}},wr=R=>q=>{if(tr(q.target))return;const $=q.touches[0];$&&(Qt.current=!1,yt.current={x:$.clientX,y:$.clientY,id:R,pointerId:-1},At.current={x:$.clientX,y:$.clientY},an({id:R,dx:0}),Kn.current[R]=!1)},nr=R=>q=>{const $=yt.current;if(!$||$.id!==R)return;const se=q.touches[0];if(!se)return;At.current={x:se.clientX,y:se.clientY};const de=se.clientX-$.x,Ae=se.clientY-$.y,Re=Math.abs(de)>=Dn;if(Re&&!Kn.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Kn.current[R]=!0),Re||(Kn.current[R]=!1),Math.abs(de)<6||Math.abs(de)<Math.abs(Ae))return;try{q.preventDefault()}catch{}const lt=Math.max(-wt,Math.min(wt,de));an({id:R,dx:lt})},br=R=>async q=>{const $=yt.current,se=At.current;if(yt.current=null,At.current=null,!$||$.id!==R){an({id:null,dx:0});return}const de=se?se.x-$.x:0;if(Math.abs(de)<Dn){an({id:null,dx:0});return}Qt.current=!0,de>0?await Bt(R):ln.has(R)||await ls(R),an({id:null,dx:0})},qi=()=>{yt.current=null,At.current=null;try{Dt.current&&Dt.current.el.releasePointerCapture(Dt.current.pointerId)}catch{}Dt.current=null,an({id:null,dx:0})},jn=L.useRef(null),on=L.useRef([]),En=L.useRef(!1);L.useEffect(()=>{jn.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),L.useEffect(()=>{on.current=o},[o]),L.useEffect(()=>{if(!o||o.length===0){En.current=!1;return}const R=o.every(q=>q.isPurchased);R&&!En.current&&(En.current=!0,AM({particleCount:140,spread:75,origin:{y:.65}})),R||(En.current=!1)},[o]),L.useEffect(()=>{if(!Ce)return;const R=setTimeout(()=>we(null),2500);return()=>clearTimeout(R)},[Ce]),L.useEffect(()=>ZT(ji,async R=>{try{if(e(R),We(!1),!R){s(null),u([]),m([]);return}X(!0);const q=HE(Oa($t,"lists"),FE("sharedWith","array-contains",R.uid)),$=await Um(q);if($.empty){const se=Ln(Oa($t,"lists")),de={id:se.id,title:" ",ownerUid:R.uid,sharedWith:[R.uid],createdAt:Date.now(),updatedAt:Date.now()};await No(se,de),s(de),localStorage.setItem("activeListId",se.id)}else{const se=localStorage.getItem("activeListId"),de=se?$.docs.find(Re=>Re.id===se)??$.docs[0]:$.docs[0],Ae=de.data();s({...Ae,id:de.id}),localStorage.setItem("activeListId",de.id)}X(!1)}finally{T(!0)}}),[]),L.useEffect(()=>{if(!(n!=null&&n.id))return;const R=Ln($t,"lists",n.id),q=Oa(R,"items"),$=Oa(R,"favorites"),se=jm(R,Re=>{Re.exists()&&s({...Re.data(),id:Re.id})}),de=jm(q,Re=>{const lt=Re.docs.map(ht=>ht.data());u(lt)}),Ae=jm($,Re=>{const lt=Re.docs.map(ht=>{const Ke=ht.data();return{id:ht.id,name:String((Ke==null?void 0:Ke.name)||""),createdAt:Number((Ke==null?void 0:Ke.createdAt)||0)}});lt.sort((ht,Ke)=>Ke.createdAt-ht.createdAt),m(lt)});return()=>{se(),de(),Ae()}},[n==null?void 0:n.id]);const ln=L.useMemo(()=>{const R=new Set;for(const q of f)R.add(q.id);return R},[f]),Ya=L.useMemo(()=>{const R=new Set,q=[];for(const $ of f){const se=Ui($.name);se&&(R.has(se)||(R.add(se),q.push($)))}return q},[f]),ua=L.useMemo(()=>o.filter(R=>!R.isPurchased).sort((R,q)=>q.createdAt-R.createdAt),[o]),as=L.useMemo(()=>o.filter(R=>R.isPurchased).sort((R,q)=>(q.purchasedAt||0)-(R.purchasedAt||0)),[o]),ir=R=>{const q=R.trim();if(!q)return;const $=pr(q);if(!$)return;const se=ue.current[$],de={name:q,count:((se==null?void 0:se.count)||0)+1,lastUsed:Date.now()};ue.current={...ue.current,[$]:de},KE(ue.current)},dn=L.useRef(new Set);L.useEffect(()=>{dn.current=new Set(YE())},[]);const un=L.useMemo(()=>{const R=new Set(YE());return dn.current=R,BM({query:E,favorites:(f??[]).map(q=>q.name),items:o??[],history:ue.current,hiddenKeys:R,limit:8})},[E,f,o]),ri=()=>{ce.current&&window.clearTimeout(ce.current),ce.current=window.setTimeout(()=>{G(!1),U(-1)},120)},Bn=()=>{ce.current&&window.clearTimeout(ce.current),G(!0)},bi=async R=>{if(R.isInList&&R.itemId){const q=(R.currentQty??1)+1;await qn(R.itemId,1);const $=R.key||pr(R.name);$&&(Gm($),dn.current.delete($)),we(`  -   -${q}`),w(""),U(-1),G(!1),window.requestAnimationFrame(()=>{var se;return(se=A.current)==null?void 0:se.focus()});return}w(R.name),U(-1),G(!1),window.requestAnimationFrame(()=>{var q;return(q=A.current)==null?void 0:q.focus()})},os=R=>{const q=R.key||pr(R.name);if(!q)return;const $={...ue.current};$[q]&&(delete $[q],ue.current=$,KE($));const se=new Set(dn.current);se.add(q),dn.current=se,zM(q),G(!1),U(-1),window.requestAnimationFrame(()=>{var de;return(de=A.current)==null?void 0:de.focus()})},ca=async R=>{if(R&&R.preventDefault(),!r){await iu();return}if(!(n!=null&&n.id))return;const q=E.trim();if(!q)return;const $=pr(q),se=o.find(Re=>pr(Re.name)===$);if(se){await qn(se.id,1),$&&(Gm($),dn.current.delete($)),ir(se.name),w(""),G(!1),U(-1);return}const de=crypto.randomUUID(),Ae={id:de,name:q,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await No(Ln($t,"lists",n.id,"items",de),Ae),$&&(Gm($),dn.current.delete($)),ir(q),w(""),G(!1),U(-1)},si=async R=>{if(!(n!=null&&n.id))return;const q=o.find(se=>se.id===R);if(!q)return;const $=!q.isPurchased;await Do(Ln($t,"lists",n.id,"items",R),{isPurchased:$,purchasedAt:$?Date.now():null})},qn=async(R,q)=>{if(!(n!=null&&n.id))return;if(q>0){await Do(Ln($t,"lists",n.id,"items",R),{quantity:EM(q)});return}const $=o.find(se=>se.id===R);$&&await Do(Ln($t,"lists",n.id,"items",R),{quantity:Math.max(1,$.quantity+q)})},Bt=async R=>{n!=null&&n.id&&await zm(Ln($t,"lists",n.id,"items",R))},ls=async R=>{if(!(n!=null&&n.id))return;const q=Ln($t,"lists",n.id,"favorites",R);if(ln.has(R)){await zm(q);return}const $=o.find(Ae=>Ae.id===R),se=String(($==null?void 0:$.name)||""),de=Ui(se);de&&f.some(Re=>Ui(Re.name)===de)||await No(q,{name:se,createdAt:Date.now()})},rr=async R=>{n!=null&&n.id&&await zm(Ln($t,"lists",n.id,"favorites",R))},Hi=async()=>{const R=jn.current||(n==null?void 0:n.id);if(!R)return;const q=Oa($t,"lists",R,"items"),$=await Um(q);if($.empty){C(!1);return}const se=$.docs;let de=0;for(;de<se.length;){const Ae=TM($t),Re=se.slice(de,de+450);for(const lt of Re)Ae.delete(lt.ref);await Ae.commit(),de+=Re.length}C(!1)},ha=async()=>{if(!r)return await iu(),null;if(!(n!=null&&n.id))return null;const R=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),q=Date.now()+2880*60*1e3;return await Do(Ln($t,"lists",n.id),{[`pendingInvites.${R}`]:{createdAt:Date.now(),expiresAt:q}}),IM(n.id,R)},us=async()=>{const R=await ha();if(R){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:R});return}}catch{}await CM(R),Se(!0),setTimeout(()=>Se(!1),2e3)}},Fi=async()=>{if(!(!r||!(n!=null&&n.id)))try{const R=Array.isArray(n.sharedWith)?n.sharedWith:[],q=String(n.ownerUid||"");if(q&&q===r.uid&&R.length>1){we("   .  ,     ."),P(!1);return}await Do(Ln($t,"lists",n.id),{sharedWith:_M(r.uid),updatedAt:Date.now()}),P(!1),Ne(!1),localStorage.removeItem("activeListId"),X(!0);const se=HE(Oa($t,"lists"),FE("sharedWith","array-contains",r.uid)),de=await Um(se);if(de.empty){const Ae=Ln(Oa($t,"lists")),Re={id:Ae.id,title:" ",ownerUid:r.uid,sharedWith:[r.uid],createdAt:Date.now(),updatedAt:Date.now()};await No(Ae,Re),s(Re),localStorage.setItem("activeListId",Ae.id)}else{const Ae=de.docs[0],Re=Ae.data();s({...Re,id:Ae.id}),localStorage.setItem("activeListId",Ae.id)}we("  ")}catch(R){console.error(R),we("  ")}finally{X(!1)}},Ka=(R,q)=>{const[$,se]=R.split("T"),[de,Ae,Re]=$.split("-").map(Rt=>parseInt(Rt,10)),[lt,ht]=se.split(":").map(Rt=>parseInt(Rt,10)),Ke=new Date(de,Ae-1,Re,lt,ht,0,0),ke=new Date(Ke.getTime()+Math.max(15,q)*6e4),$e=Rt=>String(Rt).padStart(2,"0"),wn=Rt=>`${Rt.getFullYear()}${$e(Rt.getMonth()+1)}${$e(Rt.getDate())}T${$e(Rt.getHours())}${$e(Rt.getMinutes())}00`,Ii=`${wn(Ke)}/${wn(ke)}`,Ci=encodeURIComponent("  "),Ge=encodeURIComponent("   -     "),li=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${Ci}&dates=${encodeURIComponent(Ii)}&details=${Ge}&ctz=${li}`},Si=()=>{const R=Ka(St,ee),q=navigator.userAgent||"",$=/Android/i.test(q),se=/iPhone|iPad|iPod/i.test(q);if($){const de=R.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=de,window.setTimeout(()=>{window.location.href=R},700);return}if(se){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=R},700);return}window.open(R,"_blank","noopener,noreferrer")},Ot=()=>{const R=(n==null?void 0:n.title)||" ",q=o.filter(ke=>!ke.isPurchased),$="",se="",de="",Ae="",Re=q.length>0?q.map(ke=>(ke.quantity||1)<=1?`${$}${ke.name}${se}`:`${$}${ke.name} X ${de}${ke.quantity}${Ae}${se}`).join(`
`):`${$}(  )${se}`,Ke=`${`*${R}:*`}

${Re}

   `;xM(Ke)},Pt=L.useRef(null),Mn=L.useRef(null),Hn=L.useRef(null),[ot,Sr]=L.useState({id:null,dx:0,rawDx:0}),sr=L.useRef({}),On=60,Ai=110,Gi=async R=>{if(!(n!=null&&n.id))return;const q=pr(R.name);if(!o.find(se=>!se.isPurchased&&pr(se.name)===q)){const se=crypto.randomUUID(),de={id:se,name:R.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await No(Ln($t,"lists",n.id,"items",se),de)}},Qi=R=>q=>{tr(q.target)||(Pt.current={x:q.clientX,y:q.clientY,id:R,pointerId:q.pointerId},Mn.current={x:q.clientX,y:q.clientY},Sr({id:R,dx:0,rawDx:0}),sr.current[R]=!1)},Ar=R=>q=>{const $=Pt.current;if(!$||$.id!==R)return;Mn.current={x:q.clientX,y:q.clientY};const se=q.clientX-$.x,de=q.clientY-$.y,Ae=Math.abs(se)>=On;if(Ae&&!sr.current[R]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),sr.current[R]=!0),Ae||(sr.current[R]=!1),!Hn.current&&Math.abs(se)>10&&Math.abs(de)<=Math.abs(se)*1.2)try{q.currentTarget.setPointerCapture(q.pointerId),Hn.current={el:q.currentTarget,pointerId:q.pointerId}}catch{}if(Math.abs(de)>Math.abs(se)*1.6)return;const Re=Math.max(-Ai,Math.min(Ai,se));Sr({id:R,dx:Re,rawDx:se})},ai=R=>async q=>{const $=Pt.current,se=Mn.current;Pt.current=null;try{Hn.current&&$&&Hn.current.el.releasePointerCapture($.pointerId)}catch{}if(Hn.current=null,Mn.current=null,Sr({id:null,dx:0,rawDx:0}),!$||$.id!==R)return;const de=(se==null?void 0:se.x)??q.clientX,Ae=(se==null?void 0:se.y)??q.clientY,Re=de-$.x,lt=Ae-$.y;if(Math.abs(Re)<On||Math.abs(lt)>Math.abs(Re)*1.6)return;const ht=f.find(Ke=>Ke.id===R);Re>0?(await rr(R),we(" ")):ht&&await Gi(ht)},Lt=()=>{Pt.current=null,Mn.current=null,Hn.current=null,Sr({id:null,dx:0,rawDx:0})},Yi=R=>{const q=Ui(R),$=o.find(de=>Ui(de.name)===q);return $||o.find(de=>Ui(de.name).includes(q)||q.includes(Ui(de.name)))||null},ar=async(R,q)=>{const $=jn.current||(n==null?void 0:n.id);if(!$)return;const se=on.current||o,de=R.trim();if(!de)return;const Ae=se.find(ht=>!ht.isPurchased&&Ui(ht.name)===Ui(de));if(Ae){await Do(Ln($t,"lists",$,"items",Ae.id),{quantity:q});return}const Re=crypto.randomUUID(),lt={id:Re,name:de,quantity:q,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await No(Ln($t,"lists",$,"items",Re),lt)},Tn=R=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(R)||/^(||)$/.test(R)||R.includes("")&&R.includes("")&&(R.includes("")||R.includes(""))||R.includes("")&&(R.includes("")||R.includes("")),Ri=async R=>{if(!(jn.current||(n==null?void 0:n.id)))return;const $=Ui(R);if(!$)return;if(Tn($)){await Hi(),we(" ");return}if(/^(|||)\s+/.test($)){const Ke=$.replace(/^(|||)\s+/,"").trim(),ke=Yi(Ke);if(!ke){we("   ");return}await Bt(ke.id),we(`: ${ke.name}`);return}const se=$.match(/^(||)\s+(.+)\s+(||)$/);if(se){const Ke=se[2].trim(),ke=Yi(Ke);if(!ke){we("   ");return}ke.isPurchased||await si(ke.id),we(` : ${ke.name}`);return}const de=$.match(/^(||)\s+(.+)$/);if(de){const Ke=de[2].trim(),ke=Yi(Ke);return ke?(await qn(ke.id,1),we(`: ${ke.name}`)):we("   ")}const Ae=$.match(/^(||)\s+(.+)$/);if(Ae){const Ke=Ae[2].trim(),ke=Yi(Ke);return ke?(await qn(ke.id,-1),we(`: ${ke.name}`)):we("   ")}const Re=$.match(/^(|||)(?:\s+)?\s+(.+)$/),lt=Re?Re[2]:$,ht=PM(lt);if(ht.length!==0)for(const Ke of ht)await ar(Ke.name,Ke.qty)},al=()=>{const R=window.SpeechRecognition||window.webkitSpeechRecognition;return R||null},Rr=()=>{const R=al();if(!R){alert("    .  Chrome  Edge.");return}if(!r){we("    "),iu();return}if(at.current=[],Me.current="",gt.current=!1,je.current=!0,be(""),he(!0),we("  -   "),Be.current){try{Be.current.stop()}catch{}Be.current=null}const q=new R;Be.current=q,q.lang="he-IL",q.interimResults=!0,q.maxAlternatives=1,q.continuous=!0;const $=3e3,se=9e4;let de=!1,Ae=Date.now(),Re=null,lt=null;const ht=()=>{Re!=null&&window.clearTimeout(Re),lt!=null&&window.clearTimeout(lt),Re=null,lt=null},Ke=()=>{je.current&&de&&(Re!=null&&window.clearTimeout(Re),Re=window.setTimeout(()=>{if(!je.current)return;Date.now()-Ae>=$&&oi()},$+50))};lt=window.setTimeout(()=>{je.current&&(we("     - ..."),oi())},se),q.onstart=()=>{},q.onaudiostart=()=>{},q.onspeechstart=()=>{},q.onresult=ke=>{try{let $e="";const wn=ke.results;if(!wn)return;for(let Ci=ke.resultIndex??0;Ci<((wn==null?void 0:wn.length)??0);Ci++){const Ge=wn[Ci],li=Ge==null?void 0:Ge[0],Rt=$w(String((li==null?void 0:li.transcript)||""));Rt&&(Ge.isFinal?(at.current.push(Rt),Me.current=""):($e=Rt,Me.current=Rt))}const Ii=$e||(at.current.length?at.current[at.current.length-1]:"");Ii&&be(Ii),de=!0,Ae=Date.now(),Ke()}catch{}},q.onerror=ke=>{const $e=String((ke==null?void 0:ke.error)||"");console.warn("Speech error:",$e,ke),$e!=="no-speech"&&(ht(),he(!1),je.current=!1,$e==="not-allowed"||$e==="service-not-allowed"?alert("  .     ."):we($e==="audio-capture"?"   (    )":` : ${$e||"unknown"}`))},q.onend=()=>{if(!je.current){ht();return}Ke(),!gt.current&&(gt.current=!0,setTimeout(()=>{if(!je.current){gt.current=!1,ht();return}try{q.start()}catch{}finally{gt.current=!1}},180))};try{q.start(),Ke()}catch(ke){console.error(ke),ht(),he(!1),je.current=!1,we("   ")}},oi=async()=>{var se,de;if(!je.current)return;je.current=!1,he(!1);try{(de=(se=Be.current)==null?void 0:se.stop)==null||de.call(se)}catch{}const R=at.current.join(" ").trim(),q=(Me.current||"").trim(),$=`${R} ${q}`.replace(/\s+/g," ").trim();if(at.current=[],Me.current="",!$){we("   -  ");return}we("...");try{await Ri($)}catch(Ae){console.error(Ae),we(`: ${String((Ae==null?void 0:Ae.message)||Ae||"")}`)}};return L.useEffect(()=>()=>{var R,q;try{je.current=!1,(q=(R=Be.current)==null?void 0:R.stop)==null||q.call(R)}catch{}},[]),L.useEffect(()=>{const R=q=>{if(!Pe)return;const $=D.current;$&&(q.target&&$.contains(q.target)||Ne(!1))};return document.addEventListener("pointerdown",R),()=>document.removeEventListener("pointerdown",R)},[Pe]),H?r?Te?V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:V.jsx(ru,{className:"animate-spin text-indigo-600"})}):B||!(n!=null&&n.id)?V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:V.jsx(ru,{className:"animate-spin text-indigo-600"})}):V.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[V.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-[auto,1fr,auto] items-center",children:[V.jsx("div",{className:"flex items-center gap-2 justify-start",children:V.jsx("button",{onClick:()=>C(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:V.jsx(uh,{className:"w-5 h-5"})})}),V.jsx("h1",{className:"text-lg font-bold text-indigo-600 leading-tight text-center justify-self-center px-2 min-w-0 whitespace-normal break-words",children:(n==null?void 0:n.title)||" "}),V.jsxs("div",{className:"justify-self-end flex items-center gap-2",children:[V.jsxs("div",{className:"relative inline-flex items-center",ref:D,children:[V.jsx("button",{onClick:us,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:re?V.jsx(_R,{className:"w-5 h-5 text-emerald-500"}):V.jsx(Jm,{className:"w-5 h-5"})}),V.jsx("button",{type:"button",onClick:()=>Ne(R=>!R),className:"p-1 text-slate-400 hover:text-indigo-600",title:"","aria-label":" ",children:V.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:V.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 0 1 1.06.02L10 10.94l3.71-3.71a.75.75 0 1 1 1.06 1.06l-4.24 4.24a.75.75 0 0 1-1.06 0L5.21 8.29a.75.75 0 0 1 .02-1.08z",clipRule:"evenodd"})})}),Pe?V.jsxs("div",{className:"absolute top-10 left-0 z-[80] w-44 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[15px] leading-tight",children:[V.jsxs("button",{type:"button",onClick:async()=>{Ne(!1),await us()},className:"w-full text-right px-4 py-2 text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[V.jsx(Jm,{className:"w-4 h-4 text-slate-500"}),V.jsx("span",{className:"font-semibold text-[15px] leading-none",children:""})]}),V.jsxs("button",{type:"button",onClick:()=>{Ne(!1),P(!0)},className:"w-full text-right px-4 py-2 text-rose-700 hover:bg-rose-50 flex items-center gap-2",children:[V.jsx(Im,{className:"w-4 h-4 text-rose-600"}),V.jsx("span",{className:"font-semibold text-[15px] leading-none",children:" "})]})]}):null]}),V.jsx("button",{onClick:()=>XI(ji),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:V.jsx(TR,{className:"w-4 h-4"})})]})]}),V.jsx("div",{className:"px-5 pt-3",children:V.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[V.jsx("div",{className:"text-[11px] font-black text-slate-400",children:le?"  -    ":" :    ,  "}),fe?V.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",fe]}):null,V.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),V.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?V.jsxs(V.Fragment,{children:[V.jsxs("form",{onSubmit:ca,className:"relative",children:[V.jsx("input",{ref:A,value:E,onFocus:Bn,onBlur:ri,onKeyDown:R=>{if(k){if(R.key==="Escape"){R.preventDefault(),G(!1),U(-1);return}if(R.key==="ArrowDown"){if(R.preventDefault(),un.length===0)return;U(q=>{const $=q+1;return $>=un.length?0:$});return}if(R.key==="ArrowUp"){if(R.preventDefault(),un.length===0)return;U(q=>{const $=q-1;return $<0?un.length-1:$});return}if(R.key==="Tab"){if(un.length===0)return;R.preventDefault(),bi(un[Math.max(0,Z>=0?Z:0)]);return}if(R.key==="Enter"&&un.length>0){R.preventDefault();const q=Z>=0?Z:0;bi(un[q]);return}}},onChange:R=>{w(R.target.value),Bn(),U(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),V.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:V.jsx(Xm,{className:"w-6 h-6"})}),k&&E.trim()&&un.length>0?V.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:R=>{R.preventDefault()},onPointerDown:R=>{R.preventDefault()},children:un.map((R,q)=>V.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(q===Z?"bg-slate-100":""),children:[V.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:$=>{$.preventDefault(),bi(R)},title:"",children:[V.jsx("span",{className:"font-semibold text-slate-700",children:R.name}),R.isInList?V.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof R.currentQty=="number"?` (${R.currentQty})`:""]}):V.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),R.canHide?V.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:$=>{$.preventDefault(),$.stopPropagation(),os(R)},title:" ","aria-label":" ",children:""}):null]},R.key+"-"+q))}):null]}),((o==null?void 0:o.length)??0)===0?V.jsxs("div",{className:"text-center py-20 opacity-20",children:[V.jsx(RR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),V.jsx("p",{className:"text-lg font-bold",children:" "})]}):V.jsx("div",{className:"space-y-4",children:V.jsxs("div",{className:"space-y-3",children:[ua.map(R=>V.jsxs("div",{className:"relative overflow-hidden flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm select-none",dir:"rtl",onPointerDown:Mt(R.id),onPointerMove:jt(R.id),onPointerUp:ii(R.id),onPointerCancel:qi,onTouchStart:wr(R.id),onTouchMove:nr(R.id),onTouchEnd:br(R.id),style:{touchAction:"pan-y"},children:[V.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[V.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:Fe.id===R.id&&Fe.dx>0?Math.min(Math.abs(Fe.dx),wt):0,opacity:.9,zIndex:0}}),V.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:Fe.id===R.id&&Fe.dx<0?Math.min(Math.abs(Fe.dx),wt):0,opacity:.9,zIndex:0}}),V.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 flex-row-reverse",children:[V.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:Fe.id===R.id&&Fe.dx>0?Math.abs(Fe.dx)>=Dn?1:.65:0,transform:Fe.id===R.id&&Fe.dx>0&&Math.abs(Fe.dx)>=Dn?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(uh,{className:"w-6 h-6"})}),V.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:Fe.id===R.id&&Fe.dx<0?Math.abs(Fe.dx)>=Dn?1:.65:0,transform:Fe.id===R.id&&Fe.dx<0&&Math.abs(Fe.dx)>=Dn?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(lh,{className:"w-6 h-6"})})]})]}),V.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",style:{transform:Fe.id===R.id?`translateX(${Fe.dx}px)`:void 0,transition:Fe.id===R.id?"none":"transform 120ms ease-out"},children:[V.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{Qt.current||si(R.id)},children:R.name}),V.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[V.jsx("button",{onClick:()=>qn(R.id,-1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:V.jsx(AR,{className:"w-3 h-3"})}),V.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:R.quantity}),V.jsx("button",{onClick:()=>qn(R.id,1),className:"p-1 text-slate-400",title:"","data-noswipe":"true",children:V.jsx(Xm,{className:"w-3 h-3"})})]})]})]},R.id)),as.length>0?V.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[V.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",as.length,")"]}),as.map(R=>V.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:V.jsxs("div",{className:"flex items-center justify-between w-full",children:[V.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>si(R.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[V.jsx(ER,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),V.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:V.jsxs("span",{className:"flex gap-1",children:[V.jsx("span",{children:R.name}),(R.quantity||1)>1&&V.jsxs(V.Fragment,{children:[V.jsx("span",{children:"x"}),V.jsx("span",{children:R.quantity})]})]})})]}),V.jsx("button",{onClick:()=>Bt(R.id),className:"p-2 text-slate-300",title:"",children:V.jsx(uh,{className:"w-4 h-4"})})]})},R.id))]}):null]})})]}):V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"text-right",children:[V.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),V.jsx("p",{className:"text-sm text-slate-400 font-bold",children:V.jsx("span",{className:"font-semibold text-[15px] leading-none",children:"  "})})]}),Ya.length===0?V.jsxs("div",{className:"text-center py-20 opacity-20",children:[V.jsx(lh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),V.jsx("p",{className:"font-bold",children:"  "})]}):V.jsx("div",{className:"grid grid-cols-1 gap-3",children:Ya.map(R=>V.jsxs("div",{className:"relative overflow-hidden rounded-2xl select-none",dir:"ltr",onPointerDown:Qi(R.id),onPointerMove:Ar(R.id),onPointerUp:ai(R.id),onPointerCancel:Lt,style:{touchAction:"pan-y"},children:[V.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[V.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:ot.id===R.id&&ot.rawDx>0?Math.min(Math.abs(ot.rawDx),Ai):0,opacity:.9,zIndex:0}}),V.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:ot.id===R.id&&ot.rawDx<0?Math.min(Math.abs(ot.rawDx),Ai):0,opacity:.9,zIndex:0}}),V.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[V.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:ot.id===R.id&&ot.rawDx>0?Math.abs(ot.rawDx)>=On?1:.65:0,transform:ot.id===R.id&&ot.rawDx>0&&Math.abs(ot.rawDx)>=On?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(uh,{className:"w-6 h-6"})}),V.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:ot.id===R.id&&ot.rawDx<0?Math.abs(ot.rawDx)>=On?1:.65:0,transform:ot.id===R.id&&ot.rawDx<0&&Math.abs(ot.rawDx)>=On?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:V.jsx(RM,{className:"w-6 h-6"})})]})]}),V.jsxs("div",{className:"relative z-10 flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",style:{transform:ot.id===R.id?`translateX(${ot.dx}px)`:void 0,transition:ot.id===R.id?"none":"transform 160ms ease-out"},children:[V.jsx("div",{className:"flex items-center gap-2"}),V.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:R.name}),V.jsx(lh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},R.id))})]})}),V.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:V.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:V.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:V.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[V.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[V.jsx(lh,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),V.jsxs("button",{onClick:Ot,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[V.jsx(wR,{className:"w-7 h-7"}),""]}),V.jsxs("button",{onClick:()=>x(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[V.jsx(p0,{className:"w-7 h-7"}),""]}),V.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[V.jsx(yT,{className:"w-7 h-7"}),""]}),V.jsx("button",{onPointerDown:R=>{R.preventDefault(),Rr()},onPointerUp:R=>{R.preventDefault(),oi()},onPointerCancel:R=>{R.preventDefault(),oi()},onPointerLeave:R=>{je.current&&(R.preventDefault(),oi())},onTouchStart:R=>{R.preventDefault(),Rr()},onTouchEnd:R=>{R.preventDefault(),oi()},onMouseDown:R=>{R.preventDefault(),Rr()},onMouseUp:R=>{R.preventDefault(),oi()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${le?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:le?"  -   ":"   ",children:le?V.jsx(bR,{className:"w-7 h-7"}):V.jsx(SR,{className:"w-7 h-7"})})]})})})}),j?V.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:V.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:V.jsxs("div",{className:"p-6 space-y-4",children:[V.jsxs("div",{className:"flex items-start justify-between gap-3",children:[V.jsxs("div",{className:"text-right",children:[V.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),V.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),V.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:V.jsx(p0,{className:"w-5 h-5"})})]}),V.jsxs("div",{className:"space-y-3",children:[V.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),V.jsx("input",{type:"datetime-local",value:St,onChange:R=>kt(R.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),V.jsxs("span",{className:"text-sm font-black text-slate-500",children:[ee," "]})]}),V.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(R=>V.jsx("button",{onClick:()=>me(R),className:`py-2 rounded-2xl font-black text-sm ${ee===R?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:R},R))})]}),V.jsxs("div",{className:"flex gap-3 pt-2",children:[V.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),V.jsx("button",{onClick:()=>{x(!1),Si()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:" "})]})]})})}):null,I?V.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:V.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:V.jsx(Im,{className:"w-5 h-5"})}),V.jsxs("div",{className:"text-right",children:[V.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),V.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),V.jsxs("div",{className:"flex gap-3",children:[V.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),V.jsx("button",{onClick:Hi,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,Ce?V.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:Ce}):null,O?V.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:V.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:V.jsx(Im,{className:"w-5 h-5"})}),V.jsxs("div",{className:"text-right",children:[V.jsx("div",{className:"text-lg font-black text-slate-800",children:"  ?"}),V.jsx("div",{className:"text-sm font-bold text-slate-400",children:"         (    )."})]})]}),V.jsxs("div",{className:"flex gap-3",children:[V.jsx("button",{onClick:()=>P(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),V.jsx("button",{onClick:Fi,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null]}):V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:V.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[V.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),V.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),V.jsxs("button",{onClick:async()=>{await iu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[V.jsx(vT,{className:"w-4 h-4"}),"  "]})]})}):V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Heebo", "Rubik", Arial'},children:V.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-70",children:[V.jsx(ru,{className:"w-10 h-10 animate-spin"}),V.jsx("div",{className:"font-bold text-slate-500",children:"..."})]})})},HM=()=>V.jsx(sR,{children:V.jsxs(VA,{children:[V.jsx(Ym,{path:"/",element:V.jsx(qM,{})}),V.jsx(Ym,{path:"/invite",element:V.jsx(NM,{})})]})}),Ww=document.getElementById("root");if(!Ww)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());LS.createRoot(Ww).render(V.jsx(NS.StrictMode,{children:V.jsx(HM,{})}));
