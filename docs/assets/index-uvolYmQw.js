(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function xS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wm={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function NS(){if(Z_)return pu;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return pu.Fragment=e,pu.jsx=n,pu.jsxs=n,pu}var e0;function DS(){return e0||(e0=1,wm.exports=NS()),wm.exports}var O=DS(),bm={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function MS(){if(t0)return ze;t0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function U(T){return T===null||typeof T!="object"?null:(T=R&&T[R]||T["@@iterator"],typeof T=="function"?T:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,F={};function ce(T,q,X){this.props=T,this.context=q,this.refs=F,this.updater=X||Y}ce.prototype.isReactComponent={},ce.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},ce.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function he(){}he.prototype=ce.prototype;function se(T,q,X){this.props=T,this.context=q,this.refs=F,this.updater=X||Y}var Re=se.prototype=new he;Re.constructor=se,ee(Re,ce.prototype),Re.isPureReactComponent=!0;var Pe=Array.isArray;function De(){}var M={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(T,q,X){var le=X.ref;return{$$typeof:r,type:T,key:q,ref:le!==void 0?le:null,props:X}}function k(T,q){return I(T.type,q,T.props)}function z(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function j(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return q[X]})}var N=/\/+/g;function It(T,q){return typeof T=="object"&&T!==null&&T.key!=null?j(""+T.key):q.toString(36)}function pt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(De,De):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function te(T,q,X,le,ue){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case r:case e:fe=!0;break;case v:return fe=T._init,te(fe(T._payload),q,X,le,ue)}}if(fe)return ue=ue(T),fe=le===""?"."+It(T,0):le,Pe(ue)?(X="",fe!=null&&(X=fe.replace(N,"$&/")+"/"),te(ue,q,X,"",function(Xe){return Xe})):ue!=null&&(z(ue)&&(ue=k(ue,X+(ue.key==null||T&&T.key===ue.key?"":(""+ue.key).replace(N,"$&/")+"/")+fe)),q.push(ue)),1;fe=0;var Se=le===""?".":le+":";if(Pe(T))for(var Ie=0;Ie<T.length;Ie++)le=T[Ie],me=Se+It(le,Ie),fe+=te(le,q,X,me,ue);else if(Ie=U(T),typeof Ie=="function")for(T=Ie.call(T),Ie=0;!(le=T.next()).done;)le=le.value,me=Se+It(le,Ie++),fe+=te(le,q,X,me,ue);else if(me==="object"){if(typeof T.then=="function")return te(pt(T),q,X,le,ue);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function de(T,q,X){if(T==null)return T;var le=[],ue=0;return te(T,le,"","",function(me){return q.call(X,me,ue++)}),le}function be(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var qe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},H={map:de,forEach:function(T,q,X){de(T,function(){q.apply(this,arguments)},X)},count:function(T){var q=0;return de(T,function(){q++}),q},toArray:function(T){return de(T,function(q){return q})||[]},only:function(T){if(!z(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ze.Activity=w,ze.Children=H,ze.Component=ce,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=se,ze.StrictMode=s,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ze.__COMPILER_RUNTIME={__proto__:null,c:function(T){return M.H.useMemoCache(T)}},ze.cache=function(T){return function(){return T.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(T,q,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var le=ee({},T.props),ue=T.key;if(q!=null)for(me in q.key!==void 0&&(ue=""+q.key),q)!C.call(q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&q.ref===void 0||(le[me]=q[me]);var me=arguments.length-2;if(me===1)le.children=X;else if(1<me){for(var fe=Array(me),Se=0;Se<me;Se++)fe[Se]=arguments[Se+2];le.children=fe}return I(T.type,ue,le)},ze.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ze.createElement=function(T,q,X){var le,ue={},me=null;if(q!=null)for(le in q.key!==void 0&&(me=""+q.key),q)C.call(q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=q[le]);var fe=arguments.length-2;if(fe===1)ue.children=X;else if(1<fe){for(var Se=Array(fe),Ie=0;Ie<fe;Ie++)Se[Ie]=arguments[Ie+2];ue.children=Se}if(T&&T.defaultProps)for(le in fe=T.defaultProps,fe)ue[le]===void 0&&(ue[le]=fe[le]);return I(T,me,ue)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(T){return{$$typeof:m,render:T}},ze.isValidElement=z,ze.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:be}},ze.memo=function(T,q){return{$$typeof:g,type:T,compare:q===void 0?null:q}},ze.startTransition=function(T){var q=M.T,X={};M.T=X;try{var le=T(),ue=M.S;ue!==null&&ue(X,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(De,qe)}catch(me){qe(me)}finally{q!==null&&X.types!==null&&(q.types=X.types),M.T=q}},ze.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ze.use=function(T){return M.H.use(T)},ze.useActionState=function(T,q,X){return M.H.useActionState(T,q,X)},ze.useCallback=function(T,q){return M.H.useCallback(T,q)},ze.useContext=function(T){return M.H.useContext(T)},ze.useDebugValue=function(){},ze.useDeferredValue=function(T,q){return M.H.useDeferredValue(T,q)},ze.useEffect=function(T,q){return M.H.useEffect(T,q)},ze.useEffectEvent=function(T){return M.H.useEffectEvent(T)},ze.useId=function(){return M.H.useId()},ze.useImperativeHandle=function(T,q,X){return M.H.useImperativeHandle(T,q,X)},ze.useInsertionEffect=function(T,q){return M.H.useInsertionEffect(T,q)},ze.useLayoutEffect=function(T,q){return M.H.useLayoutEffect(T,q)},ze.useMemo=function(T,q){return M.H.useMemo(T,q)},ze.useOptimistic=function(T,q){return M.H.useOptimistic(T,q)},ze.useReducer=function(T,q,X){return M.H.useReducer(T,q,X)},ze.useRef=function(T){return M.H.useRef(T)},ze.useState=function(T){return M.H.useState(T)},ze.useSyncExternalStore=function(T,q,X){return M.H.useSyncExternalStore(T,q,X)},ze.useTransition=function(){return M.H.useTransition()},ze.version="19.2.3",ze}var n0;function Cp(){return n0||(n0=1,bm.exports=MS()),bm.exports}var D=Cp();const OS=xS(D);var Sm={exports:{}},gu={},Am={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function VS(){return i0||(i0=1,(function(r){function e(te,de){var be=te.length;te.push(de);e:for(;0<be;){var qe=be-1>>>1,H=te[qe];if(0<o(H,de))te[qe]=de,te[be]=H,be=qe;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var de=te[0],be=te.pop();if(be!==de){te[0]=be;e:for(var qe=0,H=te.length,T=H>>>1;qe<T;){var q=2*(qe+1)-1,X=te[q],le=q+1,ue=te[le];if(0>o(X,be))le<H&&0>o(ue,X)?(te[qe]=ue,te[le]=be,qe=le):(te[qe]=X,te[q]=be,qe=q);else if(le<H&&0>o(ue,be))te[qe]=ue,te[le]=be,qe=le;else break e}}return de}function o(te,de){var be=te.sortIndex-de.sortIndex;return be!==0?be:te.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,w=null,R=3,U=!1,Y=!1,ee=!1,F=!1,ce=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Re(te){for(var de=n(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=te)s(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function Pe(te){if(ee=!1,Re(te),!Y)if(n(p)!==null)Y=!0,De||(De=!0,j());else{var de=n(g);de!==null&&pt(Pe,de.startTime-te)}}var De=!1,M=-1,C=5,I=-1;function k(){return F?!0:!(r.unstable_now()-I<C)}function z(){if(F=!1,De){var te=r.unstable_now();I=te;var de=!0;try{e:{Y=!1,ee&&(ee=!1,he(M),M=-1),U=!0;var be=R;try{t:{for(Re(te),w=n(p);w!==null&&!(w.expirationTime>te&&k());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,R=w.priorityLevel;var H=qe(w.expirationTime<=te);if(te=r.unstable_now(),typeof H=="function"){w.callback=H,Re(te),de=!0;break t}w===n(p)&&s(p),Re(te)}else s(p);w=n(p)}if(w!==null)de=!0;else{var T=n(g);T!==null&&pt(Pe,T.startTime-te),de=!1}}break e}finally{w=null,R=be,U=!1}de=void 0}}finally{de?j():De=!1}}}var j;if(typeof se=="function")j=function(){se(z)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,It=N.port2;N.port1.onmessage=z,j=function(){It.postMessage(null)}}else j=function(){ce(z,0)};function pt(te,de){M=ce(function(){te(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(te){switch(R){case 1:case 2:case 3:var de=3;break;default:de=R}var be=R;R=de;try{return te()}finally{R=be}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var be=R;R=te;try{return de()}finally{R=be}},r.unstable_scheduleCallback=function(te,de,be){var qe=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?qe+be:qe):be=qe,te){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=be+H,te={id:v++,callback:de,priorityLevel:te,startTime:be,expirationTime:H,sortIndex:-1},be>qe?(te.sortIndex=be,e(g,te),n(p)===null&&te===n(g)&&(ee?(he(M),M=-1):ee=!0,pt(Pe,be-qe))):(te.sortIndex=H,e(p,te),Y||U||(Y=!0,De||(De=!0,j()))),te},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(te){var de=R;return function(){var be=R;R=de;try{return te.apply(this,arguments)}finally{R=be}}}})(Rm)),Rm}var r0;function kS(){return r0||(r0=1,Am.exports=VS()),Am.exports}var Cm={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function PS(){if(s0)return Yn;s0=1;var r=Cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Yn.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},Yn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,U=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:U}):v==="script"&&s.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:U,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yn.requestFormReset=function(p){s.d.r(p)},Yn.unstable_batchedUpdates=function(p,g){return p(g)},Yn.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Yn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yn.version="19.2.3",Yn}var a0;function LS(){if(a0)return Cm.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=PS(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function US(){if(o0)return gu;o0=1;var r=kS(),e=Cp(),n=LS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function It(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case ce:return"Profiler";case F:return"StrictMode";case Pe:return"Suspense";case De:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case se:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:It(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return It(t(i))}catch{}}return null}var pt=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},qe=[],H=-1;function T(t){return{current:t}}function q(t){0>H||(t.current=qe[H],qe[H]=null,H--)}function X(t,i){H++,qe[H]=t.current,t.current=i}var le=T(null),ue=T(null),me=T(null),fe=T(null);function Se(t,i){switch(X(me,i),X(ue,t),X(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?w_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=w_(i),t=b_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(le),X(le,t)}function Ie(){q(le),q(ue),q(me)}function Xe(t){t.memoizedState!==null&&X(fe,t);var i=le.current,a=b_(i,t.type);i!==a&&(X(ue,t),X(le,a))}function He(t){ue.current===t&&(q(le),q(ue)),fe.current===t&&(q(fe),hu._currentValue=be)}var lt,xt;function Me(t){if(lt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);lt=i&&i[1]||"",xt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+t+xt}var Vt=!1;function Ht(t,i){if(!t||Vt)return"";Vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var K=W}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(W){K=W}t.call(ae.prototype)}}else{try{throw Error()}catch(W){K=W}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var x=_.split(`
`),Q=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===Q.length)for(l=x.length-1,h=Q.length-1;1<=l&&0<=h&&x[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==Q[h]){var ne=`
`+x[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=h);break}}}finally{Vt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Me(a):""}function _n(t,i){switch(t.tag){case 26:case 27:case 5:return Me(t.type);case 16:return Me("Lazy");case 13:return t.child!==i&&i!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Ht(t.type,!1);case 11:return Ht(t.type.render,!1);case 1:return Ht(t.type,!0);case 31:return Me("Activity");default:return""}}function Hn(t){try{var i="",a=null;do i+=_n(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var En=Object.prototype.hasOwnProperty,Zt=r.unstable_scheduleCallback,Ar=r.unstable_cancelCallback,La=r.unstable_shouldYield,Kr=r.unstable_requestPaint,Ft=r.unstable_now,ks=r.unstable_getCurrentPriorityLevel,Nt=r.unstable_ImmediatePriority,kt=r.unstable_UserBlockingPriority,Fn=r.unstable_NormalPriority,Ps=r.unstable_LowPriority,Ii=r.unstable_IdlePriority,hr=r.log,hi=r.unstable_setDisableYieldValue,ft=null,yt=null;function Pt(t){if(typeof hr=="function"&&hi(t),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ft,t)}catch{}}var Dn=Math.clz32?Math.clz32:Xr,So=Math.log,Ua=Math.LN2;function Xr(t){return t>>>=0,t===0?32:31-(So(t)/Ua|0)|0}var Rr=256,Zn=262144,Cr=4194304;function Tn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Tn(l):(_&=b,_!==0?h=Tn(_):a||(a=b&~t,a!==0&&(h=Tn(a))))):(b=l&~d,b!==0?h=Tn(b):_!==0?h=Tn(_):a||(a=l&~t,a!==0&&(h=Tn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ei(){var t=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),t}function xi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ti(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mn(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,Q=t.hiddenUpdates;for(a=_&~a;0<a;){var ne=31-Dn(a),ae=1<<ne;b[ne]=0,x[ne]=-1;var K=Q[ne];if(K!==null)for(Q[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}a&=~ae}l!==0&&Ni(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ni(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Dn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function di(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Dn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function mi(t,i){var a=i&-i;return a=(a&42)!==0?1:za(a),(a&(t.suspendedLanes|i))!==0?0:a}function za(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function en(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:$_(t.type))}function pi(t,i){var a=de.p;try{return de.p=t,i()}finally{de.p=a}}var On=Math.random().toString(36).slice(2),ut="__reactFiber$"+On,Fe="__reactProps$"+On,St="__reactContainer$"+On,fr="__reactEvents$"+On,gi="__reactListeners$"+On,Ir="__reactHandles$"+On,yi="__reactResources$"+On,wn="__reactMarker$"+On;function vi(t){delete t[ut],delete t[Fe],delete t[fr],delete t[gi],delete t[Ir]}function Di(t){var i=t[ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[St]||a[ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[ut])return a;t=N_(t)}return i}t=a,a=t.parentNode}return null}function dr(t){if(t=t[ut]||t[St]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Wr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Mi(t){var i=t[yi];return i||(i=t[yi]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function zt(t){t[wn]=!0}var Ls=new Set,xr={};function Vn(t,i){ni(t,i),ni(t+"Capture",i)}function ni(t,i){for(xr[t]=i,t=0;t<i.length;t++)Ls.add(i[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nr={},Jr={};function ja(t){return En.call(Jr,t)?!0:En.call(Nr,t)?!1:Ao.test(t)?Jr[t]=!0:(Nr[t]=!0,!1)}function _i(t,i,a){if(ja(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function $n(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ei(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Us(t){if(!t._valueTracker){var i=Ki(t)?"checked":"value";t._valueTracker=Ei(t,i,""+t[i])}}function zs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Dr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pr=/[\n"\\]/g;function Lt(t){return t.replace(pr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oi(t,i,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+bn(i)):t.value!==""+bn(i)&&(t.value=""+bn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?js(t,_,bn(i)):a!=null?js(t,_,bn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+bn(b):t.removeAttribute("name")}function Zr(t,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Us(t);return}a=a!=null?""+bn(a):"",i=i!=null?""+bn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Us(t)}function js(t,i,a){i==="number"&&Dr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ge(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+bn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function es(t,i,a){if(i!=null&&(i=""+bn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+bn(a):""}function Vi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(pt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=bn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Us(t)}function ii(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ba(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Dl.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qa(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ba(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ba(t,d,i[d])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ml=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(t){return Ol.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function tn(){}var Wi=null;function Ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qn=null,it=null;function ts(t){var i=dr(t);if(i&&(t=i.stateNode)){var a=t[Fe]||null;e:switch(t=i.stateNode,i.type){case"input":if(Oi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Fe]||null;if(!h)throw Error(s(90));Oi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&zs(l)}break e;case"textarea":es(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ge(t,!!a.multiple,i,!1)}}}var Mr=!1;function gr(t,i,a){if(Mr)return t(i,a);Mr=!0;try{var l=t(i);return l}finally{if(Mr=!1,(Qn!==null||it!==null)&&(Fc(),Qn&&(i=Qn,t=it,it=Qn=null,ts(i),t)))for(i=0;i<t.length;i++)ts(t[i])}}function pn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Fe]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fa=!1;if(ki)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Fa=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Fa=!1}var ri=null,Bs=null,si=null;function Or(){if(si)return si;var t,i=Bs,a=i.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return si=h.slice(t,1<l?1-l:void 0)}function ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Vr(){return!0}function At(){return!1}function nn(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vr:At,this.isPropagationStopped=At,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),i}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=nn(yr),kr=w({},yr,{view:0,detail:0}),Ro=nn(kr),Pr,is,kn,rs=w({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(Pr=t.screenX-kn.screenX,is=t.screenY-kn.screenY):is=Pr=0,kn=t),Pr)},movementY:function(t){return"movementY"in t?t.movementY:is}}),Ga=nn(rs),S=w({},rs,{dataTransfer:0}),V=nn(S),L=w({},kr,{relatedTarget:0}),Z=nn(L),ge=w({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),ve=nn(ge),_e=w({},yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),st=nn(_e),Ve=w({},yr,{data:0}),Ue=nn(Ve),Rt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ke={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kt(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ke[t])?!!i[t]:!1}function dt(){return Kt}var ai=w({},kr,{key:function(t){if(t.key){var i=Rt[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dt,charCode:function(t){return t.type==="keypress"?ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ss=nn(ai),jt=w({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=nn(jt),oi=w({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dt}),Qa=nn(oi),qs=w({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),rn=nn(qs),Sn=w({},rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Co=nn(Sn),Ya=w({},yr,{newState:0,oldState:0}),Hs=nn(Ya),c=[9,13,27,32],y=ki&&"CompositionEvent"in window,E=null;ki&&"documentMode"in document&&(E=document.documentMode);var A=ki&&"TextEvent"in window&&!E,G=ki&&(!y||E&&8<E&&11>=E),J=" ",pe=!1;function gt(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qe=!1;function An(t,i){switch(t){case"compositionend":return sn(i);case"keypress":return i.which!==32?null:(pe=!0,J);case"textInput":return t=i.data,t===J&&pe?null:t;default:return null}}function Rn(t,i){if(Qe)return t==="compositionend"||!y&&gt(t,i)?(t=Or(),si=Bs=ri=null,Qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return G&&i.locale!=="ko"?null:i.data;default:return null}}var Fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ti(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Fs[t.type]:i==="textarea"}function Ka(t,i,a,l){Qn?it?it.push(l):it=[l]:Qn=l,i=Wc(i,"onChange"),0<i.length&&(a=new vr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var as=null,Vl=null;function n1(t){g_(t,0)}function uc(t){var i=Wr(t);if(zs(i))return t}function kg(t,i){if(t==="change")return i}var Pg=!1;if(ki){var xf;if(ki){var Nf="oninput"in document;if(!Nf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Nf=typeof Lg.oninput=="function"}xf=Nf}else xf=!1;Pg=xf&&(!document.documentMode||9<document.documentMode)}function Ug(){as&&(as.detachEvent("onpropertychange",zg),Vl=as=null)}function zg(t){if(t.propertyName==="value"&&uc(Vl)){var i=[];Ka(i,Vl,t,Ji(t)),gr(n1,i)}}function i1(t,i,a){t==="focusin"?(Ug(),as=i,Vl=a,as.attachEvent("onpropertychange",zg)):t==="focusout"&&Ug()}function r1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uc(Vl)}function s1(t,i){if(t==="click")return uc(i)}function a1(t,i){if(t==="input"||t==="change")return uc(i)}function o1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Pi=typeof Object.is=="function"?Object.is:o1;function kl(t,i){if(Pi(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!En.call(i,h)||!Pi(t[h],i[h]))return!1}return!0}function jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,i){var a=jg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jg(a)}}function qg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Dr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Dr(t.document)}return i}function Df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var l1=ki&&"documentMode"in document&&11>=document.documentMode,Io=null,Mf=null,Pl=null,Of=!1;function Fg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||Io==null||Io!==Dr(l)||(l=Io,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&kl(Pl,l)||(Pl=l,l=Wc(Mf,"onSelect"),0<l.length&&(i=new vr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Io)))}function Xa(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xo={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Vf={},Gg={};ki&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Wa(t){if(Vf[t])return Vf[t];if(!xo[t])return t;var i=xo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gg)return Vf[t]=i[a];return t}var $g=Wa("animationend"),Qg=Wa("animationiteration"),Yg=Wa("animationstart"),u1=Wa("transitionrun"),c1=Wa("transitionstart"),h1=Wa("transitioncancel"),Kg=Wa("transitionend"),Xg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function _r(t,i){Xg.set(t,i),Vn(i,[t])}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},er=[],No=0,Pf=0;function hc(){for(var t=No,i=Pf=No=0;i<t;){var a=er[i];er[i++]=null;var l=er[i];er[i++]=null;var h=er[i];er[i++]=null;var d=er[i];if(er[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Wg(a,h,d)}}function fc(t,i,a,l){er[No++]=t,er[No++]=i,er[No++]=a,er[No++]=l,Pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lf(t,i,a,l){return fc(t,i,a,l),dc(t)}function Ja(t,i){return fc(t,null,null,i),dc(t)}function Wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Dn(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function dc(t){if(50<ru)throw ru=0,$d=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Do={};function f1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(t,i,a,l){return new f1(t,i,a,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function os(t,i){var a=t.alternate;return a===null?(a=Li(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function mc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Uf(t)&&(_=1);else if(typeof t=="string")_=yS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Li(31,a,i,h),t.elementType=I,t.lanes=d,t;case ee:return Za(a.children,h,d,i);case F:_=8,h|=24;break;case ce:return t=Li(12,a,i,h|2),t.elementType=ce,t.lanes=d,t;case Pe:return t=Li(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case De:return t=Li(19,a,i,h),t.elementType=De,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case he:_=9;break e;case Re:_=11;break e;case M:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Li(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Za(t,i,a,l){return t=Li(7,t,l,i),t.lanes=a,t}function zf(t,i,a){return t=Li(6,t,null,i),t.lanes=a,t}function Zg(t){var i=Li(18,null,null,0);return i.stateNode=t,i}function jf(t,i,a){return i=Li(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ey=new WeakMap;function tr(t,i){if(typeof t=="object"&&t!==null){var a=ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Hn(i)},ey.set(t,i),i)}return{value:t,source:i,stack:Hn(i)}}var Mo=[],Oo=0,pc=null,Ll=0,nr=[],ir=0,Gs=null,Lr=1,Ur="";function ls(t,i){Mo[Oo++]=Ll,Mo[Oo++]=pc,pc=t,Ll=i}function ty(t,i,a){nr[ir++]=Lr,nr[ir++]=Ur,nr[ir++]=Gs,Gs=t;var l=Lr;t=Ur;var h=32-Dn(l)-1;l&=~(1<<h),a+=1;var d=32-Dn(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Lr=1<<32-Dn(i)+h|a<<h|l,Ur=d+t}else Lr=1<<d|a<<h|l,Ur=t}function Bf(t){t.return!==null&&(ls(t,1),ty(t,1,0))}function qf(t){for(;t===pc;)pc=Mo[--Oo],Mo[Oo]=null,Ll=Mo[--Oo],Mo[Oo]=null;for(;t===Gs;)Gs=nr[--ir],nr[ir]=null,Ur=nr[--ir],nr[ir]=null,Lr=nr[--ir],nr[ir]=null}function ny(t,i){nr[ir++]=Lr,nr[ir++]=Ur,nr[ir++]=Gs,Lr=i.id,Ur=i.overflow,Gs=t}var Pn=null,Dt=null,rt=!1,$s=null,rr=!1,Hf=Error(s(519));function Qs(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(tr(i,t)),Hf}function iy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ut]=t,i[Fe]=l,a){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(a=0;a<au.length;a++)Je(au[a],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),Zr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),Vi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),l.onScroll!=null&&Je("scroll",i),l.onScrollEnd!=null&&Je("scrollend",i),l.onClick!=null&&(i.onclick=tn),i=!0):i=!1,i||Qs(t,!0)}function ry(t){for(Pn=t.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Pn=Pn.return}}function Vo(t){if(t!==Pn)return!1;if(!rt)return ry(t),rt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||om(t.type,t.memoizedProps)),a=!a),a&&Dt&&Qs(t),ry(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Dt=x_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Dt=x_(t)}else i===27?(i=Dt,oa(t.type)?(t=fm,fm=null,Dt=t):Dt=i):Dt=Pn?ar(t.stateNode.nextSibling):null;return!0}function eo(){Dt=Pn=null,rt=!1}function Ff(){var t=$s;return t!==null&&(Ai===null?Ai=t:Ai.push.apply(Ai,t),$s=null),t}function Ul(t){$s===null?$s=[t]:$s.push(t)}var Gf=T(null),to=null,us=null;function Ys(t,i,a){X(Gf,i._currentValue),i._currentValue=a}function cs(t){t._currentValue=Gf.current,q(Gf)}function $f(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Qf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var x=0;x<i.length;x++)if(b.context===i[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),$f(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),$f(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ko(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;Pi(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(hu):t=[hu])}h=h.return}t!==null&&Qf(i,t,a,l),i.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!Pi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function no(t){to=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ln(t){return sy(to,t)}function yc(t,i){return to===null&&no(t),sy(t,i)}function sy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},us===null){if(t===null)throw Error(s(308));us=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else us=us.next=i;return a}var d1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},m1=r.unstable_scheduleCallback,p1=r.unstable_NormalPriority,an={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new d1,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&m1(p1,function(){t.controller.abort()})}var jl=null,Kf=0,Po=0,Lo=null;function g1(t,i){if(jl===null){var a=jl=[];Kf=0,Po=Jd(),Lo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kf++,i.then(ay,ay),i}function ay(){if(--Kf===0&&jl!==null){Lo!==null&&(Lo.status="fulfilled");var t=jl;jl=null,Po=0,Lo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function y1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var oy=te.S;te.S=function(t,i){Fv=Ft(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&g1(t,i),oy!==null&&oy(t,i)};var io=T(null);function Xf(){var t=io.current;return t!==null?t:Ct.pooledCache}function vc(t,i){i===null?X(io,io.current):X(io,i.pool)}function ly(){var t=Xf();return t===null?null:{parent:an._currentValue,pool:t}}var Uo=Error(s(460)),Wf=Error(s(474)),_c=Error(s(542)),Ec={then:function(){}};function uy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(tn,tn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t;default:if(typeof i.status=="string")i.then(tn,tn);else{if(t=Ct,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t}throw so=i,Uo}}function ro(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(so=a,Uo):a}}var so=null;function hy(){if(so===null)throw Error(s(459));var t=so;return so=null,t}function fy(t){if(t===Uo||t===_c)throw Error(s(483))}var zo=null,Bl=0;function Tc(t){var i=Bl;return Bl+=1,zo===null&&(zo=[]),cy(zo,t,i)}function ql(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wc(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){function i(B,P){if(t){var $=B.deletions;$===null?(B.deletions=[P],B.flags|=16):$.push(P)}}function a(B,P){if(!t)return null;for(;P!==null;)i(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function h(B,P){return B=os(B,P),B.index=0,B.sibling=null,B}function d(B,P,$){return B.index=$,t?($=B.alternate,$!==null?($=$.index,$<P?(B.flags|=67108866,P):$):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function _(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,P,$,ie){return P===null||P.tag!==6?(P=zf($,B.mode,ie),P.return=B,P):(P=h(P,$),P.return=B,P)}function x(B,P,$,ie){var Ce=$.type;return Ce===ee?ne(B,P,$.props.children,ie,$.key):P!==null&&(P.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&ro(Ce)===P.type)?(P=h(P,$.props),ql(P,$),P.return=B,P):(P=mc($.type,$.key,$.props,null,B.mode,ie),ql(P,$),P.return=B,P)}function Q(B,P,$,ie){return P===null||P.tag!==4||P.stateNode.containerInfo!==$.containerInfo||P.stateNode.implementation!==$.implementation?(P=jf($,B.mode,ie),P.return=B,P):(P=h(P,$.children||[]),P.return=B,P)}function ne(B,P,$,ie,Ce){return P===null||P.tag!==7?(P=Za($,B.mode,ie,Ce),P.return=B,P):(P=h(P,$),P.return=B,P)}function ae(B,P,$){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=zf(""+P,B.mode,$),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return $=mc(P.type,P.key,P.props,null,B.mode,$),ql($,P),$.return=B,$;case Y:return P=jf(P,B.mode,$),P.return=B,P;case C:return P=ro(P),ae(B,P,$)}if(pt(P)||j(P))return P=Za(P,B.mode,$,null),P.return=B,P;if(typeof P.then=="function")return ae(B,Tc(P),$);if(P.$$typeof===se)return ae(B,yc(B,P),$);wc(B,P)}return null}function K(B,P,$,ie){var Ce=P!==null?P.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ce!==null?null:b(B,P,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return $.key===Ce?x(B,P,$,ie):null;case Y:return $.key===Ce?Q(B,P,$,ie):null;case C:return $=ro($),K(B,P,$,ie)}if(pt($)||j($))return Ce!==null?null:ne(B,P,$,ie,null);if(typeof $.then=="function")return K(B,P,Tc($),ie);if($.$$typeof===se)return K(B,P,yc(B,$),ie);wc(B,$)}return null}function W(B,P,$,ie,Ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get($)||null,b(P,B,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return B=B.get(ie.key===null?$:ie.key)||null,x(P,B,ie,Ce);case Y:return B=B.get(ie.key===null?$:ie.key)||null,Q(P,B,ie,Ce);case C:return ie=ro(ie),W(B,P,$,ie,Ce)}if(pt(ie)||j(ie))return B=B.get($)||null,ne(P,B,ie,Ce,null);if(typeof ie.then=="function")return W(B,P,$,Tc(ie),Ce);if(ie.$$typeof===se)return W(B,P,$,yc(P,ie),Ce);wc(P,ie)}return null}function Te(B,P,$,ie){for(var Ce=null,ct=null,we=P,Be=P=0,et=null;we!==null&&Be<$.length;Be++){we.index>Be?(et=we,we=null):et=we.sibling;var ht=K(B,we,$[Be],ie);if(ht===null){we===null&&(we=et);break}t&&we&&ht.alternate===null&&i(B,we),P=d(ht,P,Be),ct===null?Ce=ht:ct.sibling=ht,ct=ht,we=et}if(Be===$.length)return a(B,we),rt&&ls(B,Be),Ce;if(we===null){for(;Be<$.length;Be++)we=ae(B,$[Be],ie),we!==null&&(P=d(we,P,Be),ct===null?Ce=we:ct.sibling=we,ct=we);return rt&&ls(B,Be),Ce}for(we=l(we);Be<$.length;Be++)et=W(we,B,Be,$[Be],ie),et!==null&&(t&&et.alternate!==null&&we.delete(et.key===null?Be:et.key),P=d(et,P,Be),ct===null?Ce=et:ct.sibling=et,ct=et);return t&&we.forEach(function(fa){return i(B,fa)}),rt&&ls(B,Be),Ce}function Ne(B,P,$,ie){if($==null)throw Error(s(151));for(var Ce=null,ct=null,we=P,Be=P=0,et=null,ht=$.next();we!==null&&!ht.done;Be++,ht=$.next()){we.index>Be?(et=we,we=null):et=we.sibling;var fa=K(B,we,ht.value,ie);if(fa===null){we===null&&(we=et);break}t&&we&&fa.alternate===null&&i(B,we),P=d(fa,P,Be),ct===null?Ce=fa:ct.sibling=fa,ct=fa,we=et}if(ht.done)return a(B,we),rt&&ls(B,Be),Ce;if(we===null){for(;!ht.done;Be++,ht=$.next())ht=ae(B,ht.value,ie),ht!==null&&(P=d(ht,P,Be),ct===null?Ce=ht:ct.sibling=ht,ct=ht);return rt&&ls(B,Be),Ce}for(we=l(we);!ht.done;Be++,ht=$.next())ht=W(we,B,Be,ht.value,ie),ht!==null&&(t&&ht.alternate!==null&&we.delete(ht.key===null?Be:ht.key),P=d(ht,P,Be),ct===null?Ce=ht:ct.sibling=ht,ct=ht);return t&&we.forEach(function(IS){return i(B,IS)}),rt&&ls(B,Be),Ce}function wt(B,P,$,ie){if(typeof $=="object"&&$!==null&&$.type===ee&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case U:e:{for(var Ce=$.key;P!==null;){if(P.key===Ce){if(Ce=$.type,Ce===ee){if(P.tag===7){a(B,P.sibling),ie=h(P,$.props.children),ie.return=B,B=ie;break e}}else if(P.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&ro(Ce)===P.type){a(B,P.sibling),ie=h(P,$.props),ql(ie,$),ie.return=B,B=ie;break e}a(B,P);break}else i(B,P);P=P.sibling}$.type===ee?(ie=Za($.props.children,B.mode,ie,$.key),ie.return=B,B=ie):(ie=mc($.type,$.key,$.props,null,B.mode,ie),ql(ie,$),ie.return=B,B=ie)}return _(B);case Y:e:{for(Ce=$.key;P!==null;){if(P.key===Ce)if(P.tag===4&&P.stateNode.containerInfo===$.containerInfo&&P.stateNode.implementation===$.implementation){a(B,P.sibling),ie=h(P,$.children||[]),ie.return=B,B=ie;break e}else{a(B,P);break}else i(B,P);P=P.sibling}ie=jf($,B.mode,ie),ie.return=B,B=ie}return _(B);case C:return $=ro($),wt(B,P,$,ie)}if(pt($))return Te(B,P,$,ie);if(j($)){if(Ce=j($),typeof Ce!="function")throw Error(s(150));return $=Ce.call($),Ne(B,P,$,ie)}if(typeof $.then=="function")return wt(B,P,Tc($),ie);if($.$$typeof===se)return wt(B,P,yc(B,$),ie);wc(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,P!==null&&P.tag===6?(a(B,P.sibling),ie=h(P,$),ie.return=B,B=ie):(a(B,P),ie=zf($,B.mode,ie),ie.return=B,B=ie),_(B)):a(B,P)}return function(B,P,$,ie){try{Bl=0;var Ce=wt(B,P,$,ie);return zo=null,Ce}catch(we){if(we===Uo||we===_c)throw we;var ct=Li(29,we,null,B.mode);return ct.lanes=ie,ct.return=B,ct}finally{}}}var ao=dy(!0),my=dy(!1),Ks=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=dc(t),Wg(t,null,a),i}return fc(t,l,i,a),dc(t)}function Hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,di(t,a)}}function ed(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var td=!1;function Fl(){if(td){var t=Lo;if(t!==null)throw t}}function Gl(t,i,a,l){td=!1;var h=t.updateQueue;Ks=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,Q=x.next;x.next=null,_===null?d=Q:_.next=Q,_=x;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==_&&(b===null?ne.firstBaseUpdate=Q:b.next=Q,ne.lastBaseUpdate=x))}if(d!==null){var ae=h.baseState;_=0,ne=Q=x=null,b=d;do{var K=b.lane&-536870913,W=K!==b.lane;if(W?(Ze&K)===K:(l&K)===K){K!==0&&K===Po&&(td=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,Ne=b;K=i;var wt=a;switch(Ne.tag){case 1:if(Te=Ne.payload,typeof Te=="function"){ae=Te.call(wt,ae,K);break e}ae=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ne.payload,K=typeof Te=="function"?Te.call(wt,ae,K):Te,K==null)break e;ae=w({},ae,K);break e;case 2:Ks=!0}}K=b.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(Q=ne=W,x=ae):ne=ne.next=W,_|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;W=b,b=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(x=ae),h.baseState=x,h.firstBaseUpdate=Q,h.lastBaseUpdate=ne,d===null&&(h.shared.lanes=0),na|=_,t.lanes=_,t.memoizedState=ae}}function py(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function gy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)py(a[t],i)}var jo=T(null),bc=T(0);function yy(t,i){t=_s,X(bc,t),X(jo,i),_s=t|i.baseLanes}function nd(){X(bc,_s),X(jo,jo.current)}function id(){_s=bc.current,q(jo),q(bc)}var Ui=T(null),sr=null;function Js(t){var i=t.alternate;X(Xt,Xt.current&1),X(Ui,t),sr===null&&(i===null||jo.current!==null||i.memoizedState!==null)&&(sr=t)}function rd(t){X(Xt,Xt.current),X(Ui,t),sr===null&&(sr=t)}function vy(t){t.tag===22?(X(Xt,Xt.current),X(Ui,t),sr===null&&(sr=t)):Zs()}function Zs(){X(Xt,Xt.current),X(Ui,Ui.current)}function zi(t){q(Ui),sr===t&&(sr=null),q(Xt)}var Xt=T(0);function Sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||hm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var hs=0,je=null,Et=null,on=null,Ac=!1,Bo=!1,oo=!1,Rc=0,$l=0,qo=null,v1=0;function Gt(){throw Error(s(321))}function sd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Pi(t[a],i[a]))return!1;return!0}function ad(t,i,a,l,h,d){return hs=d,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,te.H=t===null||t.memoizedState===null?tv:Td,oo=!1,d=a(l,h),oo=!1,Bo&&(d=Ey(i,a,l,h)),_y(t),d}function _y(t){te.H=Kl;var i=Et!==null&&Et.next!==null;if(hs=0,on=Et=je=null,Ac=!1,$l=0,qo=null,i)throw Error(s(300));t===null||ln||(t=t.dependencies,t!==null&&gc(t)&&(ln=!0))}function Ey(t,i,a,l){je=t;var h=0;do{if(Bo&&(qo=null),$l=0,Bo=!1,25<=h)throw Error(s(301));if(h+=1,on=Et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}te.H=nv,d=i(a,l)}while(Bo);return d}function _1(){var t=te.H,i=t.useState()[0];return i=typeof i.then=="function"?Ql(i):i,t=t.useState()[0],(Et!==null?Et.memoizedState:null)!==t&&(je.flags|=1024),i}function od(){var t=Rc!==0;return Rc=0,t}function ld(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ud(t){if(Ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ac=!1}hs=0,on=Et=je=null,Bo=!1,$l=Rc=0,qo=null}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?je.memoizedState=on=t:on=on.next=t,on}function Wt(){if(Et===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var i=on===null?je.memoizedState:on.next;if(i!==null)on=i,Et=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},on===null?je.memoizedState=on=t:on=on.next=t}return on}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(t){var i=$l;return $l+=1,qo===null&&(qo=[]),t=cy(qo,t,i),i=je,(on===null?i.memoizedState:on.next)===null&&(i=i.alternate,te.H=i===null||i.memoizedState===null?tv:Td),t}function Ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ql(t);if(t.$$typeof===se)return Ln(t)}throw Error(s(438,String(t)))}function cd(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cc(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function fs(t,i){return typeof i=="function"?i(t):i}function xc(t){var i=Wt();return hd(i,Et,t)}function hd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,x=null,Q=i,ne=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(Ze&ae)===ae:(hs&ae)===ae){var K=Q.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===Po&&(ne=!0);else if((hs&K)===K){Q=Q.next,K===Po&&(ne=!0);continue}else ae={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},x===null?(b=x=ae,_=d):x=x.next=ae,je.lanes|=K,na|=K;ae=Q.action,oo&&a(d,ae),d=Q.hasEagerState?Q.eagerState:a(d,ae)}else K={lane:ae,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},x===null?(b=x=K,_=d):x=x.next=K,je.lanes|=ae,na|=ae;Q=Q.next}while(Q!==null&&Q!==i);if(x===null?_=d:x.next=b,!Pi(d,t.memoizedState)&&(ln=!0,ne&&(a=Lo,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fd(t){var i=Wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Pi(d,i.memoizedState)||(ln=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ty(t,i,a){var l=je,h=Wt(),d=rt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Pi((Et||h).memoizedState,a);if(_&&(h.memoizedState=a,ln=!0),h=h.queue,pd(Sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||on!==null&&on.memoizedState.tag&1){if(l.flags|=2048,Ho(9,{destroy:void 0},by.bind(null,l,h,a,i),null),Ct===null)throw Error(s(349));d||(hs&127)!==0||wy(l,i,a)}return a}function wy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Cc(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function by(t,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&Ry(t)}function Sy(t,i,a){return a(function(){Ay(i)&&Ry(t)})}function Ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Pi(t,a)}catch{return!0}}function Ry(t){var i=Ja(t,2);i!==null&&Ri(i,t,2)}function dd(t){var i=li();if(typeof t=="function"){var a=t;if(t=a(),oo){Pt(!0);try{a()}finally{Pt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},i}function Cy(t,i,a,l){return t.baseState=a,hd(t,Et,typeof l=="function"?l:fs)}function E1(t,i,a,l,h){if(Mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};te.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=te.T,_={};te.T=_;try{var b=a(h,l),x=te.S;x!==null&&x(_,b),xy(t,i,b)}catch(Q){md(t,i,Q)}finally{d!==null&&_.types!==null&&(d.types=_.types),te.T=d}}else try{d=a(h,l),xy(t,i,d)}catch(Q){md(t,i,Q)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ny(t,i,l)},function(l){return md(t,i,l)}):Ny(t,i,a)}function Ny(t,i,a){i.status="fulfilled",i.value=a,Dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Iy(t,a)))}function md(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dy(i),i=i.next;while(i!==l)}t.action=null}function Dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function My(t,i){return i}function Oy(t,i){if(rt){var a=Ct.formState;if(a!==null){e:{var l=je;if(rt){if(Dt){t:{for(var h=Dt,d=rr;h.nodeType!==8;){if(!d){h=null;break t}if(h=ar(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Dt=ar(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(i=a[0])}}return a=li(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:i},a.queue=l,a=Jy.bind(null,je,l),l.dispatch=a,l=dd(!1),d=Ed.bind(null,je,!1,l.queue),l=li(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=E1.bind(null,je,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Vy(t){var i=Wt();return ky(i,Et,t)}function ky(t,i,a){if(i=hd(t,i,My)[0],t=xc(fs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ql(i)}catch(_){throw _===Uo?_c:_}else l=i;i=Wt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,Ho(9,{destroy:void 0},T1.bind(null,h,a),null)),[l,d,t]}function T1(t,i){t.action=i}function Py(t){var i=Wt(),a=Et;if(a!==null)return ky(i,a,t);Wt(),i=i.memoizedState,a=Wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ho(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=Cc(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ly(){return Wt().memoizedState}function Nc(t,i,a,l){var h=li();je.flags|=t,h.memoizedState=Ho(1|i,{destroy:void 0},a,l===void 0?null:l)}function Dc(t,i,a,l){var h=Wt();l=l===void 0?null:l;var d=h.memoizedState.inst;Et!==null&&l!==null&&sd(l,Et.memoizedState.deps)?h.memoizedState=Ho(i,d,a,l):(je.flags|=t,h.memoizedState=Ho(1|i,d,a,l))}function Uy(t,i){Nc(8390656,8,t,i)}function pd(t,i){Dc(2048,8,t,i)}function w1(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=Cc(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function zy(t){var i=Wt().memoizedState;return w1({ref:i,nextImpl:t}),function(){if((mt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function jy(t,i){return Dc(4,2,t,i)}function By(t,i){return Dc(4,4,t,i)}function qy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hy(t,i,a){a=a!=null?a.concat([t]):null,Dc(4,4,qy.bind(null,i,t),a)}function gd(){}function Fy(t,i){var a=Wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gy(t,i){var a=Wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sd(i,l[1]))return l[0];if(l=t(),oo){Pt(!0);try{t()}finally{Pt(!1)}}return a.memoizedState=[l,i],l}function yd(t,i,a){return a===void 0||(hs&1073741824)!==0&&(Ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=$v(),je.lanes|=t,na|=t,a)}function $y(t,i,a,l){return Pi(a,i)?a:jo.current!==null?(t=yd(t,a,l),Pi(t,i)||(ln=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(Ze&261930)===0?(ln=!0,t.memoizedState=a):(t=$v(),je.lanes|=t,na|=t,i)}function Qy(t,i,a,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var _=te.T,b={};te.T=b,Ed(t,!1,i,a);try{var x=h(),Q=te.S;if(Q!==null&&Q(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var ne=y1(x,l);Yl(t,i,ne,qi(t))}else Yl(t,i,l,qi(t))}catch(ae){Yl(t,i,{then:function(){},status:"rejected",reason:ae},qi())}finally{de.p=d,_!==null&&b.types!==null&&(_.types=b.types),te.T=_}}function b1(){}function vd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Yy(t).queue;Qy(t,h,i,be,a===null?b1:function(){return Ky(t),a(l)})}function Yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:be},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ky(t){var i=Yy(t);i.next===null&&(i=t.alternate.memoizedState),Yl(t,i.next.queue,{},qi())}function _d(){return Ln(hu)}function Xy(){return Wt().memoizedState}function Wy(){return Wt().memoizedState}function S1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=qi();t=Xs(a);var l=Ws(i,t,a);l!==null&&(Ri(l,i,a),Hl(l,i,a)),i={cache:Yf()},t.payload=i;return}i=i.return}}function A1(t,i,a){var l=qi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(t)?Zy(i,a):(a=Lf(t,i,a,l),a!==null&&(Ri(a,t,l),ev(a,i,l)))}function Jy(t,i,a){var l=qi();Yl(t,i,a,l)}function Yl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(t))Zy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,Pi(b,_))return fc(t,i,h,0),Ct===null&&hc(),!1}catch{}finally{}if(a=Lf(t,i,h,l),a!==null)return Ri(a,t,l),ev(a,i,l),!0}return!1}function Ed(t,i,a,l){if(l={lane:2,revertLane:Jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mc(t)){if(i)throw Error(s(479))}else i=Lf(t,a,l,2),i!==null&&Ri(i,t,2)}function Mc(t){var i=t.alternate;return t===je||i!==null&&i===je}function Zy(t,i){Bo=Ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ev(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,di(t,a)}}var Kl={readContext:Ln,use:Ic,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};Kl.useEffectEvent=Gt;var tv={readContext:Ln,use:Ic,useCallback:function(t,i){return li().memoizedState=[t,i===void 0?null:i],t},useContext:Ln,useEffect:Uy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,qy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Nc(4194308,4,t,i)},useInsertionEffect:function(t,i){Nc(4,2,t,i)},useMemo:function(t,i){var a=li();i=i===void 0?null:i;var l=t();if(oo){Pt(!0);try{t()}finally{Pt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=li();if(a!==void 0){var h=a(i);if(oo){Pt(!0);try{a(i)}finally{Pt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=A1.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=li();return t={current:t},i.memoizedState=t},useState:function(t){t=dd(t);var i=t.queue,a=Jy.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:gd,useDeferredValue:function(t,i){var a=li();return yd(a,t,i)},useTransition:function(){var t=dd(!1);return t=Qy.bind(null,je,t.queue,!0,!1),li().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,h=li();if(rt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ct===null)throw Error(s(349));(Ze&127)!==0||wy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Uy(Sy.bind(null,l,d,t),[t]),l.flags|=2048,Ho(9,{destroy:void 0},by.bind(null,l,d,a,i),null),a},useId:function(){var t=li(),i=Ct.identifierPrefix;if(rt){var a=Ur,l=Lr;a=(l&~(1<<32-Dn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Rc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=v1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:_d,useFormState:Oy,useActionState:Oy,useOptimistic:function(t){var i=li();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ed.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:cd,useCacheRefresh:function(){return li().memoizedState=S1.bind(null,je)},useEffectEvent:function(t){var i=li(),a={impl:t};return i.memoizedState=a,function(){if((mt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Td={readContext:Ln,use:Ic,useCallback:Fy,useContext:Ln,useEffect:pd,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:xc,useRef:Ly,useState:function(){return xc(fs)},useDebugValue:gd,useDeferredValue:function(t,i){var a=Wt();return $y(a,Et.memoizedState,t,i)},useTransition:function(){var t=xc(fs)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:Ql(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:_d,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=Wt();return Cy(a,Et,t,i)},useMemoCache:cd,useCacheRefresh:Wy};Td.useEffectEvent=zy;var nv={readContext:Ln,use:Ic,useCallback:Fy,useContext:Ln,useEffect:pd,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:fd,useRef:Ly,useState:function(){return fd(fs)},useDebugValue:gd,useDeferredValue:function(t,i){var a=Wt();return Et===null?yd(a,t,i):$y(a,Et.memoizedState,t,i)},useTransition:function(){var t=fd(fs)[0],i=Wt().memoizedState;return[typeof t=="boolean"?t:Ql(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:_d,useFormState:Py,useActionState:Py,useOptimistic:function(t,i){var a=Wt();return Et!==null?Cy(a,Et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:Wy};nv.useEffectEvent=zy;function wd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=qi(),h=Xs(l);h.payload=i,a!=null&&(h.callback=a),i=Ws(t,h,l),i!==null&&(Ri(i,t,l),Hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=qi(),h=Xs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ws(t,h,l),i!==null&&(Ri(i,t,l),Hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=qi(),l=Xs(a);l.tag=2,i!=null&&(l.callback=i),i=Ws(t,l,a),i!==null&&(Ri(i,t,a),Hl(i,t,a))}};function iv(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!kl(a,l)||!kl(h,d):!0}function rv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&bd.enqueueReplaceState(i,i.state,null)}function lo(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function sv(t){cc(t)}function av(t){console.error(t)}function ov(t){cc(t)}function Oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function lv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sd(t,i,a){return a=Xs(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,i)},a}function uv(t){return t=Xs(t),t.tag=3,t}function cv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){lv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){lv(i,a,l),typeof h!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function R1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ko(i,a,h,!0),a=Ui.current,a!==null){switch(a.tag){case 31:case 13:return sr===null?Gc():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Kd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Kd(t,l,h)),!1}throw Error(s(435,a.tag))}return Kd(t,l,h),Gc(),!1}if(rt)return i=Ui.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Hf&&(t=Error(s(422),{cause:l}),Ul(tr(t,a)))):(l!==Hf&&(i=Error(s(423),{cause:l}),Ul(tr(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=tr(l,a),h=Sd(t.stateNode,l,h),ed(t,h),$t!==4&&($t=2)),!1;var d=Error(s(520),{cause:l});if(d=tr(d,a),iu===null?iu=[d]:iu.push(d),$t!==4&&($t=2),i===null)return!0;l=tr(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Sd(a.stateNode,l,t),ed(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ia===null||!ia.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uv(h),cv(h,t,a,l),ed(a,h),!1}a=a.return}while(a!==null);return!1}var Ad=Error(s(461)),ln=!1;function Un(t,i,a,l){i.child=t===null?my(i,null,a,l):ao(i,t.child,a,l)}function hv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return no(i),l=ad(t,i,a,_,d,h),b=od(),t!==null&&!ln?(ld(t,i,h),ds(t,i,h)):(rt&&b&&Bf(i),i.flags|=1,Un(t,i,l,h),i.child)}function fv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dv(t,i,d,l,h)):(t=mc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Od(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:kl,a(_,l)&&t.ref===i.ref)return ds(t,i,h)}return i.flags|=1,t=os(d,l),t.ref=i.ref,t.return=i,i.child=t}function dv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(kl(d,l)&&t.ref===i.ref)if(ln=!1,i.pendingProps=l=d,Od(t,h))(t.flags&131072)!==0&&(ln=!0);else return i.lanes=t.lanes,ds(t,i,h)}return Rd(t,i,a,l,h)}function mv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return pv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&vc(i,d!==null?d.cachePool:null),d!==null?yy(i,d):nd(),vy(i);else return l=i.lanes=536870912,pv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(vc(i,d.cachePool),yy(i,d),Zs(),i.memoizedState=null):(t!==null&&vc(i,null),nd(),Zs());return Un(t,i,h,a),i.child}function Xl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function pv(t,i,a,l,h){var d=Xf();return d=d===null?null:{parent:an._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&vc(i,null),nd(),vy(i),t!==null&&ko(t,i,l,!0),i.childLanes=h,null}function Vc(t,i){return i=Pc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function gv(t,i,a){return ao(i,t.child,null,a),t=Vc(i,i.pendingProps),t.flags|=2,zi(i),i.memoizedState=null,t}function C1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(rt){if(l.mode==="hidden")return t=Vc(i,l),i.lanes=536870912,Xl(null,t);if(rd(i),(t=Dt)?(t=I_(t,rr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,Pn=i,Dt=null)):t=null,t===null)throw Qs(i);return i.lanes=536870912,null}return Vc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(rd(i),h)if(i.flags&256)i.flags&=-257,i=gv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(ln||ko(t,i,a,!1),h=(a&t.childLanes)!==0,ln||h){if(l=Ct,l!==null&&(_=mi(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ja(t,_),Ri(l,t,_),Ad;Gc(),i=gv(t,i,a)}else t=d.treeContext,Dt=ar(_.nextSibling),Pn=i,rt=!0,$s=null,rr=!1,t!==null&&ny(i,t),i=Vc(i,l),i.flags|=4096;return i}return t=os(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function kc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rd(t,i,a,l,h){return no(i),a=ad(t,i,a,l,void 0,h),l=od(),t!==null&&!ln?(ld(t,i,h),ds(t,i,h)):(rt&&l&&Bf(i),i.flags|=1,Un(t,i,a,h),i.child)}function yv(t,i,a,l,h,d){return no(i),i.updateQueue=null,a=Ey(i,l,a,h),_y(t),l=od(),t!==null&&!ln?(ld(t,i,d),ds(t,i,d)):(rt&&l&&Bf(i),i.flags|=1,Un(t,i,a,d),i.child)}function vv(t,i,a,l,h){if(no(i),i.stateNode===null){var d=Do,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ln(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ln(_):Do,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(wd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&bd.enqueueReplaceState(d,d.state,null),Gl(i,l,d,h),Fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,x=lo(a,b);d.props=x;var Q=d.context,ne=a.contextType;_=Do,typeof ne=="object"&&ne!==null&&(_=Ln(ne));var ae=a.getDerivedStateFromProps;ne=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Q!==_)&&rv(i,d,l,_),Ks=!1;var K=i.memoizedState;d.state=K,Gl(i,l,d,h),Fl(),Q=i.memoizedState,b||K!==Q||Ks?(typeof ae=="function"&&(wd(i,a,ae,l),Q=i.memoizedState),(x=Ks||iv(i,a,x,l,K,Q,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Zf(t,i),_=i.memoizedProps,ne=lo(a,_),d.props=ne,ae=i.pendingProps,K=d.context,Q=a.contextType,x=Do,typeof Q=="object"&&Q!==null&&(x=Ln(Q)),b=a.getDerivedStateFromProps,(Q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ae||K!==x)&&rv(i,d,l,x),Ks=!1,K=i.memoizedState,d.state=K,Gl(i,l,d,h),Fl();var W=i.memoizedState;_!==ae||K!==W||Ks||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof b=="function"&&(wd(i,a,b,l),W=i.memoizedState),(ne=Ks||iv(i,a,ne,l,K,W,x)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=x,l=ne):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,kc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ao(i,t.child,null,h),i.child=ao(i,null,a,h)):Un(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ds(t,i,h),t}function _v(t,i,a,l){return eo(),i.flags|=256,Un(t,i,a,l),i.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(t){return{baseLanes:t,cachePool:ly()}}function xd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Bi),t}function Ev(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(rt){if(h?Js(i):Zs(),(t=Dt)?(t=I_(t,rr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,Pn=i,Dt=null)):t=null,t===null)throw Qs(i);return hm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Zs(),h=i.mode,b=Pc({mode:"hidden",children:b},h),l=Za(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Id(a),l.childLanes=xd(t,_,a),i.memoizedState=Cd,Xl(null,l)):(Js(i),Nd(i,b))}var x=t.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)i.flags&256?(Js(i),i.flags&=-257,i=Dd(t,i,a)):i.memoizedState!==null?(Zs(),i.child=t.child,i.flags|=128,i=null):(Zs(),b=l.fallback,h=i.mode,l=Pc({mode:"visible",children:l.children},h),b=Za(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,ao(i,t.child,null,a),l=i.child,l.memoizedState=Id(a),l.childLanes=xd(t,_,a),i.memoizedState=Cd,i=Xl(null,l));else if(Js(i),hm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var Q=_.dgst;_=Q,l=Error(s(419)),l.stack="",l.digest=_,Ul({value:l,source:null,stack:null}),i=Dd(t,i,a)}else if(ln||ko(t,i,a,!1),_=(a&t.childLanes)!==0,ln||_){if(_=Ct,_!==null&&(l=mi(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ja(t,l),Ri(_,t,l),Ad;cm(b)||Gc(),i=Dd(t,i,a)}else cm(b)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,Dt=ar(b.nextSibling),Pn=i,rt=!0,$s=null,rr=!1,t!==null&&ny(i,t),i=Nd(i,l.children),i.flags|=4096);return i}return h?(Zs(),b=l.fallback,h=i.mode,x=t.child,Q=x.sibling,l=os(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,Q!==null?b=os(Q,b):(b=Za(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Xl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Id(a):(h=b.cachePool,h!==null?(x=an._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=ly(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=xd(t,_,a),i.memoizedState=Cd,Xl(t.child,l)):(Js(i),a=t.child,t=a.sibling,a=os(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Nd(t,i){return i=Pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Pc(t,i){return t=Li(22,t,null,i),t.lanes=0,t}function Dd(t,i,a){return ao(i,t.child,null,a),t=Nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Tv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),$f(t.return,i,a)}function Md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function wv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=Xt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,X(Xt,_),Un(t,i,l,a),l=rt?Ll:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tv(t,a,i);else if(t.tag===19)Tv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Md(i,!0,a,null,d,l);break;case"together":Md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ds(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),na|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ko(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=os(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=os(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function I1(t,i,a){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Ys(i,an,t.memoizedState.cache),eo();break;case 27:case 5:Xe(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Ys(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Js(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ev(t,i,a):(Js(i),t=ds(t,i,a),t!==null?t.sibling:null);Js(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ko(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return wv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Xt,Xt.current),l)break;return null;case 22:return i.lanes=0,mv(t,i,a,i.pendingProps);case 24:Ys(i,an,t.memoizedState.cache)}return ds(t,i,a)}function bv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ln=!0;else{if(!Od(t,a)&&(i.flags&128)===0)return ln=!1,I1(t,i,a);ln=(t.flags&131072)!==0}else ln=!1,rt&&(i.flags&1048576)!==0&&ty(i,Ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ro(i.elementType),i.type=t,typeof t=="function")Uf(t)?(l=lo(t,l),i.tag=1,i=vv(null,i,t,l,a)):(i.tag=0,i=Rd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=hv(null,i,t,l,a);break e}else if(h===M){i.tag=14,i=fv(null,i,t,l,a);break e}}throw i=It(t)||t,Error(s(306,i,""))}}return i;case 0:return Rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=lo(l,i.pendingProps),vv(t,i,l,h,a);case 3:e:{if(Se(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Zf(t,i),Gl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ys(i,an,l),l!==d.cache&&Qf(i,[an],a,!0),Fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_v(t,i,l,a);break e}else if(l!==h){h=tr(Error(s(424)),i),Ul(h),i=_v(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Dt=ar(t.firstChild),Pn=i,rt=!0,$s=null,rr=!0,a=my(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(eo(),l===h){i=ds(t,i,a);break e}Un(t,i,l,a)}i=i.child}return i;case 26:return kc(t,i),t===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:rt||(a=i.type,t=i.pendingProps,l=Jc(me.current).createElement(a),l[ut]=i,l[Fe]=t,zn(l,a,t),zt(l),i.stateNode=l):i.memoizedState=V_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Xe(i),t===null&&rt&&(l=i.stateNode=D_(i.type,i.pendingProps,me.current),Pn=i,rr=!0,h=Dt,oa(i.type)?(fm=h,Dt=ar(l.firstChild)):Dt=h),Un(t,i,i.pendingProps.children,a),kc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&rt&&((h=l=Dt)&&(l=rS(l,i.type,i.pendingProps,rr),l!==null?(i.stateNode=l,Pn=i,Dt=ar(l.firstChild),rr=!1,h=!0):h=!1),h||Qs(i)),Xe(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,om(h,d)?l=null:_!==null&&om(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=ad(t,i,_1,null,null,a),hu._currentValue=h),kc(t,i),Un(t,i,l,a),i.child;case 6:return t===null&&rt&&((t=a=Dt)&&(a=sS(a,i.pendingProps,rr),a!==null?(i.stateNode=a,Pn=i,Dt=null,t=!0):t=!1),t||Qs(i)),null;case 13:return Ev(t,i,a);case 4:return Se(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ao(i,null,l,a):Un(t,i,l,a),i.child;case 11:return hv(t,i,i.type,i.pendingProps,a);case 7:return Un(t,i,i.pendingProps,a),i.child;case 8:return Un(t,i,i.pendingProps.children,a),i.child;case 12:return Un(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ys(i,i.type,l.value),Un(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,no(i),h=Ln(h),l=l(h),i.flags|=1,Un(t,i,l,a),i.child;case 14:return fv(t,i,i.type,i.pendingProps,a);case 15:return dv(t,i,i.type,i.pendingProps,a);case 19:return wv(t,i,a);case 31:return C1(t,i,a);case 22:return mv(t,i,a,i.pendingProps);case 24:return no(i),l=Ln(an),t===null?(h=Xf(),h===null&&(h=Ct,d=Yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Jf(i),Ys(i,an,h)):((t.lanes&a)!==0&&(Zf(t,i),Gl(i,null,null,a),Fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ys(i,an,l)):(l=d.cache,Ys(i,an,l),l!==h.cache&&Qf(i,[an],a,!0))),Un(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ms(t){t.flags|=4}function Vd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xv())t.flags|=8192;else throw so=Ec,Wf}else t.flags&=-16777217}function Sv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z_(i))if(Xv())t.flags|=8192;else throw so=Ec,Wf}function Lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ei():536870912,t.lanes|=i,Qo|=i)}function Wl(t,i){if(!rt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function x1(t,i,a){var l=i.pendingProps;switch(qf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Mt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),cs(an),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Vo(i)?ms(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),Mt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ms(i),d!==null?(Mt(i),Sv(i,d)):(Mt(i),Vd(i,h,null,l,a))):d?d!==t.memoizedState?(ms(i),Mt(i),Sv(i,d)):(Mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ms(i),Mt(i),Vd(i,h,t,l,a)),null;case 27:if(He(i),a=me.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ms(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Mt(i),null}t=le.current,Vo(i)?iy(i):(t=D_(h,l,a),i.stateNode=t,ms(i))}return Mt(i),null;case 5:if(He(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ms(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Mt(i),null}if(d=le.current,Vo(i))iy(i);else{var _=Jc(me.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ut]=i,d[Fe]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(zn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ms(i)}}return Mt(i),Vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ms(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=me.current,Vo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Pn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||Qs(i,!0)}else t=Jc(t).createTextNode(l),t[ut]=i,i.stateNode=t}return Mt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Vo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ut]=i}else eo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),t=!1}else a=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(zi(i),i):(zi(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Mt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Vo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ut]=i}else eo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),h=!1}else h=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}return zi(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Lc(i,i.updateQueue),Mt(i),null);case 4:return Ie(),t===null&&nm(i.stateNode.containerInfo),Mt(i),null;case 10:return cs(i.type),Mt(i),null;case 19:if(q(Xt),l=i.memoizedState,l===null)return Mt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Wl(l,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Sc(t),d!==null){for(i.flags|=128,Wl(l,!1),t=d.updateQueue,i.updateQueue=t,Lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jg(a,t),a=a.sibling;return X(Xt,Xt.current&1|2),rt&&ls(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Ft()>qc&&(i.flags|=128,h=!0,Wl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Lc(i,t),Wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!rt)return Mt(i),null}else 2*Ft()-l.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,h=!0,Wl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ft(),t.sibling=null,a=Xt.current,X(Xt,h?a&1|2:a&1),rt&&ls(i,l.treeForkCount),t):(Mt(i),null);case 22:case 23:return zi(i),id(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),a=i.updateQueue,a!==null&&Lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&q(io),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),cs(an),Mt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function N1(t,i){switch(qf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return cs(an),Ie(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return He(i),null;case 31:if(i.memoizedState!==null){if(zi(i),i.alternate===null)throw Error(s(340));eo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));eo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return q(Xt),null;case 4:return Ie(),null;case 10:return cs(i.type),null;case 22:case 23:return zi(i),id(),t!==null&&q(io),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return cs(an),null;case 25:return null;default:return null}}function Av(t,i){switch(qf(i),i.tag){case 3:cs(an),Ie();break;case 26:case 27:case 5:He(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&zi(i);break;case 13:zi(i);break;case 19:q(Xt);break;case 10:cs(i.type);break;case 22:case 23:zi(i),id(),t!==null&&q(io);break;case 24:cs(an)}}function Jl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){_t(i,i.return,b)}}function ea(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var x=a,Q=b;try{Q()}catch(ne){_t(h,x,ne)}}}l=l.next}while(l!==d)}}catch(ne){_t(i,i.return,ne)}}function Rv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{gy(i,a)}catch(l){_t(t,t.return,l)}}}function Cv(t,i,a){a.props=lo(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){_t(t,i,l)}}function Zl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){_t(t,i,h)}}function zr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){_t(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){_t(t,i,h)}else a.current=null}function Iv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){_t(t,t.return,h)}}function kd(t,i,a){try{var l=t.stateNode;J1(l,t.type,a,i),l[Fe]=i}catch(h){_t(t,t.return,h)}}function xv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oa(t.type)||t.tag===4}function Pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=tn));else if(l!==4&&(l===27&&oa(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ld(t,i,a),t=t.sibling;t!==null;)Ld(t,i,a),t=t.sibling}function Uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&oa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uc(t,i,a),t=t.sibling;t!==null;)Uc(t,i,a),t=t.sibling}function Nv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zn(i,l,a),i[ut]=t,i[Fe]=a}catch(d){_t(t,t.return,d)}}var ps=!1,un=!1,Ud=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function D1(t,i){if(t=t.containerInfo,sm=sh,t=Hg(t),Df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,x=-1,Q=0,ne=0,ae=t,K=null;t:for(;;){for(var W;ae!==a||h!==0&&ae.nodeType!==3||(b=_+h),ae!==d||l!==0&&ae.nodeType!==3||(x=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(W=ae.firstChild)!==null;)K=ae,ae=W;for(;;){if(ae===t)break t;if(K===a&&++Q===h&&(b=_),K===d&&++ne===l&&(x=_),(W=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=W}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:t,selectionRange:a},sh=!1,Cn=i;Cn!==null;)if(i=Cn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Cn=t;else for(;Cn!==null;){switch(i=Cn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=lo(a.type,h);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){_t(a,a.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)um(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Cn=t;break}Cn=i.return}}function Mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ys(t,a),l&4&&Jl(5,a);break;case 1:if(ys(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){_t(a,a.return,_)}else{var h=lo(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){_t(a,a.return,_)}}l&64&&Rv(a),l&512&&Zl(a,a.return);break;case 3:if(ys(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gy(t,i)}catch(_){_t(a,a.return,_)}}break;case 27:i===null&&l&4&&Nv(a);case 26:case 5:ys(t,a),i===null&&l&4&&Iv(a),l&512&&Zl(a,a.return);break;case 12:ys(t,a);break;case 31:ys(t,a),l&4&&kv(t,a);break;case 13:ys(t,a),l&4&&Pv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=j1.bind(null,a),aS(t,a))));break;case 22:if(l=a.memoizedState!==null||ps,!l){i=i!==null&&i.memoizedState!==null||un,h=ps;var d=un;ps=l,(un=i)&&!d?vs(t,a,(a.subtreeFlags&8772)!==0):ys(t,a),ps=h,un=d}break;case 30:break;default:ys(t,a)}}function Ov(t){var i=t.alternate;i!==null&&(t.alternate=null,Ov(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&vi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ut=null,wi=!1;function gs(t,i,a){for(a=a.child;a!==null;)Vv(t,i,a),a=a.sibling}function Vv(t,i,a){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:un||zr(a,i),gs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:un||zr(a,i);var l=Ut,h=wi;oa(a.type)&&(Ut=a.stateNode,wi=!1),gs(t,i,a),lu(a.stateNode),Ut=l,wi=h;break;case 5:un||zr(a,i);case 6:if(l=Ut,h=wi,Ut=null,gs(t,i,a),Ut=l,wi=h,Ut!==null)if(wi)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(a.stateNode)}catch(d){_t(a,i,d)}else try{Ut.removeChild(a.stateNode)}catch(d){_t(a,i,d)}break;case 18:Ut!==null&&(wi?(t=Ut,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),tl(t)):R_(Ut,a.stateNode));break;case 4:l=Ut,h=wi,Ut=a.stateNode.containerInfo,wi=!0,gs(t,i,a),Ut=l,wi=h;break;case 0:case 11:case 14:case 15:ea(2,a,i),un||ea(4,a,i),gs(t,i,a);break;case 1:un||(zr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cv(a,i,l)),gs(t,i,a);break;case 21:gs(t,i,a);break;case 22:un=(l=un)||a.memoizedState!==null,gs(t,i,a),un=l;break;default:gs(t,i,a)}}function kv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{tl(t)}catch(a){_t(i,i.return,a)}}}function Pv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{tl(t)}catch(a){_t(i,i.return,a)}}function M1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Dv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Dv),i;default:throw Error(s(435,t.tag))}}function zc(t,i){var a=M1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=B1.bind(null,t,l);l.then(h,h)}})}function bi(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(oa(b.type)){Ut=b.stateNode,wi=!1;break e}break;case 5:Ut=b.stateNode,wi=!1;break e;case 3:case 4:Ut=b.stateNode.containerInfo,wi=!0;break e}b=b.return}if(Ut===null)throw Error(s(160));Vv(d,_,h),Ut=null,wi=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Lv(i,t),i=i.sibling}var Er=null;function Lv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bi(i,t),Si(t),l&4&&(ea(3,t,t.return),Jl(3,t),ea(5,t,t.return));break;case 1:bi(i,t),Si(t),l&512&&(un||a===null||zr(a,a.return)),l&64&&ps&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Er;if(bi(i,t),Si(t),l&512&&(un||a===null||zr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[wn]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zn(d,l,a),d[ut]=t,zt(d),l=d;break e;case"link":var _=L_("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),zn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=L_("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),zn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ut]=t,zt(d),l=d}t.stateNode=l}else U_(h,t.type,t.stateNode);else t.stateNode=P_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?U_(h,t.type,t.stateNode):P_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kd(t,t.memoizedProps,a.memoizedProps)}break;case 27:bi(i,t),Si(t),l&512&&(un||a===null||zr(a,a.return)),a!==null&&l&4&&kd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(bi(i,t),Si(t),l&512&&(un||a===null||zr(a,a.return)),t.flags&32){h=t.stateNode;try{ii(h,"")}catch(Te){_t(t,t.return,Te)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,kd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ud=!0);break;case 6:if(bi(i,t),Si(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Te){_t(t,t.return,Te)}}break;case 3:if(th=null,h=Er,Er=Zc(i.containerInfo),bi(i,t),Er=h,Si(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{tl(i.containerInfo)}catch(Te){_t(t,t.return,Te)}Ud&&(Ud=!1,Uv(t));break;case 4:l=Er,Er=Zc(t.stateNode.containerInfo),bi(i,t),Si(t),Er=l;break;case 12:bi(i,t),Si(t);break;case 31:bi(i,t),Si(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 13:bi(i,t),Si(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bc=Ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,Q=ps,ne=un;if(ps=Q||h,un=ne||x,bi(i,t),un=ne,ps=Q,Si(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||ps||un||uo(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=x.stateNode;var ae=x.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Te){_t(x,x.return,Te)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(Te){_t(x,x.return,Te)}}}else if(i.tag===18){if(a===null){x=i;try{var W=x.stateNode;h?C_(W,!0):C_(x.stateNode,!1)}catch(Te){_t(x,x.return,Te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zc(t,a))));break;case 19:bi(i,t),Si(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 30:break;case 21:break;default:bi(i,t),Si(t)}}function Si(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(xv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pd(t);Uc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ii(_,""),a.flags&=-33);var b=Pd(t);Uc(t,b,_);break;case 3:case 4:var x=a.stateNode.containerInfo,Q=Pd(t);Ld(t,Q,x);break;default:throw Error(s(161))}}catch(ne){_t(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ys(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Mv(t,i.alternate,i),i=i.sibling}function uo(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ea(4,i,i.return),uo(i);break;case 1:zr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cv(i,i.return,a),uo(i);break;case 27:lu(i.stateNode);case 26:case 5:zr(i,i.return),uo(i);break;case 22:i.memoizedState===null&&uo(i);break;case 30:uo(i);break;default:uo(i)}t=t.sibling}}function vs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:vs(h,d,a),Jl(4,d);break;case 1:if(vs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){_t(l,l.return,Q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)py(x[h],b)}catch(Q){_t(l,l.return,Q)}}a&&_&64&&Rv(d),Zl(d,d.return);break;case 27:Nv(d);case 26:case 5:vs(h,d,a),a&&l===null&&_&4&&Iv(d),Zl(d,d.return);break;case 12:vs(h,d,a);break;case 31:vs(h,d,a),a&&_&4&&kv(h,d);break;case 13:vs(h,d,a),a&&_&4&&Pv(h,d);break;case 22:d.memoizedState===null&&vs(h,d,a),Zl(d,d.return);break;case 30:break;default:vs(h,d,a)}i=i.sibling}}function zd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&zl(a))}function jd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zl(t))}function Tr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zv(t,i,a,l),i=i.sibling}function zv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Tr(t,i,a,l),h&2048&&Jl(9,i);break;case 1:Tr(t,i,a,l);break;case 3:Tr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zl(t)));break;case 12:if(h&2048){Tr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){_t(i,i.return,x)}}else Tr(t,i,a,l);break;case 31:Tr(t,i,a,l);break;case 13:Tr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Tr(t,i,a,l):eu(t,i):d._visibility&2?Tr(t,i,a,l):(d._visibility|=2,Fo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&zd(_,i);break;case 24:Tr(t,i,a,l),h&2048&&jd(i.alternate,i);break;default:Tr(t,i,a,l)}}function Fo(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,x=l,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Fo(d,_,b,x,h),Jl(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Fo(d,_,b,x,h):eu(d,_):(ne._visibility|=2,Fo(d,_,b,x,h)),h&&Q&2048&&zd(_.alternate,_);break;case 24:Fo(d,_,b,x,h),h&&Q&2048&&jd(_.alternate,_);break;default:Fo(d,_,b,x,h)}i=i.sibling}}function eu(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:eu(a,l),h&2048&&zd(l.alternate,l);break;case 24:eu(a,l),h&2048&&jd(l.alternate,l);break;default:eu(a,l)}i=i.sibling}}var tu=8192;function Go(t,i,a){if(t.subtreeFlags&tu)for(t=t.child;t!==null;)jv(t,i,a),t=t.sibling}function jv(t,i,a){switch(t.tag){case 26:Go(t,i,a),t.flags&tu&&t.memoizedState!==null&&vS(a,Er,t.memoizedState,t.memoizedProps);break;case 5:Go(t,i,a);break;case 3:case 4:var l=Er;Er=Zc(t.stateNode.containerInfo),Go(t,i,a),Er=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=tu,tu=16777216,Go(t,i,a),tu=l):Go(t,i,a));break;default:Go(t,i,a)}}function Bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function nu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Cn=l,Hv(l,t)}Bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qv(t),t=t.sibling}function qv(t){switch(t.tag){case 0:case 11:case 15:nu(t),t.flags&2048&&ea(9,t,t.return);break;case 3:nu(t);break;case 12:nu(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,jc(t)):nu(t);break;default:nu(t)}}function jc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Cn=l,Hv(l,t)}Bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ea(8,i,i.return),jc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,jc(i));break;default:jc(i)}t=t.sibling}}function Hv(t,i){for(;Cn!==null;){var a=Cn;switch(a.tag){case 0:case 11:case 15:ea(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Cn=l;else e:for(a=t;Cn!==null;){l=Cn;var h=l.sibling,d=l.return;if(Ov(l),l===a){Cn=null;break e}if(h!==null){h.return=d,Cn=h;break e}Cn=d}}}var O1={getCacheForType:function(t){var i=Ln(an),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ln(an).controller.signal}},V1=typeof WeakMap=="function"?WeakMap:Map,mt=0,Ct=null,We=null,Ze=0,vt=0,ji=null,ta=!1,$o=!1,Bd=!1,_s=0,$t=0,na=0,co=0,qd=0,Bi=0,Qo=0,iu=null,Ai=null,Hd=!1,Bc=0,Fv=0,qc=1/0,Hc=null,ia=null,gn=0,ra=null,Yo=null,Es=0,Fd=0,Gd=null,Gv=null,ru=0,$d=null;function qi(){return(mt&2)!==0&&Ze!==0?Ze&-Ze:te.T!==null?Jd():en()}function $v(){if(Bi===0)if((Ze&536870912)===0||rt){var t=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Bi=t}else Bi=536870912;return t=Ui.current,t!==null&&(t.flags|=32),Bi}function Ri(t,i,a){(t===Ct&&(vt===2||vt===9)||t.cancelPendingCommit!==null)&&(Ko(t,0),sa(t,Ze,Bi,!1)),ti(t,a),((mt&2)===0||t!==Ct)&&(t===Ct&&((mt&2)===0&&(co|=a),$t===4&&sa(t,Ze,Bi,!1)),jr(t))}function Qv(t,i,a){if((mt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yi(t,i),h=l?L1(t,i):Yd(t,i,!0),d=l;do{if(h===0){$o&&!l&&sa(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!k1(a)){h=Yd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=iu;var x=b.current.memoizedState.isDehydrated;if(x&&(Ko(b,_).flags|=256),_=Yd(b,_,!1),_!==2){if(Bd&&!x){b.errorRecoveryDisabledLanes|=d,co|=d,h=4;break e}d=Ai,Ai=h,d!==null&&(Ai===null?Ai=d:Ai.push.apply(Ai,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ko(t,0),sa(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:sa(l,i,Bi,!ta);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Bc+300-Ft(),10<h)){if(sa(l,i,Bi,!ta),Mn(l,0,!0)!==0)break e;Es=i,l.timeoutHandle=S_(Yv.bind(null,l,a,Ai,Hc,Hd,i,Bi,co,Qo,ta,d,"Throttled",-0,0),h);break e}Yv(l,a,Ai,Hc,Hd,i,Bi,co,Qo,ta,d,null,-0,0)}}break}while(!0);jr(t)}function Yv(t,i,a,l,h,d,_,b,x,Q,ne,ae,K,W){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},jv(i,d,ae);var Te=(d&62914560)===d?Bc-Ft():(d&4194048)===d?Fv-Ft():0;if(Te=_S(ae,Te),Te!==null){Es=d,t.cancelPendingCommit=Te(n_.bind(null,t,i,d,a,l,h,_,b,x,ne,ae,null,K,W)),sa(t,d,_,!Q);return}}n_(t,i,d,a,l,h,_,b,x)}function k1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Pi(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sa(t,i,a,l){i&=~qd,i&=~co,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Dn(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Ni(t,a,i)}function Fc(){return(mt&6)===0?(su(0),!1):!0}function Qd(){if(We!==null){if(vt===0)var t=We.return;else t=We,us=to=null,ud(t),zo=null,Bl=0,t=We;for(;t!==null;)Av(t.alternate,t),t=t.return;We=null}}function Ko(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Es=0,Qd(),Ct=t,We=a=os(t.current,null),Ze=i,vt=0,ji=null,ta=!1,$o=Yi(t,i),Bd=!1,Qo=Bi=qd=co=na=$t=0,Ai=iu=null,Hd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Dn(l),d=1<<h;i|=t[h],l&=~d}return _s=i,hc(),a}function Kv(t,i){je=null,te.H=Kl,i===Uo||i===_c?(i=hy(),vt=3):i===Wf?(i=hy(),vt=4):vt=i===Ad?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ji=i,We===null&&($t=1,Oc(t,tr(i,t.current)))}function Xv(){var t=Ui.current;return t===null?!0:(Ze&4194048)===Ze?sr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?t===sr:!1}function Wv(){var t=te.H;return te.H=Kl,t===null?Kl:t}function Jv(){var t=te.A;return te.A=O1,t}function Gc(){$t=4,ta||(Ze&4194048)!==Ze&&Ui.current!==null||($o=!0),(na&134217727)===0&&(co&134217727)===0||Ct===null||sa(Ct,Ze,Bi,!1)}function Yd(t,i,a){var l=mt;mt|=2;var h=Wv(),d=Jv();(Ct!==t||Ze!==i)&&(Hc=null,Ko(t,i)),i=!1;var _=$t;e:do try{if(vt!==0&&We!==null){var b=We,x=ji;switch(vt){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:Ui.current===null&&(i=!0);var Q=vt;if(vt=0,ji=null,Xo(t,b,x,Q),a&&$o){_=0;break e}break;default:Q=vt,vt=0,ji=null,Xo(t,b,x,Q)}}P1(),_=$t;break}catch(ne){Kv(t,ne)}while(!0);return i&&t.shellSuspendCounter++,us=to=null,mt=l,te.H=h,te.A=d,We===null&&(Ct=null,Ze=0,hc()),_}function P1(){for(;We!==null;)Zv(We)}function L1(t,i){var a=mt;mt|=2;var l=Wv(),h=Jv();Ct!==t||Ze!==i?(Hc=null,qc=Ft()+500,Ko(t,i)):$o=Yi(t,i);e:do try{if(vt!==0&&We!==null){i=We;var d=ji;t:switch(vt){case 1:vt=0,ji=null,Xo(t,i,d,1);break;case 2:case 9:if(uy(d)){vt=0,ji=null,e_(i);break}i=function(){vt!==2&&vt!==9||Ct!==t||(vt=7),jr(t)},d.then(i,i);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:uy(d)?(vt=0,ji=null,e_(i)):(vt=0,ji=null,Xo(t,i,d,7));break;case 5:var _=null;switch(We.tag){case 26:_=We.memoizedState;case 5:case 27:var b=We;if(_?z_(_):b.stateNode.complete){vt=0,ji=null;var x=b.sibling;if(x!==null)We=x;else{var Q=b.return;Q!==null?(We=Q,$c(Q)):We=null}break t}}vt=0,ji=null,Xo(t,i,d,5);break;case 6:vt=0,ji=null,Xo(t,i,d,6);break;case 8:Qd(),$t=6;break e;default:throw Error(s(462))}}U1();break}catch(ne){Kv(t,ne)}while(!0);return us=to=null,te.H=l,te.A=h,mt=a,We!==null?0:(Ct=null,Ze=0,hc(),$t)}function U1(){for(;We!==null&&!La();)Zv(We)}function Zv(t){var i=bv(t.alternate,t,_s);t.memoizedProps=t.pendingProps,i===null?$c(t):We=i}function e_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yv(a,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=yv(a,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:ud(i);default:Av(a,i),i=We=Jg(i,_s),i=bv(a,i,_s)}t.memoizedProps=t.pendingProps,i===null?$c(t):We=i}function Xo(t,i,a,l){us=to=null,ud(i),zo=null,Bl=0;var h=i.return;try{if(R1(t,h,i,a,Ze)){$t=1,Oc(t,tr(a,t.current)),We=null;return}}catch(d){if(h!==null)throw We=h,d;$t=1,Oc(t,tr(a,t.current)),We=null;return}i.flags&32768?(rt||l===1?t=!0:$o||(Ze&536870912)!==0?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ui.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,t)):$c(i)}function $c(t){var i=t;do{if((i.flags&32768)!==0){t_(i,ta);return}t=i.return;var a=x1(i.alternate,i,_s);if(a!==null){We=a;return}if(i=i.sibling,i!==null){We=i;return}We=i=t}while(i!==null);$t===0&&($t=5)}function t_(t,i){do{var a=N1(t.alternate,t);if(a!==null){a.flags&=32767,We=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){We=t;return}We=t=a}while(t!==null);$t=6,We=null}function n_(t,i,a,l,h,d,_,b,x){t.cancelPendingCommit=null;do Qc();while(gn!==0);if((mt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Pf,mn(t,a,d,_,b,x),t===Ct&&(We=Ct=null,Ze=0),Yo=i,ra=t,Es=a,Fd=d,Gd=h,Gv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,q1(Fn,function(){return o_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=te.T,te.T=null,h=de.p,de.p=2,_=mt,mt|=4;try{D1(t,i,a)}finally{mt=_,de.p=h,te.T=l}}gn=1,i_(),r_(),s_()}}function i_(){if(gn===1){gn=0;var t=ra,i=Yo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=te.T,te.T=null;var l=de.p;de.p=2;var h=mt;mt|=4;try{Lv(i,t);var d=am,_=Hg(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&qg(b.ownerDocument.documentElement,b)){if(x!==null&&Df(b)){var Q=x.start,ne=x.end;if(ne===void 0&&(ne=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(ne,b.value.length);else{var ae=b.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var W=K.getSelection(),Te=b.textContent.length,Ne=Math.min(x.start,Te),wt=x.end===void 0?Ne:Math.min(x.end,Te);!W.extend&&Ne>wt&&(_=wt,wt=Ne,Ne=_);var B=Bg(b,Ne),P=Bg(b,wt);if(B&&P&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==P.node||W.focusOffset!==P.offset)){var $=ae.createRange();$.setStart(B.node,B.offset),W.removeAllRanges(),Ne>wt?(W.addRange($),W.extend(P.node,P.offset)):($.setEnd(P.node,P.offset),W.addRange($))}}}}for(ae=[],W=b;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}sh=!!sm,am=sm=null}finally{mt=h,de.p=l,te.T=a}}t.current=i,gn=2}}function r_(){if(gn===2){gn=0;var t=ra,i=Yo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=te.T,te.T=null;var l=de.p;de.p=2;var h=mt;mt|=4;try{Mv(t,i.alternate,i)}finally{mt=h,de.p=l,te.T=a}}gn=3}}function s_(){if(gn===4||gn===3){gn=0,Kr();var t=ra,i=Yo,a=Es,l=Gv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gn=5:(gn=0,Yo=ra=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ia=null),Gn(a),i=i.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=te.T,h=de.p,de.p=2,te.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{te.T=i,de.p=h}}(Es&3)!==0&&Qc(),jr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===$d?ru++:(ru=0,$d=t):ru=0,su(0)}}function a_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,zl(i)))}function Qc(){return i_(),r_(),s_(),o_()}function o_(){if(gn!==5)return!1;var t=ra,i=Fd;Fd=0;var a=Gn(Es),l=te.T,h=de.p;try{de.p=32>a?32:a,te.T=null,a=Gd,Gd=null;var d=ra,_=Es;if(gn=0,Yo=ra=null,Es=0,(mt&6)!==0)throw Error(s(331));var b=mt;if(mt|=4,qv(d.current),zv(d,d.current,_,a),mt=b,su(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{de.p=h,te.T=l,a_(t,i)}}function l_(t,i,a){i=tr(a,i),i=Sd(t.stateNode,i,2),t=Ws(t,i,2),t!==null&&(ti(t,2),jr(t))}function _t(t,i,a){if(t.tag===3)l_(t,t,a);else for(;i!==null;){if(i.tag===3){l_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ia===null||!ia.has(l))){t=tr(a,t),a=uv(2),l=Ws(i,a,2),l!==null&&(cv(a,l,i,t),ti(l,2),jr(l));break}}i=i.return}}function Kd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new V1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Bd=!0,h.add(a),t=z1.bind(null,t,i,a),i.then(t,t))}function z1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ct===t&&(Ze&a)===a&&($t===4||$t===3&&(Ze&62914560)===Ze&&300>Ft()-Bc?(mt&2)===0&&Ko(t,0):qd|=a,Qo===Ze&&(Qo=0)),jr(t)}function u_(t,i){i===0&&(i=ei()),t=Ja(t,i),t!==null&&(ti(t,i),jr(t))}function j1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(t,a)}function B1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),u_(t,a)}function q1(t,i){return Zt(t,i)}var Yc=null,Wo=null,Xd=!1,Kc=!1,Wd=!1,aa=0;function jr(t){t!==Wo&&t.next===null&&(Wo===null?Yc=Wo=t:Wo=Wo.next=t),Kc=!0,Xd||(Xd=!0,F1())}function su(t,i){if(!Wd&&Kc){Wd=!0;do for(var a=!1,l=Yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Dn(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Ze,d=Mn(l,l===Ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yi(l,d)||(a=!0,d_(l,d));l=l.next}while(a);Wd=!1}}function H1(){c_()}function c_(){Kc=Xd=!1;var t=0;aa!==0&&eS()&&(t=aa);for(var i=Ft(),a=null,l=Yc;l!==null;){var h=l.next,d=h_(l,i);d===0?(l.next=null,a===null?Yc=h:a.next=h,h===null&&(Wo=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=h}gn!==0&&gn!==5||su(t),aa!==0&&(aa=0)}function h_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Dn(d),b=1<<_,x=h[_];x===-1?((b&a)===0||(b&l)!==0)&&(h[_]=fi(b,i)):x<=i&&(t.expiredLanes|=b),d&=~b}if(i=Ct,a=Ze,a=Mn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(vt===2||vt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ar(l),Gn(a)){case 2:case 8:a=kt;break;case 32:a=Fn;break;case 268435456:a=Ii;break;default:a=Fn}return l=f_.bind(null,t),a=Zt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,i){if(gn!==0&&gn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qc()&&t.callbackNode!==a)return null;var l=Ze;return l=Mn(t,t===Ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Qv(t,l,i),h_(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function d_(t,i){if(Qc())return null;Qv(t,i,!0)}function F1(){nS(function(){(mt&6)!==0?Zt(Nt,H1):c_()})}function Jd(){if(aa===0){var t=Po;t===0&&(t=Rr,Rr<<=1,(Rr&261888)===0&&(Rr=256)),aa=t}return aa}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xi(""+t)}function p_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function G1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=m_((h[Fe]||null).action),_=l.submitter;_&&(i=(i=_[Fe]||null)?m_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new vr("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var x=_?p_(h,_):new FormData(h);vd(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=_?p_(h,_):new FormData(h),vd(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Zd=0;Zd<kf.length;Zd++){var em=kf[Zd],$1=em.toLowerCase(),Q1=em[0].toUpperCase()+em.slice(1);_r($1,"on"+Q1)}_r($g,"onAnimationEnd"),_r(Qg,"onAnimationIteration"),_r(Yg,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(u1,"onTransitionRun"),_r(c1,"onTransitionStart"),_r(h1,"onTransitionCancel"),_r(Kg,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function g_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],x=b.instance,Q=b.currentTarget;if(b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Q;try{d(h)}catch(ne){cc(ne)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(b=l[_],x=b.instance,Q=b.currentTarget,b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Q;try{d(h)}catch(ne){cc(ne)}h.currentTarget=null,d=x}}}}function Je(t,i){var a=i[fr];a===void 0&&(a=i[fr]=new Set);var l=t+"__bubble";a.has(l)||(y_(i,t,2,!1),a.add(l))}function tm(t,i,a){var l=0;i&&(l|=4),y_(a,t,l,i)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[Xc]){t[Xc]=!0,Ls.forEach(function(a){a!=="selectionchange"&&(Y1.has(a)||tm(a,!1,t),tm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Xc]||(i[Xc]=!0,tm("selectionchange",!1,i))}}function y_(t,i,a,l){switch($_(i)){case 2:var h=wS;break;case 8:h=bS;break;default:h=ym}a=h.bind(null,i,a,t),h=void 0,!Fa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function im(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Di(b),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}b=b.parentNode}}l=l.return}gr(function(){var Q=d,ne=Ji(a),ae=[];e:{var K=Xg.get(t);if(K!==void 0){var W=vr,Te=t;switch(t){case"keypress":if(ns(a)===0)break e;case"keydown":case"keyup":W=ss;break;case"focusin":Te="focus",W=Z;break;case"focusout":Te="blur",W=Z;break;case"beforeblur":case"afterblur":W=Z;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=V;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Qa;break;case $g:case Qg:case Yg:W=ve;break;case Kg:W=rn;break;case"scroll":case"scrollend":W=Ro;break;case"wheel":W=Co;break;case"copy":case"cut":case"paste":W=st;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=$a;break;case"toggle":case"beforetoggle":W=Hs}var Ne=(i&4)!==0,wt=!Ne&&(t==="scroll"||t==="scrollend"),B=Ne?K!==null?K+"Capture":null:K;Ne=[];for(var P=Q,$;P!==null;){var ie=P;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||B===null||(ie=pn(P,B),ie!=null&&Ne.push(ou(P,ie,$))),wt)break;P=P.return}0<Ne.length&&(K=new W(K,Te,null,a,ne),ae.push({event:K,listeners:Ne}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&a!==Wi&&(Te=a.relatedTarget||a.fromElement)&&(Di(Te)||Te[St]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(Te=a.relatedTarget||a.toElement,W=Q,Te=Te?Di(Te):null,Te!==null&&(wt=u(Te),Ne=Te.tag,Te!==wt||Ne!==5&&Ne!==27&&Ne!==6)&&(Te=null)):(W=null,Te=Q),W!==Te)){if(Ne=Ga,ie="onMouseLeave",B="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=$a,ie="onPointerLeave",B="onPointerEnter",P="pointer"),wt=W==null?K:Wr(W),$=Te==null?K:Wr(Te),K=new Ne(ie,P+"leave",W,a,ne),K.target=wt,K.relatedTarget=$,ie=null,Di(ne)===Q&&(Ne=new Ne(B,P+"enter",Te,a,ne),Ne.target=$,Ne.relatedTarget=wt,ie=Ne),wt=ie,W&&Te)t:{for(Ne=K1,B=W,P=Te,$=0,ie=B;ie;ie=Ne(ie))$++;ie=0;for(var Ce=P;Ce;Ce=Ne(Ce))ie++;for(;0<$-ie;)B=Ne(B),$--;for(;0<ie-$;)P=Ne(P),ie--;for(;$--;){if(B===P||P!==null&&B===P.alternate){Ne=B;break t}B=Ne(B),P=Ne(P)}Ne=null}else Ne=null;W!==null&&v_(ae,K,W,Ne,!1),Te!==null&&wt!==null&&v_(ae,wt,Te,Ne,!0)}}e:{if(K=Q?Wr(Q):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var ct=kg;else if(Ti(K))if(Pg)ct=a1;else{ct=r1;var we=i1}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&Ha(Q.elementType)&&(ct=kg):ct=s1;if(ct&&(ct=ct(t,Q))){Ka(ae,ct,a,ne);break e}we&&we(t,K,Q),t==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&js(K,"number",K.value)}switch(we=Q?Wr(Q):window,t){case"focusin":(Ti(we)||we.contentEditable==="true")&&(Io=we,Mf=Q,Pl=null);break;case"focusout":Pl=Mf=Io=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Fg(ae,a,ne);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":Fg(ae,a,ne)}var Be;if(y)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Qe?gt(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(G&&a.locale!=="ko"&&(Qe||et!=="onCompositionStart"?et==="onCompositionEnd"&&Qe&&(Be=Or()):(ri=ne,Bs="value"in ri?ri.value:ri.textContent,Qe=!0)),we=Wc(Q,et),0<we.length&&(et=new Ue(et,t,null,a,ne),ae.push({event:et,listeners:we}),Be?et.data=Be:(Be=sn(a),Be!==null&&(et.data=Be)))),(Be=A?An(t,a):Rn(t,a))&&(et=Wc(Q,"onBeforeInput"),0<et.length&&(we=new Ue("onBeforeInput","beforeinput",null,a,ne),ae.push({event:we,listeners:et}),we.data=Be)),G1(ae,t,Q,a,ne)}g_(ae,i)})}function ou(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=pn(t,a),h!=null&&l.unshift(ou(t,h,d)),h=pn(t,i),h!=null&&l.push(ou(t,h,d))),t.tag===3)return l;t=t.return}return[]}function K1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,x=b.alternate,Q=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||Q===null||(x=Q,h?(Q=pn(a,d),Q!=null&&_.unshift(ou(a,Q,x))):h||(Q=pn(a,d),Q!=null&&_.push(ou(a,Q,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var X1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(X1,`
`).replace(W1,"")}function E_(t,i){return i=__(i),__(t)===i}function Tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ii(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ii(t,""+l);break;case"className":mr(t,"class",l);break;case"tabIndex":mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(t,a,l);break;case"style":qa(t,l,d);break;case"data":if(i!=="object"){mr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Tt(t,i,"name",h.name,h,null),Tt(t,i,"formEncType",h.formEncType,h,null),Tt(t,i,"formMethod",h.formMethod,h,null),Tt(t,i,"formTarget",h.formTarget,h,null)):(Tt(t,i,"encType",h.encType,h,null),Tt(t,i,"method",h.method,h,null),Tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=tn);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Xi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Je("beforetoggle",t),Je("toggle",t),_i(t,"popover",l);break;case"xlinkActuate":$n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_i(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ml.get(a)||a,_i(t,a,l))}}function rm(t,i,a,l,h,d){switch(a){case"style":qa(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ii(t,l):(typeof l=="number"||typeof l=="bigint")&&ii(t,""+l);break;case"onScroll":l!=null&&Je("scroll",t);break;case"onScrollEnd":l!=null&&Je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Fe]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_i(t,a,l)}}}function zn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Tt(t,i,d,_,a,null)}}h&&Tt(t,i,"srcSet",a.srcSet,a,null),l&&Tt(t,i,"src",a.src,a,null);return;case"input":Je("invalid",t);var b=d=_=h=null,x=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":h=ne;break;case"type":_=ne;break;case"checked":x=ne;break;case"defaultChecked":Q=ne;break;case"value":d=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:Tt(t,i,l,ne,a,null)}}Zr(t,d,b,x,Q,_,h,!1);return;case"select":Je("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Tt(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ge(t,!!l,i,!1):a!=null&&Ge(t,!!l,a,!0);return;case"textarea":Je("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Tt(t,i,_,b,a,null)}Vi(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Tt(t,i,x,l,a,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(l=0;l<au.length;l++)Je(au[l],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Tt(t,i,Q,l,a,null)}return;default:if(Ha(i)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&rm(t,i,ne,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Tt(t,i,b,l,a,null))}function J1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,x=null,Q=null,ne=null;for(W in a){var ae=a[W];if(a.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":x=ae;default:l.hasOwnProperty(W)||Tt(t,i,W,null,l,ae)}}for(var K in l){var W=l[K];if(ae=a[K],l.hasOwnProperty(K)&&(W!=null||ae!=null))switch(K){case"type":d=W;break;case"name":h=W;break;case"checked":Q=W;break;case"defaultChecked":ne=W;break;case"value":_=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==ae&&Tt(t,i,K,W,l,ae)}}Oi(t,_,b,x,Q,ne,d,h);return;case"select":W=_=b=K=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":W=x;default:l.hasOwnProperty(d)||Tt(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==x&&Tt(t,i,h,d,l,x)}i=b,a=_,l=W,K!=null?Ge(t,!!a,K,!1):!!l!=!!a&&(i!=null?Ge(t,!!a,i,!0):Ge(t,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Tt(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Tt(t,i,_,h,l,d)}es(t,K,W);return;case"option":for(var Te in a)if(K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Tt(t,i,Te,null,l,K)}for(x in l)if(K=l[x],W=a[x],l.hasOwnProperty(x)&&K!==W&&(K!=null||W!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Tt(t,i,x,K,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)K=a[Ne],a.hasOwnProperty(Ne)&&K!=null&&!l.hasOwnProperty(Ne)&&Tt(t,i,Ne,null,l,K);for(Q in l)if(K=l[Q],W=a[Q],l.hasOwnProperty(Q)&&K!==W&&(K!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Tt(t,i,Q,K,l,W)}return;default:if(Ha(i)){for(var wt in a)K=a[wt],a.hasOwnProperty(wt)&&K!==void 0&&!l.hasOwnProperty(wt)&&rm(t,i,wt,void 0,l,K);for(ne in l)K=l[ne],W=a[ne],!l.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||rm(t,i,ne,K,l,W);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&Tt(t,i,B,null,l,K);for(ae in l)K=l[ae],W=a[ae],!l.hasOwnProperty(ae)||K===W||K==null&&W==null||Tt(t,i,ae,K,l,W)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&T_(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],Q=x.startTime;if(Q>b)break;var ne=x.transferSize,ae=x.initiatorType;ne&&T_(ae)&&(x=x.responseEnd,_+=ne*(x<b?1:(b-Q)/(x-Q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,am=null;function Jc(t){return t.nodeType===9?t:t.ownerDocument}function w_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function om(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lm=null;function eS(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(iS)}:S_;function iS(t){setTimeout(function(){throw t})}function oa(t){return t==="head"}function R_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),tl(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,lu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[wn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&lu(t.ownerDocument.body);a=h}while(a);tl(i)}function C_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function um(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),vi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ar(t.nextSibling),t===null)break}return null}function sS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ar(t.nextSibling),t===null))return null;return t}function I_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ar(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function aS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ar(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var fm=null;function x_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return ar(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function D_(t,i,a){switch(i=Jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function lu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);vi(t)}var or=new Map,M_=new Set;function Zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ts=de.d;de.d={f:oS,r:lS,D:uS,C:cS,L:hS,m:fS,X:mS,S:dS,M:pS};function oS(){var t=Ts.f(),i=Fc();return t||i}function lS(t){var i=dr(t);i!==null&&i.tag===5&&i.type==="form"?Ky(i):Ts.r(t)}var Jo=typeof document>"u"?null:document;function O_(t,i,a){var l=Jo;if(l&&typeof i=="string"&&i){var h=Lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zn(i,"link",t),zt(i),l.head.appendChild(i)))}}function uS(t){Ts.D(t),O_("dns-prefetch",t,null)}function cS(t,i){Ts.C(t,i),O_("preconnect",t,i)}function hS(t,i,a){Ts.L(t,i,a);var l=Jo;if(l&&t&&i){var h='link[rel="preload"][as="'+Lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Lt(a.imageSizes)+'"]')):h+='[href="'+Lt(t)+'"]';var d=h;switch(i){case"style":d=Zo(t);break;case"script":d=el(t)}or.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),or.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(uu(d))||i==="script"&&l.querySelector(cu(d))||(i=l.createElement("link"),zn(i,"link",t),zt(i),l.head.appendChild(i)))}}function fS(t,i){Ts.m(t,i);var a=Jo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Lt(l)+'"][href="'+Lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=el(t)}if(!or.has(d)&&(t=w({rel:"modulepreload",href:t},i),or.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cu(d)))return}l=a.createElement("link"),zn(l,"link",t),zt(l),a.head.appendChild(l)}}}function dS(t,i,a){Ts.S(t,i,a);var l=Jo;if(l&&t){var h=Mi(l).hoistableStyles,d=Zo(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(uu(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=or.get(d))&&dm(t,a);var x=_=l.createElement("link");zt(x),zn(x,"link",t),x._p=new Promise(function(Q,ne){x.onload=Q,x.onerror=ne}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,eh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function mS(t,i){Ts.X(t,i);var a=Jo;if(a&&t){var l=Mi(a).hoistableScripts,h=el(t),d=l.get(h);d||(d=a.querySelector(cu(h)),d||(t=w({src:t,async:!0},i),(i=or.get(h))&&mm(t,i),d=a.createElement("script"),zt(d),zn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pS(t,i){Ts.M(t,i);var a=Jo;if(a&&t){var l=Mi(a).hoistableScripts,h=el(t),d=l.get(h);d||(d=a.querySelector(cu(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=or.get(h))&&mm(t,i),d=a.createElement("script"),zt(d),zn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V_(t,i,a,l){var h=(h=me.current)?Zc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Zo(a.href),a=Mi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Zo(a.href);var d=Mi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(uu(t)))&&!d._p&&(_.instance=d,_.state.loading=5),or.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},or.set(t,a),d||gS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=el(a),a=Mi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Zo(t){return'href="'+Lt(t)+'"'}function uu(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function gS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zn(i,"link",a),zt(i),t.head.appendChild(i))}function el(t){return'[src="'+Lt(t)+'"]'}function cu(t){return"script[async]"+t}function P_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(l)return i.instance=l,zt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),zt(l),zn(l,"style",h),eh(l,a.precedence,t),i.instance=l;case"stylesheet":h=Zo(a.href);var d=t.querySelector(uu(h));if(d)return i.state.loading|=4,i.instance=d,zt(d),d;l=k_(a),(h=or.get(h))&&dm(l,h),d=(t.ownerDocument||t).createElement("link"),zt(d);var _=d;return _._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),zn(d,"link",l),i.state.loading|=4,eh(d,a.precedence,t),i.instance=d;case"script":return d=el(a.src),(h=t.querySelector(cu(d)))?(i.instance=h,zt(h),h):(l=a,(h=or.get(d))&&(l=w({},a),mm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),zn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eh(l,a.precedence,t));return i.instance}function eh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var th=null;function L_(t,i,a){if(th===null){var l=new Map,h=th=new Map;h.set(a,l)}else h=th,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[wn]||d[ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function U_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function yS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Zo(l.href),d=i.querySelector(uu(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=nh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,zt(d);return}d=i.ownerDocument||i,l=k_(l),(h=or.get(h))&&dm(l,h),d=d.createElement("link"),zt(d);var _=d;_._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),zn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var pm=0;function _S(t,i){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&pm===0&&(pm=62500*Z1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>pm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function rh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,i.forEach(ES,t),ih=null,nh.call(t))}function ES(t,i){if(!(i.state.loading&4)){var a=ih.get(t);if(a)var l=a.get(null);else{a=new Map,ih.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=nh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var hu={$$typeof:se,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function TS(t,i,a,l,h,d,_,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function j_(t,i,a,l,h,d,_,b,x,Q,ne,ae){return t=new TS(t,i,a,_,x,Q,ne,ae,b),i=1,d===!0&&(i|=24),d=Li(3,null,null,i),t.current=d,d.stateNode=t,i=Yf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Jf(d),t}function B_(t){return t?(t=Do,t):Do}function q_(t,i,a,l,h,d){h=B_(h),l.context===null?l.context=h:l.pendingContext=h,l=Xs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ws(t,l,i),a!==null&&(Ri(a,t,i),Hl(a,t,i))}function H_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function gm(t,i){H_(t,i),(t=t.alternate)&&H_(t,i)}function F_(t){if(t.tag===13||t.tag===31){var i=Ja(t,67108864);i!==null&&Ri(i,t,67108864),gm(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var i=qi();i=za(i);var a=Ja(t,i);a!==null&&Ri(a,t,i),gm(t,i)}}var sh=!0;function wS(t,i,a,l){var h=te.T;te.T=null;var d=de.p;try{de.p=2,ym(t,i,a,l)}finally{de.p=d,te.T=h}}function bS(t,i,a,l){var h=te.T;te.T=null;var d=de.p;try{de.p=8,ym(t,i,a,l)}finally{de.p=d,te.T=h}}function ym(t,i,a,l){if(sh){var h=vm(l);if(h===null)im(t,i,l,ah,a),Q_(t,l);else if(AS(h,t,i,a,l))l.stopPropagation();else if(Q_(t,l),i&4&&-1<SS.indexOf(t)){for(;h!==null;){var d=dr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Tn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var x=1<<31-Dn(_);b.entanglements[1]|=x,_&=~x}jr(d),(mt&6)===0&&(qc=Ft()+500,su(0))}}break;case 31:case 13:b=Ja(d,2),b!==null&&Ri(b,d,2),Fc(),gm(d,2)}if(d=vm(l),d===null&&im(t,i,l,ah,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else im(t,i,l,null,a)}}function vm(t){return t=Ji(t),_m(t)}var ah=null;function _m(t){if(ah=null,t=Di(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ah=t,null}function $_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Nt:return 2;case kt:return 8;case Fn:case Ps:return 32;case Ii:return 268435456;default:return 32}default:return 32}}var Em=!1,la=null,ua=null,ca=null,fu=new Map,du=new Map,ha=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(t,i){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":fu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(i.pointerId)}}function mu(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=dr(i),i!==null&&F_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function AS(t,i,a,l,h){switch(i){case"focusin":return la=mu(la,t,i,a,l,h),!0;case"dragenter":return ua=mu(ua,t,i,a,l,h),!0;case"mouseover":return ca=mu(ca,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return fu.set(d,mu(fu.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,du.set(d,mu(du.get(d)||null,t,i,a,l,h)),!0}return!1}function Y_(t){var i=Di(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,pi(t.priority,function(){G_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,pi(t.priority,function(){G_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=vm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wi=l,a.target.dispatchEvent(l),Wi=null}else return i=dr(a),i!==null&&F_(i),t.blockedOn=a,!1;i.shift()}return!0}function K_(t,i,a){oh(t)&&a.delete(i)}function RS(){Em=!1,la!==null&&oh(la)&&(la=null),ua!==null&&oh(ua)&&(ua=null),ca!==null&&oh(ca)&&(ca=null),fu.forEach(K_),du.forEach(K_)}function lh(t,i){t.blockedOn===i&&(t.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RS)))}var uh=null;function X_(t){uh!==t&&(uh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uh===t&&(uh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(_m(l||a)===null)continue;break}var d=dr(a);d!==null&&(t.splice(i,3),i-=3,vd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function tl(t){function i(x){return lh(x,t)}la!==null&&lh(la,t),ua!==null&&lh(ua,t),ca!==null&&lh(ca,t),fu.forEach(i),du.forEach(i);for(var a=0;a<ha.length;a++){var l=ha[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ha.length&&(a=ha[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&ha.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Fe]||null;if(typeof d=="function")_||X_(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Fe]||null)b=_.formAction;else if(_m(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),X_(a)}}}function W_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Tm(t){this._internalRoot=t}ch.prototype.render=Tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=qi();q_(a,l,t,i,null,null)},ch.prototype.unmount=Tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;q_(t.current,2,null,t,null,null),Fc(),i[St]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var i=en();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ha.length&&i!==0&&i<ha[a].priority;a++);ha.splice(a,0,t),a===0&&Y_(t)}};var J_=e.version;if(J_!=="19.2.3")throw Error(s(527,J_,"19.2.3"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var CS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{ft=hh.inject(CS),yt=hh}catch{}}return gu.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=sv,d=av,_=ov;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=j_(t,1,!1,null,null,a,l,null,h,d,_,W_),t[St]=i.current,nm(t),new Tm(i)},gu.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=sv,_=av,b=ov,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=j_(t,1,!0,i,a??null,l,h,x,d,_,b,W_),i.context=B_(null),a=i.current,l=qi(),l=za(l),h=Xs(l),h.callback=null,Ws(a,h,l),a=l,i.current.lanes=a,ti(i,a),jr(i),t[St]=i.current,nm(t),new ch(i)},gu.version="19.2.3",gu}var l0;function zS(){if(l0)return Sm.exports;l0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=US(),Sm.exports}var jS=zS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u0="popstate";function BS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Eo(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ym("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Mu(u))}function s(o,u){Qi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return HS(e,n,s,r)}function Bt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qS(){return Math.random().toString(36).substring(2,10)}function c0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ym(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||qS()}}function Mu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Eo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function HS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=v(),ce=F==null?null:F-g;g=F,p&&p({action:m,location:ee.location,delta:ce})}function R(F,ce){m="PUSH";let he=Ym(ee.location,F,ce);n&&n(he,F),g=v()+1;let se=c0(he,g),Re=ee.createHref(he);try{f.pushState(se,"",Re)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(Re)}u&&p&&p({action:m,location:ee.location,delta:1})}function U(F,ce){m="REPLACE";let he=Ym(ee.location,F,ce);n&&n(he,F),g=v();let se=c0(he,g),Re=ee.createHref(he);f.replaceState(se,"",Re),u&&p&&p({action:m,location:ee.location,delta:0})}function Y(F){return FS(F)}let ee={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(u0,w),p=F,()=>{o.removeEventListener(u0,w),p=null}},createHref(F){return e(o,F)},createURL:Y,encodeLocation(F){let ce=Y(F);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:R,replace:U,go(F){return f.go(F)}};return ee}function FS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Mu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function JE(r,e,n="/"){return GS(r,e,n,!1)}function GS(r,e,n,s){let o=typeof e=="string"?Eo(e):e,u=Cs(o.pathname||"/",n);if(u==null)return null;let f=ZE(r);$S(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=iA(u);m=tA(f[p],g,s)}return m}function ZE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Bt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let w=As([s,v.relativePath]),R=n.concat(v);f.children&&f.children.length>0&&(Bt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),ZE(f.children,e,R,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:ZS(w,f.index),routesMeta:R})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of eT(f.path))u(f,m,!0,g)}),e}function eT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=eT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function $S(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:eA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QS=/^:[\w-]+$/,YS=3,KS=2,XS=1,WS=10,JS=-2,h0=r=>r==="*";function ZS(r,e){let n=r.split("/"),s=n.length;return n.some(h0)&&(s+=JS),e&&(s+=KS),n.filter(o=>!h0(o)).reduce((o,u)=>o+(QS.test(u)?YS:u===""?XS:WS),s)}function eA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function tA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",w=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),R=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:As([u,w.pathname]),pathnameBase:oA(As([u,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(u=As([u,w.pathnameBase]))}return f}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=nA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:w},R)=>{if(v==="*"){let Y=m[R]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const U=m[R];return w&&!U?g[v]=void 0:g[v]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function nA(r,e=!1,n=!0){Qi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Cs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rA=r=>tT.test(r);function sA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Eo(r):r,u;if(n)if(rA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Qi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=f0(n.substring(1),"/"):u=f0(n,e)}else u=e;return{pathname:u,search:lA(s),hash:uA(o)}}function f0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nT(r){let e=aA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function iT(r,e,n,s=!1){let o;typeof r=="string"?o=Eo(r):(o={...r},Bt(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),Bt(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),Bt(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}m=w>=0?e[w]:"/"}let p=sA(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var As=r=>r.join("/").replace(/\/\/+/g,"/"),oA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,cA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function fA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sT(r,e){let n=r;if(typeof n!="string"||!tT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(rT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Cs(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Qi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aT=["POST","PUT","PATCH","DELETE"];new Set(aT);var dA=["GET",...aT];new Set(dA);var Tl=D.createContext(null);Tl.displayName="DataRouter";var af=D.createContext(null);af.displayName="DataRouterState";var mA=D.createContext(!1),oT=D.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var pA=D.createContext(new Map);pA.displayName="Fetchers";var gA=D.createContext(null);gA.displayName="Await";var cr=D.createContext(null);cr.displayName="Navigation";var qu=D.createContext(null);qu.displayName="Location";var Os=D.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var Ip=D.createContext(null);Ip.displayName="RouteError";var lT="REACT_ROUTER_ERROR",yA="REDIRECT",vA="ROUTE_ERROR_RESPONSE";function _A(r){if(r.startsWith(`${lT}:${yA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function EA(r){if(r.startsWith(`${lT}:${vA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cA(e.status,e.statusText,e.data)}catch{}}function TA(r,{relative:e}={}){Bt(Hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(cr),{hash:o,pathname:u,search:f}=Fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:As([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Hu(){return D.useContext(qu)!=null}function Va(){return Bt(Hu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(qu).location}var uT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cT(r){D.useContext(cr).static||D.useLayoutEffect(r)}function xp(){let{isDataRoute:r}=D.useContext(Os);return r?VA():wA()}function wA(){Bt(Hu(),"useNavigate() may be used only in the context of a <Router> component.");let r=D.useContext(Tl),{basename:e,navigator:n}=D.useContext(cr),{matches:s}=D.useContext(Os),{pathname:o}=Va(),u=JSON.stringify(nT(s)),f=D.useRef(!1);return cT(()=>{f.current=!0}),D.useCallback((p,g={})=>{if(Qi(f.current,uT),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=iT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:As([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}D.createContext(null);function Fu(r,{relative:e}={}){let{matches:n}=D.useContext(Os),{pathname:s}=Va(),o=JSON.stringify(nT(n));return D.useMemo(()=>iT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function bA(r,e){return hT(r,e)}function hT(r,e,n,s,o){var he;Bt(Hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(cr),{matches:f}=D.useContext(Os),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",w=m&&m.route;{let se=w&&w.path||"";dT(g,!w||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let R=Va(),U;if(e){let se=typeof e=="string"?Eo(e):e;Bt(v==="/"||((he=se.pathname)==null?void 0:he.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${se.pathname}" was given in the \`location\` prop.`),U=se}else U=R;let Y=U.pathname||"/",ee=Y;if(v!=="/"){let se=v.replace(/^\//,"").split("/");ee="/"+Y.replace(/^\//,"").split("/").slice(se.length).join("/")}let F=JE(r,{pathname:ee});Qi(w||F!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Qi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=IA(F&&F.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:As([v,u.encodeLocation?u.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?v:As([v,u.encodeLocation?u.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),f,n,s,o);return e&&ce?D.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},ce):ce}function SA(){let r=OA(),e=hA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,f)}var AA=D.createElement(SA,null),fT=class extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=EA(r.digest);n&&(r=n)}let e=r!==void 0?D.createElement(Os.Provider,{value:this.props.routeContext},D.createElement(Ip.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?D.createElement(RA,{error:r},e):e}};fT.contextType=mA;var xm=new WeakMap;function RA({children:r,error:e}){let{basename:n}=D.useContext(cr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=_A(e.digest);if(s){let o=xm.get(e);if(o)throw o;let u=sT(s.location,n);if(rT&&!xm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw xm.set(e,f),f}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function CA({routeContext:r,match:e,children:n}){let s=D.useContext(Tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Os.Provider,{value:r},n)}function IA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let v=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Bt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:R,errors:U}=n,Y=w.route.loader&&!R.hasOwnProperty(w.route.id)&&(!U||U[w.route.id]===void 0);if(w.route.lazy||Y){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,w)=>{var R,U;s(v,{location:n.location,params:((U=(R=n.matches)==null?void 0:R[0])==null?void 0:U.params)??{},unstable_pattern:fA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((v,w,R)=>{let U,Y=!1,ee=null,F=null;n&&(U=f&&w.route.id?f[w.route.id]:void 0,ee=w.route.errorElement||AA,m&&(p<0&&R===0?(dT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,F=null):p===R&&(Y=!0,F=w.route.hydrateFallbackElement||null)));let ce=e.concat(u.slice(0,R+1)),he=()=>{let se;return U?se=ee:Y?se=F:w.route.Component?se=D.createElement(w.route.Component,null):w.route.element?se=w.route.element:se=v,D.createElement(CA,{match:w,routeContext:{outlet:v,matches:ce,isDataRoute:n!=null},children:se})};return n&&(w.route.ErrorBoundary||w.route.errorElement||R===0)?D.createElement(fT,{location:n.location,revalidation:n.revalidation,component:ee,error:U,children:he(),routeContext:{outlet:null,matches:ce,isDataRoute:!0},onError:g}):he()},null)}function Np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(r){let e=D.useContext(Tl);return Bt(e,Np(r)),e}function NA(r){let e=D.useContext(af);return Bt(e,Np(r)),e}function DA(r){let e=D.useContext(Os);return Bt(e,Np(r)),e}function Dp(r){let e=DA(r),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function MA(){return Dp("useRouteId")}function OA(){var s;let r=D.useContext(Ip),e=NA("useRouteError"),n=Dp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function VA(){let{router:r}=xA("useNavigate"),e=Dp("useNavigate"),n=D.useRef(!1);return cT(()=>{n.current=!0}),D.useCallback(async(o,u={})=>{Qi(n.current,uT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var d0={};function dT(r,e,n){!e&&!d0[r]&&(d0[r]=!0,Qi(!1,n))}D.memo(kA);function kA({routes:r,future:e,state:n,onError:s}){return hT(r,void 0,n,s,e)}function Km(r){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Bt(!Hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:v="",hash:w="",state:R=null,key:U="default"}=n,Y=D.useMemo(()=>{let ee=Cs(g,m);return ee==null?null:{location:{pathname:ee,search:v,hash:w,state:R,key:U},navigationType:s}},[m,g,v,w,R,U,s]);return Qi(Y!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:D.createElement(cr.Provider,{value:p},D.createElement(qu.Provider,{children:e,value:Y}))}function LA({children:r,location:e}){return bA(Xm(r),e)}function Xm(r,e=[]){let n=[];return D.Children.forEach(r,(s,o)=>{if(!D.isValidElement(s))return;let u=[...e,o];if(s.type===D.Fragment){n.push.apply(n,Xm(s.props.children,u));return}Bt(s.type===Km,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Xm(s.props.children,u)),n.push(f)}),n}var Sh="get",Ah="application/x-www-form-urlencoded";function of(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function UA(r){return of(r)&&r.tagName.toLowerCase()==="button"}function zA(r){return of(r)&&r.tagName.toLowerCase()==="form"}function jA(r){return of(r)&&r.tagName.toLowerCase()==="input"}function BA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function qA(r,e){return r.button===0&&(!e||e==="_self")&&!BA(r)}function Wm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function HA(r,e){let n=Wm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var fh=null;function FA(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var GA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!GA.has(r)?(Qi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):r}function $A(r,e){let n,s,o,u,f;if(zA(r)){let m=r.getAttribute("action");s=m?Cs(m,e):null,n=r.getAttribute("method")||Sh,o=Nm(r.getAttribute("enctype"))||Ah,u=new FormData(r)}else if(UA(r)||jA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Cs(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Sh,o=Nm(r.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||Ah,u=new FormData(m,r),!FA()){let{name:g,type:v,value:w}=r;if(v==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,w)}}else{if(of(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sh,s=null,o=Ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function QA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Cs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function YA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function XA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await YA(u,n);return f.links?f.links():[]}return[]}));return eR(s.flat(1).filter(KA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function m0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function WA(r,e,{includeHydrateFallback:n}={}){return JA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JA(r){return[...new Set(r)]}function ZA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function eR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ZA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function mT(){let r=D.useContext(Tl);return Mp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tR(){let r=D.useContext(af);return Mp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Op=D.createContext(void 0);Op.displayName="FrameworkContext";function pT(){let r=D.useContext(Op);return Mp(r,"You must render this element inside a <HydratedRouter> element"),r}function nR(r,e){let n=D.useContext(Op),[s,o]=D.useState(!1),[u,f]=D.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=e,R=D.useRef(null);D.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let ee=ce=>{ce.forEach(he=>{f(he.isIntersecting)})},F=new IntersectionObserver(ee,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),D.useEffect(()=>{if(s){let ee=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(ee)}}},[s]);let U=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:yu(m,U),onBlur:yu(p,Y),onMouseEnter:yu(g,U),onMouseLeave:yu(v,Y),onTouchStart:yu(w,U)}]:[!1,R,{}]}function yu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function iR({page:r,...e}){let{router:n}=mT(),s=D.useMemo(()=>JE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?D.createElement(sR,{page:r,matches:s,...e}):null}function rR(r){let{manifest:e,routeModules:n}=pT(),[s,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return XA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function sR({page:r,matches:e,...n}){let s=Va(),{future:o,manifest:u,routeModules:f}=pT(),{basename:m}=mT(),{loaderData:p,matches:g}=tR(),v=D.useMemo(()=>m0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=D.useMemo(()=>m0(r,e,g,u,s,"assets"),[r,e,g,u,s]),R=D.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let ee=new Set,F=!1;if(e.forEach(he=>{var Re;let se=u.routes[he.route.id];!se||!se.hasLoader||(!v.some(Pe=>Pe.route.id===he.route.id)&&he.route.id in p&&((Re=f[he.route.id])!=null&&Re.shouldRevalidate)||se.hasClientLoader?F=!0:ee.add(he.route.id))}),ee.size===0)return[];let ce=QA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&ee.size>0&&ce.searchParams.set("_routes",e.filter(he=>ee.has(he.route.id)).map(he=>he.route.id).join(",")),[ce.pathname+ce.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,e,r,f]),U=D.useMemo(()=>WA(w,u),[w,u]),Y=rR(w);return D.createElement(D.Fragment,null,R.map(ee=>D.createElement("link",{key:ee,rel:"prefetch",as:"fetch",href:ee,...n})),U.map(ee=>D.createElement("link",{key:ee,rel:"modulepreload",href:ee,...n})),Y.map(({key:ee,link:F})=>D.createElement("link",{key:ee,nonce:n.nonce,...F})))}function aR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oR&&(window.__reactRouterVersion="7.12.0")}catch{}function lR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=D.useRef();o.current==null&&(o.current=BS({window:s,v5Compat:!0}));let u=o.current,[f,m]=D.useState({action:u.action,location:u.location}),p=D.useCallback(g=>{n===!1?m(g):D.startTransition(()=>m(g))},[n]);return D.useLayoutEffect(()=>u.listen(p),[u,p]),D.createElement(PA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yT=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:R,...U},Y){let{basename:ee,unstable_useTransitions:F}=D.useContext(cr),ce=typeof g=="string"&&gT.test(g),he=sT(g,ee);g=he.to;let se=TA(g,{relative:o}),[Re,Pe,De]=nR(s,U),M=fR(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:R,unstable_useTransitions:F});function C(k){e&&e(k),k.defaultPrevented||M(k)}let I=D.createElement("a",{...U,...De,href:he.absoluteURL||se,onClick:he.isExternal||u?e:C,ref:aR(Y,Pe),target:p,"data-discover":!ce&&n==="render"?"true":void 0});return Re&&!ce?D.createElement(D.Fragment,null,I,D.createElement(iR,{page:se})):I});yT.displayName="Link";var uR=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let w=Fu(f,{relative:g.relative}),R=Va(),U=D.useContext(af),{navigator:Y,basename:ee}=D.useContext(cr),F=U!=null&&vR(w)&&m===!0,ce=Y.encodeLocation?Y.encodeLocation(w).pathname:w.pathname,he=R.pathname,se=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(he=he.toLowerCase(),se=se?se.toLowerCase():null,ce=ce.toLowerCase()),se&&ee&&(se=Cs(se,ee)||se);const Re=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let Pe=he===ce||!o&&he.startsWith(ce)&&he.charAt(Re)==="/",De=se!=null&&(se===ce||!o&&se.startsWith(ce)&&se.charAt(ce.length)==="/"),M={isActive:Pe,isPending:De,isTransitioning:F},C=Pe?e:void 0,I;typeof s=="function"?I=s(M):I=[s,Pe?"active":null,De?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(M):u;return D.createElement(yT,{...g,"aria-current":C,className:I,ref:v,style:k,to:f,viewTransition:m},typeof p=="function"?p(M):p)});uR.displayName="NavLink";var cR=D.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Sh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:R,...U},Y)=>{let{unstable_useTransitions:ee}=D.useContext(cr),F=gR(),ce=yR(m,{relative:g}),he=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&gT.test(m),Re=Pe=>{if(p&&p(Pe),Pe.defaultPrevented)return;Pe.preventDefault();let De=Pe.nativeEvent.submitter,M=(De==null?void 0:De.getAttribute("formmethod"))||f,C=()=>F(De||Pe.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:R});ee&&n!==!1?D.startTransition(()=>C()):C()};return D.createElement("form",{ref:Y,method:he,action:ce,onSubmit:s?p:Re,...U,"data-discover":!se&&r==="render"?"true":void 0})});cR.displayName="Form";function hR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(r){let e=D.useContext(Tl);return Bt(e,hR(r)),e}function fR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=xp(),v=Va(),w=Fu(r,{relative:u});return D.useCallback(R=>{if(qA(R,e)){R.preventDefault();let U=n!==void 0?n:Mu(v)===Mu(w),Y=()=>g(r,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?D.startTransition(()=>Y()):Y()}},[v,g,w,n,s,e,r,o,u,f,m,p])}function dR(r){Qi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Wm(r)),n=D.useRef(!1),s=Va(),o=D.useMemo(()=>HA(s.search,n.current?null:e.current),[s.search]),u=xp(),f=D.useCallback((m,p)=>{const g=Wm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var mR=0,pR=()=>`__${String(++mR)}__`;function gR(){let{router:r}=vT("useSubmit"),{basename:e}=D.useContext(cr),n=MA(),s=r.fetch,o=r.navigate;return D.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:v,body:w}=$A(u,e);if(f.navigate===!1){let R=f.fetcherKey||pR();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function yR(r,{relative:e}={}){let{basename:n}=D.useContext(cr),s=D.useContext(Os);Bt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Fu(r||".",{relative:e})},f=Va();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:As([n,u.pathname])),Mu(u)}function vR(r,{relative:e}={}){let n=D.useContext(oT);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vT("useViewTransitionState"),o=Fu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,f)!=null||Ph(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_T=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ER={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=D.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>D.createElement("svg",{ref:p,...ER,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:_T("lucide",o),...m},[...f.map(([g,v])=>D.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=(r,e)=>{const n=D.forwardRef(({className:s,...o},u)=>D.createElement(TR,{ref:u,iconNode:e,className:_T(`lucide-${_R(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Nn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Nn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Nn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Nn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Nn("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Nn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Nn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Nn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Nn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Nn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Nn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Nn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Nn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Nn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Nn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Nn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Nn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xR=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},NR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},bT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,w=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,U=g&63;p||(U=64,f||(R=64)),s.push(n[v],n[w],n[R],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new DR;const R=u<<2|m>>4;if(s.push(R),g!==64){const U=m<<4&240|g>>2;if(s.push(U),w!==64){const Y=g<<6&192|w;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MR=function(r){const e=wT(r);return bT.encodeByteArray(e,!0)},Lh=function(r){return MR(r).replace(/\./g,"")},ST=function(r){try{return bT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>OR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof _0>"u")return;const r=_0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},PR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ST(r[1]);return e&&JSON.parse(e)},lf=()=>{try{return xR()||VR()||kR()||PR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},AT=r=>{var e,n;return(n=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},LR=r=>{const e=AT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},RT=()=>{var r;return(r=lf())===null||r===void 0?void 0:r.config},CT=r=>{var e;return(e=lf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lh(JSON.stringify(n)),Lh(JSON.stringify(f)),""].join(".")}const Su={};function jR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Su))Su[e]?r.emulator.push(e):r.prod.push(e);return r}function BR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let E0=!1;function xT(r,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Su[r]===e||Su[r]||E0)return;Su[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=jR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{E0=!0,f()},R}function v(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=BR(s),U=n("text"),Y=document.getElementById(U)||document.createElement("span"),ee=n("learnmore"),F=document.getElementById(ee)||document.createElement("a"),ce=n("preprendIcon"),he=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;m(se),v(F,ee);const Re=g();p(he,ce),se.append(he,Y,F,Re),document.body.appendChild(se)}u?(Y.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())}function HR(){var r;const e=(r=lf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const r=Jn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function YR(){return!HR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function XR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="FirebaseError";class Vs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=WR,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gu.prototype.create)}}class Gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?JR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Vs(o,m,s)}}function JR(r,e){return r.replace(ZR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ZR=/\{\$([^}]+)}/g;function e2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ra(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(T0(u)&&T0(f)){if(!Ra(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function T0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function t2(r,e){const n=new n2(r,e);return n.subscribe.bind(n)}class n2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");i2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(r){return r&&r._delegate?r._delegate:r}class go{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new UR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:s2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(r){return r===ho?void 0:r}function a2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(tt||(tt={}));const l2={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},u2=tt.INFO,c2={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},h2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=c2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=u2,this._logHandler=h2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const f2=(r,e)=>e.some(n=>r instanceof n);let w0,b0;function d2(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,ep=new WeakMap,DT=new WeakMap,Mm=new WeakMap,kp=new WeakMap;function p2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(_a(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&NT.set(n,r)}).catch(()=>{}),kp.set(e,r),e}function g2(r){if(ep.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ep.set(r,e)}let tp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ep.get(r);if(e==="objectStoreNames")return r.objectStoreNames||DT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _a(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function y2(r){tp=r(tp)}function v2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Om(this),e,...n);return DT.set(s,e.sort?e.sort():[e]),_a(s)}:m2().includes(r)?function(...e){return r.apply(Om(this),e),_a(NT.get(this))}:function(...e){return _a(r.apply(Om(this),e))}}function _2(r){return typeof r=="function"?v2(r):(r instanceof IDBTransaction&&g2(r),f2(r,d2())?new Proxy(r,tp):r)}function _a(r){if(r instanceof IDBRequest)return p2(r);if(Mm.has(r))return Mm.get(r);const e=_2(r);return e!==r&&(Mm.set(r,e),kp.set(e,r)),e}const Om=r=>kp.get(r);function E2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=_a(f);return s&&f.addEventListener("upgradeneeded",p=>{s(_a(f.result),p.oldVersion,p.newVersion,_a(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const T2=["get","getKey","getAll","getAllKeys","count"],w2=["put","add","delete","clear"],Vm=new Map;function S0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=w2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||T2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Vm.set(e,u),u}y2(r=>({...r,get:(e,n,s)=>S0(e,n)||r.get(e,n,s),has:(e,n)=>!!S0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function S2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const np="@firebase/app",A0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Vp("@firebase/app"),A2="@firebase/app-compat",R2="@firebase/analytics-compat",C2="@firebase/analytics",I2="@firebase/app-check-compat",x2="@firebase/app-check",N2="@firebase/auth",D2="@firebase/auth-compat",M2="@firebase/database",O2="@firebase/data-connect",V2="@firebase/database-compat",k2="@firebase/functions",P2="@firebase/functions-compat",L2="@firebase/installations",U2="@firebase/installations-compat",z2="@firebase/messaging",j2="@firebase/messaging-compat",B2="@firebase/performance",q2="@firebase/performance-compat",H2="@firebase/remote-config",F2="@firebase/remote-config-compat",G2="@firebase/storage",$2="@firebase/storage-compat",Q2="@firebase/firestore",Y2="@firebase/ai",K2="@firebase/firestore-compat",X2="firebase",W2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",J2={[np]:"fire-core",[A2]:"fire-core-compat",[C2]:"fire-analytics",[R2]:"fire-analytics-compat",[x2]:"fire-app-check",[I2]:"fire-app-check-compat",[N2]:"fire-auth",[D2]:"fire-auth-compat",[M2]:"fire-rtdb",[O2]:"fire-data-connect",[V2]:"fire-rtdb-compat",[k2]:"fire-fn",[P2]:"fire-fn-compat",[L2]:"fire-iid",[U2]:"fire-iid-compat",[z2]:"fire-fcm",[j2]:"fire-fcm-compat",[B2]:"fire-perf",[q2]:"fire-perf-compat",[H2]:"fire-rc",[F2]:"fire-rc-compat",[G2]:"fire-gcs",[$2]:"fire-gcs-compat",[Q2]:"fire-fst",[K2]:"fire-fst-compat",[Y2]:"fire-vertex","fire-js":"fire-js",[X2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,Z2=new Map,rp=new Map;function R0(r,e){try{r.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function dl(r){const e=r.name;if(rp.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,r);for(const n of Uh.values())R0(n,r);for(const n of Z2.values())R0(n,r);return!0}function Pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function lr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new Gu("app","Firebase",eC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=W2;function MT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ip,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ea.create("bad-app-name",{appName:String(o)});if(n||(n=RT()),!n)throw Ea.create("no-options");const u=Uh.get(o);if(u){if(Ra(n,u.options)&&Ra(s,u.config))return u;throw Ea.create("duplicate-app",{appName:o})}const f=new o2(o);for(const p of rp.values())f.addComponent(p);const m=new tC(n,s,f);return Uh.set(o,m),m}function OT(r=ip){const e=Uh.get(r);if(!e&&r===ip&&RT())return MT();if(!e)throw Ea.create("no-app",{appName:r});return e}function Ta(r,e,n){var s;let o=(s=J2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(m.join(" "));return}dl(new go(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebase-heartbeat-database",iC=1,Ou="firebase-heartbeat-store";let km=null;function VT(){return km||(km=E2(nC,iC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ea.create("idb-open",{originalErrorMessage:r.message})})),km}async function rC(r){try{const n=(await VT()).transaction(Ou),s=await n.objectStore(Ou).get(kT(r));return await n.done,s}catch(e){if(e instanceof Vs)Is.warn(e.message);else{const n=Ea.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function C0(r,e){try{const s=(await VT()).transaction(Ou,"readwrite");await s.objectStore(Ou).put(e,kT(r)),await s.done}catch(n){if(n instanceof Vs)Is.warn(n.message);else{const s=Ea.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(s.message)}}}function kT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1024,aC=30;class oC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=I0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>aC){const f=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Is.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=I0(),{heartbeatsToSend:s,unsentEntries:o}=lC(this._heartbeatsCache.heartbeats),u=Lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Is.warn(n),""}}}function I0(){return new Date().toISOString().substring(0,10)}function lC(r,e=sC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),x0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?XR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function x0(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function cC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){dl(new go("platform-logger",e=>new b2(e),"PRIVATE")),dl(new go("heartbeat",e=>new oC(e),"PRIVATE")),Ta(np,A0,r),Ta(np,A0,"esm2017"),Ta("fire-js","")}hC("");function Lp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fC=PT,LT=new Gu("auth","Firebase",PT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Vp("@firebase/auth");function dC(r,...e){zh.logLevel<=tt.WARN&&zh.warn(`Auth (${bl}): ${r}`,...e)}function Rh(r,...e){zh.logLevel<=tt.ERROR&&zh.error(`Auth (${bl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,...e){throw zp(r,...e)}function br(r,...e){return zp(r,...e)}function Up(r,e,n){const s=Object.assign(Object.assign({},fC()),{[e]:n});return new Gu("auth","Firebase",s).create(e,{appName:r.name})}function wa(r){return Up(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qr(r,"argument-error"),Up(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return LT.create(r,...e)}function ke(r,e,...n){if(!r)throw zp(e,...n)}function bs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Rh(e),new Error(e)}function xs(r,e){r||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function mC(){return N0()==="http:"||N0()==="https:"}function N0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mC()||GR()||"connection"in navigator)?navigator.onLine:!0}function gC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,xs(n>e,"Short delay should be less than long delay!"),this.isMobile=qR()||$R()}get(){return pC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r,e){xs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_C=new Qu(3e4,6e4);function Bp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Sl(r,e,n,s,o={}){return jT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=$u(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return FR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&wl(r.emulatorConfig.host)&&(g.credentials="include"),zT.fetch()(await BT(r,r.config.apiHost,n,m),g)})}async function jT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},yC),e);try{const o=new TC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ph(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ph(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ph(r,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Up(r,v,g);Qr(r,v)}}catch(o){if(o instanceof Vs)throw o;Qr(r,"network-request-failed",{message:String(o)})}}async function EC(r,e,n,s,o={}){const u=await Sl(r,e,n,s,o);return"mfaPendingCredential"in u&&Qr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function BT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?jp(r.config,o):`${r.config.apiScheme}://${o}`;return vC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class TC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),_C.get())})}}function ph(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=br(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(r,e){return Sl(r,"POST","/v1/accounts:delete",e)}async function jh(r,e){return Sl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bC(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=qp(s);ke(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Au(Pm(o.auth_time)),issuedAtTime:Au(Pm(o.iat)),expirationTime:Au(Pm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pm(r){return Number(r)*1e3}function qp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ST(n);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function D0(r){const e=qp(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vs&&SC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function SC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Vu(r,jh(n,{idToken:s}));ke(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?qT(u.providerUserInfo):[],m=CC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ap(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function RC(r){const e=Yt(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qT(r){return r.map(e=>{var{providerId:n}=e,s=Lp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,e){const n=await jT(r,{},async()=>{const s=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await BT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&wl(r.emulatorConfig.host)&&(p.credentials="include"),zT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xC(r,e){return Sl(r,"POST","/v2/accounts:revokeToken",Bp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=D0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await IC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ul;return s&&(ke(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ke(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ke(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ap(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Vu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bC(this,e)}reload(){return RC(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await Vu(this,wC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,v;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,U=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Y=(f=n.photoURL)!==null&&f!==void 0?f:void 0,ee=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ce=(g=n.createdAt)!==null&&g!==void 0?g:void 0,he=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:se,emailVerified:Re,isAnonymous:Pe,providerData:De,stsTokenManager:M}=n;ke(se&&M,e,"internal-error");const C=ul.fromJSON(this.name,M);ke(typeof se=="string",e,"internal-error"),da(w,e.name),da(R,e.name),ke(typeof Re=="boolean",e,"internal-error"),ke(typeof Pe=="boolean",e,"internal-error"),da(U,e.name),da(Y,e.name),da(ee,e.name),da(F,e.name),da(ce,e.name),da(he,e.name);const I=new wr({uid:se,auth:e,email:R,emailVerified:Re,displayName:w,isAnonymous:Pe,photoURL:Y,phoneNumber:U,tenantId:ee,stsTokenManager:C,createdAt:ce,lastLoginAt:he});return De&&Array.isArray(De)&&(I.providerData=De.map(k=>Object.assign({},k))),F&&(I._redirectEventId=F),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new ul;o.updateFromServerResponse(n);const u=new wr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ke(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ul;m.updateFromIdToken(s);const p=new wr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;function Ss(r){xs(r instanceof Function,"Expected a class definition");let e=M0.get(r);return e?(xs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,M0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HT.type="NONE";const op=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r,e,n){return`firebase:${r}:${e}:${n}`}class cl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jh(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new cl(Ss(op),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ss(op);const f=Ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let w;if(typeof v=="string"){const R=await jh(e,{idToken:v}).catch(()=>{});if(!R)break;w=await wr._fromGetAccountInfoResponse(e,R,v)}else w=wr._fromJSON(e,v);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new cl(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new cl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(XT(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function FT(r=Jn()){return/firefox\//i.test(r)}function GT(r=Jn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(r=Jn()){return/crios\//i.test(r)}function QT(r=Jn()){return/iemobile/i.test(r)}function YT(r=Jn()){return/android/i.test(r)}function KT(r=Jn()){return/blackberry/i.test(r)}function XT(r=Jn()){return/webos/i.test(r)}function Hp(r=Jn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NC(r=Jn()){var e;return Hp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DC(){return QR()&&document.documentMode===10}function WT(r=Jn()){return Hp(r)||YT(r)||XT(r)||KT(r)||/windows phone/i.test(r)||QT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r,e=[]){let n;switch(r){case"Browser":n=O0(Jn());break;case"Worker":n=`${O0(Jn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,e={}){return Sl(r,"GET","/v2/passwordPolicy",Bp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=6;class kC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:VC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new MC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jh(this,{idToken:e}),s=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(lr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(wa(this));const n=e?Yt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OC(this),n=new kC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yu(r){return Yt(r)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=t2(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LC(r){Fp=r}function UC(r){return Fp.loadJS(r)}function zC(){return Fp.gapiScript}function jC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r,e){const n=Pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ra(u,e??{}))return o;Qr(o,"already-initialized")}return n.initialize({options:e})}function qC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function HC(r,e,n){const s=Yu(r);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:f,port:m}=FC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(Ra(g,s.config.emulator)&&Ra(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,wl(f)?(IT(`${u}//${f}${p}`),xT("Auth",!0)):GC()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FC(r){const e=ZT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:k0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:k0(f)}}}function k0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function GC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(r,e){return EC(r,"POST","/v1/accounts:signInWithIdp",Bp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="http://localhost";class yo extends ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Lp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new yo(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,hl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:$C,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends uf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Ku{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ws.credential(n,s)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Ku{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.GITHUB_SIGN_IN_METHOD="github.com";pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Ku{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ga.credential(n,s)}catch{return null}}}ga.TWITTER_SIGN_IN_METHOD="twitter.com";ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await wr._fromIdTokenResponse(e,s,o),f=P0(s);return new ml({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=P0(s);return new ml({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function P0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Vs{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qh(e,n,s,o)}}function tw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function QC(r,e,n=!1){const s=await Vu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ml._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(r,e,n=!1){const{auth:s}=r;if(lr(s.app))return Promise.reject(wa(s));const o="reauthenticate";try{const u=await Vu(r,tw(s,o,e,r),n);ke(u.idToken,s,"internal-error");const f=qp(u.idToken);ke(f,s,"internal-error");const{sub:m}=f;return ke(r.uid===m,s,"user-mismatch"),ml._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(r,e,n=!1){if(lr(r.app))return Promise.reject(wa(r));const s="signIn",o=await tw(r,s,e),u=await ml._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r,e){return Yt(r).setPersistence(e)}function XC(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function WC(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}function nw(r,e,n,s){return Yt(r).onAuthStateChanged(e,n,s)}function JC(r){return Yt(r).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1e3,eI=10;class rw extends iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);DC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rw.type="LOCAL";const cf=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sw.type="SESSION";const aw=sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await tI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function iI(r){Hr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function rI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aI(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebaseLocalStorageDb",oI=1,Fh="firebaseLocalStorage",uw="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function lI(){const r=indexedDB.deleteDatabase(lw);return new Xu(r).toPromise()}function lp(){const r=indexedDB.open(lw,oI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:uw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await lI(),e(await lp()))})})}async function L0(r,e,n){const s=ff(r,!0).put({[uw]:e,value:n});return new Xu(s).toPromise()}async function uI(r,e){const n=ff(r,!1).get(e),s=await new Xu(n).toPromise();return s===void 0?null:s.value}function U0(r,e){const n=ff(r,!0).delete(e);return new Xu(n).toPromise()}const cI=800,hI=3;class cw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(aI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rI(),!this.activeServiceWorker)return;this.sender=new nI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await L0(e,Hh,"1"),await U0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>L0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new Xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cw.type="LOCAL";const hw=cw;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,e){return e?Ss(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends ew{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fI(r){return KC(r.auth,new Qp(r),r.bypassAuthState)}function dI(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),YC(n,new Qp(r),r.bypassAuthState)}async function mI(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),QC(n,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fI;case"linkViaPopup":case"linkViaRedirect":return mI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:Qr(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Qu(2e3,1e4);async function gI(r,e,n){if(lr(r.app))return Promise.reject(br(r,"operation-not-supported-in-this-environment"));const s=Yu(r);UT(r,e,uf);const o=$p(s,n);return new fo(s,"signInViaPopup",e,o).executeNotNull()}class fo extends fw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pI.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="pendingRedirect",Ih=new Map;class vI extends fw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const s=await _I(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(r,e){const n=mw(e),s=dw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function EI(r,e){return dw(r)._set(mw(e),"true")}function TI(r,e){Ih.set(r._key(),e)}function dw(r){return Ss(r._redirectPersistence)}function mw(r){return Ch(yI,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e,n){return wI(r,e,n)}async function wI(r,e,n){if(lr(r.app))return Promise.reject(wa(r));const s=Yu(r);UT(r,e,uf),await s._initializationPromise;const o=$p(s,n);return await EI(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function bI(r,e,n=!1){if(lr(r.app))return Promise.reject(wa(r));const s=Yu(r),o=$p(s,e),f=await new vI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=600*1e3;class AI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!pw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(br(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SI&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,e={}){return Sl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xI=/^https?/;async function NI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await CI(r);for(const n of e)try{if(DI(n))return}catch{}Qr(r,"unauthorized-domain")}function DI(r){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!xI.test(n))return!1;if(II.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Qu(3e4,6e4);function B0(){const r=Hr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function OI(r){return new Promise((e,n)=>{var s,o,u;function f(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(br(r,"network-request-failed"))},timeout:MI.get()})}if(!((o=(s=Hr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Hr().gapi)===null||u===void 0)&&u.load)f();else{const m=jC("iframefcb");return Hr()[m]=()=>{gapi.load?f():n(br(r,"network-request-failed"))},UC(`${zC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw xh=null,e})}let xh=null;function VI(r){return xh=xh||OI(r),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=new Qu(5e3,15e3),PI="__/auth/iframe",LI="emulator/auth/iframe",UI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?jp(e,LI):`https://${r.config.authDomain}/${PI}`,s={apiKey:e.apiKey,appName:r.name,v:bl},o=zI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${$u(s).slice(1)}`}async function BI(r){const e=await VI(r),n=Hr().gapi;return ke(n,r,"internal-error"),e.open({where:document.body,url:jI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=br(r,"network-request-failed"),m=Hr().setTimeout(()=>{u(f)},kI.get());function p(){Hr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HI=500,FI=600,GI="_blank",$I="http://localhost";class q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QI(r,e,n,s=HI,o=FI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},qI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jn().toLowerCase();n&&(m=$T(g)?GI:n),FT(g)&&(e=e||$I,p.scrollbars="yes");const v=Object.entries(p).reduce((R,[U,Y])=>`${R}${U}=${Y},`,"");if(NC(g)&&m!=="_self")return YI(e||"",m),new q0(null);const w=window.open(e||"",m,v);ke(w,r,"popup-blocked");try{w.focus()}catch{}return new q0(w)}function YI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__/auth/handler",XI="emulator/auth/handler",WI=encodeURIComponent("fac");async function H0(r,e,n,s,o,u){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bl,eventId:o};if(e instanceof uf){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",e2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))f[v]=w}if(e instanceof Ku){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${WI}=${encodeURIComponent(p)}`:"";return`${JI(r)}?${$u(m).slice(1)}${g}`}function JI({config:r}){return r.emulator?jp(r,XI):`https://${r.authDomain}/${KI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class ZI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=bI,this._overrideRedirectResult=TI}async _openPopup(e,n,s,o){var u;xs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await H0(e,n,s,sp(),o);return QI(e,f,Gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await H0(e,n,s,sp(),o);return iI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(xs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BI(e),s=new AI(e);return n.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Lm];f!==void 0&&n(!!f),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WT()||GT()||Hp()}}const ex=ZI;var F0="@firebase/auth",G0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ix(r){dl(new go("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ke(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JT(r)},g=new PC(s,o,u,p);return qC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),dl(new go("auth-internal",e=>{const n=Yu(e.getProvider("auth").getImmediate());return(s=>new tx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ta(F0,G0,nx(r)),Ta(F0,G0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=300,sx=CT("authIdTokenMaxAge")||rx;let $0=null;const ax=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sx)return;const o=n==null?void 0:n.token;$0!==o&&($0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ox(r=OT()){const e=Pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=BC(r,{popupRedirectResolver:ex,persistence:[hw,cf,aw]}),s=CT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ax(u.toString());WC(n,f,()=>f(n.currentUser)),XC(n,m=>f(m))}}const o=AT("auth");return o&&HC(n,`http://${o}`),n}function lx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}LC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=br("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",lx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ix("Browser");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,gw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function I(){}I.prototype=C.prototype,M.D=C.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(k,z,j){for(var N=Array(arguments.length-2),It=2;It<arguments.length;It++)N[It-2]=arguments[It];return C.prototype[z].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,I){I||(I=0);var k=Array(16);if(typeof C=="string")for(var z=0;16>z;++z)k[z]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(z=0;16>z;++z)k[z]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=M.g[0],I=M.g[1],z=M.g[2];var j=M.g[3],N=C+(j^I&(z^j))+k[0]+3614090360&4294967295;C=I+(N<<7&4294967295|N>>>25),N=j+(z^C&(I^z))+k[1]+3905402710&4294967295,j=C+(N<<12&4294967295|N>>>20),N=z+(I^j&(C^I))+k[2]+606105819&4294967295,z=j+(N<<17&4294967295|N>>>15),N=I+(C^z&(j^C))+k[3]+3250441966&4294967295,I=z+(N<<22&4294967295|N>>>10),N=C+(j^I&(z^j))+k[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=j+(z^C&(I^z))+k[5]+1200080426&4294967295,j=C+(N<<12&4294967295|N>>>20),N=z+(I^j&(C^I))+k[6]+2821735955&4294967295,z=j+(N<<17&4294967295|N>>>15),N=I+(C^z&(j^C))+k[7]+4249261313&4294967295,I=z+(N<<22&4294967295|N>>>10),N=C+(j^I&(z^j))+k[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=j+(z^C&(I^z))+k[9]+2336552879&4294967295,j=C+(N<<12&4294967295|N>>>20),N=z+(I^j&(C^I))+k[10]+4294925233&4294967295,z=j+(N<<17&4294967295|N>>>15),N=I+(C^z&(j^C))+k[11]+2304563134&4294967295,I=z+(N<<22&4294967295|N>>>10),N=C+(j^I&(z^j))+k[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=j+(z^C&(I^z))+k[13]+4254626195&4294967295,j=C+(N<<12&4294967295|N>>>20),N=z+(I^j&(C^I))+k[14]+2792965006&4294967295,z=j+(N<<17&4294967295|N>>>15),N=I+(C^z&(j^C))+k[15]+1236535329&4294967295,I=z+(N<<22&4294967295|N>>>10),N=C+(z^j&(I^z))+k[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^z&(C^I))+k[6]+3225465664&4294967295,j=C+(N<<9&4294967295|N>>>23),N=z+(C^I&(j^C))+k[11]+643717713&4294967295,z=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(z^j))+k[0]+3921069994&4294967295,I=z+(N<<20&4294967295|N>>>12),N=C+(z^j&(I^z))+k[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^z&(C^I))+k[10]+38016083&4294967295,j=C+(N<<9&4294967295|N>>>23),N=z+(C^I&(j^C))+k[15]+3634488961&4294967295,z=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(z^j))+k[4]+3889429448&4294967295,I=z+(N<<20&4294967295|N>>>12),N=C+(z^j&(I^z))+k[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^z&(C^I))+k[14]+3275163606&4294967295,j=C+(N<<9&4294967295|N>>>23),N=z+(C^I&(j^C))+k[3]+4107603335&4294967295,z=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(z^j))+k[8]+1163531501&4294967295,I=z+(N<<20&4294967295|N>>>12),N=C+(z^j&(I^z))+k[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=j+(I^z&(C^I))+k[2]+4243563512&4294967295,j=C+(N<<9&4294967295|N>>>23),N=z+(C^I&(j^C))+k[7]+1735328473&4294967295,z=j+(N<<14&4294967295|N>>>18),N=I+(j^C&(z^j))+k[12]+2368359562&4294967295,I=z+(N<<20&4294967295|N>>>12),N=C+(I^z^j)+k[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^z)+k[8]+2272392833&4294967295,j=C+(N<<11&4294967295|N>>>21),N=z+(j^C^I)+k[11]+1839030562&4294967295,z=j+(N<<16&4294967295|N>>>16),N=I+(z^j^C)+k[14]+4259657740&4294967295,I=z+(N<<23&4294967295|N>>>9),N=C+(I^z^j)+k[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^z)+k[4]+1272893353&4294967295,j=C+(N<<11&4294967295|N>>>21),N=z+(j^C^I)+k[7]+4139469664&4294967295,z=j+(N<<16&4294967295|N>>>16),N=I+(z^j^C)+k[10]+3200236656&4294967295,I=z+(N<<23&4294967295|N>>>9),N=C+(I^z^j)+k[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^z)+k[0]+3936430074&4294967295,j=C+(N<<11&4294967295|N>>>21),N=z+(j^C^I)+k[3]+3572445317&4294967295,z=j+(N<<16&4294967295|N>>>16),N=I+(z^j^C)+k[6]+76029189&4294967295,I=z+(N<<23&4294967295|N>>>9),N=C+(I^z^j)+k[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=j+(C^I^z)+k[12]+3873151461&4294967295,j=C+(N<<11&4294967295|N>>>21),N=z+(j^C^I)+k[15]+530742520&4294967295,z=j+(N<<16&4294967295|N>>>16),N=I+(z^j^C)+k[2]+3299628645&4294967295,I=z+(N<<23&4294967295|N>>>9),N=C+(z^(I|~j))+k[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~z))+k[7]+1126891415&4294967295,j=C+(N<<10&4294967295|N>>>22),N=z+(C^(j|~I))+k[14]+2878612391&4294967295,z=j+(N<<15&4294967295|N>>>17),N=I+(j^(z|~C))+k[5]+4237533241&4294967295,I=z+(N<<21&4294967295|N>>>11),N=C+(z^(I|~j))+k[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~z))+k[3]+2399980690&4294967295,j=C+(N<<10&4294967295|N>>>22),N=z+(C^(j|~I))+k[10]+4293915773&4294967295,z=j+(N<<15&4294967295|N>>>17),N=I+(j^(z|~C))+k[1]+2240044497&4294967295,I=z+(N<<21&4294967295|N>>>11),N=C+(z^(I|~j))+k[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~z))+k[15]+4264355552&4294967295,j=C+(N<<10&4294967295|N>>>22),N=z+(C^(j|~I))+k[6]+2734768916&4294967295,z=j+(N<<15&4294967295|N>>>17),N=I+(j^(z|~C))+k[13]+1309151649&4294967295,I=z+(N<<21&4294967295|N>>>11),N=C+(z^(I|~j))+k[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=j+(I^(C|~z))+k[11]+3174756917&4294967295,j=C+(N<<10&4294967295|N>>>22),N=z+(C^(j|~I))+k[2]+718787259&4294967295,z=j+(N<<15&4294967295|N>>>17),N=I+(j^(z|~C))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(z+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var I=C-this.blockSize,k=this.B,z=this.h,j=0;j<C;){if(z==0)for(;j<=I;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<C;)if(k[z++]=M.charCodeAt(j++),z==this.blockSize){o(this,k),z=0;break}}else for(;j<C;)if(k[z++]=M[j++],z==this.blockSize){o(this,k),z=0;break}}this.h=z,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var I=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=I&255,I/=256;for(this.u(M),M=Array(16),C=I=0;4>C;++C)for(var k=0;32>k;k+=8)M[I++]=this.g[C]>>>k&255;return M};function u(M,C){var I=m;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=C(M)}function f(M,C){this.h=C;for(var I=[],k=!0,z=M.length-1;0<=z;z--){var j=M[z]|0;k&&j==C||(I[z]=j,k=!1)}this.g=I}var m={};function p(M){return-128<=M&&128>M?u(M,function(C){return new f([C|0],0>C?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return F(g(-M));for(var C=[],I=1,k=0;M>=I;k++)C[k]=M/I|0,I*=4294967296;return new f(C,0)}function v(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return F(v(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(C,8)),k=w,z=0;z<M.length;z+=8){var j=Math.min(8,M.length-z),N=parseInt(M.substring(z,z+j),C);8>j?(j=g(Math.pow(C,j)),k=k.j(j).add(g(N))):(k=k.j(I),k=k.add(g(N)))}return k}var w=p(0),R=p(1),U=p(16777216);r=f.prototype,r.m=function(){if(ee(this))return-F(this).m();for(var M=0,C=1,I=0;I<this.g.length;I++){var k=this.i(I);M+=(0<=k?k:4294967296+k)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Y(this))return"0";if(ee(this))return"-"+F(this).toString(M);for(var C=g(Math.pow(M,6)),I=this,k="";;){var z=Re(I,C).g;I=ce(I,z.j(C));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=z,Y(I))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Y(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function ee(M){return M.h==-1}r.l=function(M){return M=ce(this,M),ee(M)?-1:Y(M)?0:1};function F(M){for(var C=M.g.length,I=[],k=0;k<C;k++)I[k]=~M.g[k];return new f(I,~M.h).add(R)}r.abs=function(){return ee(this)?F(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],k=0,z=0;z<=C;z++){var j=k+(this.i(z)&65535)+(M.i(z)&65535),N=(j>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);k=N>>>16,j&=65535,N&=65535,I[z]=N<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ce(M,C){return M.add(F(C))}r.j=function(M){if(Y(this)||Y(M))return w;if(ee(this))return ee(M)?F(this).j(F(M)):F(F(this).j(M));if(ee(M))return F(this.j(F(M)));if(0>this.l(U)&&0>M.l(U))return g(this.m()*M.m());for(var C=this.g.length+M.g.length,I=[],k=0;k<2*C;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var z=0;z<M.g.length;z++){var j=this.i(k)>>>16,N=this.i(k)&65535,It=M.i(z)>>>16,pt=M.i(z)&65535;I[2*k+2*z]+=N*pt,he(I,2*k+2*z),I[2*k+2*z+1]+=j*pt,he(I,2*k+2*z+1),I[2*k+2*z+1]+=N*It,he(I,2*k+2*z+1),I[2*k+2*z+2]+=j*It,he(I,2*k+2*z+2)}for(k=0;k<C;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=C;k<2*C;k++)I[k]=0;return new f(I,0)};function he(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function se(M,C){this.g=M,this.h=C}function Re(M,C){if(Y(C))throw Error("division by zero");if(Y(M))return new se(w,w);if(ee(M))return C=Re(F(M),C),new se(F(C.g),F(C.h));if(ee(C))return C=Re(M,F(C)),new se(F(C.g),C.h);if(30<M.g.length){if(ee(M)||ee(C))throw Error("slowDivide_ only works with positive integers.");for(var I=R,k=C;0>=k.l(M);)I=Pe(I),k=Pe(k);var z=De(I,1),j=De(k,1);for(k=De(k,2),I=De(I,2);!Y(k);){var N=j.add(k);0>=N.l(M)&&(z=z.add(I),j=N),k=De(k,1),I=De(I,1)}return C=ce(M,z.j(C)),new se(z,C)}for(z=w;0<=M.l(C);){for(I=Math.max(1,Math.floor(M.m()/C.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=g(I),N=j.j(C);ee(N)||0<N.l(M);)I-=k,j=g(I),N=j.j(C);Y(j)&&(j=R),z=z.add(j),M=ce(M,N)}return new se(z,M)}r.A=function(M){return Re(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)&M.i(k);return new f(I,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)|M.i(k);return new f(I,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)^M.i(k);return new f(I,this.h^M.h)};function Pe(M){for(var C=M.g.length+1,I=[],k=0;k<C;k++)I[k]=M.i(k)<<1|M.i(k-1)>>>31;return new f(I,M.h)}function De(M,C){var I=C>>5;C%=32;for(var k=M.g.length-I,z=[],j=0;j<k;j++)z[j]=0<C?M.i(j+I)>>>C|M.i(j+I+1)<<32-C:M.i(j+I);return new f(z,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,ba=f}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,Eu,vw,Nh,up,_w,Ew,Tw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var G=c[A];if(!(G in E))break e;E=E[G]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,A=!1,G={next:function(){if(!A&&E<c.length){var J=E++;return{value:y(J,c[J]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,E){return c.call.apply(c.bind,arguments)}function w(c,y,E){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function R(c,y,E){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,R.apply(null,arguments)}function U(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function Y(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(A,G,J){for(var pe=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)pe[gt-2]=arguments[gt];return y.prototype[G].apply(A,pe)}}function ee(c){const y=c.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function F(c,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const G=c.length||0,J=A.length||0;c.length=G+J;for(let pe=0;pe<J;pe++)c[G+pe]=A[pe]}else c.push(A)}}class ce{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function he(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var Pe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function De(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function M(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function C(c){const y={};for(const E in c)y[E]=c[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let E,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(E in A)c[E]=A[E];for(let J=0;J<I.length;J++)E=I[J],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function z(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class It{constructor(){this.h=this.g=null}add(y,E){const A=pt.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var pt=new ce(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,be=!1,qe=new It,H=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(T)}};var T=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(E){j(E)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}be=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,y),m.removeEventListener("test",E,y)}catch{}return c})();function ue(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Pe){e:{try{Re(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ue.aa.h.call(this)}}Y(ue,X);var me={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ie(c,y,E,A,G){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=G,this.key=++Se,this.da=this.fa=!1}function Xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function He(c){this.src=c,this.g={},this.h=0}He.prototype.add=function(c,y,E,A,G){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var pe=xt(c,y,A,G);return-1<pe?(y=c[pe],E||(y.fa=!1)):(y=new Ie(y,this.src,J,!!A,G),y.fa=E,c.push(y)),y};function lt(c,y){var E=y.type;if(E in c.g){var A=c.g[E],G=Array.prototype.indexOf.call(A,y,void 0),J;(J=0<=G)&&Array.prototype.splice.call(A,G,1),J&&(Xe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xt(c,y,E,A){for(var G=0;G<c.length;++G){var J=c[G];if(!J.da&&J.listener==y&&J.capture==!!E&&J.ha==A)return G}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Vt={};function Ht(c,y,E,A,G){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Ht(c,y[J],E,A,G);return null}return E=ks(E),c&&c[fe]?c.K(y,E,g(A)?!!A.capture:!1,G):_n(c,y,E,!1,A,G)}function _n(c,y,E,A,G,J){if(!y)throw Error("Invalid event type");var pe=g(G)?!!G.capture:!!G,gt=Kr(c);if(gt||(c[Me]=gt=new He(c)),E=gt.add(y,E,A,pe,J),E.proxy)return E;if(A=Hn(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)le||(G=pe),G===void 0&&(G=!1),c.addEventListener(y.toString(),A,G);else if(c.attachEvent)c.attachEvent(Ar(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Hn(){function c(E){return y.call(c.src,c.listener,E)}const y=La;return c}function En(c,y,E,A,G){if(Array.isArray(y))for(var J=0;J<y.length;J++)En(c,y[J],E,A,G);else A=g(A)?!!A.capture:!!A,E=ks(E),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],E=xt(J,E,A,G),-1<E&&(Xe(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=Kr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xt(y,E,A,G)),(E=-1<c?y[c]:null)&&Zt(E))}function Zt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])lt(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(Ar(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Kr(y))?(lt(E,c),E.h==0&&(E.src=null,y[Me]=null)):Xe(c)}}}function Ar(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function La(c,y){if(c.da)c=!0;else{y=new ue(y,this);var E=c.listener,A=c.ha||c.src;c.fa&&Zt(c),c=E.call(A,y)}return c}function Kr(c){return c=c[Me],c instanceof He?c:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function ks(c){return typeof c=="function"?c:(c[Ft]||(c[Ft]=function(y){return c.handleEvent(y)}),c[Ft])}function Nt(){q.call(this),this.i=new He(this),this.M=this,this.F=null}Y(Nt,q),Nt.prototype[fe]=!0,Nt.prototype.removeEventListener=function(c,y,E,A){En(this,c,y,E,A)};function kt(c,y){var E,A=c.F;if(A)for(E=[];A;A=A.F)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var G=y;y=new X(A,c),k(y,G)}if(G=!0,E)for(var J=E.length-1;0<=J;J--){var pe=y.g=E[J];G=Fn(pe,A,!0,y)&&G}if(pe=y.g=c,G=Fn(pe,A,!0,y)&&G,G=Fn(pe,A,!1,y)&&G,E)for(J=0;J<E.length;J++)pe=y.g=E[J],G=Fn(pe,A,!1,y)&&G}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],A=0;A<E.length;A++)Xe(E[A]);delete c.g[y],c.h--}}this.F=null},Nt.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},Nt.prototype.L=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function Fn(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,J=0;J<y.length;++J){var pe=y[J];if(pe&&!pe.da&&pe.capture==E){var gt=pe.listener,sn=pe.ha||pe.src;pe.fa&&lt(c.i,pe),G=gt.call(sn,A)!==!1&&G}}return G&&!A.defaultPrevented}function Ps(c,y,E){if(typeof c=="function")E&&(c=R(c,E));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ii(c){c.g=Ps(()=>{c.g=null,c.i&&(c.i=!1,Ii(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hr extends q{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ii(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(c){q.call(this),this.h=c,this.g={}}Y(hi,q);var ft=[];function yt(c){De(c.g,function(y,E){this.g.hasOwnProperty(E)&&Zt(y)},c),c.g={}}hi.prototype.N=function(){hi.aa.N.call(this),yt(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=m.JSON.stringify,Dn=m.JSON.parse,So=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ua(){}Ua.prototype.h=null;function Xr(c){return c.h||(c.h=c.i())}function Rr(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){X.call(this,"d")}Y(Cr,X);function Tn(){X.call(this,"c")}Y(Tn,X);var Mn={},Yi=null;function fi(){return Yi=Yi||new Nt}Mn.La="serverreachability";function ei(c){X.call(this,Mn.La,c)}Y(ei,X);function xi(c){const y=fi();kt(y,new ei(y))}Mn.STAT_EVENT="statevent";function ti(c,y){X.call(this,Mn.STAT_EVENT,c),this.stat=y}Y(ti,X);function mn(c){const y=fi();kt(y,new ti(y,c))}Mn.Ma="timingevent";function Ni(c,y){X.call(this,Mn.Ma,c),this.size=y}Y(Ni,X);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function za(c,y,E,A,G,J){c.info(function(){if(c.g)if(J)for(var pe="",gt=J.split("&"),sn=0;sn<gt.length;sn++){var Qe=gt[sn].split("=");if(1<Qe.length){var An=Qe[0];Qe=Qe[1];var Rn=An.split("_");pe=2<=Rn.length&&Rn[1]=="type"?pe+(An+"="+Qe+"&"):pe+(An+"=redacted&")}}else pe=null;else pe=J;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+E+`
`+pe})}function Gn(c,y,E,A,G,J,pe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+E+`
`+J+" "+pe})}function en(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+On(c,E)+(A?" "+A:"")})}function pi(c,y){c.info(function(){return"TIMEOUT: "+y})}mi.prototype.info=function(){};function On(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var A=E[c];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var pe=1;pe<G.length;pe++)G[pe]=""}}}}return Pt(E)}catch{return y}}var ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},St;function fr(){}Y(fr,Ua),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},St=new fr;function gi(c,y,E,A){this.j=c,this.i=y,this.l=E,this.R=A||1,this.U=new hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var yi={},wn={};function vi(c,y,E){c.L=1,c.v=es(Lt(y)),c.m=E,c.P=!0,Di(c,null)}function Di(c,y){c.F=Date.now(),Mi(c),c.A=Lt(c.v);var E=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Qn(E.i,"t",A),c.C=0,E=c.j.J,c.h=new Ir,c.g=Qa(c.j,E?y:null,!c.m),0<c.O&&(c.M=new hr(R(c.Y,c,c.g),c.O)),y=c.U,E=c.g,A=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(ft[0]=G.toString()),G=ft);for(var J=0;J<G.length;J++){var pe=Ht(E,G[J],A||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xi(),za(c.i,c.u,c.A,c.l,c.R,c.m)}gi.prototype.ca=function(c){c=c.target;const y=this.M;y&&kn(c)==3?y.j():this.Y(c)},gi.prototype.Y=function(c){try{if(c==this.g)e:{const Rn=kn(this.g);var y=this.g.Ba();const Fs=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||rs(this.g)))){this.J||Rn!=4||y==7||(y==8||0>=Fs?xi(3):xi(2)),Ls(this);var E=this.g.Z();this.X=E;t:if(dr(this)){var A=rs(this.g);c="";var G=A.length,J=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),xr(this);var pe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(J&&y==G-1)});A.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=E==200,Gn(this.i,this.u,this.A,this.l,this.R,Rn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,sn=this.g;if((gt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!he(gt)){var Qe=gt;break t}}Qe=null}if(E=Qe)en(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ni(this,E);else{this.o=!1,this.s=3,mn(12),Vn(this),xr(this);break e}}if(this.P){E=!0;let Ti;for(;!this.J&&this.C<pe.length;)if(Ti=Wr(this,pe),Ti==wn){Rn==4&&(this.s=4,mn(14),E=!1),en(this.i,this.l,null,"[Incomplete Response]");break}else if(Ti==yi){this.s=4,mn(15),en(this.i,this.l,pe,"[Invalid Chunk]"),E=!1;break}else en(this.i,this.l,Ti,null),ni(this,Ti);if(dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||pe.length!=0||this.h.h||(this.s=1,mn(16),E=!1),this.o=this.o&&E,!E)en(this.i,this.l,pe,"[Invalid Chunked Response]"),Vn(this),xr(this);else if(0<pe.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ke(An),An.M=!0,mn(11))}}else en(this.i,this.l,pe,null),ni(this,pe);Rn==4&&Vn(this),this.o&&!this.J&&(Rn==4?ai(this.j,this):(this.o=!1,Mi(this)))}else Ga(this.g),E==400&&0<pe.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Vn(this),xr(this)}}}catch{}finally{}};function dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Wr(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?wn:(E=Number(y.substring(E,A)),isNaN(E)?yi:(A+=1,A+E>y.length?wn:(y=y.slice(A,A+E),c.C=A+E,y)))}gi.prototype.cancel=function(){this.J=!0,Vn(this)};function Mi(c){c.S=Date.now()+c.I,zt(c,c.I)}function zt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=di(R(c.ba,c),y)}function Ls(c){c.B&&(m.clearTimeout(c.B),c.B=null)}gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pi(this.i,this.A),this.L!=2&&(xi(),mn(17)),Vn(this),this.s=2,xr(this)):zt(this,this.S-c)};function xr(c){c.j.G==0||c.J||ai(c.j,c)}function Vn(c){Ls(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ni(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||_i(E.h,c))){if(!c.K&&_i(E.h,c)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)dt(E),Z(E);else break e;$e(E),mn(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=di(R(E.Za,E),6e3));if(1>=ja(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else jt(E,11)}else if((c.K||E.g==c)&&dt(E),!he(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let Qe=G[y];if(E.T=Qe[0],Qe=Qe[1],E.G==2)if(Qe[0]=="c"){E.K=Qe[1],E.ia=Qe[2];const An=Qe[3];An!=null&&(E.la=An,E.j.info("VER="+E.la));const Rn=Qe[4];Rn!=null&&(E.Aa=Rn,E.j.info("SVER="+E.Aa));const Fs=Qe[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(A=1.5*Fs,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ti=c.g;if(Ti){const Ka=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var J=A.h;J.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(mr(J,J.h),J.h=null))}if(A.D){const as=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(A.ya=as,Ge(A.I,A.D,as))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var pe=c;if(A.qa=oi(A,A.J?A.ia:null,A.W),pe.K){$n(A.h,pe);var gt=pe,sn=A.L;sn&&(gt.I=sn),gt.B&&(Ls(gt),Mi(gt)),A.g=pe}else Rt(A);0<E.i.length&&ve(E)}else Qe[0]!="stop"&&Qe[0]!="close"||jt(E,7);else E.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?jt(E,7):L(E):Qe[0]!="noop"&&E.l&&E.l.ta(Qe),E.v=0)}}xi(4)}catch{}}var Ao=class{constructor(c,y){this.g=c,this.map=y}};function Nr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ja(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function mr(c,y){c.g?c.g.add(y):c.h=y}function $n(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Nr.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return ee(c.i)}function Ki(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],E=c.length,A=0;A<E;A++)y.push(c[A]);return y}y=[],E=0;for(A in c)y[E++]=c[A];return y}function Ei(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const A in c)y[E++]=A;return y}}}function Us(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Ei(c),A=Ki(c),G=A.length,J=0;J<G;J++)y.call(void 0,A[J],E&&E[J],c)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var A=c[E].indexOf("="),G=null;if(0<=A){var J=c[E].substring(0,A);G=c[E].substring(A+1)}else J=c[E];y(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function pr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pr){this.h=c.h,Oi(this,c.j),this.o=c.o,this.g=c.g,Zr(this,c.s),this.l=c.l;var y=c.i,E=new Xi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),js(this,E),this.m=c.m}else c&&(y=String(c).match(zs))?(this.h=!1,Oi(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),Zr(this,y[4]),this.l=Vi(y[5]||"",!0),js(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}pr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ii(y,Ba,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ii(y,Ba,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ii(E,E.charAt(0)=="/"?Ha:qa,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ii(E,Ol)),c.join("")};function Lt(c){return new pr(c)}function Oi(c,y,E){c.j=E?Vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Zr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function js(c,y,E){y instanceof Xi?(c.i=y,ts(c.i,c.h)):(E||(y=ii(y,Ml)),c.i=new Xi(y,c.h))}function Ge(c,y,E){c.i.set(y,E)}function es(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ii(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Dl),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Dl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ba=/[#\/\?@]/g,qa=/[#\?:]/g,Ha=/[#\?]/g,Ml=/[#\?@]/g,Ol=/#/g;function Xi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Dr(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Xi.prototype,r.add=function(c,y){tn(this),this.i=null,c=it(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Wi(c,y){tn(c),y=it(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ji(c,y){return tn(c),y=it(c,y),c.g.has(y)}r.forEach=function(c,y){tn(this),this.g.forEach(function(E,A){E.forEach(function(G){c.call(y,G,A,this)},this)},this)},r.na=function(){tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const G=c[A];for(let J=0;J<G.length;J++)E.push(y[A])}return E},r.V=function(c){tn(this);let y=[];if(typeof c=="string")Ji(this,c)&&(y=y.concat(this.g.get(it(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},r.set=function(c,y){return tn(this),this.i=null,c=it(this,c),Ji(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Qn(c,y,E){Wi(c,y),0<E.length&&(c.i=null,c.g.set(it(c,y),ee(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const J=encodeURIComponent(String(A)),pe=this.V(A);for(A=0;A<pe.length;A++){var G=J;pe[A]!==""&&(G+="="+encodeURIComponent(String(pe[A]))),c.push(G)}}return this.i=c.join("&")};function it(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ts(c,y){y&&!c.j&&(tn(c),c.i=null,c.g.forEach(function(E,A){var G=A.toLowerCase();A!=G&&(Wi(this,A),Qn(this,G,E))},c)),c.j=y}function Mr(c,y){const E=new mi;if(m.Image){const A=new Image;A.onload=U(pn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=U(pn,E,"TestLoadImage: error",!1,y,A),A.onabort=U(pn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=U(pn,E,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function gr(c,y){const E=new mi,A=new AbortController,G=setTimeout(()=>{A.abort(),pn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(J=>{clearTimeout(G),J.ok?pn(E,"TestPingServer: ok",!0,y):pn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),pn(E,"TestPingServer: error",!1,y)})}function pn(c,y,E,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(E)}catch{}}function ki(){this.g=new So}function Fa(c,y,E){const A=E||"";try{Us(c,function(G,J){let pe=G;g(G)&&(pe=Pt(G)),y.push(A+J+"="+encodeURIComponent(pe))})}catch(G){throw y.push(A+"type="+encodeURIComponent("_badmap")),G}}function Zi(c){this.l=c.Ub||null,this.j=c.eb||!1}Y(Zi,Ua),Zi.prototype.g=function(){return new ri(this.l,this.j)},Zi.prototype.i=(function(c){return function(){return c}})({});function ri(c,y){Nt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(ri,Nt),r=ri.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Or(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):Or(this),this.readyState==3&&Bs(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},r.Qa=function(c){this.g&&(this.response=c,si(this))},r.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Or(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ns(c){let y="";return De(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Vr(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ns(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ge(c,y,E))}function At(c){Nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(At,Nt);var nn=/^https?$/i,yr=["POST","PUT"];r=At.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():St.g(),this.v=this.o?Xr(this.o):Xr(St),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){vr(this,J);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)E.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const J of A.keys())E.set(J,A.get(J));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),G=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(yr,y,void 0))||A||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pe]of E)this.g.setRequestHeader(J,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){vr(this,J)}};function vr(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,kr(c),Pr(c)}function kr(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),Pr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),At.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},r.bb=function(){Ro(this)};function Ro(c){if(c.h&&typeof f<"u"&&(!c.v[1]||kn(c)!=4||c.Z()!=2)){if(c.u&&kn(c)==4)Ps(c.Ea,0,c);else if(kt(c,"readystatechange"),kn(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=pe===0){var G=String(c.D).match(zs)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),A=!nn.test(G?G.toLowerCase():"")}E=A}if(E)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var J=2<kn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",kr(c)}}finally{Pr(c)}}}}function Pr(c,y){if(c.g){is(c);const E=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||kt(c,"ready");try{E.onreadystatechange=A}catch{}}}function is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function kn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Dn(y)}};function rs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(c){const y={};c=(c.g&&2<=kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(he(c[A]))continue;var E=z(c[A]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=y[G]||[];y[G]=J,J.push(E)}M(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function S(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function V(c){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=S("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=S("baseRetryDelayMs",5e3,c),this.cb=S("retryDelaySeedMs",1e4,c),this.Wa=S("forwardChannelMaxRetries",2,c),this.wa=S("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(c&&c.concurrentRequestLimit),this.Da=new ki,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=V.prototype,r.la=8,r.G=1,r.connect=function(c,y,E,A){mn(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=oi(this,null,this.W),ve(this)};function L(c){if(ge(c),c.G==3){var y=c.U++,E=Lt(c.I);if(Ge(E,"SID",c.K),Ge(E,"RID",y),Ge(E,"TYPE","terminate"),Ve(c,E),y=new gi(c,c.j,y),y.L=2,y.v=es(Lt(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=y.v,E=!0),E||(y.g=Qa(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Mi(y)}$a(c)}function Z(c){c.g&&(Ke(c),c.g.cancel(),c.g=null)}function ge(c){Z(c),c.u&&(m.clearTimeout(c.u),c.u=null),dt(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ve(c){if(!Jr(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||H(),be||(de(),be=!0),qe.add(y,c),c.B=0}}function _e(c,y){return ja(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=di(R(c.Ga,c,y),ss(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new gi(this,this.j,c);let J=this.o;if(this.S&&(J?(J=C(J),k(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ue(this,G,y),E=Lt(this.I),Ge(E,"RID",c),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),Ve(this,E),J&&(this.O?y="headers="+encodeURIComponent(String(ns(J)))+"&"+y:this.m&&Vr(E,this.m,J)),mr(this.h,G),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",y),Ge(E,"SID","null"),G.T=!0,vi(G,E,null)):vi(G,E,y),this.G=2}}else this.G==3&&(c?st(this,c):this.i.length==0||Jr(this.h)||st(this))};function st(c,y){var E;y?E=y.l:E=c.U++;const A=Lt(c.I);Ge(A,"SID",c.K),Ge(A,"RID",E),Ge(A,"AID",c.T),Ve(c,A),c.m&&c.o&&Vr(A,c.m,c.o),E=new gi(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ue(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mr(c.h,E),vi(E,A,y)}function Ve(c,y){c.H&&De(c.H,function(E,A){Ge(y,A,E)}),c.l&&Us({},function(E,A){Ge(y,A,E)})}function Ue(c,y,E){E=Math.min(c.i.length,E);var A=c.l?R(c.l.Na,c.l,c):null;e:{var G=c.i;let J=-1;for(;;){const pe=["count="+E];J==-1?0<E?(J=G[0].g,pe.push("ofs="+J)):J=0:pe.push("ofs="+J);let gt=!0;for(let sn=0;sn<E;sn++){let Qe=G[sn].g;const An=G[sn].map;if(Qe-=J,0>Qe)J=Math.max(0,G[sn].g-100),gt=!1;else try{Fa(An,pe,"req"+Qe+"_")}catch{A&&A(An)}}if(gt){A=pe.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,A}function Rt(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||H(),be||(de(),be=!0),qe.add(y,c),c.v=0}}function $e(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=di(R(c.Fa,c),ss(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Kt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=di(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),Z(this),Kt(this))};function Ke(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Kt(c){c.g=new gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Lt(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),Ve(c,y),c.m&&c.o&&Vr(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=es(Lt(y)),E.m=null,E.P=!0,Di(E,c)}r.Za=function(){this.C!=null&&(this.C=null,Z(this),$e(this),mn(19))};function dt(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ai(c,y){var E=null;if(c.g==y){dt(c),Ke(c),c.g=null;var A=2}else if(_i(c.h,y))E=y.D,$n(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;A=fi(),kt(A,new Ni(A,E)),ve(c)}else Rt(c);else if(G=y.s,G==3||G==0&&0<y.X||!(A==1&&_e(c,y)||A==2&&$e(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),G){case 1:jt(c,5);break;case 4:jt(c,10);break;case 3:jt(c,6);break;default:jt(c,2)}}}function ss(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function jt(c,y){if(c.j.info("Error code "+y),y==2){var E=R(c.fb,c),A=c.Xa;const G=!A;A=new pr(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Oi(A,"https"),es(A),G?Mr(A.toString(),E):gr(A.toString(),E)}else mn(2);c.G=0,c.l&&c.l.sa(y),$a(c),ge(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function $a(c){if(c.G=0,c.ka=[],c.l){const y=bn(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,ee(c.i),c.i.length=0),c.l.ra()}}function oi(c,y,E){var A=E instanceof pr?Lt(E):new pr(E);if(A.g!="")y&&(A.g=y+"."+A.g),Zr(A,A.s);else{var G=m.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var J=new pr(null);A&&Oi(J,A),y&&(J.g=y),G&&Zr(J,G),E&&(J.l=E),A=J}return E=c.D,y=c.ya,E&&y&&Ge(A,E,y),Ge(A,"VER",c.la),Ve(c,A),A}function Qa(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new At(new Zi({eb:E})):new At(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qs(){}r=qs.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function rn(){}rn.prototype.g=function(c,y){return new Sn(c,y)};function Sn(c,y){Nt.call(this),this.g=new V(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!he(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!he(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hs(this)}Y(Sn,Nt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){L(this.g)},Sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Pt(c),c=E);y.i.push(new Ao(y.Ya++,c)),y.G==3&&ve(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,L(this.g),delete this.g,Sn.aa.N.call(this)};function Co(c){Cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}Y(Co,Cr);function Ya(){Tn.call(this),this.status=1}Y(Ya,Tn);function Hs(c){this.g=c}Y(Hs,qs),Hs.prototype.ua=function(){kt(this.g,"a")},Hs.prototype.ta=function(c){kt(this.g,new Co(c))},Hs.prototype.sa=function(c){kt(this.g,new Ya)},Hs.prototype.ra=function(){kt(this.g,"b")},rn.prototype.createWebChannel=rn.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Tw=function(){return new rn},Ew=function(){return fi()},_w=Mn,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,Nh=ut,Fe.COMPLETE="complete",vw=Fe,Rr.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Eu=Rr,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,yw=At}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",K0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Vp("@firebase/firestore");function il(){return vo.logLevel}function Ee(r,...e){if(vo.logLevel<=tt.DEBUG){const n=e.map(Yp);vo.debug(`Firestore (${Al}): ${r}`,...n)}}function Ns(r,...e){if(vo.logLevel<=tt.ERROR){const n=e.map(Yp);vo.error(`Firestore (${Al}): ${r}`,...n)}}function Ca(r,...e){if(vo.logLevel<=tt.WARN){const n=e.map(Yp);vo.warn(`Firestore (${Al}): ${r}`,...n)}}function Yp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ww(r,s,n)}function ww(r,e,n){let s=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ns(s),new Error(s)}function ot(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ww(e,o,s)}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wn.UNAUTHENTICATED)))}shutdown(){}}class cx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hx{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Rs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Rs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string",31837,{l:s}),new bw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class fx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new fx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const s=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=px(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ye(r,e){return r<e?-1:r>e?1:0}function cp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ye(s,o);{const u=Sw(),f=gx(u.encode(W0(r,n)),u.encode(W0(e,n)));return f!==0?f:Ye(s,o)}}n+=s>65535?2:1}return Ye(r.length,e.length)}function W0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function gx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ye(r[n],e[n]);return Ye(r.length,e.length)}function pl(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__name__";class Br{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Br.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ye(e.length,n.length)}static compareSegments(e,n){const s=Br.isNumericId(e),o=Br.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Br.extractNumericId(e).compare(Br.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class bt extends Br{construct(e,n,s){return new bt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const yx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Br{construct(e,n,s){return new Bn(e,n,s)}static isValidIdentifier(e){return yx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new Bn([J0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(bt.fromString(e))}static fromName(e){return new Ae(bt.fromString(e).popFirst(5))}static empty(){return new Ae(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vx(r,e,n,s){if(e===!0&&s===!0)throw new ye(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Z0(r){if(!Ae.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function eE(r){if(Ae.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function df(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function Gi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(r);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Wu(r,e){if(!Rw(r))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,nE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*nE);return new Ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tE)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wu(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:dn("string",Ot._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ot(0,0))}static max(){return new Oe(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function _x(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new Ot(n+1,0):new Ot(n,s));return new Ia(o,Ae.empty(),e)}function Ex(r){return new Ia(r.readTime,r.key,ku)}class Ia{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ia(Oe.min(),Ae.empty(),ku)}static max(){return new Ia(Oe.max(),Ae.empty(),ku)}}function Tx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:Ye(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==wx)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((o=>o?oe.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{f[g]=v,++m,m===u&&s(f)}),(v=>o(v)))}}))}static doWhile(e,n){return new oe(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Sx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}mf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function Ju(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function Ax(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="";function Rx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=iE(e)),e=Cx(r.get(n),e);return iE(e)}function Cx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Cw:n+="";break;default:n+=u}}return n}function iE(r){return r+Cw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ka(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Iw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??jn.RED,this.left=o??jn.EMPTY,this.right=u??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new jn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Fi([])}unionWith(e){let n=new vn(Bn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xw("Invalid base64 string: "+u):u}})(e);return new qn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const Ix=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const n=Ix.exec(r);if(ot(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Jt(r.seconds),nanos:Jt(r.nanos)}}function Jt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Na(r){return typeof r=="string"?qn.fromBase64String(r):qn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="server_timestamp",Dw="__type__",Mw="__previous_value__",Ow="__local_write_time__";function Wp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dw])===null||n===void 0?void 0:n.stringValue)===Nw}function pf(r){const e=r.mapValue.fields[Mw];return Wp(e)?pf(e):e}function Pu(r){const e=xa(r.mapValue.fields[Ow].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,s,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const $h="(default)";class Lu{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__type__",Nx="__max__",vh={mapValue:{}},kw="__vector__",Qh="value";function Da(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wp(r)?4:Mx(r)?9007199254740991:Dx(r)?10:11:xe(28295,{value:r})}function Yr(r,e){if(r===e)return!0;const n=Da(r);if(n!==Da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pu(r).isEqual(Pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=xa(o.timestampValue),m=xa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Na(o.bytesValue).isEqual(Na(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Jt(o.geoPointValue.latitude)===Jt(u.geoPointValue.latitude)&&Jt(o.geoPointValue.longitude)===Jt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Jt(o.integerValue)===Jt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Jt(o.doubleValue),m=Jt(u.doubleValue);return f===m?Gh(f)===Gh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return pl(r.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(rE(f)!==rE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Yr(f[p],m[p])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Uu(r,e){return(r.values||[]).find((n=>Yr(n,e)))!==void 0}function gl(r,e){if(r===e)return 0;const n=Da(r),s=Da(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Jt(u.integerValue||u.doubleValue),p=Jt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return aE(r.timestampValue,e.timestampValue);case 4:return aE(Pu(r),Pu(e));case 5:return cp(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Na(u),p=Na(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ye(m[g],p[g]);if(v!==0)return v}return Ye(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ye(Jt(u.latitude),Jt(f.latitude));return m!==0?m:Ye(Jt(u.longitude),Jt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return oE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,v;const w=u.fields||{},R=f.fields||{},U=(m=w[Qh])===null||m===void 0?void 0:m.arrayValue,Y=(p=R[Qh])===null||p===void 0?void 0:p.arrayValue,ee=Ye(((g=U==null?void 0:U.values)===null||g===void 0?void 0:g.length)||0,((v=Y==null?void 0:Y.values)===null||v===void 0?void 0:v.length)||0);return ee!==0?ee:oE(U,Y)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===vh.mapValue&&f===vh.mapValue)return 0;if(u===vh.mapValue)return 1;if(f===vh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const R=cp(p[w],v[w]);if(R!==0)return R;const U=gl(m[p[w]],g[v[w]]);if(U!==0)return U}return Ye(p.length,v.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{le:n})}}function aE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const n=xa(r),s=xa(e),o=Ye(n.seconds,s.seconds);return o!==0?o:Ye(n.nanos,s.nanos)}function oE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=gl(n[o],s[o]);if(u)return u}return Ye(n.length,s.length)}function yl(r){return hp(r)}function hp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=xa(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Na(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ae.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=hp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${hp(n.fields[f])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Dh(r){switch(Da(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(r);return e?16+Dh(e):16;case 5:return 2*r.stringValue.length;case 6:return Na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ka(s.fields,((u,f)=>{o+=u.length+Dh(f)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function lE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function fp(r){return!!r&&"integerValue"in r}function Jp(r){return!!r&&"arrayValue"in r}function uE(r){return!!r&&"nullValue"in r}function cE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mh(r){return!!r&&"mapValue"in r}function Dx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vw])===null||n===void 0?void 0:n.stringValue)===kw}function Cu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ka(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Cu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Mx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Nx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(n)}setAll(e){let n=Bn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Cu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ka(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new ci(Cu(this.value))}}function Pw(r){const e=[];return ka(r.fields,((n,s)=>{const o=new Bn([n]);if(Mh(s)){const u=Pw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new xn(e,0,Oe.min(),Oe.min(),Oe.min(),ci.empty(),0)}static newFoundDocument(e,n,s,o){return new xn(e,1,n,Oe.min(),s,o,0)}static newNoDocument(e,n){return new xn(e,2,n,Oe.min(),Oe.min(),ci.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Oe.min(),Oe.min(),ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function hE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=gl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function fE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Yr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ox(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class fn extends Lw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kx(e,n,s):n==="array-contains"?new Ux(e,s):n==="in"?new zx(e,s):n==="not-in"?new jx(e,s):n==="array-contains-any"?new Bx(e,s):new fn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Px(e,s):new Lx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&Da(this.value)===Da(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends Lw{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Sr(e,n)}matches(e){return Uw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Uw(r){return r.op==="and"}function zw(r){return Vx(r)&&Uw(r)}function Vx(r){for(const e of r.filters)if(e instanceof Sr)return!1;return!0}function dp(r){if(r instanceof fn)return r.field.canonicalString()+r.op.toString()+yl(r.value);if(zw(r))return r.filters.map((e=>dp(e))).join(",");{const e=r.filters.map((n=>dp(n))).join(",");return`${r.op}(${e})`}}function jw(r,e){return r instanceof fn?(function(s,o){return o instanceof fn&&s.op===o.op&&s.field.isEqual(o.field)&&Yr(s.value,o.value)})(r,e):r instanceof Sr?(function(s,o){return o instanceof Sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&jw(f,o.filters[m])),!0):!1})(r,e):void xe(19439)}function Bw(r){return r instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(r):r instanceof Sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Bw).join(" ,")+"}"})(r):"Filter"}class kx extends fn{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Px extends fn{constructor(e,n){super(e,"in",n),this.keys=qw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Lx extends fn{constructor(e,n){super(e,"not-in",n),this.keys=qw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qw(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ae.fromName(s.referenceValue)))}class Ux extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&Uu(n.arrayValue,this.value)}}class zx extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class jx extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uu(this.value.arrayValue,n)}}class Bx extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Uu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function dE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new qx(r,e,n,s,o,u,f)}function Zp(r){const e=Le(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>dp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yl(s))).join(",")),e.Pe=n}return e.Pe}function eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Ox(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!fE(r.startAt,e.startAt)&&fE(r.endAt,e.endAt)}function mp(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Hx(r,e,n,s,o,u,f,m){return new Zu(r,e,n,s,o,u,f,m)}function tg(r){return new Zu(r)}function mE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Hw(r){return r.collectionGroup!==null}function Iu(r){const e=Le(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new vn(Bn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Kh(u,s))})),n.has(Bn.keyField().canonicalString())||e.Te.push(new Kh(Bn.keyField(),s))}return e.Te}function Fr(r){const e=Le(r);return e.Ie||(e.Ie=Fx(e,Iu(r))),e.Ie}function Fx(r,e){if(r.limitType==="F")return dE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kh(o.field,u)}));const n=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return dE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function pp(r,e){const n=r.filters.concat([e]);return new Zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function gp(r,e,n){return new Zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function gf(r,e){return eg(Fr(r),Fr(e))&&r.limitType===e.limitType}function Fw(r){return`${Zp(Fr(r))}|lt:${r.limitType}`}function rl(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Bw(o))).join(", ")}]`),Ju(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yl(o))).join(",")),`Target(${s})`})(Fr(r))}; limitType=${r.limitType})`}function yf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=hE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Iu(s),o)||s.endAt&&!(function(f,m,p){const g=hE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Iu(s),o))})(r,e)}function Gx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gw(r){return(e,n)=>{let s=!1;for(const o of Iu(r)){const u=$x(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $x(r,e,n){const s=r.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?gl(p,g):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new qt(Ae.comparator);function Ds(){return Qx}const $w=new qt(Ae.comparator);function Tu(...r){let e=$w;for(const n of r)e=e.insert(n.key,n);return e}function Qw(r){let e=$w;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function mo(){return xu()}function Yw(){return xu()}function xu(){return new To((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Yx=new qt(Ae.comparator),Kx=new vn(Ae.comparator);function nt(...r){let e=Kx;for(const n of r)e=e.add(n);return e}const Xx=new vn(Ye);function Wx(){return Xx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function Kw(r){return{integerValue:""+r}}function Xw(r,e){return Ax(e)?Kw(e):ng(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function Jx(r,e,n){return r instanceof Xh?(function(o,u){const f={fields:{[Dw]:{stringValue:Nw},[Ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wp(u)&&(u=pf(u)),u&&(f.fields[Mw]=u),{mapValue:f}})(n,e):r instanceof vl?Jw(r,e):r instanceof zu?Zw(r,e):(function(o,u){const f=Ww(o,u),m=pE(f)+pE(o.Ee);return fp(f)&&fp(o.Ee)?Kw(m):ng(o.serializer,m)})(r,e)}function Zx(r,e,n){return r instanceof vl?Jw(r,e):r instanceof zu?Zw(r,e):n}function Ww(r,e){return r instanceof ju?(function(s){return fp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Xh extends vf{}class vl extends vf{constructor(e){super(),this.elements=e}}function Jw(r,e){const n=eb(e);for(const s of r.elements)n.some((o=>Yr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class zu extends vf{constructor(e){super(),this.elements=e}}function Zw(r,e){let n=eb(e);for(const s of r.elements)n=n.filter((o=>!Yr(o,s)));return{arrayValue:{values:n}}}class ju extends vf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function pE(r){return Jt(r.integerValue||r.doubleValue)}function eb(r){return Jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.field=e,this.transform=n}}function eN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof vl&&o instanceof vl||s instanceof zu&&o instanceof zu?pl(s.elements,o.elements,Yr):s instanceof ju&&o instanceof ju?Yr(s.Ee,o.Ee):s instanceof Xh&&o instanceof Xh})(r.transform,e.transform)}class tN{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _f{}function nb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new tc(r.key,yn.none()):new ec(r.key,r.data,yn.none());{const n=r.data,s=ci.empty();let o=new vn(Bn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Pa(r.key,s,new Fi(o.toArray()),yn.none())}}function nN(r,e,n){r instanceof ec?(function(o,u,f){const m=o.value.clone(),p=yE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Pa?(function(o,u,f){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=yE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ib(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Nu(r,e,n,s){return r instanceof ec?(function(u,f,m,p){if(!Oh(u.precondition,f))return m;const g=u.value.clone(),v=vE(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Pa?(function(u,f,m,p){if(!Oh(u.precondition,f))return m;const g=vE(u.fieldTransforms,p,f),v=f.data;return v.setAll(ib(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return Oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function iN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ww(s.transform,o||null);u!=null&&(n===null&&(n=ci.empty()),n.set(s.field,u))}return n||null}function gE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&pl(s,o,((u,f)=>eN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ec extends _f{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pa extends _f{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ib(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function yE(r,e,n){const s=new Map;ot(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Zx(f,m,n[o]))}return s}function vE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Jx(u,f,e))}return s}class tc extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rb extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&nN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Yw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=nb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,s)=>gE(n,s)))&&pl(this.baseMutations,e.baseMutations,((n,s)=>gE(n,s)))}}class ig{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ot(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return Yx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ig(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,at;function sb(r){switch(r){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function ab(r){if(r===void 0)return Ns("GRPC error has no .code"),re.UNKNOWN;switch(r){case hn.OK:return re.OK;case hn.CANCELLED:return re.CANCELLED;case hn.UNKNOWN:return re.UNKNOWN;case hn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case hn.INTERNAL:return re.INTERNAL;case hn.UNAVAILABLE:return re.UNAVAILABLE;case hn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case hn.NOT_FOUND:return re.NOT_FOUND;case hn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case hn.ABORTED:return re.ABORTED;case hn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case hn.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:r})}}(at=hn||(hn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new ba([4294967295,4294967295],0);function _E(r){const e=Sw().encode(r),n=new gw;return n.update(e),new Uint8Array(n.digest())}function EE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ba([n,s],0),new ba([o,u],0)]}class rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(s<0)throw new wu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ba.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(ba.fromNumber(s)));return o.compare(oN)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=_E(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new rg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=_E(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ef(Oe.min(),o,new qt(Ye),Ds(),nt())}}class nc{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nc(s,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class ob{constructor(e,n){this.targetId=e,this.De=n}}class lb{constructor(e,n,s=qn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class TE{constructor(){this.ve=0,this.Ce=wE(),this.Fe=qn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),n=nt(),s=nt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:u})}})),new nc(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=wE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class lN{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ds(),this.je=_h(),this.Je=_h(),this.He=new qt(Ye)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(mp(u))if(s===0){const f=new Ae(u.path);this.Xe(n,f,xn.newNoDocument(f,Oe.min()))}else ot(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Na(s).toUint8Array()}catch(p){if(p instanceof xw)return Ca("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rg(f,o,u)}catch(p){return Ca(p instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&mp(m.target)){const p=new Ae(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,xn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=nt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new Ef(e,n,this.He,this.ze,s);return this.ze=Ds(),this.je=_h(),this.Je=_h(),this.He=new qt(Ye),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new TE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new vn(Ye),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new vn(Ye),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new TE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function _h(){return new qt(Ae.comparator)}function wE(){return new qt(Ae.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hN={and:"AND",or:"OR"};class fN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yp(r,e){return r.useProto3Json||Ju(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dN(r,e){return Wh(r,e.toTimestamp())}function $i(r){return ot(!!r,49232),Oe.fromTimestamp((function(n){const s=xa(n);return new Ot(s.seconds,s.nanos)})(r))}function sg(r,e){return vp(r,e).canonicalString()}function vp(r,e){const n=(function(o){return new bt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function cb(r){const e=bt.fromString(r);return ot(gb(e),10190,{key:e.toString()}),e}function Jh(r,e){return sg(r.databaseId,e.path)}function Du(r,e){const n=cb(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(fb(n))}function hb(r,e){return sg(r.databaseId,e)}function mN(r){const e=cb(r);return e.length===4?bt.emptyPath():fb(e)}function _p(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fb(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,n){return{name:Jh(r,e),fields:n.value.mapValue.fields}}function pN(r,e){return"found"in e?(function(s,o){ot(!!o.found,43571),o.found.name,o.found.updateTime;const u=Du(s,o.found.name),f=$i(o.found.updateTime),m=o.found.createTime?$i(o.found.createTime):Oe.min(),p=new ci({mapValue:{fields:o.found.fields}});return xn.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){ot(!!o.missing,3894),ot(!!o.readTime,22933);const u=Du(s,o.missing),f=$i(o.readTime);return xn.newNoDocument(u,f)})(r,e):xe(7234,{result:e})}function gN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ot(v===void 0||typeof v=="string",58123),qn.fromBase64String(v||"")):(ot(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),qn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const v=g.code===void 0?re.UNKNOWN:ab(g.code);return new ye(v,g.message||"")})(f);n=new lb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Du(r,s.document.name),u=$i(s.document.updateTime),f=s.document.createTime?$i(s.document.createTime):Oe.min(),m=new ci({mapValue:{fields:s.document.fields}}),p=xn.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Vh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Du(r,s.document),u=s.readTime?$i(s.readTime):Oe.min(),f=xn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Vh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Du(r,s.document),u=s.removedTargetIds||[];n=new Vh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new aN(o,u),m=s.targetId;n=new ob(m,f)}}return n}function db(r,e){let n;if(e instanceof ec)n={update:bE(r,e.key,e.value)};else if(e instanceof tc)n={delete:Jh(r,e.key)};else if(e instanceof Pa)n={update:bE(r,e.key,e.data),updateMask:AN(e.fieldMask)};else{if(!(e instanceof rb))return xe(16599,{Rt:e.type});n={verify:Jh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ju)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw xe(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:dN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(r,e.precondition)),n}function yN(r,e){return r&&r.length>0?(ot(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?$i(o.updateTime):$i(u);return f.isEqual(Oe.min())&&(f=$i(u)),new tN(f,o.transformResults||[])})(n,e)))):[]}function vN(r,e){return{documents:[hb(r,e.path)]}}function _N(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hb(r,o);const u=(function(g){if(g.length!==0)return pb(Sr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(R){return{field:sl(R.field),direction:wN(R.dir)}})(v)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=yp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function EN(r){let e=mN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ot(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(w){const R=mb(w);return R instanceof Sr&&zw(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((R=>(function(Y){return new Kh(al(Y.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let R;return R=typeof w=="object"?w.value:w,Ju(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(w){const R=!!w.before,U=w.values||[];return new Yh(U,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const R=!w.before,U=w.values||[];return new Yh(U,R)})(n.endAt)),Hx(e,o,f,u,m,"F",p,g)}function TN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=al(n.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=al(n.unaryFilter.field);return fn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=al(n.unaryFilter.field);return fn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=al(n.unaryFilter.field);return fn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return fn.create(al(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Sr.create(n.compositeFilter.filters.map((s=>mb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function wN(r){return uN[r]}function bN(r){return cN[r]}function SN(r){return hN[r]}function sl(r){return{fieldPath:r.canonicalString()}}function al(r){return Bn.fromServerFormat(r.fieldPath)}function pb(r){return r instanceof fn?(function(n){if(n.op==="=="){if(cE(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(uE(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cE(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(uE(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:bN(n.op),value:n.value}}})(r):r instanceof Sr?(function(n){const s=n.getFilters().map((o=>pb(o)));return s.length===1?s[0]:{compositeFilter:{op:SN(n.op),filters:s}}})(r):xe(54877,{filter:r})}function AN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,s,o,u=Oe.min(),f=Oe.min(),m=qn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.gt=e}}function CN(r){const e=EN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.Dn=new xN}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Ia.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class xN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new vn(bt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new vn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yb=41943040;class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(yb,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new _l(0)}static ur(){return new _l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="LruGarbageCollector",NN=1048576;function RE([r,e],[n,s]){const o=Ye(r,n);return o===0?Ye(e,s):o}class DN{constructor(e){this.Tr=e,this.buffer=new vn(RE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();RE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ee(AE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?Ee(AE,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Rr(3e5)}))}}class ON{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(mf.ue);const s=new DN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(SE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),il()<=tt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function VN(r,e){return new ON(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changes=new To((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Nu(s.mutation,o,Fi.empty(),Ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,nt()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=nt()){const o=mo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Tu();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=mo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,nt())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Ds();const f=xu(),m=(function(){return xu()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Pa)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Nu(v.mutation,g,v.mutation.getFieldMask(),Ot.now())):f.set(g.key,Fi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>f.set(g,v))),n.forEach(((g,v)=>{var w;return m.set(g,new PN(v,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=xu();let o=new qt(((f,m)=>f-m)),u=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Fi.empty();v=m.applyToLocalView(g,v),s.set(p,v);const w=(o.get(m.batchId)||nt()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,w=Yw();v.forEach((R=>{if(!u.has(R)){const U=nb(n.get(R),s.get(R));U!==null&&w.set(R,U),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return oe.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(mo());let m=ku,p=u;return f.next((g=>oe.forEach(g,((v,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((R=>{p=p.insert(v,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,nt()))).next((v=>({batchId:m,changes:Qw(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let o=Tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Tu();return this.indexManager.getCollectionParents(e,u).next((m=>oe.forEach(m,(p=>{const g=(function(w,R){return new Zu(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((w,R)=>{f=f.insert(w,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,xn.newInvalidDocument(v)))}));let m=Tu();return f.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Nu(v.mutation,g,Fi.empty(),Ot.now()),yf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:$i(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:CN(o.bundledQuery),readTime:$i(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.overlays=new qt(Ae.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=mo();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=mo(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new qt(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=mo(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=mo(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return oe.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new sN(n,s));let u=this.kr.get(n);u===void 0&&(u=nt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.qr=new vn(In.Qr),this.$r=new vn(In.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new In(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new In(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ae(new bt([])),s=new In(n,e),o=new In(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ae(new bt([])),s=new In(n,e),o=new In(n,e+1);let u=nt();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new In(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class In{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ae.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new vn(In.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new rN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new In(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Xp:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new In(n,0),o=new In(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vn(Ye);return n.forEach((o=>{const u=new In(o,0),f=new In(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new In(new Ae(u),0);let m=new vn(Ye);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ot(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,(o=>{const u=new In(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new In(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.ni=e,this.docs=(function(){return new qt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let s=Ds();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():xn.newInvalidDocument(o))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ds();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Tx(Ex(v),s)<=0||(o.has(v.key)||yf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ri(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new HN(this)}getSize(e){return oe.resolve(this.size)}}class HN extends kN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.persistence=e,this.ii=new To((n=>Zp(n)),eg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new ag,this.targetCount=0,this._i=_l.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.ai={},this.overlays={},this.ui=new mf(0),this.ci=!1,this.ci=!0,this.li=new jN,this.referenceDelegate=e(this),this.hi=new FN(this),this.indexManager=new IN,this.remoteDocumentCache=(function(o){return new qN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new RN(n),this.Ti=new UN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new BN(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){Ee("MemoryPersistence","Starting transaction:",e);const o=new GN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return oe.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class GN extends bx{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ai=new ag,this.Ri=null}static Vi(e){return new og(e)}get mi(){if(this.Ri)return this.Ri;throw xe(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(s=>{const o=Ae.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.gi=new To((s=>Rx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=VN(this,n)}static Vi(e,n){return new Zh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Oe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=nt(),o=nt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return YR()?8:Sx(Jn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new $N;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(il()<=tt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(il()<=tt.DEBUG&&Ee("QueryEngine","Query:",rl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(il()<=tt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(n))):oe.resolve())}ps(e,n){if(mE(n))return oe.resolve(null);let s=Fr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=gp(n,null,"F"),s=Fr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=nt(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,gp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return mE(n)||o.isEqual(Oe.min())?oe.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?oe.resolve(null):(il()<=tt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rl(n)),this.vs(e,f,n,_x(o,ku)).next((m=>m)))}))}bs(e,n){let s=new vn(Gw(e));return n.forEach(((o,u)=>{yf(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return il()<=tt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",rl(n)),this.gs.getDocumentsMatchingQuery(e,n,Ia.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",YN=3e8;class KN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new qt(Ye),this.Ms=new To((u=>Zp(u)),eg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function XN(r,e,n,s){return new KN(r,e,n,s)}async function _b(r,e){const n=Le(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=nt();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function WN(r,e){const n=Le(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const w=g.batch,R=w.keys();let U=oe.resolve();return R.forEach((Y=>{U=U.next((()=>v.getEntry(p,Y))).next((ee=>{const F=g.docVersions.get(Y);ot(F!==null,48541),ee.version.compareTo(F)<0&&(w.applyToRemoteDocument(ee,g),ee.isValidDocument()&&(ee.setReadTime(g.commitVersion),v.addEntry(ee)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=nt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Eb(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function JN(r,e){const n=Le(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((v,w)=>{const R=o.get(w);if(!R)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,v.addedDocuments,w))));let U=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?U=U.withResumeToken(qn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(v.resumeToken,s)),o=o.insert(w,U),(function(ee,F,ce){return ee.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=YN?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(R,U,v)&&m.push(n.hi.updateTargetData(u,U))}));let p=Ds(),g=nt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(ZN(u,f,e.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(Oe.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return oe.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function ZN(r,e,n){let s=nt(),o=nt();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=Ds();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):Ee(ug,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function eD(r,e){const n=Le(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function tD(r,e){const n=Le(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new ya(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function Ep(r,e,n){const s=Le(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Cl(f))throw f;Ee(ug,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function CE(r,e,n){const s=Le(r);let o=Oe.min(),u=nt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,v){const w=Le(p),R=w.Ms.get(v);return R!==void 0?oe.resolve(w.Fs.get(R)):w.hi.getTargetData(g,v)})(s,f,Fr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Oe.min(),n?u:nt()))).next((m=>(nD(s,Gx(e),m),{documents:m,qs:u})))))}function nD(r,e,n){let s=r.xs.get(e)||Oe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class IE{constructor(){this.activeTargetIds=Wx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iD{constructor(){this.Fo=new IE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new IE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class NE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ee(xE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ee(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Tp(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",sD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===$h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Tp(),m=this.Go(e,n.toUriEncodedString());Ee(Um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=wl(g);return this.jo(e,m,p,s,v).then((w=>(Ee(Um,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw Ca(Um,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=sD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class lD extends aD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=Tp();return new Promise(((m,p)=>{const g=new yw;g.setWithCredentials(!0),g.listenOnce(vw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nh.NO_ERROR:const w=g.getResponseJson();Ee(Kn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Nh.TIMEOUT:Ee(Kn,`RPC '${e}' ${f} timed out`),p(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const R=g.getStatus();if(Ee(Kn,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let U=g.getResponseJson();Array.isArray(U)&&(U=U[0]);const Y=U==null?void 0:U.error;if(Y&&Y.status&&Y.message){const ee=(function(ce){const he=ce.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(he)>=0?he:re.UNKNOWN})(Y.status);p(new ye(ee,Y.message))}else p(new ye(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ee(Kn,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);Ee(Kn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)}))}P_(e,n,s){const o=Tp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Tw(),m=Ew(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");Ee(Kn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=f.createWebChannel(v,p);this.T_(w);let R=!1,U=!1;const Y=new oD({Ho:F=>{U?Ee(Kn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(Ee(Kn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),Ee(Kn,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Yo:()=>w.close()}),ee=(F,ce,he)=>{F.listen(ce,(se=>{try{he(se)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return ee(w,Eu.EventType.OPEN,(()=>{U||(Ee(Kn,`RPC '${e}' stream ${o} transport opened.`),Y.s_())})),ee(w,Eu.EventType.CLOSE,(()=>{U||(U=!0,Ee(Kn,`RPC '${e}' stream ${o} transport closed`),Y.__(),this.I_(w))})),ee(w,Eu.EventType.ERROR,(F=>{U||(U=!0,Ca(Kn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),Y.__(new ye(re.UNAVAILABLE,"The operation could not be completed")))})),ee(w,Eu.EventType.MESSAGE,(F=>{var ce;if(!U){const he=F.data[0];ot(!!he,16349);const se=he,Re=(se==null?void 0:se.error)||((ce=se[0])===null||ce===void 0?void 0:ce.error);if(Re){Ee(Kn,`RPC '${e}' stream ${o} received error:`,Re);const Pe=Re.status;let De=(function(I){const k=hn[I];if(k!==void 0)return ab(k)})(Pe),M=Re.message;De===void 0&&(De=re.INTERNAL,M="Unknown error status: "+Pe+" with message "+Re.message),U=!0,Y.__(new ye(De,M)),w.close()}else Ee(Kn,`RPC '${e}' stream ${o} received:`,he),Y.a_(he)}})),ee(m,_w.STAT_EVENT,(F=>{F.stat===up.PROXY?Ee(Kn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===up.NOPROXY&&Ee(Kn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.o_()}),0),Y}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(r){return new fN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="PersistentStream";class Tb{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cg(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ye(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ee(DE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(Ee(DE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uD extends Tb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=gN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Oe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?$i(f.readTime):Oe.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=_p(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=mp(p)?{documents:vN(u,p)}:{query:_N(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ub(u,f.resumeToken);const g=yp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Wh(u,f.snapshotVersion.toTimestamp());const g=yp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=TN(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=_p(this.serializer),n.removeTarget=e,this.k_(n)}}class cD extends Tb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=yN(e.writeResults,e.commitTime),s=$i(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=_p(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>db(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{}class fD extends hD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,vp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(re.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,vp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(re.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class dD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ns(n),this._a=!1):Ee("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class mD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{wo(this)&&(Ee(_o,"Restarting streams for network reachability change."),await(async function(p){const g=Le(p);g.Ia.add(4),await ic(g),g.Aa.set("Unknown"),g.Ia.delete(4),await wf(g)})(this))}))})),this.Aa=new dD(s,o)}}async function wf(r){if(wo(r))for(const e of r.da)await e(!0)}async function ic(r){for(const e of r.da)await e(!1)}function wb(r,e){const n=Le(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),mg(n)?dg(n):Il(n).x_()&&fg(n,e))}function hg(r,e){const n=Le(r),s=Il(n);n.Ta.delete(e),s.x_()&&bb(n,e),n.Ta.size===0&&(s.x_()?s.B_():wo(n)&&n.Aa.set("Unknown"))}function fg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(r).H_(e)}function bb(r,e){r.Ra.$e(e),Il(r).Y_(e)}function dg(r){r.Ra=new lN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Il(r).start(),r.Aa.aa()}function mg(r){return wo(r)&&!Il(r).M_()&&r.Ta.size>0}function wo(r){return Le(r).Ia.size===0}function Sb(r){r.Ra=void 0}async function pD(r){r.Aa.set("Online")}async function gD(r){r.Ta.forEach(((e,n)=>{fg(r,e)}))}async function yD(r,e){Sb(r),mg(r)?(r.Aa.la(e),dg(r)):r.Aa.set("Unknown")}async function vD(r,e,n){if(r.Aa.set("Online"),e instanceof lb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){Ee(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(r,s)}else if(e instanceof Vh?r.Ra.Ye(e):e instanceof ob?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Oe.min()))try{const s=await Eb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(qn.EMPTY_BYTE_STRING,v.snapshotVersion)),bb(u,p);const w=new ya(v.target,p,g,v.sequenceNumber);fg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){Ee(_o,"Failed to raise snapshot:",s),await ef(r,s)}}async function ef(r,e,n){if(!Cl(e))throw e;r.Ia.add(1),await ic(r),r.Aa.set("Offline"),n||(n=()=>Eb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ee(_o,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await wf(r)}))}function Ab(r,e){return e().catch((n=>ef(r,n,e)))}async function bf(r){const e=Le(r),n=Ma(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Xp;for(;_D(e);)try{const o=await eD(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,ED(e,o)}catch(o){await ef(e,o)}Rb(e)&&Cb(e)}function _D(r){return wo(r)&&r.Pa.length<10}function ED(r,e){r.Pa.push(e);const n=Ma(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function Rb(r){return wo(r)&&!Ma(r).M_()&&r.Pa.length>0}function Cb(r){Ma(r).start()}async function TD(r){Ma(r).na()}async function wD(r){const e=Ma(r);for(const n of r.Pa)e.X_(n.mutations)}async function bD(r,e,n){const s=r.Pa.shift(),o=ig.from(s,e,n);await Ab(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await bf(r)}async function SD(r,e){e&&Ma(r).Z_&&await(async function(s,o){if((function(f){return sb(f)&&f!==re.ABORTED})(o.code)){const u=s.Pa.shift();Ma(s).N_(),await Ab(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(r,e),Rb(r)&&Cb(r)}async function ME(r,e){const n=Le(r);n.asyncQueue.verifyOperationInProgress(),Ee(_o,"RemoteStore received new credentials");const s=wo(n);n.Ia.add(3),await ic(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await wf(n)}async function AD(r,e){const n=Le(r);e?(n.Ia.delete(2),await wf(n)):e||(n.Ia.add(2),await ic(n),n.Aa.set("Unknown"))}function Il(r){return r.Va||(r.Va=(function(n,s,o){const u=Le(n);return u.ia(),new uD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:pD.bind(null,r),e_:gD.bind(null,r),n_:yD.bind(null,r),J_:vD.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),mg(r)?dg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Sb(r))}))),r.Va}function Ma(r){return r.ma||(r.ma=(function(n,s,o){const u=Le(n);return u.ia(),new cD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:TD.bind(null,r),n_:SD.bind(null,r),ea:wD.bind(null,r),ta:bD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await bf(r)):(await r.ma.stop(),r.Pa.length>0&&(Ee(_o,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new pg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(r,e){if(Ns("AsyncQueue",`${e}: ${r}`),Cl(r))return new ye(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Tu(),this.sortedSet=new qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.fa=new qt(Ae.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):xe(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class El{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new El(e,n,fl.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class CD{constructor(){this.queries=VE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Le(n),u=o.queries;o.queries=VE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function VE(){return new To((r=>Fw(r)),gf)}async function Ib(r,e){const n=Le(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new RD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gg(f,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&yg(n)}async function xb(r,e){const n=Le(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ID(r,e){const n=Le(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&yg(n)}function xD(r,e,n){const s=Le(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function yg(r){r.Da.forEach((e=>{e.next()}))}var wp,kE;(kE=wp||(wp={})).Fa="default",kE.Cache="cache";class Nb{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new El(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class ND{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=Gw(e),this.eu=new fl(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new OE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const R=o.get(v),U=yf(this.query,w)?w:null,Y=!!R&&this.mutatedKeys.has(R.key),ee=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let F=!1;R&&U?R.data.isEqual(U.data)?Y!==ee&&(s.track({type:3,doc:U}),F=!0):this.iu(R,U)||(s.track({type:2,doc:U}),F=!0,(p&&this.Xa(U,p)>0||g&&this.Xa(U,g)<0)&&(m=!0)):!R&&U?(s.track({type:0,doc:U}),F=!0):R&&!U&&(s.track({type:1,doc:R}),F=!0,(p||g)&&(m=!0)),F&&(U?(f=f.add(U),u=ee?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((v,w)=>(function(U,Y){const ee=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{At:F})}};return ee(U)-ee(Y)})(v.type,w.type)||this.Xa(v.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new El(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new OE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new Mb(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new Db(s))})),n}uu(e){this.Ha=e.qs,this.Za=nt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return El.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const vg="SyncEngine";class DD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class MD{constructor(e){this.key=e,this.lu=!1}}class OD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new To((m=>Fw(m)),gf),this.Tu=new Map,this.Iu=new Set,this.du=new qt(Ae.comparator),this.Eu=new Map,this.Au=new ag,this.Ru={},this.Vu=new Map,this.mu=_l.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function VD(r,e,n=!0){const s=Ub(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Ob(s,e,n,!0),o}async function kD(r,e){const n=Ub(r);await Ob(n,e,!0,!1)}async function Ob(r,e,n,s){const o=await tD(r.localStore,Fr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await PD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wb(r.remoteStore,o),m}async function PD(r,e,n,s,o){r.gu=(w,R,U)=>(async function(ee,F,ce,he){let se=F.view.nu(ce);se.Ds&&(se=await CE(ee.localStore,F.query,!1).then((({documents:M})=>F.view.nu(M,se))));const Re=he&&he.targetChanges.get(F.targetId),Pe=he&&he.targetMismatches.get(F.targetId)!=null,De=F.view.applyChanges(se,ee.isPrimaryClient,Re,Pe);return LE(ee,F.targetId,De._u),De.snapshot})(r,w,R,U);const u=await CE(r.localStore,e,!0),f=new ND(e,u.qs),m=f.nu(u.documents),p=nc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);LE(r,n,g._u);const v=new DD(e,n,f);return r.Pu.set(e,v),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function LD(r,e,n){const s=Le(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!gf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),bp(s,o.targetId)})).catch(Rl)):(bp(s,o.targetId),await Ep(s.localStore,o.targetId,!0))}async function UD(r,e){const n=Le(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function zD(r,e,n){const s=$D(r);try{const o=await(function(f,m){const p=Le(f),g=Ot.now(),v=m.reduce(((U,Y)=>U.add(Y.key)),nt());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let Y=Ds(),ee=nt();return p.Os.getEntries(U,v).next((F=>{Y=F,Y.forEach(((ce,he)=>{he.isValidDocument()||(ee=ee.add(ce))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,Y))).next((F=>{w=F;const ce=[];for(const he of m){const se=iN(he,w.get(he.key).overlayedDocument);se!=null&&ce.push(new Pa(he.key,se,Pw(se.value.mapValue),yn.exists(!0)))}return p.mutationQueue.addMutationBatch(U,g,ce,m)})).next((F=>{R=F;const ce=F.applyToLocalDocumentSet(w,ee);return p.documentOverlayCache.saveOverlays(U,F.batchId,ce)}))})).then((()=>({batchId:R.batchId,changes:Qw(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new qt(Ye)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await rc(s,o.changes),await bf(s.remoteStore)}catch(o){const u=gg(o,"Failed to persist write");n.reject(u)}}async function Vb(r,e){const n=Le(r);try{const s=await JN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?ot(f.lu,14607):o.removedDocuments.size>0&&(ot(f.lu,42227),f.lu=!1))})),await rc(n,s,e)}catch(s){await Rl(s)}}function PE(r,e,n){const s=Le(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Le(f);p.onlineState=m;let g=!1;p.queries.forEach(((v,w)=>{for(const R of w.wa)R.va(m)&&(g=!0)})),g&&yg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jD(r,e,n){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new qt(Ae.comparator);f=f.insert(u,xn.newNoDocument(u,Oe.min()));const m=nt().add(u),p=new Ef(Oe.min(),new Map,new qt(Ye),f,m);await Vb(s,p),s.du=s.du.remove(u),s.Eu.delete(e),_g(s)}else await Ep(s.localStore,e,!1).then((()=>bp(s,e,n))).catch(Rl)}async function BD(r,e){const n=Le(r),s=e.batch.batchId;try{const o=await WN(n.localStore,e);Pb(n,s,null),kb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rc(n,o)}catch(o){await Rl(o)}}async function qD(r,e,n){const s=Le(r);try{const o=await(function(f,m){const p=Le(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(ot(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);Pb(s,e,n),kb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await rc(s,o)}catch(o){await Rl(o)}}function kb(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function Pb(r,e,n){const s=Le(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function bp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||Lb(r,s)}))}function Lb(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(hg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),_g(r))}function LE(r,e,n){for(const s of n)s instanceof Db?(r.Au.addReference(s.key,e),HD(r,s)):s instanceof Mb?(Ee(vg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Lb(r,s.key)):xe(19791,{yu:s})}function HD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(Ee(vg,"New document in limbo: "+n),r.Iu.add(s),_g(r))}function _g(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ae(bt.fromString(e)),s=r.mu.next();r.Eu.set(s,new MD(n)),r.du=r.du.insert(n,s),wb(r.remoteStore,new ya(Fr(tg(n.path)),s,"TargetPurposeLimboResolution",mf.ue))}}async function rc(r,e,n){const s=Le(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=lg.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const v=Le(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(g,(R=>oe.forEach(R.Is,(U=>v.persistence.referenceDelegate.addReference(w,R.targetId,U))).next((()=>oe.forEach(R.ds,(U=>v.persistence.referenceDelegate.removeReference(w,R.targetId,U)))))))))}catch(w){if(!Cl(w))throw w;Ee(ug,"Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const U=v.Fs.get(R),Y=U.snapshotVersion,ee=U.withLastLimboFreeSnapshotVersion(Y);v.Fs=v.Fs.insert(R,ee)}}})(s.localStore,u))}async function FD(r,e){const n=Le(r);if(!n.currentUser.isEqual(e)){Ee(vg,"User change. New user:",e.toKey());const s=await _b(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ye(re.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await rc(n,s.Bs)}}function GD(r,e){const n=Le(r),s=n.Eu.get(e);if(s&&s.lu)return nt().add(s.key);{let o=nt();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function Ub(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jD.bind(null,e),e.hu.J_=ID.bind(null,e.eventManager),e.hu.pu=xD.bind(null,e.eventManager),e}function $D(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qD.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return XN(this.persistence,new QN,e.initialUser,this.serializer)}Du(e){return new vb(og.Vi,this.serializer)}bu(e){return new iD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class QD extends tf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ot(this.persistence.referenceDelegate instanceof Zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MN(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new vb((s=>Zh.Vi(s,n)),this.serializer)}}class Sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>PE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FD.bind(null,this.syncEngine),await AD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CD})()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=(function(u){return new lD(u)})(e.databaseInfo);return(function(u,f,m,p){return new fD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new mD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>PE(this.syncEngine,n,0)),(function(){return NE.C()?new NE:new rD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,v){const w=new OD(o,u,f,m,p,g);return v&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Le(o);Ee(_o,"RemoteStore shutting down."),u.Ia.add(5),await ic(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Le(o),m={documents:u.map((w=>Jh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,bt.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const R=pN(f.serializer,w);g.set(R.key.toString(),R)}));const v=[];return u.forEach((w=>{const R=g.get(w.toString());ot(!!R,55234,{key:w}),v.push(R)})),v})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new tc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Ae.fromPath(s);this.mutations.push(new rb(o,this.precondition(o)))})),await(async function(s,o){const u=Le(s),f={writes:o.map((m=>db(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,bt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe(50498,{Wu:e.constructor.name});n=Oe.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ye(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Oe.min())?yn.exists(!1):yn.updateTime(n):yn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Oe.min()))throw new ye(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(n)}return yn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new cg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new YD(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Ju(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!sb(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class XD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{Ee(Oa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Ee(Oa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=gg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function jm(r,e){r.asyncQueue.verifyOperationInProgress(),Ee(Oa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _b(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Ca("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{Ee("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Ca("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function UE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await WD(r);Ee(Oa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ME(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ME(e.remoteStore,o))),r._onlineComponents=e}async function WD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee(Oa,"Using user provided OfflineComponentProvider");try{await jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await jm(r,new tf)}}else Ee(Oa,"Using default OfflineComponentProvider"),await jm(r,new QD(void 0));return r._offlineComponents}async function Eg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee(Oa,"Using user provided OnlineComponentProvider"),await UE(r,r._uninitializedComponentsProvider._online)):(Ee(Oa,"Using default OnlineComponentProvider"),await UE(r,new Sp))),r._onlineComponents}function JD(r){return Eg(r).then((e=>e.syncEngine))}function ZD(r){return Eg(r).then((e=>e.datastore))}async function Ap(r){const e=await Eg(r),n=e.eventManager;return n.onListen=VD.bind(null,e.syncEngine),n.onUnlisten=LD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UD.bind(null,e.syncEngine),n}function eM(r,e,n={}){const s=new Rs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const v=new zb({next:R=>{v.Ou(),f.enqueueAndForget((()=>xb(u,w))),R.fromCache&&p.source==="server"?g.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new Nb(m,v,{includeMetadataChanges:!0,ka:!0});return Ib(u,w)})(await Ap(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firestore.googleapis.com",jE=!0;class BE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=jE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NN)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ux;switch(s.type){case"firstParty":return new dx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zE.get(n);s&&(Ee("ComponentProvider","Removing Datastore"),zE.delete(n),s.terminate())})(this),Promise.resolve()}}function tM(r,e,n,s={}){var o;r=Gi(r,Sf);const u=wl(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(IT(`https://${p}`),xT("Firestore",!0)),f.host!==Bb&&f.host!==p&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ra(g,m)&&(r._setSettings(g),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Wn.MOCK_USER;else{v=zR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wn(R)}r._authCredentials=new cx(new bw(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Wu(n,Qt._jsonSchema))return new Qt(e,s||null,new Ae(bt.fromString(n.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:dn("string",Qt._jsonSchemaVersion),referencePath:dn("string")};class Sa extends bo{constructor(e,n,s){super(e,n,tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Ae(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function vu(r,e,...n){if(r=Yt(r),Aw("collection","path",e),r instanceof Sf){const s=bt.fromString(e,...n);return eE(s),new Sa(r,null,s)}{if(!(r instanceof Qt||r instanceof Sa))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(bt.fromString(e,...n));return eE(s),new Sa(r.firestore,null,s)}}function Xn(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=Kp.newId()),Aw("doc","path",e),r instanceof Sf){const s=bt.fromString(e,...n);return Z0(s),new Qt(r,null,new Ae(s))}{if(!(r instanceof Qt||r instanceof Sa))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(bt.fromString(e,...n));return Z0(s),new Qt(r.firestore,r instanceof Sa?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="AsyncQueue";class HE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cg(this,"async_queue_retry"),this.oc=()=>{const s=zm();s&&Ee(qE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Rs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Cl(e))throw e;Ee(qE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Ns("INTERNAL UNHANDLED ERROR: ",FE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=pg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&xe(47125,{hc:FE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function FE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ms extends Sf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new HE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function nM(r,e){const n=typeof r=="object"?r:OT(),s=typeof r=="string"?r:$h,o=Pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=LR("firestore");u&&tM(o,...u)}return o}function sc(r){if(r._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iM(r),r._firestoreClient}function iM(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,v){return new xx(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,jb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new XD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(qn.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hi(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wu(e,Hi._jsonSchema))return Hi.fromBase64String(e.bytes)}}Hi._jsonSchemaVersion="firestore/bytes/1.0",Hi._jsonSchema={type:dn("string",Hi._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(Wu(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:dn("string",Gr._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wu(e,$r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $r(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:dn("string",$r._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=/^__.*__$/;class sM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ec(e,this.data,n,this.fieldTransforms)}}class qb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ec:r})}}class Af{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return nf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Hb(this.Ec)&&rM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class aM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}Dc(e,n,s,o=!1){return new Af({Ec:e,methodName:n,bc:s,path:Bn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oc(r){const e=r._freezeSettings(),n=Tf(r._databaseId);return new aM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Tg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Rg("Data must be an object, but it was:",f,s);const m=Fb(s,f);let p,g;if(u.merge)p=new Fi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const w of u.mergeFields){const R=Rp(e,w,n);if(!f.contains(R))throw new ye(re.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);$b(v,R)||v.push(R)}p=new Fi(v),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new sM(new ci(m),p,g)}class lc extends ac{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lc}}function oM(r,e,n){return new Af({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wg extends ac{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=oM(this,e,!0),s=this.vc.map((u=>Nl(u,n))),o=new vl(s);return new tb(e.path,o)}isEqual(e){return e instanceof wg&&Ra(this.vc,e.vc)}}class bg extends ac{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new ju(e.serializer,Xw(e.serializer,this.Cc));return new tb(e.path,n)}isEqual(e){return e instanceof bg&&this.Cc===e.Cc}}function Sg(r,e,n,s){const o=r.Dc(1,e,n);Rg("Data must be an object, but it was:",o,s);const u=[],f=ci.empty();ka(s,((p,g)=>{const v=Cg(e,p,n);g=Yt(g);const w=o.gc(v);if(g instanceof lc)u.push(v);else{const R=Nl(g,w);R!=null&&(u.push(v),f.set(v,R))}}));const m=new Fi(u);return new qb(f,m,o.fieldTransforms)}function Ag(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[Rp(e,s,n)],p=[o];if(u.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Rp(e,u[R])),p.push(u[R+1]);const g=[],v=ci.empty();for(let R=m.length-1;R>=0;--R)if(!$b(g,m[R])){const U=m[R];let Y=p[R];Y=Yt(Y);const ee=f.gc(U);if(Y instanceof lc)g.push(U);else{const F=Nl(Y,ee);F!=null&&(g.push(U),v.set(U,F))}}const w=new Fi(g);return new qb(v,w,f.fieldTransforms)}function lM(r,e,n,s=!1){return Nl(n,r.Dc(s?4:3,e))}function Nl(r,e){if(Gb(r=Yt(r)))return Rg("Unsupported field value:",e,r),Fb(r,e);if(r instanceof ac)return(function(s,o){if(!Hb(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Nl(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Xw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof Gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hi)return{bytesValue:ub(o.serializer,s._byteString)};if(s instanceof Qt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof $r)return(function(f,m){return{mapValue:{fields:{[Vw]:{stringValue:kw},[Qh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return ng(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${df(s)}`)})(r,e)}function Fb(r,e){const n={};return Iw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(r,((s,o)=>{const u=Nl(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Gb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ot||r instanceof Gr||r instanceof Hi||r instanceof Qt||r instanceof ac||r instanceof $r)}function Rg(r,e,n){if(!Gb(n)||!Rw(n)){const s=df(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Rp(r,e,n){if((e=Yt(e))instanceof xl)return e._internalPath;if(typeof e=="string")return Cg(r,e);throw nf("Field path arguments must be of type string or ",r,!1,void 0,n)}const uM=new RegExp("[~\\*/\\[\\]]");function Cg(r,e,n){if(e.search(uM)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xl(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function nf(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(re.INVALID_ARGUMENT,m+r+p)}function $b(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cM extends rf{data(){return super.data()}}function Ig(r,e){return typeof e=="string"?Cg(r,e):e instanceof xl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class hM extends xg{}function fM(r,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Ng)).length,m=u.filter((p=>p instanceof Rf)).length;if(f>1||f>0&&m>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Rf extends hM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Rf(e,n,s)}_apply(e){const n=this._parse(e);return Yb(e._query,n),new bo(e.firestore,e.converter,pp(e._query,n))}_parse(e){const n=oc(e.firestore);return(function(u,f,m,p,g,v,w){let R;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){QE(w,v);const Y=[];for(const ee of w)Y.push($E(p,u,ee));R={arrayValue:{values:Y}}}else R=$E(p,u,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||QE(w,v),R=lM(m,f,w,v==="in"||v==="not-in");return fn.create(g,v,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dM(r,e,n){const s=e,o=Ig("where",r);return Rf._create(o,s,n)}class Ng extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Yb(f,p),f=pp(f,p)})(e._query,n),new bo(e.firestore,e.converter,pp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $E(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hw(e)&&n.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(bt.fromString(n));if(!Ae.isDocumentKey(s))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lE(r,new Ae(s))}if(n instanceof Qt)return lE(r,n._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function QE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yb(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kb{convertValue(e,n="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ka(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Jt(f.doubleValue)));return new $r(u)}convertGeoPoint(e){return new Gr(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=pf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const n=xa(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=bt.fromString(e);ot(gb(s),9688,{name:e});const o=new Lu(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return o.isEqual(n)||Ns(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class mM extends Kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends rf{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ig("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:dn("string",Aa._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class kh extends Aa{data(e={}){return super.data(e)}}class po{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kh(this._firestore,this._userDataWriter,s.key,s,new ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:pM(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:dn("string",po._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Cf extends Kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function YE(r){r=Gi(r,bo);const e=Gi(r.firestore,Ms),n=sc(e),s=new Cf(e);return Qb(r._query),eM(n,r._query).then((o=>new po(e,s,r,o)))}function _u(r,e,n){r=Gi(r,Qt);const s=Gi(r.firestore,Ms),o=Dg(r.converter,e,n);return If(s,[Tg(oc(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,yn.none())])}function nl(r,e,n,...s){r=Gi(r,Qt);const o=Gi(r.firestore,Ms),u=oc(o);let f;return f=typeof(e=Yt(e))=="string"||e instanceof xl?Ag(u,"updateDoc",r._key,e,n,s):Sg(u,"updateDoc",r._key,e),If(o,[f.toMutation(r._key,yn.exists(!0))])}function Th(r){return If(Gi(r.firestore,Ms),[new tc(r._key,yn.none())])}function Bm(r,...e){var n,s,o;r=Yt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||GE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(GE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,v;if(r instanceof Qt)g=Gi(r.firestore,Ms),v=tg(r._key.path),p={next:w=>{e[f]&&e[f](gM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=Gi(r,bo);g=Gi(w.firestore,Ms),v=w._query;const R=new Cf(g);p={next:U=>{e[f]&&e[f](new po(g,R,w,U))},error:e[f+1],complete:e[f+2]},Qb(r._query)}return(function(R,U,Y,ee){const F=new zb(ee),ce=new Nb(U,F,Y);return R.asyncQueue.enqueueAndForget((async()=>Ib(await Ap(R),ce))),()=>{F.Ou(),R.asyncQueue.enqueueAndForget((async()=>xb(await Ap(R),ce)))}})(sc(g),v,m,p)}function If(r,e){return(function(s,o){const u=new Rs;return s.asyncQueue.enqueueAndForget((async()=>zD(await JD(s),o,u))),u.promise})(sc(r),e)}function gM(r,e,n){const s=n.docs.get(e._key),o=new Cf(r);return new Aa(r,o,e._key,s,new ll(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=oc(e)}set(e,n,s){this._verifyNotCommitted();const o=va(e,this._firestore),u=Dg(o.converter,n,s),f=Tg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,yn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=va(e,this._firestore);let f;return f=typeof(n=Yt(n))=="string"||n instanceof xl?Ag(this._dataReader,"WriteBatch.update",u._key,n,s,o):Sg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=va(e,this._firestore);return this._mutations=this._mutations.concat(new tc(n._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function va(r,e){if((r=Yt(r)).firestore!==e)throw new ye(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=oc(e)}get(e){const n=va(e,this._firestore),s=new mM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return xe(24041);const u=o[0];if(u.isFoundDocument())return new rf(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new rf(this._firestore,s,n._key,null,n.converter);throw xe(18433,{doc:u})}))}set(e,n,s){const o=va(e,this._firestore),u=Dg(o.converter,n,s),f=Tg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=va(e,this._firestore);let f;return f=typeof(n=Yt(n))=="string"||n instanceof xl?Ag(this._dataReader,"Transaction.update",u._key,n,s,o):Sg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=va(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM extends _M{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=va(e,this._firestore),s=new Cf(this._firestore);return super.get(e).then((o=>new Aa(this._firestore,s,n._key,o._document,new ll(!1,!1),n.converter)))}}function TM(r,e,n){r=Gi(r,Ms);const s=Object.assign(Object.assign({},yM),n);return(function(u){if(u.maxAttempts<1)throw new ye(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Rs;return u.asyncQueue.enqueueAndForget((async()=>{const g=await ZD(u);new KD(u.asyncQueue,g,m,f,p).zu()})),p.promise})(sc(r),(o=>e(new EM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return new lc("deleteField")}function bM(...r){return new wg("arrayUnion",r)}function SM(r){return new bg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(r){return sc(r=Gi(r,Ms)),new vM(r,(e=>If(r,e)))}(function(e,n=!0){(function(o){Al=o})(bl),dl(new go("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ms(new hx(s.getProvider("auth-internal")),new mx(f,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(g.options.projectId,v)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ta(Y0,K0,e),Ta(Y0,K0,"esm2017")})();var RM="firebase",CM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ta(RM,CM,"app");const IM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},Xb=MT(IM),ur=ox(Xb),cn=nM(Xb),qm=new ws;(async()=>{try{await Ru(ur,hw)}catch{try{await Ru(ur,cf)}catch{await Ru(ur,op)}}})();var Mg={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var H=new OffscreenCanvas(1,1),T=H.getContext("2d");T.fillRect(0,0,1,1);var q=H.transferToImageBitmap();T.createPattern(q,"no-repeat")}catch{return!1}return!0})();function p(){}function g(H){var T=n.exports.Promise,q=T!==void 0?T:e.Promise;return typeof q=="function"?new q(H):(H(p,p),null)}var v=(function(H,T){return{transform:function(q){if(H)return q;if(T.has(q))return T.get(q);var X=new OffscreenCanvas(q.width,q.height),le=X.getContext("2d");return le.drawImage(q,0,0),T.set(q,X),X},clear:function(){T.clear()}}})(m,new Map),w=(function(){var H=Math.floor(16.666666666666668),T,q,X={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(ue){var me=Math.random();return X[me]=requestAnimationFrame(function fe(Se){le===Se||le+H-1<Se?(le=Se,delete X[me],ue()):X[me]=requestAnimationFrame(fe)}),me},q=function(ue){X[ue]&&cancelAnimationFrame(X[ue])}):(T=function(ue){return setTimeout(ue,H)},q=function(ue){return clearTimeout(ue)}),{frame:T,cancel:q}})(),R=(function(){var H,T,q={};function X(le){function ue(me,fe){le.postMessage({options:me||{},callback:fe})}le.init=function(fe){var Se=fe.transferControlToOffscreen();le.postMessage({canvas:Se},[Se])},le.fire=function(fe,Se,Ie){if(T)return ue(fe,null),T;var Xe=Math.random().toString(36).slice(2);return T=g(function(He){function lt(xt){xt.data.callback===Xe&&(delete q[Xe],le.removeEventListener("message",lt),T=null,v.clear(),Ie(),He())}le.addEventListener("message",lt),ue(fe,Xe),q[Xe]=lt.bind(null,{data:{callback:Xe}})}),T},le.reset=function(){le.postMessage({reset:!0});for(var fe in q)q[fe](),delete q[fe]}}return function(){if(H)return H;if(!s&&u){var le=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{H=new Worker(URL.createObjectURL(new Blob([le])))}catch(ue){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ue),null}X(H)}return H}})(),U={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Y(H,T){return T?T(H):H}function ee(H){return H!=null}function F(H,T,q){return Y(H&&ee(H[T])?H[T]:U[T],q)}function ce(H){return H<0?0:Math.floor(H)}function he(H,T){return Math.floor(Math.random()*(T-H))+H}function se(H){return parseInt(H,16)}function Re(H){return H.map(Pe)}function Pe(H){var T=String(H).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:se(T.substring(0,2)),g:se(T.substring(2,4)),b:se(T.substring(4,6))}}function De(H){var T=F(H,"origin",Object);return T.x=F(T,"x",Number),T.y=F(T,"y",Number),T}function M(H){H.width=document.documentElement.clientWidth,H.height=document.documentElement.clientHeight}function C(H){var T=H.getBoundingClientRect();H.width=T.width,H.height=T.height}function I(H){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=H,T}function k(H,T,q,X,le,ue,me,fe,Se){H.save(),H.translate(T,q),H.rotate(ue),H.scale(X,le),H.arc(0,0,1,me,fe,Se),H.restore()}function z(H){var T=H.angle*(Math.PI/180),q=H.spread*(Math.PI/180);return{x:H.x,y:H.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:H.startVelocity*.5+Math.random()*H.startVelocity,angle2D:-T+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:H.color,shape:H.shape,tick:0,totalTicks:H.ticks,decay:H.decay,drift:H.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:H.gravity*3,ovalScalar:.6,scalar:H.scalar,flat:H.flat}}function j(H,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var q=T.tick++/T.totalTicks,X=T.x+T.random*T.tiltCos,le=T.y+T.random*T.tiltSin,ue=T.wobbleX+T.random*T.tiltCos,me=T.wobbleY+T.random*T.tiltSin;if(H.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-q)+")",H.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))H.fill(de(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(ue-X)*.1,Math.abs(me-le)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,Se=Math.abs(ue-X)*.1,Ie=Math.abs(me-le)*.1,Xe=T.shape.bitmap.width*T.scalar,He=T.shape.bitmap.height*T.scalar,lt=new DOMMatrix([Math.cos(fe)*Se,Math.sin(fe)*Se,-Math.sin(fe)*Ie,Math.cos(fe)*Ie,T.x,T.y]);lt.multiplySelf(new DOMMatrix(T.shape.matrix));var xt=H.createPattern(v.transform(T.shape.bitmap),"no-repeat");xt.setTransform(lt),H.globalAlpha=1-q,H.fillStyle=xt,H.fillRect(T.x-Xe/2,T.y-He/2,Xe,He),H.globalAlpha=1}else if(T.shape==="circle")H.ellipse?H.ellipse(T.x,T.y,Math.abs(ue-X)*T.ovalScalar,Math.abs(me-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):k(H,T.x,T.y,Math.abs(ue-X)*T.ovalScalar,Math.abs(me-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Me=Math.PI/2*3,Vt=4*T.scalar,Ht=8*T.scalar,_n=T.x,Hn=T.y,En=5,Zt=Math.PI/En;En--;)_n=T.x+Math.cos(Me)*Ht,Hn=T.y+Math.sin(Me)*Ht,H.lineTo(_n,Hn),Me+=Zt,_n=T.x+Math.cos(Me)*Vt,Hn=T.y+Math.sin(Me)*Vt,H.lineTo(_n,Hn),Me+=Zt;else H.moveTo(Math.floor(T.x),Math.floor(T.y)),H.lineTo(Math.floor(T.wobbleX),Math.floor(le)),H.lineTo(Math.floor(ue),Math.floor(me)),H.lineTo(Math.floor(X),Math.floor(T.wobbleY));return H.closePath(),H.fill(),T.tick<T.totalTicks}function N(H,T,q,X,le){var ue=T.slice(),me=H.getContext("2d"),fe,Se,Ie=g(function(Xe){function He(){fe=Se=null,me.clearRect(0,0,X.width,X.height),v.clear(),le(),Xe()}function lt(){s&&!(X.width===o.width&&X.height===o.height)&&(X.width=H.width=o.width,X.height=H.height=o.height),!X.width&&!X.height&&(q(H),X.width=H.width,X.height=H.height),me.clearRect(0,0,X.width,X.height),ue=ue.filter(function(xt){return j(me,xt)}),ue.length?fe=w.frame(lt):He()}fe=w.frame(lt),Se=He});return{addFettis:function(Xe){return ue=ue.concat(Xe),Ie},canvas:H,promise:Ie,reset:function(){fe&&w.cancel(fe),Se&&Se()}}}function It(H,T){var q=!H,X=!!F(T||{},"resize"),le=!1,ue=F(T,"disableForReducedMotion",Boolean),me=u&&!!F(T||{},"useWorker"),fe=me?R():null,Se=q?M:C,Ie=H&&fe?!!H.__confetti_initialized:!1,Xe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,He;function lt(Me,Vt,Ht){for(var _n=F(Me,"particleCount",ce),Hn=F(Me,"angle",Number),En=F(Me,"spread",Number),Zt=F(Me,"startVelocity",Number),Ar=F(Me,"decay",Number),La=F(Me,"gravity",Number),Kr=F(Me,"drift",Number),Ft=F(Me,"colors",Re),ks=F(Me,"ticks",Number),Nt=F(Me,"shapes"),kt=F(Me,"scalar"),Fn=!!F(Me,"flat"),Ps=De(Me),Ii=_n,hr=[],hi=H.width*Ps.x,ft=H.height*Ps.y;Ii--;)hr.push(z({x:hi,y:ft,angle:Hn,spread:En,startVelocity:Zt,color:Ft[Ii%Ft.length],shape:Nt[he(0,Nt.length)],ticks:ks,decay:Ar,gravity:La,drift:Kr,scalar:kt,flat:Fn}));return He?He.addFettis(hr):(He=N(H,hr,Se,Vt,Ht),He.promise)}function xt(Me){var Vt=ue||F(Me,"disableForReducedMotion",Boolean),Ht=F(Me,"zIndex",Number);if(Vt&&Xe)return g(function(Zt){Zt()});q&&He?H=He.canvas:q&&!H&&(H=I(Ht),document.body.appendChild(H)),X&&!Ie&&Se(H);var _n={width:H.width,height:H.height};fe&&!Ie&&fe.init(H),Ie=!0,fe&&(H.__confetti_initialized=!0);function Hn(){if(fe){var Zt={getBoundingClientRect:function(){if(!q)return H.getBoundingClientRect()}};Se(Zt),fe.postMessage({resize:{width:Zt.width,height:Zt.height}});return}_n.width=_n.height=null}function En(){He=null,X&&(le=!1,e.removeEventListener("resize",Hn)),q&&H&&(document.body.contains(H)&&document.body.removeChild(H),H=null,Ie=!1)}return X&&!le&&(le=!0,e.addEventListener("resize",Hn,!1)),fe?fe.fire(Me,_n,En):lt(Me,_n,En)}return xt.reset=function(){fe&&fe.reset(),He&&He.reset()},xt}var pt;function te(){return pt||(pt=It(null,{useWorker:!0,resize:!0})),pt}function de(H,T,q,X,le,ue,me){var fe=new Path2D(H),Se=new Path2D;Se.addPath(fe,new DOMMatrix(T));var Ie=new Path2D;return Ie.addPath(Se,new DOMMatrix([Math.cos(me)*le,Math.sin(me)*le,-Math.sin(me)*ue,Math.cos(me)*ue,q,X])),Ie}function be(H){if(!f)throw new Error("path confetti are not supported in this browser");var T,q;typeof H=="string"?T=H:(T=H.path,q=H.matrix);var X=new Path2D(T),le=document.createElement("canvas"),ue=le.getContext("2d");if(!q){for(var me=1e3,fe=me,Se=me,Ie=0,Xe=0,He,lt,xt=0;xt<me;xt+=2)for(var Me=0;Me<me;Me+=2)ue.isPointInPath(X,xt,Me,"nonzero")&&(fe=Math.min(fe,xt),Se=Math.min(Se,Me),Ie=Math.max(Ie,xt),Xe=Math.max(Xe,Me));He=Ie-fe,lt=Xe-Se;var Vt=10,Ht=Math.min(Vt/He,Vt/lt);q=[Ht,0,0,Ht,-Math.round(He/2+fe)*Ht,-Math.round(lt/2+Se)*Ht]}return{type:"path",path:T,matrix:q}}function qe(H){var T,q=1,X="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof H=="string"?T=H:(T=H.text,q="scalar"in H?H.scalar:q,le="fontFamily"in H?H.fontFamily:le,X="color"in H?H.color:X);var ue=10*q,me=""+ue+"px "+le,fe=new OffscreenCanvas(ue,ue),Se=fe.getContext("2d");Se.font=me;var Ie=Se.measureText(T),Xe=Math.ceil(Ie.actualBoundingBoxRight+Ie.actualBoundingBoxLeft),He=Math.ceil(Ie.actualBoundingBoxAscent+Ie.actualBoundingBoxDescent),lt=2,xt=Ie.actualBoundingBoxLeft+lt,Me=Ie.actualBoundingBoxAscent+lt;Xe+=lt+lt,He+=lt+lt,fe=new OffscreenCanvas(Xe,He),Se=fe.getContext("2d"),Se.font=me,Se.fillStyle=X,Se.fillText(T,xt,Me);var Vt=1/q;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[Vt,0,0,Vt,-Xe*Vt/2,-He*Vt/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=It,n.exports.shapeFromPath=be,n.exports.shapeFromText=qe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Mg,!1);const xM=Mg.exports;Mg.exports.create;const NM=({className:r})=>O.jsxs("span",{className:"relative inline-block "+(r||""),children:[O.jsx(ET,{className:"w-5 h-5"}),O.jsx("span",{className:"absolute -right-1 -top-1",children:O.jsx(Jm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await Ru(ur,cf)}catch{}})();function DM(r,e){return`${window.location.origin}/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function MM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function bu(){try{try{await Ru(ur,cf)}catch{}await gI(ur,qm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await z0(ur,qm);return}await z0(ur,qm)}}function OM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const VM=()=>{const[r]=dR(),e=xp(),n=r.get("listId"),s=r.get("token"),[o,u]=D.useState(ur.currentUser),[f,m]=D.useState(!0),[p,g]=D.useState(!1),[v,w]=D.useState(null);D.useEffect(()=>nw(ur,Y=>{u(Y),m(!1)}),[]);const R=async()=>{w(null);try{await bu()}catch(Y){w((Y==null?void 0:Y.message)||" ")}},U=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await R();return}g(!0),w(null);try{await TM(cn,async Y=>{var se;const ee=Xn(cn,"lists",n),F=await Y.get(ee);if(!F.exists())throw new Error("  ");const he=(se=F.data().pendingInvites)==null?void 0:se[s];if(!he)throw new Error("  ");if(he.expiresAt<Date.now())throw new Error("  ");Y.update(ee,{sharedWith:bM(o.uid),[`pendingInvites.${s}`]:wM()})}),localStorage.setItem("activeListId",n),e("/")}catch(Y){w((Y==null?void 0:Y.message)||"  ")}finally{g(!1)}};return f?O.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[O.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),O.jsx(ol,{className:"animate-spin text-indigo-600"})]}):O.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:O.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[O.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:O.jsx(Zm,{className:"w-10 h-10"})}),O.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?O.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,v?O.jsx("p",{className:"text-rose-500 font-bold break-words",children:v}):null,o?O.jsx("button",{onClick:U,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?O.jsx(ol,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):O.jsxs("button",{onClick:R,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[O.jsx(TT,{className:"w-4 h-4"}),"   "]})]})})},Wb={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},ui=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Bu=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function sf(r){return r?/^\d+$/.test(r)?!0:Wb[r]!=null:!1}function kM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=Wb[r];return e??null}const PM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function LM(r){return PM.has(r)}const Hm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Fm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),Gm=new Set(["","","","","","","","","","","","",""]);function UM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!sf(o)&&!sf(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Hm.has(f)||Hm.has(p)){e.push(Hm.has(f)?f:p),n+=2;continue}if(Fm.has(u)||Fm.has(m)){e.push(Fm.has(u)?f:p),n+=2;continue}if(Gm.has(u)||Gm.has(m)){e.push(Gm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function zM(r){const e=[];for(let n=0;n<r.length;n++){const s=r[n],o=n+1<r.length?r[n+1]:"";if(s===""&&o){e.push(`${o}`),n+=1;continue}e.push(s)}return e}function jM(r){const e=ui(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=UM(n),n=zM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const v=Math.max(1,Number(p??o??1));s.push({name:g,qty:v})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(sf(g)){const w=Math.max(1,kM(g)||1),R=m(p);if(u.length===0){o=w;continue}if(!R){f(w);continue}f(),o=w;continue}u.push(g);const v=m(p);u.length===1&&LM(u[0])||g===""||g===""||v===""||v===""||g!==""&&(v===""||v&&v.startsWith("")&&v.length>1||sf(v)||f())}return u.length>0&&f(),s.map(p=>({name:p.name.replace(new RegExp("","g")," ").replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function Jb(r){const e=Bu(r),n=ui(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=jM(f);for(const p of m)u.push(p)}return u}function BM(r){const s=(r||"").trim();if(!s)return"";const o=ui(Bu(s));if(!o||/^(|||)\s+/.test(o)||/^\s*(\s+|\s+|\s+|\s+|\s+)\s*$/.test(o)||/^\s*(clear\s+list|delete\s+list|remove\s+list)\s*$/.test(o)||/^\s*(\s+|\s+)\s*$/.test(o)||/^\s*(\s+|\s+)\s*$/.test(o))return s;const u=new Set([" "," "," "," "," "," ","clear list","delete list","remove list"," "," "," "," "]),f=Jb(s);return f.length===0?s:f.map(p=>{const g=(p.name||"").replace(/\s+/g," ").trim();if(!g)return"";const v=ui(g);if(u.has(v))return g;const w=g.split(" ").filter(Boolean);return w.length<=1?g:w.join(",")}).filter(Boolean).join(", ")}function qM(r){const s=(r||"").trim();if(!s)return"";const o=ui(Bu(s));if(o&&(/^(|||)\s+/.test(o)||/^\s*(\s+|\s+|\s+|\s+|\s+)\s*$/.test(o)||/^\s*(clear\s+list|delete\s+list|remove\s+list)\s*$/.test(o)||/^\s*(\s+|\s+)\s*$/.test(o)||/^\s*(\s+|\s+)\s*$/.test(o)))return s.replace(/\s+/g," ").trim();const u="";return s.replaceAll("",u).split(/,\s+/).map(g=>g.replaceAll(u,"").trim()).filter(Boolean).map(g=>{let v=g.replace(new RegExp(",","g")," ");return v=v.replace(/,/g," "),v=v.replace(/\s+/g," ").trim(),v?v.split(" ").filter(Boolean).join(""):""}).filter(Boolean).join(", ")}const HM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function qr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const Zb="shopping_list_item_history_v1",e1="shopping_list_hidden_suggestions_v1",FM=1440*60*1e3;function Og(){try{const r=localStorage.getItem(e1);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Vg(r){try{localStorage.setItem(e1,JSON.stringify(r))}catch{}}function KE(){const r=Og(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&Vg(r),n}function GM(r){const e=Og();e[r]=Date.now()+FM,Vg(e)}function $m(r){try{const e=Og();e[r]&&(delete e[r],Vg(e))}catch{}}function $M(){try{const r=localStorage.getItem(Zb);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function XE(r){try{localStorage.setItem(Zb,JSON.stringify(r))}catch{}}function QM(r){const e=r.query,n=qr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,v)=>{const w=g.trim();if(!w)return;const R=qr(w);if(!R||r.hiddenKeys.has(R))return;const U=o.get(R);if(U){U.sources.add(v);return}o.set(R,{name:w,key:R,sources:new Set([v])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,v]of Object.entries(r.history)){u((v==null?void 0:v.name)||g,"history");const w=o.get(g);w&&(w.history=v)}for(const g of HM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const v=qr(g.name);v&&(m.has(v)||m.set(v,{id:g.id,quantity:g.quantity}))}const p=g=>{const v=g.key,w=v.startsWith(n),R=!w&&v.includes(n);if(!w&&!R)return-1/0;let U=w?120:70;if(g.sources.has("favorite")&&(U+=45),g.sources.has("history")&&(U+=35),g.sources.has("items")&&(U+=20),g.sources.has("static")&&(U+=10),g.history){const Y=Math.max(0,g.history.count||0),ee=Math.max(0,g.history.lastUsed||0);U+=Math.min(30,Math.log2(Y+1)*8);const F=(Date.now()-ee)/(1e3*60*60*24),ce=Math.max(0,20-F);U+=Math.min(20,ce)}return U};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,v)=>v.s-g.s).slice(0,s).map(g=>{const v=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!v,itemId:v==null?void 0:v.id,currentQty:v==null?void 0:v.quantity}})}const wh="shoppingListLang",bh={he:{reminderTitle:"  ",scheduleTitle:" ",addToCalendar:"   (  )",whenConvenient:"  ?",duration:"",minutes:"",openCalendar:" ",cancel:"",eventTitle:"  ",eventDetails:"   -     "},en:{reminderTitle:"Shopping Reminder",scheduleTitle:"Schedule Shopping",addToCalendar:"We'll add a calendar reminder (without list items)",whenConvenient:"When is it convenient?",duration:"Duration",minutes:"min",openCalendar:"Open in Calendar",cancel:"Cancel",eventTitle:"Shopping Reminder",eventDetails:"Shopping reminder - open your shopping list app"},ru:{reminderTitle:"  ",scheduleTitle:" ",addToCalendar:"    (  )",whenConvenient:"  ?",duration:"",minutes:"",openCalendar:"  ",cancel:"",eventTitle:"  ",eventDetails:"   -    "},ar:{reminderTitle:" ",scheduleTitle:" ",addToCalendar:"    (  )",whenConvenient:" ",duration:"",minutes:"",openCalendar:"  ",cancel:"",eventTitle:" ",eventDetails:"  -    "}},WE=()=>{try{const r=(navigator.language||"").toLowerCase();return r.startsWith("he")||r.startsWith("iw")?"he":r.startsWith("ru")?"ru":r.startsWith("ar")?"ar":"en"}catch{return"he"}},YM={he:"he-IL",en:"en-US",ru:"ru-RU",ar:"ar-SA"},Qm={he:{" ":" ","  ":"  ","    ,    .":"    ,    .","  ":"  ","   ":"   ",:"",:"",:""," ":" ",:"","  ":"  ","  ":"  "," :    ,  ":" :    ,  ","  -    ":"  -    ",":":":",":":":","  -   ":"  -   ","    ":"    ","    .  Chrome  Edge.":"    .  Chrome  Edge.","  ?":"  ?",:"",:"",:"",:"","  ":"  "," ":" ","   ":"   ","   ?":"   ?","     .":"     .",:""," ":" ",:""," ":" ","  ":"  ",:"","  ":"  ","   ":"   "," ?":" ?",".    3 ":".    3 "},en:{" ":"The list is empty","  ":"Sign in with Google","    ,    .":"To use the list and invite friends, please sign in with Google.","  ":"My Easy List","   ":"Leave shared list",:"WhatsApp",:"Language",:"Sign out"," ":"Clear list",:"Favorites","  ":"Items that return to the cart","  ":"No favorites yet"," :    ,  ":"Voice commands: hold the mic, release to run","  -    ":"Listening now - speak and release to run",":":"Heard:",":":"Examples:","  -   ":"Speak now - release to run","    ":"Please sign in before voice commands","    .  Chrome  Edge.":"Your browser does not support speech recognition. Try Chrome or Edge.","  ?":"What to add to the list?",:"List",:"Bought",:"Calendar",:"Share","  ":"Share shopping list"," ":"List link","   ":"Join link to my list","   ?":"Clear the entire list?","     .":"This will delete all items from the list.",:"Cancel"," ":"Delete all"," ":"List cleared","   ":"Could not find an item to delete","   ":"Could not find an item to mark","   ":"Could not find an item to increase","   ":"Could not find an item to decrease","     - ...":"Stopping due to a very long phrase - running...","   (    )":"Microphone is unavailable (another app may be using it)","   ":"Could not start listening","   -  ":"No audio captured - try again","...":"Running...","       ":"You can disconnect only from a shared list you do not own",:"Error",:"Recording"," ":"Tap to stop","  ":"Tap to speak",:"Processing","  ":"Review before sending","   ":"You can edit or cancel"," ?":"What did you say?",:"Send",".    3 ":"Done. You can undo for 3 seconds",:"Undo",:"Undone",:"Done"},ru:{" ":" ","  ":"  Google","    ,    .":"     ,   Google.","  ":"My Easy List","   ":"   ",:"WhatsApp",:"",:""," ":" ",:"","  ":"   ","  ":"  "," :    ,  ":" :  ,   ","  -    ":" -     ",":":":",":":":","  -   ":" -   ","    ":"     ","    .  Chrome  Edge.":"     .  Chrome  Edge.","  ?":"   ?",:"",:"",:"",:"","  ":"  "," ":"  ","   ":"     ","   ?":"  ?","     .":"     .",:""," ":" "," ":" ","   ":"    ","   ":"    ","   ":"    ","   ":"    ","     - ...":" -    - ...","   (    )":"  (,    )","   ":"   ","   -  ":"   -   ","...":"...","       ":"     ,     ",:"",:""," ":",  ","  ":",  ",:"","  ":"  ","   ":"   "," ?":"  ?",:"",".    3 ":".     3 ",:"",:"",:""},ar:{" ":" ","  ":"   Google","    ,    .":"        Google.","  ":"My Easy List","   ":"  ",:"",:"",:" "," ":" ",:"","  ":"   ","  ":"   "," :    ,  ":" :       ","  -    ":"  -   ",":":":",":":":","  -   ":"  -  ","    ":"     ","    .  Chrome  Edge.":"     .  Chrome  Edge.","  ?":"     ",:"",:" ",:"",:"","  ":"  "," ":" ","   ":"   ","   ?":"  ","     .":"     .",:""," ":" "," ":"  ","   ":"   ","   ":"   ","   ":"   ","   ":"   ","     - ...":"     -  ...","   (    )":"   (    )","   ":"   ","   -  ":"    -   ","...":" ...","       ":"        ",:"",:" "," ":" ","  ":" ",:" ","  ":"  ","   ":"   "," ?":" ",:"",".    3 ":".    3 ",:"",:" ",:""}},KM=r=>{switch(r){case"en":return'"eggs tomato bell pepper two cucumbers" | "two cucumbers" | "clear list"';case"ru":return'"    " | " " | " "';case"ar":return'"   " | "" | " "';case"he":default:return'"    " | " " | " "'}},XM=()=>{var Ga;const[r,e]=D.useState(null),[n,s]=D.useState(()=>{try{const S=localStorage.getItem(wh);return S==="he"||S==="en"||S==="ru"||S==="ar"?S:WE()}catch{return WE()}}),o=D.useMemo(()=>bh[n]??bh.he,[n]);D.useEffect(()=>{try{localStorage.setItem(wh,n)}catch{}},[n]);const u=D.useMemo(()=>{const S=Qm[n]||Qm.he;return V=>S[V]??Qm.he[V]??V},[n]),f=D.useMemo(()=>YM[n]??"he-IL",[n]),[m,p]=D.useState(!1),g=D.useRef(null),[v,w]=D.useState(null),[R,U]=D.useState([]),[Y,ee]=D.useState(()=>new Set),[F,ce]=D.useState(()=>new Set),[he,se]=D.useState(()=>new Set),[Re,Pe]=D.useState(()=>new Set),[De,M]=D.useState(()=>new Set),[C,I]=D.useState(()=>new Set),[k,z]=D.useState(()=>new Set),j=D.useRef(new Set),[N,It]=D.useState({}),[pt,te]=D.useState([]),[de,be]=D.useState("list"),[qe,H]=D.useState(""),T=D.useRef(null),[q,X]=D.useState(!1),[le,ue]=D.useState(-1),me=D.useRef({}),fe=D.useRef(null);D.useEffect(()=>{me.current=$M()},[]),D.useEffect(()=>{if(j.current.size===0)return;const S=Array.from(j.current);for(const V of S)R.find(Z=>Z.id===V&&!Z.isPurchased)&&(j.current.delete(V),It(Z=>({...Z,[V]:"from"})),requestAnimationFrame(()=>{It(Z=>({...Z,[V]:"to"}))}),window.setTimeout(()=>{It(Z=>{const ge={...Z};return delete ge[V],ge})},260))},[R]);const[Se,Ie]=D.useState(!1),[Xe,He]=D.useState(!1),lt=D.useRef(null),[xt,Me]=D.useState(!1),[Vt,Ht]=D.useState(!1),[_n,Hn]=D.useState(()=>{const S=new Date,V=new Date(S);V.setMinutes(0,0,0),V.setHours(18),V.getTime()<S.getTime()&&V.setHours(S.getHours()+1);const L=Z=>String(Z).padStart(2,"0");return`${V.getFullYear()}-${L(V.getMonth()+1)}-${L(V.getDate())}T${L(V.getHours())}:${L(V.getMinutes())}`}),[En,Zt]=D.useState(60),[Ar,La]=D.useState(!0),[Kr,Ft]=D.useState(!1),[ks,Nt]=D.useState(!1),[kt,Fn]=D.useState(!1),[Ps]=D.useState("hold_to_talk"),[Ii,hr]=D.useState(""),[hi,ft]=D.useState(null),[yt,Pt]=D.useState("idle"),[Dn,So]=D.useState(0),[Ua,Xr]=D.useState(""),[Rr,Zn]=D.useState(""),Cr=D.useRef(null);D.useRef(null);const Tn=D.useRef(null),[Mn,Yi]=D.useState(null),fi=D.useRef(null),ei=D.useRef(!1),xi=D.useRef(null),ti=D.useRef(null),mn=D.useRef(!1),Ni=D.useRef([]),di=D.useRef(""),mi=D.useRef(!1),za=1800,Gn=D.useRef(null);D.useEffect(()=>{if(Ii){if(kt){Gn.current&&(window.clearTimeout(Gn.current),Gn.current=null);return}return Gn.current&&window.clearTimeout(Gn.current),Gn.current=window.setTimeout(()=>{hr(""),Gn.current=null},za),()=>{Gn.current&&(window.clearTimeout(Gn.current),Gn.current=null)}}},[Ii,kt]);const en=D.useRef(null),pi=D.useRef(null),On=D.useRef(!1),ut=D.useRef(null),[Fe,St]=D.useState({id:null,dx:0}),[fr,gi]=D.useState(!1),Ir=D.useRef([]);D.useEffect(()=>()=>{Ir.current.forEach(S=>window.clearTimeout(S)),Ir.current=[]},[]);const yi=D.useRef({}),wn=70,vi=110,Di=S=>{const V=S;return V?!!V.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},dr=S=>V=>{Di(V.target)||(fr&&(gi(!1),St({id:null,dx:0})),On.current=!1,en.current={x:V.clientX,y:V.clientY,id:S,pointerId:V.pointerId},pi.current={x:V.clientX,y:V.clientY},St({id:S,dx:0}),yi.current[S]=!1)},Wr=S=>V=>{const L=en.current;if(!L||L.id!==S||L.pointerId!==V.pointerId)return;pi.current={x:V.clientX,y:V.clientY};const Z=V.clientX-L.x,ge=Math.max(-vi,Math.min(vi,Z)),ve=Math.abs(Z)>=wn;if(ve&&!yi.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),yi.current[S]=!0),ve||(yi.current[S]=!1),!ut.current&&Math.abs(Z)>10&&Math.abs(Z)>=Math.abs(V.clientY-L.y))try{V.currentTarget.setPointerCapture(V.pointerId),ut.current={el:V.currentTarget,pointerId:V.pointerId}}catch{}St({id:S,dx:ge})},Mi=S=>async V=>{const L=en.current,Z=pi.current;en.current=null;try{ut.current&&ut.current.el.releasePointerCapture(L.pointerId)}catch{}if(ut.current=null,pi.current=null,!L||L.id!==S){St({id:null,dx:0});return}const ge=(Z==null?void 0:Z.x)??V.clientX,ve=(Z==null?void 0:Z.y)??V.clientY,_e=ge-L.x,st=ve-L.y;if(St({id:null,dx:0}),!(Math.abs(_e)<wn||Math.abs(_e)<Math.abs(st))){On.current=!0;try{_e>0?Vi(S):Jr.has(S)||await ii(S)}finally{window.setTimeout(()=>{On.current=!1},0)}}},zt=S=>V=>{if(Di(V.target))return;const L=V.touches[0];L&&(On.current=!1,en.current={x:L.clientX,y:L.clientY,id:S,pointerId:-1},pi.current={x:L.clientX,y:L.clientY},St({id:S,dx:0}),yi.current[S]=!1)},Ls=S=>V=>{const L=en.current;if(!L||L.id!==S)return;const Z=V.touches[0];if(!Z)return;pi.current={x:Z.clientX,y:Z.clientY};const ge=Z.clientX-L.x,ve=Z.clientY-L.y,_e=Math.abs(ge)>=wn;if(_e&&!yi.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),yi.current[S]=!0),_e||(yi.current[S]=!1),Math.abs(ge)<6||Math.abs(ge)<Math.abs(ve))return;try{V.preventDefault()}catch{}const st=Math.max(-vi,Math.min(vi,ge));St({id:S,dx:st})},xr=S=>async V=>{const L=en.current,Z=pi.current;if(en.current=null,pi.current=null,!L||L.id!==S){St({id:null,dx:0});return}const ge=Z?Z.x-L.x:0;if(Math.abs(ge)<wn){St({id:null,dx:0});return}On.current=!0,ge>0?Vi(S):Jr.has(S)||await ii(S),St({id:null,dx:0})},Vn=()=>{en.current=null,pi.current=null;try{ut.current&&ut.current.el.releasePointerCapture(ut.current.pointerId)}catch{}ut.current=null,St({id:null,dx:0})},ni=D.useRef(null),Ao=D.useRef([]),Nr=D.useRef(!1);D.useEffect(()=>{ni.current=(v==null?void 0:v.id)??null},[v==null?void 0:v.id]),D.useEffect(()=>{Ao.current=R},[R]),D.useEffect(()=>{if(!R||R.length===0){Nr.current=!1;return}const S=R.every(V=>V.isPurchased);S&&!Nr.current&&(Nr.current=!0,xM({particleCount:140,spread:75,origin:{y:.65}})),S||(Nr.current=!1)},[R]),D.useEffect(()=>{if(!hi)return;const S=setTimeout(()=>ft(null),2500);return()=>clearTimeout(S)},[hi]),D.useEffect(()=>nw(ur,async S=>{try{if(e(S),La(!1),!S){w(null),U([]),te([]);return}Nt(!0);const V=fM(vu(cn,"lists"),dM("sharedWith","array-contains",S.uid)),L=await YE(V);if(L.empty){const Z=Xn(vu(cn,"lists")),ge={id:Z.id,title:" ",ownerUid:S.uid,sharedWith:[S.uid],createdAt:Date.now(),updatedAt:Date.now()};await _u(Z,ge),w(ge),localStorage.setItem("activeListId",Z.id)}else{const Z=localStorage.getItem("activeListId"),ge=Z?L.docs.find(_e=>_e.id===Z)??L.docs[0]:L.docs[0],ve=ge.data();w({...ve,id:ge.id}),localStorage.setItem("activeListId",ge.id)}Nt(!1)}finally{Ft(!0)}}),[]),D.useEffect(()=>{if(!(v!=null&&v.id))return;const S=Xn(cn,"lists",v.id),V=vu(S,"items"),L=vu(S,"favorites"),Z=Bm(S,_e=>{_e.exists()&&w({..._e.data(),id:_e.id})}),ge=Bm(V,_e=>{const st=_e.docs.map(Ve=>Ve.data());U(st)}),ve=Bm(L,_e=>{const st=_e.docs.map(Ve=>{const Ue=Ve.data();return{id:Ve.id,name:String((Ue==null?void 0:Ue.name)||""),createdAt:Number((Ue==null?void 0:Ue.createdAt)||0)}});st.sort((Ve,Ue)=>Ue.createdAt-Ve.createdAt),te(st)});return()=>{Z(),ge(),ve()}},[v==null?void 0:v.id]);const Jr=D.useMemo(()=>{const S=new Set;for(const V of pt)S.add(V.id);return S},[pt]),ja=D.useMemo(()=>{const S=new Set,V=[];for(const L of pt){const Z=ui(L.name);Z&&(S.has(Z)||(S.add(Z),V.push(L)))}return V},[pt]),_i=D.useMemo(()=>R.filter(S=>!S.isPurchased).sort((S,V)=>V.createdAt-S.createdAt),[R]),mr=D.useRef(0);D.useEffect(()=>{const S=_i.length,V=mr.current;if(mr.current=S,V===0&&S===1){const L=_i[0];if(!L||en.current)return;Ir.current.forEach(st=>window.clearTimeout(st)),Ir.current=[],gi(!0),St({id:L.id,dx:76});const Z=window.setTimeout(()=>St({id:L.id,dx:0}),650),ge=window.setTimeout(()=>St({id:L.id,dx:-76}),1150),ve=window.setTimeout(()=>St({id:L.id,dx:0}),1800),_e=window.setTimeout(()=>{St({id:null,dx:0}),gi(!1)},2150);Ir.current.push(Z,ge,ve,_e)}},[_i.length,(Ga=_i[0])==null?void 0:Ga.id]);const $n=D.useMemo(()=>R.filter(S=>S.isPurchased).sort((S,V)=>(V.purchasedAt||0)-(S.purchasedAt||0)),[R]),bn=S=>{const V=S.trim();if(!V)return;const L=qr(V);if(!L)return;const Z=me.current[L],ge={name:V,count:((Z==null?void 0:Z.count)||0)+1,lastUsed:Date.now()};me.current={...me.current,[L]:ge},XE(me.current)},Ki=D.useRef(new Set);D.useEffect(()=>{Ki.current=new Set(KE())},[]);const Ei=D.useMemo(()=>{const S=new Set(KE());return Ki.current=S,QM({query:qe,favorites:(pt??[]).map(V=>V.name),items:R??[],history:me.current,hiddenKeys:S,limit:8})},[qe,pt,R]),Us=()=>{fe.current&&window.clearTimeout(fe.current),fe.current=window.setTimeout(()=>{X(!1),ue(-1)},120)},zs=()=>{fe.current&&window.clearTimeout(fe.current),X(!0)},Dr=async S=>{if(S.isInList&&S.itemId){const V=(S.currentQty??1)+1;await Ge(S.itemId,1);const L=S.key||qr(S.name);L&&($m(L),Ki.current.delete(L)),ft(`  -   -${V}`),H(""),ue(-1),X(!1),window.requestAnimationFrame(()=>{var Z;return(Z=T.current)==null?void 0:Z.focus()});return}H(S.name),ue(-1),X(!1),window.requestAnimationFrame(()=>{var V;return(V=T.current)==null?void 0:V.focus()})},pr=S=>{const V=S.key||qr(S.name);if(!V)return;const L={...me.current};L[V]&&(delete L[V],me.current=L,XE(L));const Z=new Set(Ki.current);Z.add(V),Ki.current=Z,GM(V),X(!1),ue(-1),window.requestAnimationFrame(()=>{var ge;return(ge=T.current)==null?void 0:ge.focus()})},Lt=async S=>{if(S&&S.preventDefault(),!r){await bu();return}if(!(v!=null&&v.id))return;const V=qe.trim();if(!V)return;const L=qr(V),Z=R.find(_e=>qr(_e.name)===L);if(Z){await Ge(Z.id,1),L&&($m(L),Ki.current.delete(L)),bn(Z.name),H(""),X(!1),ue(-1);return}const ge=crypto.randomUUID(),ve={id:ge,name:V,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await _u(Xn(cn,"lists",v.id,"items",ge),ve),L&&($m(L),Ki.current.delete(L)),bn(V),H(""),X(!1),ue(-1)},Oi=async S=>{if(!(v!=null&&v.id))return;const V=R.find(Z=>Z.id===S);if(!V)return;const L=!V.isPurchased;await nl(Xn(cn,"lists",v.id,"items",S),{isPurchased:L,purchasedAt:L?Date.now():null})},Zr=240,js=S=>{const V=R.find(L=>L.id===S);if(!V||V.isPurchased){Oi(S);return}ee(L=>{const Z=new Set(L);return Z.add(S),Z}),window.setTimeout(()=>{Oi(S).finally(()=>{ee(L=>{const Z=new Set(L);return Z.delete(S),Z})})},Zr)},Ge=async(S,V)=>{if(!(v!=null&&v.id))return;if(V>0){await nl(Xn(cn,"lists",v.id,"items",S),{quantity:SM(V)});return}const L=R.find(Z=>Z.id===S);L&&await nl(Xn(cn,"lists",v.id,"items",S),{quantity:Math.max(1,L.quantity+V)})},es=async S=>{v!=null&&v.id&&await Th(Xn(cn,"lists",v.id,"items",S))},Vi=S=>{v!=null&&v.id&&(C.has(S)||(I(V=>{const L=new Set(V);return L.add(S),L}),window.setTimeout(()=>{es(S).finally(()=>{I(V=>{const L=new Set(V);return L.delete(S),L})})},240)))},ii=async S=>{if(!(v!=null&&v.id))return;const V=Xn(cn,"lists",v.id,"favorites",S);if(Jr.has(S)){await Th(V);return}const L=R.find(ve=>ve.id===S),Z=String((L==null?void 0:L.name)||""),ge=ui(Z);ge&&pt.some(_e=>ui(_e.name)===ge)||(await _u(V,{name:Z,createdAt:Date.now()}),se(ve=>{const _e=new Set(ve);return _e.add(S),_e}),window.setTimeout(()=>{se(ve=>{const _e=new Set(ve);return _e.delete(S),_e})},260))},Dl=async S=>{v!=null&&v.id&&await Th(Xn(cn,"lists",v.id,"favorites",S))},Ba=S=>{v!=null&&v.id&&(k.has(S)||(z(V=>{const L=new Set(V);return L.add(S),L}),window.setTimeout(()=>{Dl(S).finally(()=>{z(V=>{const L=new Set(V);return L.delete(S),L})})},240)))},qa=async()=>{const S=ni.current||(v==null?void 0:v.id);if(!S)return;const V=vu(cn,"lists",S,"items"),L=await YE(V);if(L.empty){Me(!1);return}const Z=L.docs;let ge=0;for(;ge<Z.length;){const ve=AM(cn),_e=Z.slice(ge,ge+450);for(const st of _e)ve.delete(st.ref);await ve.commit(),ge+=_e.length}Me(!1)},Ha=async()=>{if(!r)return await bu(),null;if(!(v!=null&&v.id))return null;const S=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),V=Date.now()+2880*60*1e3;return await nl(Xn(cn,"lists",v.id),{[`pendingInvites.${S}`]:{createdAt:Date.now(),expiresAt:V}}),DM(v.id,S)},Ml=async()=>{const S=await Ha();if(S){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:u(" "),text:u("   "),url:S});return}}catch{}await MM(S),Ie(!0),setTimeout(()=>Ie(!1),2e3)}},Ol=(S,V)=>{const[L,Z]=S.split("T"),[ge,ve,_e]=L.split("-").map(jt=>parseInt(jt,10)),[st,Ve]=Z.split(":").map(jt=>parseInt(jt,10)),Ue=new Date(ge,ve-1,_e,st,Ve,0,0),Rt=new Date(Ue.getTime()+Math.max(15,V)*6e4),$e=jt=>String(jt).padStart(2,"0"),Ke=jt=>`${jt.getFullYear()}${$e(jt.getMonth()+1)}${$e(jt.getDate())}T${$e(jt.getHours())}${$e(jt.getMinutes())}00`,Kt=`${Ke(Ue)}/${Ke(Rt)}`,dt=encodeURIComponent(o.eventTitle),ai=encodeURIComponent(o.eventDetails),ss=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${dt}&dates=${encodeURIComponent(Kt)}&details=${ai}&ctz=${ss}`},Xi=()=>{const S=Ol(_n,En),V=navigator.userAgent||"",L=/Android/i.test(V),Z=/iPhone|iPad|iPod/i.test(V);if(L){const ge=S.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=ge,window.setTimeout(()=>{window.location.href=S},700);return}if(Z){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=S},700);return}window.open(S,"_blank","noopener,noreferrer")},tn=()=>{const S=R.filter(oi=>!oi.isPurchased),V="",L="",Z="",ge="",_e=(()=>{var Qa;const oi=qs=>{const rn=String(qs||"").toLowerCase();return rn?rn==="he"||rn.startsWith("he")||rn.startsWith("iw")?"he":rn==="en"||rn.startsWith("en")?"en":rn==="ru"||rn.startsWith("ru")?"ru":rn==="ar"||rn.startsWith("ar")?"ar":null:null};try{const qs=["shoppingListLang",wh,"appLang","appLanguage","uiLang","lang","language","selectedLanguage"];for(const Co of qs){const Ya=oi(localStorage.getItem(Co));if(Ya)return Ya}const rn=oi(n);if(rn)return rn;const Sn=oi((Qa=document==null?void 0:document.documentElement)==null?void 0:Qa.lang);if(Sn)return Sn}catch{}return"he"})(),st=localStorage.getItem(wh)||_e,Ve=bh[st]??bh.he;globalThis.Treminder=Ve;const Ue={he:" ",en:"My list",ru:" ",ar:""},Rt={he:"  ",en:"The list is currently empty",ru:"  ",ar:"  "},$e=((v==null?void 0:v.title)||"").trim(),Ke=$e===Ue.he||$e===Ue.en||$e===Ue.ru||$e===Ue.ar,Kt=$e?Ke?Ue[_e]:$e:Ue[_e],dt=S.length>0?S.map(oi=>(oi.quantity||1)<=1?`${V}${oi.name}${L}`:`${V}${oi.name} X ${Z}${oi.quantity}${ge}${L}`).join(`
`):`${V}(${Rt[_e]||Rt.he})${L}`,ai=`*${Kt}:*`,ss={he:"    ",en:"Sent from My Easy List ",ru:"   My Easy List ",ar:"     "},jt=ss[_e]||ss.he,$a=`${ai}

${dt}

${jt}`;OM($a)},Wi=D.useRef(null),Ji=D.useRef(null),Qn=D.useRef(null),[it,ts]=D.useState({id:null,dx:0,rawDx:0}),Mr=D.useRef({}),gr=60,pn=110,ki=async S=>{if(!(v!=null&&v.id))return{targetId:null,created:!1};const V=qr(S.name),L=R.find(ve=>!ve.isPurchased&&qr(ve.name)===V);if(L)return Pe(ve=>{const _e=new Set(ve);return _e.add(L.id),_e}),window.setTimeout(()=>{Pe(ve=>{const _e=new Set(ve);return _e.delete(L.id),_e})},260),{targetId:L.id,created:!1};M(ve=>{const _e=new Set(ve);return _e.add(S.id),_e}),window.setTimeout(()=>{M(ve=>{const _e=new Set(ve);return _e.delete(S.id),_e})},260);const Z=crypto.randomUUID(),ge={id:Z,name:S.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};return j.current.add(Z),await _u(Xn(cn,"lists",v.id,"items",Z),ge),{targetId:Z,created:!0}},Fa=S=>V=>{Di(V.target)||(Wi.current={x:V.clientX,y:V.clientY,id:S,pointerId:V.pointerId},Ji.current={x:V.clientX,y:V.clientY},ts({id:S,dx:0,rawDx:0}),Mr.current[S]=!1)},Zi=S=>V=>{const L=Wi.current;if(!L||L.id!==S)return;Ji.current={x:V.clientX,y:V.clientY};const Z=V.clientX-L.x,ge=V.clientY-L.y,ve=Math.abs(Z)>=gr;if(ve&&!Mr.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Mr.current[S]=!0),ve||(Mr.current[S]=!1),!Qn.current&&Math.abs(Z)>10&&Math.abs(ge)<=Math.abs(Z)*1.2)try{V.currentTarget.setPointerCapture(V.pointerId),Qn.current={el:V.currentTarget,pointerId:V.pointerId}}catch{}if(Math.abs(ge)>Math.abs(Z)*1.6)return;const _e=Math.max(-pn,Math.min(pn,Z));ts({id:S,dx:_e,rawDx:Z})},ri=S=>async V=>{const L=Wi.current,Z=Ji.current;Wi.current=null;try{Qn.current&&L&&Qn.current.el.releasePointerCapture(L.pointerId)}catch{}if(Qn.current=null,Ji.current=null,ts({id:null,dx:0,rawDx:0}),!L||L.id!==S)return;const ge=(Z==null?void 0:Z.x)??V.clientX,ve=(Z==null?void 0:Z.y)??V.clientY,_e=ge-L.x,st=ve-L.y;if(Math.abs(_e)<gr||Math.abs(st)>Math.abs(_e)*1.6)return;const Ve=pt.find(Ue=>Ue.id===S);_e>0?Ba(S):Ve&&await ki(Ve)},Bs=()=>{Wi.current=null,Ji.current=null,Qn.current=null,ts({id:null,dx:0,rawDx:0})},si=S=>{const V=ui(S),L=R.find(ge=>ui(ge.name)===V);return L||R.find(ge=>ui(ge.name).includes(V)||V.includes(ui(ge.name)))||null},Or=(S,V)=>{const Z=(S||"").trim().toLowerCase().replace(/[^\p{L}\p{N}\s]/gu," ").replace(/\s+/g," ").trim();switch(V){case"en":return[/^clear( the)? list$/,/^empty( the)? list$/,/\b(clear|empty)\b.*\b(list)\b/,/\b(delete|remove)\b.*\b(all|everything|all items|items)\b/,/\b(delete|remove)\b.*\b(list)\b/].some(ve=>ve.test(Z));case"ru":return[/^()?\s+(|)$/,/^()?\s+(|)$/,/^()?\s+$/,/^()?\s+$/,/\b(()?|()?|()?|(|))\b.*\b((|))\b/,/\b(()?|()?)\b.*\b()\b/].some(ve=>ve.test(Z));case"ar":return[/^(|)\s+()$/,/^(|)\s+()$/,/\b(||)\b.*\b()\b/,/\b(|)\b.*\b()\b/].some(ve=>ve.test(Z));case"he":default:return[/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/,/^(||)$/].some(ve=>ve.test(Z))||Z.includes("")&&Z.includes("")&&(Z.includes("")||Z.includes(""))||Z.includes("")&&(Z.includes("")||Z.includes(""))}},ns=()=>{const S=window.SpeechRecognition||window.webkitSpeechRecognition;return S||null},Vr=S=>{const V=String(Math.floor(S/60)).padStart(2,"0"),L=String(Math.floor(S%60)).padStart(2,"0");return`${V}:${L}`},At=()=>{Tn.current!=null&&window.clearInterval(Tn.current),So(0),Tn.current=window.setInterval(()=>{So(S=>S+1)},1e3)},nn=()=>{Tn.current!=null&&window.clearInterval(Tn.current),Tn.current=null},yr=async()=>{var S,V;try{if(!((S=navigator==null?void 0:navigator.mediaDevices)!=null&&S.getUserMedia))return;const L=await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!0,autoGainControl:!0}});try{(V=L.getTracks)==null||V.call(L).forEach(Z=>Z.stop())}catch{}xi.current=null}catch{}},vr=()=>{var S,V;try{(V=(S=xi.current)==null?void 0:S.getTracks)==null||V.call(S).forEach(L=>L.stop())}catch{}xi.current=null},kr=async S=>{const V=ni.current||(v==null?void 0:v.id);if(V)for(const L of S)try{L.type==="delete_item"?await Th(Xn(cn,"lists",V,"items",L.id)):L.type==="restore_qty"&&await nl(Xn(cn,"lists",V,"items",L.id),{quantity:L.prevQty})}catch{}},Ro=async S=>{const V=ni.current||(v==null?void 0:v.id);if(!V)return[];const L=ui(Bu(S));if(!L)return[];if(Or(L,n))return await qa(),ft(u(" ")),[];if(/^(|||)\s+/.test(L)){const $e=L.replace(/^(|||)\s+/,"").trim(),Ke=si($e);return Ke?(Vi(Ke.id),ft(`: ${Ke.name}`),[]):(ft(u("   ")),[])}const Z=L.match(/^(||)\s+(.+)\s+(||)$/);if(Z){const $e=Z[2].trim(),Ke=si($e);return Ke?(Ke.isPurchased||await Oi(Ke.id),ft(` : ${Ke.name}`),[]):(ft(u("   ")),[])}const ge=L.match(/^(||)\s+(.+)$/);if(ge){const $e=ge[2].trim(),Ke=si($e);return Ke?(await Ge(Ke.id,1),ft(`: ${Ke.name}`),[]):(ft(u("   ")),[])}const ve=L.match(/^(||)\s+(.+)$/);if(ve){const $e=ve[2].trim(),Ke=si($e);return Ke?(await Ge(Ke.id,-1),ft(`: ${Ke.name}`),[]):(ft(u("   ")),[])}const _e=L.match(/^(|||)(?:\s+)?\s+(.+)$/),st=_e?_e[2]:L,Ve=Jb(st);if(Ve.length===0)return[];const Ue=[],Rt=Ao.current||R;for(const $e of Ve){const Ke=($e.name||"").trim();if(!Ke)continue;const Kt=Rt.find(dt=>!dt.isPurchased&&ui(dt.name)===ui(Ke));if(Kt){const dt=Kt.quantity;await nl(Xn(cn,"lists",V,"items",Kt.id),{quantity:$e.qty}),Ue.push({type:"restore_qty",id:Kt.id,prevQty:dt})}else{const dt=crypto.randomUUID(),ai={id:dt,name:Ke,quantity:$e.qty,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await _u(Xn(cn,"lists",V,"items",dt),ai),Ue.push({type:"delete_item",id:dt})}}return Ue},Pr=async()=>{const S=ns();if(!S){alert(u("    .  Chrome  Edge."));return}if(!r){ft(u("    ")),bu();return}if(await yr(),Ni.current=[],di.current="",mi.current=!1,ei.current=!0,Xr(""),hr(""),Fn(!0),Pt("recording"),At(),typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(10),ti.current){try{ti.current.stop()}catch{}ti.current=null}const V=new S;ti.current=V,V.lang=f,V.interimResults=!0,V.maxAlternatives=1,V.continuous=!0;let L=!1,Z=Date.now();const ge=3e3;let ve=null;const _e=()=>{ve!=null&&window.clearTimeout(ve),ve=null},st=()=>{ei.current&&L&&(ve!=null&&window.clearTimeout(ve),ve=window.setTimeout(()=>{if(!ei.current)return;Date.now()-Z>=ge&&is()},ge+50))};V.onresult=Ve=>{try{let Ue="";const Rt=Ve.results;if(!Rt)return;for(let Ke=Ve.resultIndex??0;Ke<((Rt==null?void 0:Rt.length)??0);Ke++){const Kt=Rt[Ke],dt=Kt==null?void 0:Kt[0],ai=Bu(String((dt==null?void 0:dt.transcript)||""));ai&&(Kt.isFinal?(Ni.current[Ke]=ai,di.current=""):(Ue=ai,di.current=ai))}const $e=Ue||(Ni.current.length?Ni.current[Ni.current.length-1]:"");$e&&hr($e),L=!0,Z=Date.now(),st()}catch{}},V.onerror=Ve=>{const Ue=String((Ve==null?void 0:Ve.error)||"");console.warn("Speech error:",Ue,Ve),Ue!=="no-speech"&&(_e(),nn(),vr(),Fn(!1),Pt("idle"),ei.current=!1,Ue==="not-allowed"||Ue==="service-not-allowed"?alert("  .     ."):ft(Ue==="audio-capture"?u("   (    )"):` : ${Ue||"unknown"}`))},V.onend=()=>{_e(),ei.current&&(mi.current||(mi.current=!0,setTimeout(()=>{if(!ei.current){mi.current=!1;return}try{V.start()}catch{}finally{mi.current=!1}},180)))};try{V.start(),st()}catch(Ve){console.error(Ve),_e(),nn(),vr(),Fn(!1),Pt("idle"),ei.current=!1,ft(u("   "))}},is=async()=>{var ve,_e;if(!ei.current)return;ei.current=!1,Fn(!1),Pt("processing"),nn(),typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(20);try{(_e=(ve=ti.current)==null?void 0:ve.stop)==null||_e.call(ve)}catch{}vr(),await new Promise(st=>setTimeout(st,220));const S=Ni.current.filter(Boolean),L=(st=>{let Ve="";for(const Ue of st){const Rt=String(Ue||"").trim();if(!Rt)continue;if(!Ve){Ve=Rt;continue}const $e=Ve.trim();if(Rt.startsWith($e)){Ve=Rt;continue}if($e.startsWith(Rt))continue;const Ke=Math.min($e.length,Rt.length,60);let Kt=!1;for(let dt=Ke;dt>=10;dt--)if($e.slice(-dt)===Rt.slice(0,dt)){Ve=$e+Rt.slice(dt),Kt=!0;break}Kt||(Ve=$e+" "+Rt)}return Ve.replace(/\s+/g," ").trim()})(S),Z=(di.current||"").trim(),ge=`${L} ${Z}`.replace(/\s+/g," ").trim();if(Ni.current=[],di.current="",!ge){Pt("idle"),ft(u("   -  "));return}Xr(ge),Zn(BM(ge)),Pt("review")},kn=async S=>{const V=(S??Ua).trim();if(!V){Pt("idle");return}Pt("processing");try{const L=await Ro(V);Pt("idle"),Xr(""),Zn(""),L.length>0?(fi.current!=null&&window.clearTimeout(fi.current),Yi({msg:u(u(".    3 ")),undoLabel:u(""),onUndo:async()=>{await kr(L),Yi(null),fi.current!=null&&window.clearTimeout(fi.current),fi.current=null,ft(u(""))}}),fi.current=window.setTimeout(()=>{Yi(null),fi.current=null},3e3)):ft(u(""))}catch(L){console.error(L),Pt("idle"),ft(`${u("")}: ${String((L==null?void 0:L.message)||L||"")}`)}},rs=()=>{Xr(""),Zn(""),Pt("idle")};return D.useEffect(()=>()=>{var S,V;try{mn.current=!1,(V=(S=ti.current)==null?void 0:S.stop)==null||V.call(S)}catch{}},[]),D.useEffect(()=>{const S=V=>{if(!Xe)return;const L=lt.current;L&&(V.target&&L.contains(V.target)||He(!1))};return document.addEventListener("pointerdown",S),()=>document.removeEventListener("pointerdown",S)},[Xe]),D.useEffect(()=>{const S=V=>{if(!m)return;const L=g.current;L&&(V.target&&L.contains(V.target)||p(!1))};return document.addEventListener("pointerdown",S),()=>document.removeEventListener("pointerdown",S)},[m]),Kr?r?Ar?O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:O.jsx(ol,{className:"animate-spin text-indigo-600"})}):ks||!(v!=null&&v.id)?O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:O.jsx(ol,{className:"animate-spin text-indigo-600"})}):O.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[O.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-4 py-3 border-b border-slate-100",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("button",{onClick:()=>JC(ur),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:u(""),"aria-label":u(""),children:O.jsx(SR,{className:"w-4 h-4"})}),O.jsxs("div",{className:"relative",ref:g,children:[O.jsx("button",{type:"button",onClick:()=>p(S=>!S),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:u(""),"aria-label":u(""),children:O.jsx(bR,{className:"w-4 h-4"})}),m?O.jsx("div",{className:"absolute right-0 mt-2 w-44 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[14px] leading-tight z-[80]",children:[{code:"he",label:""},{code:"en",label:"English"},{code:"ru",label:""},{code:"ar",label:""}].map(S=>O.jsxs("button",{type:"button",onClick:()=>{s(S.code),p(!1)},className:`w-full px-4 py-2 flex items-center justify-between hover:bg-slate-50 ${n===S.code?"font-black text-slate-900":"font-bold text-slate-600"}`,children:[O.jsx("span",{children:S.label}),n===S.code?O.jsx(g0,{className:"w-4 h-4 text-emerald-500"}):null]},S.code))}):null]}),O.jsx("button",{onClick:()=>Me(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:u(" "),"aria-label":u(" "),children:O.jsx(mh,{className:"w-5 h-5"})})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("span",{className:"text-lg font-bold text-indigo-600 leading-tight whitespace-nowrap",children:"My Easy List"}),O.jsxs("div",{className:"relative inline-flex items-center",ref:lt,children:[O.jsx("button",{type:"button",onClick:()=>He(S=>!S),className:"p-2 text-slate-400 hover:text-indigo-600",title:u(""),"aria-label":u(""),children:Se?O.jsx(g0,{className:"w-5 h-5 text-emerald-500"}):O.jsx(Zm,{className:"w-5 h-5"})}),Xe?O.jsxs("div",{className:"absolute top-11 left-0 z-[80] w-64 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[15px] leading-tight",children:[O.jsxs("button",{type:"button",onClick:async()=>{He(!1),await Ml()},className:"w-full text-right px-4 py-3 text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[O.jsx(Zm,{className:"w-4 h-4 text-slate-500"}),O.jsx("span",{className:"font-semibold text-[15px] leading-none",children:u("  ")})]}),O.jsxs("button",{type:"button",onClick:()=>{const S=!!(r&&(v!=null&&v.ownerUid)&&r.uid!==v.ownerUid);if(He(!1),!S){ft(u("       "));return}setShowLeaveConfirm(!0)},className:`w-full text-right px-4 py-3 flex items-center gap-2 ${r&&(v!=null&&v.ownerUid)&&r.uid!==v.ownerUid?"text-rose-700 hover:bg-rose-50":"text-slate-400 cursor-not-allowed"}`,children:[O.jsx(y0,{className:`w-4 h-4 ${r&&(v!=null&&v.ownerUid)&&r.uid!==v.ownerUid?"text-rose-600":"text-slate-400"}`}),O.jsx("span",{className:"font-semibold text-[15px] leading-none",children:u("   ")})]})]}):null]})]})]})}),O.jsx("div",{className:"px-5 pt-3",children:O.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[O.jsx("div",{className:"text-[11px] font-black text-slate-400",children:u(kt?"  -    ":" :    ,  ")}),Ii?O.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[u(":")," ",Ii]}):null,O.jsxs("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:[u(":")," ",KM(n)]})]})}),O.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:de==="list"?O.jsxs(O.Fragment,{children:[O.jsxs("form",{onSubmit:Lt,className:"relative",children:[O.jsx("input",{ref:T,value:qe,onFocus:zs,onBlur:Us,onKeyDown:S=>{if(q){if(S.key==="Escape"){S.preventDefault(),X(!1),ue(-1);return}if(S.key==="ArrowDown"){if(S.preventDefault(),Ei.length===0)return;ue(V=>{const L=V+1;return L>=Ei.length?0:L});return}if(S.key==="ArrowUp"){if(S.preventDefault(),Ei.length===0)return;ue(V=>{const L=V-1;return L<0?Ei.length-1:L});return}if(S.key==="Tab"){if(Ei.length===0)return;S.preventDefault(),Dr(Ei[Math.max(0,le>=0?le:0)]);return}if(S.key==="Enter"&&Ei.length>0){S.preventDefault();const V=le>=0?le:0;Dr(Ei[V]);return}}},onChange:S=>{H(S.target.value),zs(),ue(-1)},placeholder:u("  ?"),className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),O.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:O.jsx(Jm,{className:"w-6 h-6"})}),q&&qe.trim()&&Ei.length>0?O.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:S=>{S.preventDefault()},onPointerDown:S=>{S.preventDefault()},children:Ei.map((S,V)=>O.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(V===le?"bg-slate-100":""),children:[O.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:L=>{L.preventDefault(),Dr(S)},title:"",children:[O.jsx("span",{className:"font-semibold text-slate-700",children:S.name}),S.isInList?O.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof S.currentQty=="number"?` (${S.currentQty})`:""]}):O.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),S.canHide?O.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:L=>{L.preventDefault(),L.stopPropagation(),pr(S)},title:" ","aria-label":" ",children:""}):null]},S.key+"-"+V))}):null]}),((R==null?void 0:R.length)??0)===0?O.jsxs("div",{className:"text-center py-20 opacity-20",children:[O.jsx(IR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),O.jsx("p",{className:"text-lg font-bold",children:u(" ")})]}):O.jsx("div",{className:"space-y-4",children:O.jsxs("div",{className:"space-y-3",children:[_i.map(S=>O.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-slate-100 shadow-sm select-none transition-all duration-200 ease-out ${Y.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":N[S.id]==="from"?"opacity-0 translate-y-1 scale-[0.99]":"opacity-100 translate-y-0 scale-100"}`,dir:"rtl",onPointerDown:dr(S.id),onPointerMove:Wr(S.id),onPointerUp:Mi(S.id),onPointerCancel:Vn,onTouchStart:zt(S.id),onTouchMove:Ls(S.id),onTouchEnd:xr(S.id),style:{touchAction:"pan-y"},children:[O.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[O.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:Fe.id===S.id&&Fe.dx>0?Math.min(Math.abs(Fe.dx),vi):0,opacity:.9,zIndex:0}}),O.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:Fe.id===S.id&&Fe.dx<0?Math.min(Math.abs(Fe.dx),vi):0,opacity:.9,zIndex:0}}),O.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 flex-row-reverse",children:[O.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:Fe.id===S.id&&Fe.dx>0?Math.abs(Fe.dx)>=wn?1:.65:0,transform:Fe.id===S.id&&Fe.dx>0&&Math.abs(Fe.dx)>=wn?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(mh,{className:"w-6 h-6"})}),O.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:Fe.id===S.id&&Fe.dx<0?Math.abs(Fe.dx)>=wn?1:.65:0,transform:Fe.id===S.id&&Fe.dx<0&&Math.abs(Fe.dx)>=wn?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(dh,{className:"w-6 h-6"})})]})]}),O.jsxs("div",{className:`relative z-10 flex items-center justify-between w-full p-3 rounded-2xl transition-colors ${C.has(S.id)?"bg-rose-50":he.has(S.id)?"bg-emerald-100":Re.has(S.id)?"bg-emerald-50":"bg-white"}`,style:{transform:Fe.id===S.id?`translateX(${Fe.dx}px)`:void 0,transition:Fe.id===S.id?fr?"transform 420ms ease-in-out":"none":"transform 120ms ease-out"},children:[O.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{On.current||C.has(S.id)||js(S.id)},children:S.name}),O.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[O.jsx("button",{disabled:Y.has(S.id)||C.has(S.id),onClick:()=>Ge(S.id,-1),className:`p-1 text-slate-400 ${Y.has(S.id)||C.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:O.jsx(CR,{className:"w-3 h-3"})}),O.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:S.quantity}),O.jsx("button",{disabled:Y.has(S.id)||C.has(S.id),onClick:()=>Ge(S.id,1),className:`p-1 text-slate-400 ${Y.has(S.id)||C.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:O.jsx(Jm,{className:"w-3 h-3"})})]})]})]},S.id)),$n.length>0?O.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[u("")," (",$n.length,")"]}),$n.map(S=>O.jsx("div",{className:`flex items-center justify-between p-3 ${C.has(S.id)?"bg-rose-50":"bg-slate-100/50"} rounded-2xl opacity-60 grayscale transition-all`,dir:"rtl",children:O.jsxs("div",{className:"flex items-center justify-between w-full",children:[O.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Oi(S.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[O.jsx(wR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),O.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:O.jsxs("span",{className:"flex gap-1",children:[O.jsx("span",{children:S.name}),(S.quantity||1)>1&&O.jsxs(O.Fragment,{children:[O.jsx("span",{children:"x"}),O.jsx("span",{children:S.quantity})]})]})})]}),O.jsx("button",{onClick:()=>Vi(S.id),className:"p-2 text-slate-300",title:"",children:O.jsx(mh,{className:"w-4 h-4"})})]})},S.id))]}):null]})})]}):O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u("")}),O.jsx("p",{className:"text-sm text-slate-400 font-bold",children:O.jsx("span",{className:"font-semibold text-[15px] leading-none",children:u("  ")})})]}),ja.length===0?O.jsxs("div",{className:"text-center py-20 opacity-20",children:[O.jsx(dh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),O.jsx("p",{className:"font-bold",children:u("  ")})]}):O.jsx("div",{className:"grid grid-cols-1 gap-3",children:ja.map(S=>O.jsxs("div",{className:`relative overflow-hidden rounded-2xl select-none transition-all duration-200 ease-out ${k.has(S.id)?"pointer-events-none":""} ${F.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":"opacity-100 translate-y-0 scale-100"}`,dir:"ltr",onPointerDown:Fa(S.id),onPointerMove:Zi(S.id),onPointerUp:ri(S.id),onPointerCancel:Bs,style:{touchAction:"pan-y"},children:[O.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[O.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:it.id===S.id&&it.rawDx>0?Math.min(Math.abs(it.rawDx),pn):0,opacity:.9,zIndex:0}}),O.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:it.id===S.id&&it.rawDx<0?Math.min(Math.abs(it.rawDx),pn):0,opacity:.9,zIndex:0}}),O.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[O.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:it.id===S.id&&it.rawDx>0?Math.abs(it.rawDx)>=gr?1:.65:0,transform:it.id===S.id&&it.rawDx>0&&Math.abs(it.rawDx)>=gr?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(mh,{className:"w-6 h-6"})}),O.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:it.id===S.id&&it.rawDx<0?Math.abs(it.rawDx)>=gr?1:.65:0,transform:it.id===S.id&&it.rawDx<0&&Math.abs(it.rawDx)>=gr?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(NM,{className:"w-6 h-6"})})]})]}),O.jsxs("div",{className:`relative z-10 flex items-center justify-between p-4 rounded-2xl border border-slate-100 shadow-sm transition-colors ${k.has(S.id)?"bg-rose-50":De.has(S.id)?"bg-emerald-100":"bg-white"}`,style:{transform:it.id===S.id?`translateX(${it.dx}px)`:void 0,transition:it.id===S.id?"none":"transform 160ms ease-out"},children:[O.jsx("div",{className:"flex items-center gap-2"}),O.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:S.name}),O.jsx(dh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},S.id))})]})}),O.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:O.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:O.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:O.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[O.jsxs("button",{onClick:()=>be("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${de==="favorites"?"text-indigo-600":"text-slate-300"}`,title:u(""),children:[O.jsx(dh,{className:`w-7 h-7 ${de==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),u("")]}),O.jsxs("button",{onClick:tn,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:u(""),children:[O.jsx(AR,{className:"w-7 h-7"}),u("")]}),O.jsxs("button",{onClick:()=>Ht(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:u(""),children:[O.jsx(p0,{className:"w-7 h-7"}),u("")]}),O.jsxs("button",{onClick:()=>be("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${de==="list"?"text-indigo-600":"text-slate-300"}`,title:u(""),children:[O.jsx(ET,{className:"w-7 h-7"}),u("")]}),O.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 -top-10 flex flex-col items-center gap-2",children:[yt==="recording"?O.jsxs("div",{className:"px-3 py-1 rounded-full bg-black/80 text-white text-[12px] font-black flex items-center gap-2",children:[O.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-rose-500 animate-pulse"}),u(u(""))," ",Vr(Dn)]}):null,O.jsx("button",{onClick:S=>{S.preventDefault(),!(yt==="processing"||yt==="review")&&(yt==="idle"?Pr():yt==="recording"&&is())},className:`w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${yt==="recording"?"bg-rose-500 text-white":"bg-indigo-600 text-white hover:bg-indigo-700"} ${yt==="processing"?"opacity-60 pointer-events-none":""}`,title:u(u(yt==="recording"?" ":yt==="processing"?"":"  ")),children:yt==="processing"?O.jsx(ol,{className:"w-7 h-7 animate-spin"}):yt==="recording"?O.jsx(RR,{className:"w-7 h-7"}):O.jsx(v0,{className:"w-7 h-7"})})]})]})})})}),Vt?O.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:O.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:O.jsxs("div",{className:"p-6 space-y-4",children:[O.jsxs("div",{className:"flex items-start justify-between gap-3",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-xl font-black text-slate-800",children:o.scheduleTitle}),O.jsx("div",{className:"text-sm font-bold text-slate-400",children:o.addToCalendar})]}),O.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:O.jsx(p0,{className:"w-5 h-5"})})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("label",{className:"block text-sm font-black text-slate-600",children:o.whenConvenient}),O.jsx("input",{type:"datetime-local",value:_n,onChange:S=>Hn(S.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-sm font-black text-slate-600",children:o.duration}),O.jsxs("span",{className:"text-sm font-black text-slate-500",children:[En," ",o.minutes]})]}),O.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(S=>O.jsx("button",{onClick:()=>Zt(S),className:`py-2 rounded-2xl font-black text-sm ${En===S?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:S},S))})]}),O.jsxs("div",{className:"flex gap-3 pt-2",children:[O.jsx("button",{onClick:()=>Ht(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:o.cancel}),O.jsx("button",{onClick:()=>{Ht(!1),Xi()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:o.openCalendar})]})]})})}):null,xt?O.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:O.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:O.jsx(y0,{className:"w-5 h-5"})}),O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-lg font-black text-slate-800",children:u("   ?")}),O.jsx("div",{className:"text-sm font-bold text-slate-400",children:u("     .")})]})]}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("button",{onClick:()=>Me(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:u("")}),O.jsx("button",{onClick:qa,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:u(" ")})]})]})}):null,yt==="review"?O.jsx("div",{className:"fixed inset-0 z-[80] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:O.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:O.jsxs("div",{className:"p-6 space-y-4",children:[O.jsxs("div",{className:"flex items-start justify-between gap-3",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-xl font-black text-slate-800",children:u(u("  "))}),O.jsx("div",{className:"text-sm font-bold text-slate-400",children:u(u("   "))})]}),O.jsx("div",{className:"w-10 h-10 rounded-2xl bg-rose-50 text-rose-600 flex items-center justify-center",children:O.jsx(v0,{className:"w-5 h-5"})})]}),O.jsx("div",{className:"w-full",children:O.jsx("textarea",{ref:Cr,value:Rr,onChange:S=>Zn(S.target.value),rows:3,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200 text-slate-700 selection:bg-indigo-200/50 resize-none",placeholder:u(u(" ?"))})}),O.jsxs("div",{className:"flex gap-3 pt-2",children:[O.jsx("button",{onClick:()=>rs(),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:u("")}),O.jsx("button",{onClick:()=>kn(qM(Rr)),className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:u("")})]})]})})}):null,Mn?O.jsxs("div",{className:"fixed bottom-14 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50 flex items-center gap-3",children:[O.jsx("span",{className:"font-bold text-[13px]",children:Mn.msg}),O.jsx("button",{onClick:Mn.onUndo,className:"px-3 py-1 rounded-xl bg-white/15 hover:bg-white/25 font-black text-[13px]",children:Mn.undoLabel})]}):null,hi?O.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:hi}):null]}):O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:O.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[O.jsx("h1",{className:"text-2xl font-black text-slate-800",children:u("  ")}),O.jsx("p",{className:"text-slate-500 font-bold",children:u("    ,    .")}),O.jsxs("button",{onClick:async()=>{await bu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[O.jsx(TT,{className:"w-4 h-4"}),u("  ")]})]})}):O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Heebo", "Rubik", Arial'},children:O.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-70",children:[O.jsx(ol,{className:"w-10 h-10 animate-spin"}),O.jsx("div",{className:"font-bold text-slate-500",children:"..."})]})})},WM=()=>O.jsx(lR,{children:O.jsxs(LA,{children:[O.jsx(Km,{path:"/",element:O.jsx(XM,{})}),O.jsx(Km,{path:"/invite",element:O.jsx(VM,{})})]})}),t1=document.getElementById("root");if(!t1)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());jS.createRoot(t1).render(O.jsx(OS.StrictMode,{children:O.jsx(WM,{})}));
