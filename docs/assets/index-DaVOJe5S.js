(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function sw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Um={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function aw(){if(ov)return ql;ov=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=t,ql.jsx=n,ql.jsxs=n,ql}var lv;function ow(){return lv||(lv=1,Um.exports=aw()),Um.exports}var X=ow(),Pm={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function lw(){if(uv)return Ct;uv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,D={};function et(L,Q,st){this.props=L,this.context=Q,this.refs=D,this.updater=st||V}et.prototype.isReactComponent={},et.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},et.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function rt(){}rt.prototype=et.prototype;function Z(L,Q,st){this.props=L,this.context=Q,this.refs=D,this.updater=st||V}var dt=Z.prototype=new rt;dt.constructor=Z,z(dt,et.prototype),dt.isPureReactComponent=!0;var Rt=Array.isArray;function Et(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(L,Q,st){var ht=st.ref;return{$$typeof:i,type:L,key:Q,ref:ht!==void 0?ht:null,props:st}}function x(L,Q){return w(L.type,Q,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function P(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(st){return Q[st]})}var C=/\/+/g;function ce(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?P(""+L.key):Q.toString(36)}function Ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Et,Et):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,Q,st,ht,St){var Ot=typeof L;(Ot==="undefined"||Ot==="boolean")&&(L=null);var Lt=!1;if(L===null)Lt=!0;else switch(Ot){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(L.$$typeof){case i:case t:Lt=!0;break;case v:return Lt=L._init,K(Lt(L._payload),Q,st,ht,St)}}if(Lt)return St=St(L),Lt=ht===""?"."+ce(L,0):ht,Rt(St)?(st="",Lt!=null&&(st=Lt.replace(C,"$&/")+"/"),K(St,Q,st,"",function(Zn){return Zn})):St!=null&&(U(St)&&(St=x(St,st+(St.key==null||L&&L.key===St.key?"":(""+St.key).replace(C,"$&/")+"/")+Lt)),Q.push(St)),1;Lt=0;var He=ht===""?".":ht+":";if(Rt(L))for(var he=0;he<L.length;he++)ht=L[he],Ot=He+ce(ht,he),Lt+=K(ht,Q,st,Ot,St);else if(he=b(L),typeof he=="function")for(L=he.call(L),he=0;!(ht=L.next()).done;)ht=ht.value,Ot=He+ce(ht,he++),Lt+=K(ht,Q,st,Ot,St);else if(Ot==="object"){if(typeof L.then=="function")return K(Ae(L),Q,st,ht,St);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function at(L,Q,st){if(L==null)return L;var ht=[],St=0;return K(L,ht,"","",function(Ot){return Q.call(st,Ot,St++)}),ht}function _t(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(st){(L._status===0||L._status===-1)&&(L._status=1,L._result=st)},function(st){(L._status===0||L._status===-1)&&(L._status=2,L._result=st)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var Gt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},qt={map:at,forEach:function(L,Q,st){at(L,function(){Q.apply(this,arguments)},st)},count:function(L){var Q=0;return at(L,function(){Q++}),Q},toArray:function(L){return at(L,function(Q){return Q})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ct.Activity=T,Ct.Children=qt,Ct.Component=et,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=Z,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ct.cache=function(L){return function(){return L.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(L,Q,st){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=z({},L.props),St=L.key;if(Q!=null)for(Ot in Q.key!==void 0&&(St=""+Q.key),Q)!R.call(Q,Ot)||Ot==="key"||Ot==="__self"||Ot==="__source"||Ot==="ref"&&Q.ref===void 0||(ht[Ot]=Q[Ot]);var Ot=arguments.length-2;if(Ot===1)ht.children=st;else if(1<Ot){for(var Lt=Array(Ot),He=0;He<Ot;He++)Lt[He]=arguments[He+2];ht.children=Lt}return w(L.type,St,ht)},Ct.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ct.createElement=function(L,Q,st){var ht,St={},Ot=null;if(Q!=null)for(ht in Q.key!==void 0&&(Ot=""+Q.key),Q)R.call(Q,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(St[ht]=Q[ht]);var Lt=arguments.length-2;if(Lt===1)St.children=st;else if(1<Lt){for(var He=Array(Lt),he=0;he<Lt;he++)He[he]=arguments[he+2];St.children=He}if(L&&L.defaultProps)for(ht in Lt=L.defaultProps,Lt)St[ht]===void 0&&(St[ht]=Lt[ht]);return w(L,Ot,St)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(L){return{$$typeof:m,render:L}},Ct.isValidElement=U,Ct.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:_t}},Ct.memo=function(L,Q){return{$$typeof:g,type:L,compare:Q===void 0?null:Q}},Ct.startTransition=function(L){var Q=O.T,st={};O.T=st;try{var ht=L(),St=O.S;St!==null&&St(st,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Et,Gt)}catch(Ot){Gt(Ot)}finally{Q!==null&&st.types!==null&&(Q.types=st.types),O.T=Q}},Ct.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ct.use=function(L){return O.H.use(L)},Ct.useActionState=function(L,Q,st){return O.H.useActionState(L,Q,st)},Ct.useCallback=function(L,Q){return O.H.useCallback(L,Q)},Ct.useContext=function(L){return O.H.useContext(L)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(L,Q){return O.H.useDeferredValue(L,Q)},Ct.useEffect=function(L,Q){return O.H.useEffect(L,Q)},Ct.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Ct.useId=function(){return O.H.useId()},Ct.useImperativeHandle=function(L,Q,st){return O.H.useImperativeHandle(L,Q,st)},Ct.useInsertionEffect=function(L,Q){return O.H.useInsertionEffect(L,Q)},Ct.useLayoutEffect=function(L,Q){return O.H.useLayoutEffect(L,Q)},Ct.useMemo=function(L,Q){return O.H.useMemo(L,Q)},Ct.useOptimistic=function(L,Q){return O.H.useOptimistic(L,Q)},Ct.useReducer=function(L,Q,st){return O.H.useReducer(L,Q,st)},Ct.useRef=function(L){return O.H.useRef(L)},Ct.useState=function(L){return O.H.useState(L)},Ct.useSyncExternalStore=function(L,Q,st){return O.H.useSyncExternalStore(L,Q,st)},Ct.useTransition=function(){return O.H.useTransition()},Ct.version="19.2.3",Ct}var cv;function zp(){return cv||(cv=1,Pm.exports=lw()),Pm.exports}var G=zp();const ma=sw(G);var km={exports:{}},Yl={},Bm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function uw(){return hv||(hv=1,(function(i){function t(K,at){var _t=K.length;K.push(at);t:for(;0<_t;){var Gt=_t-1>>>1,qt=K[Gt];if(0<o(qt,at))K[Gt]=at,K[_t]=qt,_t=Gt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var at=K[0],_t=K.pop();if(_t!==at){K[0]=_t;t:for(var Gt=0,qt=K.length,L=qt>>>1;Gt<L;){var Q=2*(Gt+1)-1,st=K[Q],ht=Q+1,St=K[ht];if(0>o(st,_t))ht<qt&&0>o(St,st)?(K[Gt]=St,K[ht]=_t,Gt=ht):(K[Gt]=st,K[Q]=_t,Gt=Q);else if(ht<qt&&0>o(St,_t))K[Gt]=St,K[ht]=_t,Gt=ht;else break t}}return at}function o(K,at){var _t=K.sortIndex-at.sortIndex;return _t!==0?_t:K.id-at.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,S=3,b=!1,V=!1,z=!1,D=!1,et=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function dt(K){for(var at=n(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=K)s(g),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(g)}}function Rt(K){if(z=!1,dt(K),!V)if(n(p)!==null)V=!0,Et||(Et=!0,P());else{var at=n(g);at!==null&&Ae(Rt,at.startTime-K)}}var Et=!1,O=-1,R=5,w=-1;function x(){return D?!0:!(i.unstable_now()-w<R)}function U(){if(D=!1,Et){var K=i.unstable_now();w=K;var at=!0;try{t:{V=!1,z&&(z=!1,rt(O),O=-1),b=!0;var _t=S;try{e:{for(dt(K),T=n(p);T!==null&&!(T.expirationTime>K&&x());){var Gt=T.callback;if(typeof Gt=="function"){T.callback=null,S=T.priorityLevel;var qt=Gt(T.expirationTime<=K);if(K=i.unstable_now(),typeof qt=="function"){T.callback=qt,dt(K),at=!0;break e}T===n(p)&&s(p),dt(K)}else s(p);T=n(p)}if(T!==null)at=!0;else{var L=n(g);L!==null&&Ae(Rt,L.startTime-K),at=!1}}break t}finally{T=null,S=_t,b=!1}at=void 0}}finally{at?P():Et=!1}}}var P;if(typeof Z=="function")P=function(){Z(U)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ce=C.port2;C.port1.onmessage=U,P=function(){ce.postMessage(null)}}else P=function(){et(U,0)};function Ae(K,at){O=et(function(){K(i.unstable_now())},at)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var _t=S;S=at;try{return K()}finally{S=_t}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var _t=S;S=K;try{return at()}finally{S=_t}},i.unstable_scheduleCallback=function(K,at,_t){var Gt=i.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Gt+_t:Gt):_t=Gt,K){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=_t+qt,K={id:v++,callback:at,priorityLevel:K,startTime:_t,expirationTime:qt,sortIndex:-1},_t>Gt?(K.sortIndex=_t,t(g,K),n(p)===null&&K===n(g)&&(z?(rt(O),O=-1):z=!0,Ae(Rt,_t-Gt))):(K.sortIndex=qt,t(p,K),V||b||(V=!0,Et||(Et=!0,P()))),K},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(K){var at=S;return function(){var _t=S;S=at;try{return K.apply(this,arguments)}finally{S=_t}}}})(zm)),zm}var fv;function cw(){return fv||(fv=1,Bm.exports=uw()),Bm.exports}var jm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function hw(){if(dv)return mn;dv=1;var i=zp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},mn.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},mn.useFormStatus=function(){return h.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var mv;function fw(){if(mv)return jm.exports;mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jm.exports=hw(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function dw(){if(pv)return Yl;pv=1;var i=cw(),t=zp(),n=fw();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,A=f.child;A;){if(A===a){y=!0,a=f,l=d;break}if(A===l){y=!0,l=f,a=d;break}A=A.sibling}if(!y){for(A=d.child;A;){if(A===a){y=!0,a=d,l=f;break}if(A===l){y=!0,l=d,a=f;break}A=A.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function v(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=v(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case et:return"Profiler";case D:return"StrictMode";case Rt:return"Suspense";case Et:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case Z:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case dt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return r=e.displayName||null,r!==null?r:ce(e.type)||"Memo";case R:r=e._payload,e=e._init;try{return ce(e(r))}catch{}}return null}var Ae=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Gt=[],qt=-1;function L(e){return{current:e}}function Q(e){0>qt||(e.current=Gt[qt],Gt[qt]=null,qt--)}function st(e,r){qt++,Gt[qt]=e.current,e.current=r}var ht=L(null),St=L(null),Ot=L(null),Lt=L(null);function He(e,r){switch(st(Ot,r),st(St,e),st(ht,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?OE(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=OE(r),e=DE(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ht),st(ht,e)}function he(){Q(ht),Q(St),Q(Ot)}function Zn(e){e.memoizedState!==null&&st(Lt,e);var r=ht.current,a=DE(r,e.type);r!==a&&(st(St,e),st(ht,a))}function Fe(e){St.current===e&&(Q(ht),Q(St)),Lt.current===e&&(Q(Lt),jl._currentValue=_t)}var te,gi;function Bn(e){if(te===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);te=r&&r[1]||"",gi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+e+gi}var Yi=!1;function ti(e,r){if(!e||Yi)return"";Yi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(q){var F=q}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(q){F=q}e.call(tt.prototype)}}else{try{throw Error()}catch(q){F=q}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(q){if(q&&F&&typeof q.stack=="string")return[q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],A=d[1];if(y&&A){var N=y.split(`
`),H=A.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var $=`
`+N[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=f);break}}}finally{Yi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Bn(a):""}function qo(e,r){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==r&&r!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return ti(e.type,!1);case 11:return ti(e.type.render,!1);case 1:return ti(e.type,!0);case 31:return Bn("Activity");default:return""}}function bi(e){try{var r="",a=null;do r+=qo(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Or=Object.prototype.hasOwnProperty,it=i.unstable_scheduleCallback,lt=i.unstable_cancelCallback,mt=i.unstable_shouldYield,gt=i.unstable_requestPaint,Vt=i.unstable_now,Ge=i.unstable_getCurrentPriorityLevel,kt=i.unstable_ImmediatePriority,ee=i.unstable_UserBlockingPriority,_e=i.unstable_NormalPriority,Ce=i.unstable_LowPriority,Wt=i.unstable_IdlePriority,$t=i.log,Ze=i.unstable_setDisableYieldValue,fn=null,ye=null;function vn(e){if(typeof $t=="function"&&Ze(e),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(fn,e)}catch{}}var Tn=Math.clz32?Math.clz32:Lu,Uf=Math.log,Yo=Math.LN2;function Lu(e){return e>>>=0,e===0?32:31-(Uf(e)/Yo|0)|0}var Hs=256,wi=262144,Dr=4194304;function _i(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=_i(l):(y&=A,y!==0?f=_i(y):a||(a=A&~e,a!==0&&(f=_i(a))))):(A=l&~d,A!==0?f=_i(A):y!==0?f=_i(y):a||(a=l&~e,a!==0&&(f=_i(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Mr(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Na(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var e=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),e}function Ki(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function xr(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tn(e,r,a,l,f,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,N=e.expirationTimes,H=e.hiddenUpdates;for(a=y&~a;0<a;){var $=31-Tn(a),tt=1<<$;A[$]=0,N[$]=-1;var F=H[$];if(F!==null)for(H[$]=null,$=0;$<F.length;$++){var q=F[$];q!==null&&(q.lane&=-536870913)}a&=~tt}l!==0&&$o(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~r))}function $o(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Tn(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Lr(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Tn(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Vr(e,r){var a=r&-r;return a=(a&42)!==0?1:Qo(a),(a&(e.suspendedLanes|r))!==0?0:a}function Qo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:tv(e.type))}function Vu(e,r){var a=at.p;try{return at.p=e,r()}finally{at.p=a}}var Ci=Math.random().toString(36).slice(2),Se="__reactFiber$"+Ci,en="__reactProps$"+Ci,Ni="__reactContainer$"+Ci,Ur="__reactEvents$"+Ci,Oi="__reactListeners$"+Ci,Uu="__reactHandles$"+Ci,Jo="__reactResources$"+Ci,Qi="__reactMarker$"+Ci;function Fs(e){delete e[Se],delete e[en],delete e[Ur],delete e[Oi],delete e[Uu]}function Xi(e){var r=e[Se];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Ni]||a[Se]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=kE(e);e!==null;){if(a=e[Se])return a;e=kE(e)}return r}e=a,a=e.parentNode}return null}function Ji(e){if(e=e[Se]||e[Ni]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function Gs(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function yi(e){var r=e[Jo];return r||(r=e[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ne(e){e[Qi]=!0}var Oa=new Set,Pr={};function An(e,r){Di(e,r),Di(e+"Capture",r)}function Di(e,r){for(Pr[e]=r,e=0;e<r.length;e++)Oa.add(r[e])}var Pf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Zo={};function Pu(e){return Or.call(Zo,e)?!0:Or.call(Wo,e)?!1:Pf.test(e)?Zo[e]=!0:(Wo[e]=!0,!1)}function kr(e,r,a){if(Pu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Br(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function ni(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ku(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function kf(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Da(e){if(!e._valueTracker){var r=ku(e)?"checked":"value";e._valueTracker=kf(e,r,""+e[r])}}function tl(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=ku(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wi=/[\n"\\]/g;function Ie(e){return e.replace(Wi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function zr(e,r,a,l,f,d,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),r!=null?y==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Sn(r)):e.value!==""+Sn(r)&&(e.value=""+Sn(r)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),r!=null?xa(e,y,Sn(r)):a!=null?xa(e,y,Sn(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Sn(A):e.removeAttribute("name")}function qs(e,r,a,l,f,d,y,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Da(e);return}a=a!=null?""+Sn(a):"",r=r!=null?""+Sn(r):a,A||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Da(e)}function xa(e,r,a){r==="number"&&Ma(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Qt(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Sn(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function Ys(e,r,a){if(r!=null&&(r=""+Sn(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Sn(a):""}function jr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Sn(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Da(e)}function ii(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var Bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||Bf.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Bu(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&el(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&el(e,d,r[d])}function nl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mi(e){return jf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ke(){}var La=null;function Va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,zn=null;function zu(e){var r=Ji(e);if(r&&(e=r.stateNode)){var a=e[en]||null;t:switch(e=r.stateNode,r.type){case"input":if(zr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ie(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[en]||null;if(!f)throw Error(s(90));zr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&tl(l)}break t;case"textarea":Ys(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Qt(e,!!a.multiple,r,!1)}}}var il=!1;function ju(e,r,a){if(il)return e(r,a);il=!0;try{var l=e(r);return l}finally{if(il=!1,(Zi!==null||zn!==null)&&(Pc(),Zi&&(r=Zi,e=zn,zn=Zi=null,zu(r),e)))for(r=0;r<e.length;r++)zu(e[r])}}function Dn(e,r){var a=e.stateNode;if(a===null)return null;var l=a[en]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=!1;if(Ei)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){rl=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{rl=!1}var jn=null,Ua=null,Li=null;function Hr(){if(Li)return Li;var e,r=Ua,a=r.length,l,f="value"in jn?jn.value:jn.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var y=a-e;for(l=1;l<=y&&r[a-l]===f[d-l];l++);return Li=f.slice(e,1<l?1-l:void 0)}function Ks(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Fr(){return!0}function fe(){return!1}function dn(e){function r(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fr:fe,this.isPropagationStopped=fe,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),r}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=dn(tr),Gr=T({},tr,{view:0,detail:0}),Hu=dn(Gr),qr,Pa,In,Qs=T({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==In&&(In&&e.type==="mousemove"?(qr=e.screenX-In.screenX,Pa=e.screenY-In.screenY):Pa=qr=0,In=e),qr)},movementY:function(e){return"movementY"in e?e.movementY:Pa}}),Fu=dn(Qs),Xs=T({},Qs,{dataTransfer:0}),Gu=dn(Xs),sl=T({},Gr,{relatedTarget:0}),Yr=dn(sl),qu=T({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=dn(qu),Hf=T({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yu=dn(Hf),Js=T({},tr,{data:0}),al=dn(Js),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=ll[e])?!!r[e]:!1}function Kr(){return $u}var Qu=T({},Gr,{key:function(e){if(e.key){var r=Ku[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ol[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xu=dn(Qu),er=T({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=dn(er),Ju=T({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Wu=dn(Ju),Zu=T({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ba=dn(Zu),Rn=T({},Qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tc=dn(Rn),ec=T({},tr,{newState:0,oldState:0}),$r=dn(ec),c=[9,13,27,32],_=Ei&&"CompositionEvent"in window,E=null;Ei&&"documentMode"in document&&(E=document.documentMode);var I=Ei&&"TextEvent"in window&&!E,B=Ei&&(!_||E&&8<E&&11>=E),Y=" ",ot=!1;function ne(e,r){switch(e){case"keyup":return c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function $e(e,r){switch(e){case"compositionend":return xe(r);case"keypress":return r.which!==32?null:(ot=!0,Y);case"textInput":return e=r.data,e===Y&&ot?null:e;default:return null}}function Qe(e,r){if(Mt)return e==="compositionend"||!_&&ne(e,r)?(e=Hr(),Li=Ua=jn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return B&&r.locale!=="ko"?null:r.data;default:return null}}var Qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Qr[e.type]:r==="textarea"}function Ws(e,r,a,l){Zi?zn?zn.push(l):zn=[l]:Zi=l,r=Gc(r,"onChange"),0<r.length&&(a=new $s("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var nr=null,cl=null;function MR(e){IE(e,0)}function nc(e){var r=Gs(e);if(tl(r))return e}function Fg(e,r){if(e==="change")return r}var Gg=!1;if(Ei){var Ff;if(Ei){var Gf="oninput"in document;if(!Gf){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Gf=typeof qg.oninput=="function"}Ff=Gf}else Ff=!1;Gg=Ff&&(!document.documentMode||9<document.documentMode)}function Yg(){nr&&(nr.detachEvent("onpropertychange",Kg),cl=nr=null)}function Kg(e){if(e.propertyName==="value"&&nc(cl)){var r=[];Ws(r,cl,e,Va(e)),ju(MR,r)}}function xR(e,r,a){e==="focusin"?(Yg(),nr=r,cl=a,nr.attachEvent("onpropertychange",Kg)):e==="focusout"&&Yg()}function LR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nc(cl)}function VR(e,r){if(e==="click")return nc(r)}function UR(e,r){if(e==="input"||e==="change")return nc(r)}function PR(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Hn=typeof Object.is=="function"?Object.is:PR;function hl(e,r){if(Hn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Or.call(r,f)||!Hn(e[f],r[f]))return!1}return!0}function $g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qg(e,r){var a=$g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$g(a)}}function Xg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Xg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Ma(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Ma(e.document)}return r}function qf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var kR=Ei&&"documentMode"in document&&11>=document.documentMode,za=null,Yf=null,fl=null,Kf=!1;function Wg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||za==null||za!==Ma(l)||(l=za,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Gc(Yf,"onSelect"),0<l.length&&(r=new $s("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=za)))}function Zs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ja={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},$f={},Zg={};Ei&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function ta(e){if($f[e])return $f[e];if(!ja[e])return e;var r=ja[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zg)return $f[e]=r[a];return e}var t_=ta("animationend"),e_=ta("animationiteration"),n_=ta("animationstart"),BR=ta("transitionrun"),zR=ta("transitionstart"),jR=ta("transitioncancel"),i_=ta("transitionend"),r_=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function vi(e,r){r_.set(e,r),An(r,[e])}var ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ri=[],Ha=0,Xf=0;function rc(){for(var e=Ha,r=Xf=Ha=0;r<e;){var a=ri[r];ri[r++]=null;var l=ri[r];ri[r++]=null;var f=ri[r];ri[r++]=null;var d=ri[r];if(ri[r++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&s_(a,f,d)}}function sc(e,r,a,l){ri[Ha++]=e,ri[Ha++]=r,ri[Ha++]=a,ri[Ha++]=l,Xf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Jf(e,r,a,l){return sc(e,r,a,l),ac(e)}function ea(e,r){return sc(e,null,null,r),ac(e)}function s_(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-Tn(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ac(e){if(50<Ll)throw Ll=0,am=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Fa={};function HR(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,r,a,l){return new HR(e,r,a,l)}function Wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ir(e,r){var a=e.alternate;return a===null?(a=Fn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function a_(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function oc(e,r,a,l,f,d){var y=0;if(l=e,typeof e=="function")Wf(e)&&(y=1);else if(typeof e=="string")y=Kb(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=Fn(31,a,r,f),e.elementType=w,e.lanes=d,e;case z:return na(a.children,f,d,r);case D:y=8,f|=24;break;case et:return e=Fn(12,a,r,f|2),e.elementType=et,e.lanes=d,e;case Rt:return e=Fn(13,a,r,f),e.elementType=Rt,e.lanes=d,e;case Et:return e=Fn(19,a,r,f),e.elementType=Et,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:y=10;break t;case rt:y=9;break t;case dt:y=11;break t;case O:y=14;break t;case R:y=16,l=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=Fn(y,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function na(e,r,a,l){return e=Fn(7,e,l,r),e.lanes=a,e}function Zf(e,r,a){return e=Fn(6,e,null,r),e.lanes=a,e}function o_(e){var r=Fn(18,null,null,0);return r.stateNode=e,r}function td(e,r,a){return r=Fn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var l_=new WeakMap;function si(e,r){if(typeof e=="object"&&e!==null){var a=l_.get(e);return a!==void 0?a:(r={value:e,source:r,stack:bi(r)},l_.set(e,r),r)}return{value:e,source:r,stack:bi(r)}}var Ga=[],qa=0,lc=null,dl=0,ai=[],oi=0,Xr=null,Vi=1,Ui="";function rr(e,r){Ga[qa++]=dl,Ga[qa++]=lc,lc=e,dl=r}function u_(e,r,a){ai[oi++]=Vi,ai[oi++]=Ui,ai[oi++]=Xr,Xr=e;var l=Vi;e=Ui;var f=32-Tn(l)-1;l&=~(1<<f),a+=1;var d=32-Tn(r)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Vi=1<<32-Tn(r)+f|a<<f|l,Ui=d+e}else Vi=1<<d|a<<f|l,Ui=e}function ed(e){e.return!==null&&(rr(e,1),u_(e,1,0))}function nd(e){for(;e===lc;)lc=Ga[--qa],Ga[qa]=null,dl=Ga[--qa],Ga[qa]=null;for(;e===Xr;)Xr=ai[--oi],ai[oi]=null,Ui=ai[--oi],ai[oi]=null,Vi=ai[--oi],ai[oi]=null}function c_(e,r){ai[oi++]=Vi,ai[oi++]=Ui,ai[oi++]=Xr,Vi=r.id,Ui=r.overflow,Xr=e}var nn=null,de=null,Ft=!1,Jr=null,li=!1,id=Error(s(519));function Wr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(si(r,e)),id}function h_(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[Se]=e,r[en]=l,a){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Pt(Ul[a],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),qs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),jr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||CE(r.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),l.onScroll!=null&&Pt("scroll",r),l.onScrollEnd!=null&&Pt("scrollend",r),l.onClick!=null&&(r.onclick=Ke),r=!0):r=!1,r||Wr(e,!0)}function f_(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:nn=nn.return}}function Ya(e){if(e!==nn)return!1;if(!Ft)return f_(e),Ft=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Tm(e.type,e.memoizedProps)),a=!a),a&&de&&Wr(e),f_(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=PE(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));de=PE(e)}else r===27?(r=de,fs(e.type)?(e=bm,bm=null,de=e):de=r):de=nn?ci(e.stateNode.nextSibling):null;return!0}function ia(){de=nn=null,Ft=!1}function rd(){var e=Jr;return e!==null&&(Un===null?Un=e:Un.push.apply(Un,e),Jr=null),e}function ml(e){Jr===null?Jr=[e]:Jr.push(e)}var sd=L(null),ra=null,sr=null;function Zr(e,r,a){st(sd,r._currentValue),r._currentValue=a}function ar(e){e._currentValue=sd.current,Q(sd)}function ad(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function od(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var N=0;N<r.length;N++)if(A.context===r[N]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),ad(d.return,a,e),l||(y=null);break t}d=A.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),ad(y,a,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ka(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var A=f.type;Hn(f.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(f===Lt.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}f=f.return}e!==null&&od(r,e,a,l),r.flags|=262144}function uc(e){for(e=e.firstContext;e!==null;){if(!Hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){ra=e,sr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return d_(ra,e)}function cc(e,r){return ra===null&&sa(e),d_(e,r)}function d_(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(e===null)throw Error(s(308));sr=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else sr=sr.next=r;return a}var FR=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},GR=i.unstable_scheduleCallback,qR=i.unstable_NormalPriority,Le={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new FR,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&GR(qR,function(){e.controller.abort()})}var gl=null,ud=0,$a=0,Qa=null;function YR(e,r){if(gl===null){var a=gl=[];ud=0,$a=fm(),Qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ud++,r.then(m_,m_),r}function m_(){if(--ud===0&&gl!==null){Qa!==null&&(Qa.status="fulfilled");var e=gl;gl=null,$a=0,Qa=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function KR(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var p_=K.S;K.S=function(e,r){Wy=Vt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&YR(e,r),p_!==null&&p_(e,r)};var aa=L(null);function cd(){var e=aa.current;return e!==null?e:ue.pooledCache}function hc(e,r){r===null?st(aa,aa.current):st(aa,r.pool)}function g_(){var e=cd();return e===null?null:{parent:Le._currentValue,pool:e}}var Xa=Error(s(460)),hd=Error(s(474)),fc=Error(s(542)),dc={then:function(){}};function __(e){return e=e.status,e==="fulfilled"||e==="rejected"}function y_(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Ke,Ke),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,v_(e),e;default:if(typeof r.status=="string")r.then(Ke,Ke);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,v_(e),e}throw la=r,Xa}}function oa(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(la=a,Xa):a}}var la=null;function E_(){if(la===null)throw Error(s(459));var e=la;return la=null,e}function v_(e){if(e===Xa||e===fc)throw Error(s(483))}var Ja=null,_l=0;function mc(e){var r=_l;return _l+=1,Ja===null&&(Ja=[]),y_(Ja,e,r)}function yl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function pc(e,r){throw r.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function T_(e){function r(k,M){if(e){var j=k.deletions;j===null?(k.deletions=[M],k.flags|=16):j.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=ir(k,M),k.index=0,k.sibling=null,k}function d(k,M,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<M?(k.flags|=67108866,M):j):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function y(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function A(k,M,j,J){return M===null||M.tag!==6?(M=Zf(j,k.mode,J),M.return=k,M):(M=f(M,j),M.return=k,M)}function N(k,M,j,J){var vt=j.type;return vt===z?$(k,M,j.props.children,J,j.key):M!==null&&(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&oa(vt)===M.type)?(M=f(M,j.props),yl(M,j),M.return=k,M):(M=oc(j.type,j.key,j.props,null,k.mode,J),yl(M,j),M.return=k,M)}function H(k,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=td(j,k.mode,J),M.return=k,M):(M=f(M,j.children||[]),M.return=k,M)}function $(k,M,j,J,vt){return M===null||M.tag!==7?(M=na(j,k.mode,J,vt),M.return=k,M):(M=f(M,j),M.return=k,M)}function tt(k,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zf(""+M,k.mode,j),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return j=oc(M.type,M.key,M.props,null,k.mode,j),yl(j,M),j.return=k,j;case V:return M=td(M,k.mode,j),M.return=k,M;case R:return M=oa(M),tt(k,M,j)}if(Ae(M)||P(M))return M=na(M,k.mode,j,null),M.return=k,M;if(typeof M.then=="function")return tt(k,mc(M),j);if(M.$$typeof===Z)return tt(k,cc(k,M),j);pc(k,M)}return null}function F(k,M,j,J){var vt=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return vt!==null?null:A(k,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return j.key===vt?N(k,M,j,J):null;case V:return j.key===vt?H(k,M,j,J):null;case R:return j=oa(j),F(k,M,j,J)}if(Ae(j)||P(j))return vt!==null?null:$(k,M,j,J,null);if(typeof j.then=="function")return F(k,M,mc(j),J);if(j.$$typeof===Z)return F(k,M,cc(k,j),J);pc(k,j)}return null}function q(k,M,j,J,vt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(j)||null,A(M,k,""+J,vt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return k=k.get(J.key===null?j:J.key)||null,N(M,k,J,vt);case V:return k=k.get(J.key===null?j:J.key)||null,H(M,k,J,vt);case R:return J=oa(J),q(k,M,j,J,vt)}if(Ae(J)||P(J))return k=k.get(j)||null,$(M,k,J,vt,null);if(typeof J.then=="function")return q(k,M,j,mc(J),vt);if(J.$$typeof===Z)return q(k,M,j,cc(M,J),vt);pc(M,J)}return null}function ft(k,M,j,J){for(var vt=null,Xt=null,pt=M,Dt=M=0,zt=null;pt!==null&&Dt<j.length;Dt++){pt.index>Dt?(zt=pt,pt=null):zt=pt.sibling;var Jt=F(k,pt,j[Dt],J);if(Jt===null){pt===null&&(pt=zt);break}e&&pt&&Jt.alternate===null&&r(k,pt),M=d(Jt,M,Dt),Xt===null?vt=Jt:Xt.sibling=Jt,Xt=Jt,pt=zt}if(Dt===j.length)return a(k,pt),Ft&&rr(k,Dt),vt;if(pt===null){for(;Dt<j.length;Dt++)pt=tt(k,j[Dt],J),pt!==null&&(M=d(pt,M,Dt),Xt===null?vt=pt:Xt.sibling=pt,Xt=pt);return Ft&&rr(k,Dt),vt}for(pt=l(pt);Dt<j.length;Dt++)zt=q(pt,k,Dt,j[Dt],J),zt!==null&&(e&&zt.alternate!==null&&pt.delete(zt.key===null?Dt:zt.key),M=d(zt,M,Dt),Xt===null?vt=zt:Xt.sibling=zt,Xt=zt);return e&&pt.forEach(function(_s){return r(k,_s)}),Ft&&rr(k,Dt),vt}function At(k,M,j,J){if(j==null)throw Error(s(151));for(var vt=null,Xt=null,pt=M,Dt=M=0,zt=null,Jt=j.next();pt!==null&&!Jt.done;Dt++,Jt=j.next()){pt.index>Dt?(zt=pt,pt=null):zt=pt.sibling;var _s=F(k,pt,Jt.value,J);if(_s===null){pt===null&&(pt=zt);break}e&&pt&&_s.alternate===null&&r(k,pt),M=d(_s,M,Dt),Xt===null?vt=_s:Xt.sibling=_s,Xt=_s,pt=zt}if(Jt.done)return a(k,pt),Ft&&rr(k,Dt),vt;if(pt===null){for(;!Jt.done;Dt++,Jt=j.next())Jt=tt(k,Jt.value,J),Jt!==null&&(M=d(Jt,M,Dt),Xt===null?vt=Jt:Xt.sibling=Jt,Xt=Jt);return Ft&&rr(k,Dt),vt}for(pt=l(pt);!Jt.done;Dt++,Jt=j.next())Jt=q(pt,k,Dt,Jt.value,J),Jt!==null&&(e&&Jt.alternate!==null&&pt.delete(Jt.key===null?Dt:Jt.key),M=d(Jt,M,Dt),Xt===null?vt=Jt:Xt.sibling=Jt,Xt=Jt);return e&&pt.forEach(function(rw){return r(k,rw)}),Ft&&rr(k,Dt),vt}function oe(k,M,j,J){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case b:t:{for(var vt=j.key;M!==null;){if(M.key===vt){if(vt=j.type,vt===z){if(M.tag===7){a(k,M.sibling),J=f(M,j.props.children),J.return=k,k=J;break t}}else if(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&oa(vt)===M.type){a(k,M.sibling),J=f(M,j.props),yl(J,j),J.return=k,k=J;break t}a(k,M);break}else r(k,M);M=M.sibling}j.type===z?(J=na(j.props.children,k.mode,J,j.key),J.return=k,k=J):(J=oc(j.type,j.key,j.props,null,k.mode,J),yl(J,j),J.return=k,k=J)}return y(k);case V:t:{for(vt=j.key;M!==null;){if(M.key===vt)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(k,M.sibling),J=f(M,j.children||[]),J.return=k,k=J;break t}else{a(k,M);break}else r(k,M);M=M.sibling}J=td(j,k.mode,J),J.return=k,k=J}return y(k);case R:return j=oa(j),oe(k,M,j,J)}if(Ae(j))return ft(k,M,j,J);if(P(j)){if(vt=P(j),typeof vt!="function")throw Error(s(150));return j=vt.call(j),At(k,M,j,J)}if(typeof j.then=="function")return oe(k,M,mc(j),J);if(j.$$typeof===Z)return oe(k,M,cc(k,j),J);pc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(k,M.sibling),J=f(M,j),J.return=k,k=J):(a(k,M),J=Zf(j,k.mode,J),J.return=k,k=J),y(k)):a(k,M)}return function(k,M,j,J){try{_l=0;var vt=oe(k,M,j,J);return Ja=null,vt}catch(pt){if(pt===Xa||pt===fc)throw pt;var Xt=Fn(29,pt,null,k.mode);return Xt.lanes=J,Xt.return=k,Xt}finally{}}}var ua=T_(!0),A_=T_(!1),ts=!1;function fd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ns(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ac(e),s_(e,null,a),r}return sc(e,l,r,a),ac(e)}function El(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Lr(e,a)}}function md(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var pd=!1;function vl(){if(pd){var e=Qa;if(e!==null)throw e}}function Tl(e,r,a,l){pd=!1;var f=e.updateQueue;ts=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,H=N.next;N.next=null,y===null?d=H:y.next=H,y=N;var $=e.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==y&&(A===null?$.firstBaseUpdate=H:A.next=H,$.lastBaseUpdate=N))}if(d!==null){var tt=f.baseState;y=0,$=H=N=null,A=d;do{var F=A.lane&-536870913,q=F!==A.lane;if(q?(Bt&F)===F:(l&F)===F){F!==0&&F===$a&&(pd=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var ft=e,At=A;F=r;var oe=a;switch(At.tag){case 1:if(ft=At.payload,typeof ft=="function"){tt=ft.call(oe,tt,F);break t}tt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=At.payload,F=typeof ft=="function"?ft.call(oe,tt,F):ft,F==null)break t;tt=T({},tt,F);break t;case 2:ts=!0}}F=A.callback,F!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[F]:q.push(F))}else q={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(H=$=q,N=tt):$=$.next=q,y|=F;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);$===null&&(N=tt),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=$,d===null&&(f.shared.lanes=0),os|=y,e.lanes=y,e.memoizedState=tt}}function S_(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function I_(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)S_(a[e],r)}var Wa=L(null),gc=L(0);function R_(e,r){e=pr,st(gc,e),st(Wa,r),pr=e|r.baseLanes}function gd(){st(gc,pr),st(Wa,Wa.current)}function _d(){pr=gc.current,Q(Wa),Q(gc)}var Gn=L(null),ui=null;function is(e){var r=e.alternate;st(Oe,Oe.current&1),st(Gn,e),ui===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(ui=e)}function yd(e){st(Oe,Oe.current),st(Gn,e),ui===null&&(ui=e)}function b_(e){e.tag===22?(st(Oe,Oe.current),st(Gn,e),ui===null&&(ui=e)):rs()}function rs(){st(Oe,Oe.current),st(Gn,Gn.current)}function qn(e){Q(Gn),ui===e&&(ui=null),Q(Oe)}var Oe=L(0);function _c(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Im(a)||Rm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var or=0,Nt=null,se=null,Ve=null,yc=!1,Za=!1,ca=!1,Ec=0,Al=0,to=null,$R=0;function Re(){throw Error(s(321))}function Ed(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!Hn(e[a],r[a]))return!1;return!0}function vd(e,r,a,l,f,d){return or=d,Nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=e===null||e.memoizedState===null?uy:Vd,ca=!1,d=a(l,f),ca=!1,Za&&(d=C_(r,a,l,f)),w_(e),d}function w_(e){K.H=Rl;var r=se!==null&&se.next!==null;if(or=0,Ve=se=Nt=null,yc=!1,Al=0,to=null,r)throw Error(s(300));e===null||Ue||(e=e.dependencies,e!==null&&uc(e)&&(Ue=!0))}function C_(e,r,a,l){Nt=e;var f=0;do{if(Za&&(to=null),Al=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,Ve=se=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=cy,d=r(a,l)}while(Za);return d}function QR(){var e=K.H,r=e.useState()[0];return r=typeof r.then=="function"?Sl(r):r,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Nt.flags|=1024),r}function Td(){var e=Ec!==0;return Ec=0,e}function Ad(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Sd(e){if(yc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}yc=!1}or=0,Ve=se=Nt=null,Za=!1,Al=Ec=0,to=null}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Nt.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function De(){if(se===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var r=Ve===null?Nt.memoizedState:Ve.next;if(r!==null)Ve=r,se=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Ve===null?Nt.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(e){var r=Al;return Al+=1,to===null&&(to=[]),e=y_(to,e,r),r=Nt,(Ve===null?r.memoizedState:Ve.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?uy:Vd),e}function Tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sl(e);if(e.$$typeof===Z)return rn(e)}throw Error(s(438,String(e)))}function Id(e){var r=null,a=Nt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=vc(),Nt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=x;return r.index++,a}function lr(e,r){return typeof r=="function"?r(e):r}function Ac(e){var r=De();return Rd(r,se,e)}function Rd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var A=y=null,N=null,H=r,$=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(Bt&tt)===tt:(or&tt)===tt){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===$a&&($=!0);else if((or&F)===F){H=H.next,F===$a&&($=!0);continue}else tt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=tt,y=d):N=N.next=tt,Nt.lanes|=F,os|=F;tt=H.action,ca&&a(d,tt),d=H.hasEagerState?H.eagerState:a(d,tt)}else F={lane:tt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=F,y=d):N=N.next=F,Nt.lanes|=tt,os|=tt;H=H.next}while(H!==null&&H!==r);if(N===null?y=d:N.next=A,!Hn(d,e.memoizedState)&&(Ue=!0,$&&(a=Qa,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bd(e){var r=De(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=e(d,y.action),y=y.next;while(y!==f);Hn(d,r.memoizedState)||(Ue=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function N_(e,r,a){var l=Nt,f=De(),d=Ft;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var y=!Hn((se||f).memoizedState,a);if(y&&(f.memoizedState=a,Ue=!0),f=f.queue,Nd(M_.bind(null,l,f,e),[e]),f.getSnapshot!==r||y||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},D_.bind(null,l,f,a,r),null),ue===null)throw Error(s(349));d||(or&127)!==0||O_(l,r,a)}return a}function O_(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Nt.updateQueue,r===null?(r=vc(),Nt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function D_(e,r,a,l){r.value=a,r.getSnapshot=l,x_(r)&&L_(e)}function M_(e,r,a){return a(function(){x_(r)&&L_(e)})}function x_(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!Hn(e,a)}catch{return!0}}function L_(e){var r=ea(e,2);r!==null&&Pn(r,e,2)}function wd(e){var r=bn();if(typeof e=="function"){var a=e;if(e=a(),ca){vn(!0);try{a()}finally{vn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:e},r}function V_(e,r,a,l){return e.baseState=a,Rd(e,se,typeof l=="function"?l:lr)}function XR(e,r,a,l,f){if(Rc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,U_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function U_(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=K.T,y={};K.T=y;try{var A=a(f,l),N=K.S;N!==null&&N(y,A),P_(e,r,A)}catch(H){Cd(e,r,H)}finally{d!==null&&y.types!==null&&(d.types=y.types),K.T=d}}else try{d=a(f,l),P_(e,r,d)}catch(H){Cd(e,r,H)}}function P_(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){k_(e,r,l)},function(l){return Cd(e,r,l)}):k_(e,r,a)}function k_(e,r,a){r.status="fulfilled",r.value=a,B_(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,U_(e,a)))}function Cd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,B_(r),r=r.next;while(r!==l)}e.action=null}function B_(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function z_(e,r){return r}function j_(e,r){if(Ft){var a=ue.formState;if(a!==null){t:{var l=Nt;if(Ft){if(de){e:{for(var f=de,d=li;f.nodeType!==8;){if(!d){f=null;break e}if(f=ci(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){de=ci(f.nextSibling),l=f.data==="F!";break t}}Wr(l)}l=!1}l&&(r=a[0])}}return a=bn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:r},a.queue=l,a=ay.bind(null,Nt,l),l.dispatch=a,l=wd(!1),d=Ld.bind(null,Nt,!1,l.queue),l=bn(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=XR.bind(null,Nt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function H_(e){var r=De();return F_(r,se,e)}function F_(e,r,a){if(r=Rd(e,r,z_)[0],e=Ac(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Sl(r)}catch(y){throw y===Xa?fc:y}else l=r;r=De();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Nt.flags|=2048,eo(9,{destroy:void 0},JR.bind(null,f,a),null)),[l,d,e]}function JR(e,r){e.action=r}function G_(e){var r=De(),a=se;if(a!==null)return F_(r,a,e);De(),r=r.memoizedState,a=De();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function eo(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Nt.updateQueue,r===null&&(r=vc(),Nt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function q_(){return De().memoizedState}function Sc(e,r,a,l){var f=bn();Nt.flags|=e,f.memoizedState=eo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ic(e,r,a,l){var f=De();l=l===void 0?null:l;var d=f.memoizedState.inst;se!==null&&l!==null&&Ed(l,se.memoizedState.deps)?f.memoizedState=eo(r,d,a,l):(Nt.flags|=e,f.memoizedState=eo(1|r,d,a,l))}function Y_(e,r){Sc(8390656,8,e,r)}function Nd(e,r){Ic(2048,8,e,r)}function WR(e){Nt.flags|=4;var r=Nt.updateQueue;if(r===null)r=vc(),Nt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function K_(e){var r=De().memoizedState;return WR({ref:r,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function $_(e,r){return Ic(4,2,e,r)}function Q_(e,r){return Ic(4,4,e,r)}function X_(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function J_(e,r,a){a=a!=null?a.concat([e]):null,Ic(4,4,X_.bind(null,r,e),a)}function Od(){}function W_(e,r){var a=De();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Z_(e,r){var a=De();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=e(),ca){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,r],l}function Dd(e,r,a){return a===void 0||(or&1073741824)!==0&&(Bt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=tE(),Nt.lanes|=e,os|=e,a)}function ty(e,r,a,l){return Hn(a,r)?a:Wa.current!==null?(e=Dd(e,a,l),Hn(e,r)||(Ue=!0),e):(or&42)===0||(or&1073741824)!==0&&(Bt&261930)===0?(Ue=!0,e.memoizedState=a):(e=tE(),Nt.lanes|=e,os|=e,r)}function ey(e,r,a,l,f){var d=at.p;at.p=d!==0&&8>d?d:8;var y=K.T,A={};K.T=A,Ld(e,!1,r,a);try{var N=f(),H=K.S;if(H!==null&&H(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=KR(N,l);Il(e,r,$,$n(e))}else Il(e,r,l,$n(e))}catch(tt){Il(e,r,{then:function(){},status:"rejected",reason:tt},$n())}finally{at.p=d,y!==null&&A.types!==null&&(y.types=A.types),K.T=y}}function ZR(){}function Md(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=ny(e).queue;ey(e,f,r,_t,a===null?ZR:function(){return iy(e),a(l)})}function ny(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:_t},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function iy(e){var r=ny(e);r.next===null&&(r=e.alternate.memoizedState),Il(e,r.next.queue,{},$n())}function xd(){return rn(jl)}function ry(){return De().memoizedState}function sy(){return De().memoizedState}function tb(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=$n();e=es(a);var l=ns(r,e,a);l!==null&&(Pn(l,r,a),El(l,r,a)),r={cache:ld()},e.payload=r;return}r=r.return}}function eb(e,r,a){var l=$n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(e)?oy(r,a):(a=Jf(e,r,a,l),a!==null&&(Pn(a,e,l),ly(a,r,l)))}function ay(e,r,a){var l=$n();Il(e,r,a,l)}function Il(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))oy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var y=r.lastRenderedState,A=d(y,a);if(f.hasEagerState=!0,f.eagerState=A,Hn(A,y))return sc(e,r,f,0),ue===null&&rc(),!1}catch{}finally{}if(a=Jf(e,r,f,l),a!==null)return Pn(a,e,l),ly(a,r,l),!0}return!1}function Ld(e,r,a,l){if(l={lane:2,revertLane:fm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rc(e)){if(r)throw Error(s(479))}else r=Jf(e,a,l,2),r!==null&&Pn(r,e,2)}function Rc(e){var r=e.alternate;return e===Nt||r!==null&&r===Nt}function oy(e,r){Za=yc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function ly(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Lr(e,a)}}var Rl={readContext:rn,use:Tc,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re,useHostTransitionStatus:Re,useFormState:Re,useActionState:Re,useOptimistic:Re,useMemoCache:Re,useCacheRefresh:Re};Rl.useEffectEvent=Re;var uy={readContext:rn,use:Tc,useCallback:function(e,r){return bn().memoizedState=[e,r===void 0?null:r],e},useContext:rn,useEffect:Y_,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Sc(4194308,4,X_.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Sc(4194308,4,e,r)},useInsertionEffect:function(e,r){Sc(4,2,e,r)},useMemo:function(e,r){var a=bn();r=r===void 0?null:r;var l=e();if(ca){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=bn();if(a!==void 0){var f=a(r);if(ca){vn(!0);try{a(r)}finally{vn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=eb.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var r=bn();return e={current:e},r.memoizedState=e},useState:function(e){e=wd(e);var r=e.queue,a=ay.bind(null,Nt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(e,r){var a=bn();return Dd(a,e,r)},useTransition:function(){var e=wd(!1);return e=ey.bind(null,Nt,e.queue,!0,!1),bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Nt,f=bn();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ue===null)throw Error(s(349));(Bt&127)!==0||O_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Y_(M_.bind(null,l,d,e),[e]),l.flags|=2048,eo(9,{destroy:void 0},D_.bind(null,l,d,a,r),null),a},useId:function(){var e=bn(),r=ue.identifierPrefix;if(Ft){var a=Ui,l=Vi;a=(l&~(1<<32-Tn(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ec++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=$R++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:xd,useFormState:j_,useActionState:j_,useOptimistic:function(e){var r=bn();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ld.bind(null,Nt,!0,a),a.dispatch=r,[e,r]},useMemoCache:Id,useCacheRefresh:function(){return bn().memoizedState=tb.bind(null,Nt)},useEffectEvent:function(e){var r=bn(),a={impl:e};return r.memoizedState=a,function(){if((Zt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Vd={readContext:rn,use:Tc,useCallback:W_,useContext:rn,useEffect:Nd,useImperativeHandle:J_,useInsertionEffect:$_,useLayoutEffect:Q_,useMemo:Z_,useReducer:Ac,useRef:q_,useState:function(){return Ac(lr)},useDebugValue:Od,useDeferredValue:function(e,r){var a=De();return ty(a,se.memoizedState,e,r)},useTransition:function(){var e=Ac(lr)[0],r=De().memoizedState;return[typeof e=="boolean"?e:Sl(e),r]},useSyncExternalStore:N_,useId:ry,useHostTransitionStatus:xd,useFormState:H_,useActionState:H_,useOptimistic:function(e,r){var a=De();return V_(a,se,e,r)},useMemoCache:Id,useCacheRefresh:sy};Vd.useEffectEvent=K_;var cy={readContext:rn,use:Tc,useCallback:W_,useContext:rn,useEffect:Nd,useImperativeHandle:J_,useInsertionEffect:$_,useLayoutEffect:Q_,useMemo:Z_,useReducer:bd,useRef:q_,useState:function(){return bd(lr)},useDebugValue:Od,useDeferredValue:function(e,r){var a=De();return se===null?Dd(a,e,r):ty(a,se.memoizedState,e,r)},useTransition:function(){var e=bd(lr)[0],r=De().memoizedState;return[typeof e=="boolean"?e:Sl(e),r]},useSyncExternalStore:N_,useId:ry,useHostTransitionStatus:xd,useFormState:G_,useActionState:G_,useOptimistic:function(e,r){var a=De();return se!==null?V_(a,se,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Id,useCacheRefresh:sy};cy.useEffectEvent=K_;function Ud(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Pd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=$n(),f=es(l);f.payload=r,a!=null&&(f.callback=a),r=ns(e,f,l),r!==null&&(Pn(r,e,l),El(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=$n(),f=es(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ns(e,f,l),r!==null&&(Pn(r,e,l),El(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=$n(),l=es(a);l.tag=2,r!=null&&(l.callback=r),r=ns(e,l,a),r!==null&&(Pn(r,e,a),El(r,e,a))}};function hy(e,r,a,l,f,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):r.prototype&&r.prototype.isPureReactComponent?!hl(a,l)||!hl(f,d):!0}function fy(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Pd.enqueueReplaceState(r,r.state,null)}function ha(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function dy(e){ic(e)}function my(e){console.error(e)}function py(e){ic(e)}function bc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function gy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(e,r,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(e,r)},a}function _y(e){return e=es(e),e.tag=3,e}function yy(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){gy(r,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){gy(r,a,l),typeof f!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function nb(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ka(r,a,f,!0),a=Gn.current,a!==null){switch(a.tag){case 31:case 13:return ui===null?kc():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===dc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),um(e,l,f)),!1;case 22:return a.flags|=65536,l===dc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),um(e,l,f)),!1}throw Error(s(435,a.tag))}return um(e,l,f),kc(),!1}if(Ft)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==id&&(e=Error(s(422),{cause:l}),ml(si(e,a)))):(l!==id&&(r=Error(s(423),{cause:l}),ml(si(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=si(l,a),f=kd(e.stateNode,l,f),md(e,f),be!==4&&(be=2)),!1;var d=Error(s(520),{cause:l});if(d=si(d,a),xl===null?xl=[d]:xl.push(d),be!==4&&(be=2),r===null)return!0;l=si(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=kd(a.stateNode,l,e),md(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ls===null||!ls.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=_y(f),yy(f,e,a,l),md(a,f),!1}a=a.return}while(a!==null);return!1}var Bd=Error(s(461)),Ue=!1;function sn(e,r,a,l){r.child=e===null?A_(r,null,a,l):ua(r,e.child,a,l)}function Ey(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return sa(r),l=vd(e,r,a,y,d,f),A=Td(),e!==null&&!Ue?(Ad(e,r,f),ur(e,r,f)):(Ft&&A&&ed(r),r.flags|=1,sn(e,r,l,f),r.child)}function vy(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Wf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Ty(e,r,d,l,f)):(e=oc(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Kd(e,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(y,l)&&e.ref===r.ref)return ur(e,r,f)}return r.flags|=1,e=ir(d,l),e.ref=r.ref,e.return=r,r.child=e}function Ty(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(hl(d,l)&&e.ref===r.ref)if(Ue=!1,r.pendingProps=l=d,Kd(e,f))(e.flags&131072)!==0&&(Ue=!0);else return r.lanes=e.lanes,ur(e,r,f)}return zd(e,r,a,l,f)}function Ay(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return Sy(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&hc(r,d!==null?d.cachePool:null),d!==null?R_(r,d):gd(),b_(r);else return l=r.lanes=536870912,Sy(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(hc(r,d.cachePool),R_(r,d),rs(),r.memoizedState=null):(e!==null&&hc(r,null),gd(),rs());return sn(e,r,f,a),r.child}function bl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Sy(e,r,a,l,f){var d=cd();return d=d===null?null:{parent:Le._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&hc(r,null),gd(),b_(r),e!==null&&Ka(e,r,l,!0),r.childLanes=f,null}function wc(e,r){return r=Nc({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Iy(e,r,a){return ua(r,e.child,null,a),e=wc(r,r.pendingProps),e.flags|=2,qn(r),r.memoizedState=null,e}function ib(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Ft){if(l.mode==="hidden")return e=wc(r,l),r.lanes=536870912,bl(null,e);if(yd(r),(e=de)?(e=UE(e,li),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Xr!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=o_(e),a.return=r,r.child=a,nn=r,de=null)):e=null,e===null)throw Wr(r);return r.lanes=536870912,null}return wc(r,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(yd(r),f)if(r.flags&256)r.flags&=-257,r=Iy(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ue||Ka(e,r,a,!1),f=(a&e.childLanes)!==0,Ue||f){if(l=ue,l!==null&&(y=Vr(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,ea(e,y),Pn(l,e,y),Bd;kc(),r=Iy(e,r,a)}else e=d.treeContext,de=ci(y.nextSibling),nn=r,Ft=!0,Jr=null,li=!1,e!==null&&c_(r,e),r=wc(r,l),r.flags|=4096;return r}return e=ir(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Cc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function zd(e,r,a,l,f){return sa(r),a=vd(e,r,a,l,void 0,f),l=Td(),e!==null&&!Ue?(Ad(e,r,f),ur(e,r,f)):(Ft&&l&&ed(r),r.flags|=1,sn(e,r,a,f),r.child)}function Ry(e,r,a,l,f,d){return sa(r),r.updateQueue=null,a=C_(r,l,a,f),w_(e),l=Td(),e!==null&&!Ue?(Ad(e,r,d),ur(e,r,d)):(Ft&&l&&ed(r),r.flags|=1,sn(e,r,a,d),r.child)}function by(e,r,a,l,f){if(sa(r),r.stateNode===null){var d=Fa,y=a.contextType;typeof y=="object"&&y!==null&&(d=rn(y)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},fd(r),y=a.contextType,d.context=typeof y=="object"&&y!==null?rn(y):Fa,d.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ud(r,a,y,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Pd.enqueueReplaceState(d,d.state,null),Tl(r,l,d,f),vl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var A=r.memoizedProps,N=ha(a,A);d.props=N;var H=d.context,$=a.contextType;y=Fa,typeof $=="object"&&$!==null&&(y=rn($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||H!==y)&&fy(r,d,l,y),ts=!1;var F=r.memoizedState;d.state=F,Tl(r,l,d,f),vl(),H=r.memoizedState,A||F!==H||ts?(typeof tt=="function"&&(Ud(r,a,tt,l),H=r.memoizedState),(N=ts||hy(r,a,N,l,F,H,y))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=y,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,dd(e,r),y=r.memoizedProps,$=ha(a,y),d.props=$,tt=r.pendingProps,F=d.context,H=a.contextType,N=Fa,typeof H=="object"&&H!==null&&(N=rn(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==tt||F!==N)&&fy(r,d,l,N),ts=!1,F=r.memoizedState,d.state=F,Tl(r,l,d,f),vl();var q=r.memoizedState;y!==tt||F!==q||ts||e!==null&&e.dependencies!==null&&uc(e.dependencies)?(typeof A=="function"&&(Ud(r,a,A,l),q=r.memoizedState),($=ts||hy(r,a,$,l,F,q,N)||e!==null&&e.dependencies!==null&&uc(e.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=N,l=$):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Cc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=ua(r,e.child,null,f),r.child=ua(r,null,a,f)):sn(e,r,a,f),r.memoizedState=d.state,e=r.child):e=ur(e,r,f),e}function wy(e,r,a,l){return ia(),r.flags|=256,sn(e,r,a,l),r.child}var jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(e){return{baseLanes:e,cachePool:g_()}}function Fd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Kn),e}function Cy(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),y&&(f=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ft){if(f?is(r):rs(),(e=de)?(e=UE(e,li),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Xr!==null?{id:Vi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=o_(e),a.return=r,r.child=a,nn=r,de=null)):e=null,e===null)throw Wr(r);return Rm(e)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(rs(),f=r.mode,A=Nc({mode:"hidden",children:A},f),l=na(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Hd(a),l.childLanes=Fd(e,y,a),r.memoizedState=jd,bl(null,l)):(is(r),Gd(r,A))}var N=e.memoizedState;if(N!==null&&(A=N.dehydrated,A!==null)){if(d)r.flags&256?(is(r),r.flags&=-257,r=qd(e,r,a)):r.memoizedState!==null?(rs(),r.child=e.child,r.flags|=128,r=null):(rs(),A=l.fallback,f=r.mode,l=Nc({mode:"visible",children:l.children},f),A=na(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,ua(r,e.child,null,a),l=r.child,l.memoizedState=Hd(a),l.childLanes=Fd(e,y,a),r.memoizedState=jd,r=bl(null,l));else if(is(r),Rm(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var H=y.dgst;y=H,l=Error(s(419)),l.stack="",l.digest=y,ml({value:l,source:null,stack:null}),r=qd(e,r,a)}else if(Ue||Ka(e,r,a,!1),y=(a&e.childLanes)!==0,Ue||y){if(y=ue,y!==null&&(l=Vr(y,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ea(e,l),Pn(y,e,l),Bd;Im(A)||kc(),r=qd(e,r,a)}else Im(A)?(r.flags|=192,r.child=e.child,r=null):(e=N.treeContext,de=ci(A.nextSibling),nn=r,Ft=!0,Jr=null,li=!1,e!==null&&c_(r,e),r=Gd(r,l.children),r.flags|=4096);return r}return f?(rs(),A=l.fallback,f=r.mode,N=e.child,H=N.sibling,l=ir(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?A=ir(H,A):(A=na(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,bl(null,l),l=r.child,A=e.child.memoizedState,A===null?A=Hd(a):(f=A.cachePool,f!==null?(N=Le._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=g_(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Fd(e,y,a),r.memoizedState=jd,bl(e.child,l)):(is(r),a=e.child,e=a.sibling,a=ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(y=r.deletions,y===null?(r.deletions=[e],r.flags|=16):y.push(e)),r.child=a,r.memoizedState=null,a)}function Gd(e,r){return r=Nc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Nc(e,r){return e=Fn(22,e,null,r),e.lanes=0,e}function qd(e,r,a){return ua(r,e.child,null,a),e=Gd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ny(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),ad(e.return,r,a)}function Yd(e,r,a,l,f,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function Oy(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=Oe.current,A=(y&2)!==0;if(A?(y=y&1|2,r.flags|=128):y&=1,st(Oe,y),sn(e,r,l,a),l=Ft?dl:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ny(e,a,r);else if(e.tag===19)Ny(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&_c(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Yd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&_c(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Yd(r,!0,a,null,d,l);break;case"together":Yd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ur(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),os|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ka(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=ir(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=ir(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Kd(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&uc(e)))}function rb(e,r,a){switch(r.tag){case 3:He(r,r.stateNode.containerInfo),Zr(r,Le,e.memoizedState.cache),ia();break;case 27:case 5:Zn(r);break;case 4:He(r,r.stateNode.containerInfo);break;case 10:Zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,yd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(is(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Cy(e,r,a):(is(r),e=ur(e,r,a),e!==null?e.sibling:null);is(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ka(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Oy(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(Oe,Oe.current),l)break;return null;case 22:return r.lanes=0,Ay(e,r,a,r.pendingProps);case 24:Zr(r,Le,e.memoizedState.cache)}return ur(e,r,a)}function Dy(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ue=!0;else{if(!Kd(e,a)&&(r.flags&128)===0)return Ue=!1,rb(e,r,a);Ue=(e.flags&131072)!==0}else Ue=!1,Ft&&(r.flags&1048576)!==0&&u_(r,dl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=oa(r.elementType),r.type=e,typeof e=="function")Wf(e)?(l=ha(e,l),r.tag=1,r=by(null,r,e,l,a)):(r.tag=0,r=zd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===dt){r.tag=11,r=Ey(null,r,e,l,a);break t}else if(f===O){r.tag=14,r=vy(null,r,e,l,a);break t}}throw r=ce(e)||e,Error(s(306,r,""))}}return r;case 0:return zd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ha(l,r.pendingProps),by(e,r,l,f,a);case 3:t:{if(He(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,dd(e,r),Tl(r,l,null,a);var y=r.memoizedState;if(l=y.cache,Zr(r,Le,l),l!==d.cache&&od(r,[Le],a,!0),vl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=wy(e,r,l,a);break t}else if(l!==f){f=si(Error(s(424)),r),ml(f),r=wy(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=ci(e.firstChild),nn=r,Ft=!0,Jr=null,li=!0,a=A_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ia(),l===f){r=ur(e,r,a);break t}sn(e,r,l,a)}r=r.child}return r;case 26:return Cc(e,r),e===null?(a=HE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ft||(a=r.type,e=r.pendingProps,l=qc(Ot.current).createElement(a),l[Se]=r,l[en]=e,an(l,a,e),Ne(l),r.stateNode=l):r.memoizedState=HE(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Zn(r),e===null&&Ft&&(l=r.stateNode=BE(r.type,r.pendingProps,Ot.current),nn=r,li=!0,f=de,fs(r.type)?(bm=f,de=ci(l.firstChild)):de=f),sn(e,r,r.pendingProps.children,a),Cc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Ft&&((f=l=de)&&(l=Lb(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,nn=r,de=ci(l.firstChild),li=!1,f=!0):f=!1),f||Wr(r)),Zn(r),f=r.type,d=r.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Tm(f,d)?l=null:y!==null&&Tm(f,y)&&(r.flags|=32),r.memoizedState!==null&&(f=vd(e,r,QR,null,null,a),jl._currentValue=f),Cc(e,r),sn(e,r,l,a),r.child;case 6:return e===null&&Ft&&((e=a=de)&&(a=Vb(a,r.pendingProps,li),a!==null?(r.stateNode=a,nn=r,de=null,e=!0):e=!1),e||Wr(r)),null;case 13:return Cy(e,r,a);case 4:return He(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=ua(r,null,l,a):sn(e,r,l,a),r.child;case 11:return Ey(e,r,r.type,r.pendingProps,a);case 7:return sn(e,r,r.pendingProps,a),r.child;case 8:return sn(e,r,r.pendingProps.children,a),r.child;case 12:return sn(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Zr(r,r.type,l.value),sn(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,sa(r),f=rn(f),l=l(f),r.flags|=1,sn(e,r,l,a),r.child;case 14:return vy(e,r,r.type,r.pendingProps,a);case 15:return Ty(e,r,r.type,r.pendingProps,a);case 19:return Oy(e,r,a);case 31:return ib(e,r,a);case 22:return Ay(e,r,a,r.pendingProps);case 24:return sa(r),l=rn(Le),e===null?(f=cd(),f===null&&(f=ue,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},fd(r),Zr(r,Le,f)):((e.lanes&a)!==0&&(dd(e,r),Tl(r,null,null,a),vl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Zr(r,Le,l)):(l=d.cache,Zr(r,Le,l),l!==f.cache&&od(r,[Le],a,!0))),sn(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cr(e){e.flags|=4}function $d(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(rE())e.flags|=8192;else throw la=dc,hd}else e.flags&=-16777217}function My(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!KE(r))if(rE())e.flags|=8192;else throw la=dc,hd}function Oc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Ko():536870912,e.lanes|=r,so|=r)}function wl(e,r){if(!Ft)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function me(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function sb(e,r,a){var l=r.pendingProps;switch(nd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(r),null;case 1:return me(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(Le),he(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ya(r)?cr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rd())),me(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(cr(r),d!==null?(me(r),My(r,d)):(me(r),$d(r,f,null,l,a))):d?d!==e.memoizedState?(cr(r),me(r),My(r,d)):(me(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&cr(r),me(r),$d(r,f,e,l,a)),null;case 27:if(Fe(r),a=Ot.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return me(r),null}e=ht.current,Ya(r)?h_(r):(e=BE(f,l,a),r.stateNode=e,cr(r))}return me(r),null;case 5:if(Fe(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return me(r),null}if(d=ht.current,Ya(r))h_(r);else{var y=qc(Ot.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Se]=r,d[en]=l;t:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break t;for(;y.sibling===null;){if(y.return===null||y.return===r)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=d;t:switch(an(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&cr(r)}}return me(r),$d(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&cr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Ot.current,Ya(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Se]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||CE(e.nodeValue,a)),e||Wr(r,!0)}else e=qc(e).createTextNode(l),e[Se]=r,r.stateNode=e}return me(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=Ya(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;me(r),e=!1}else a=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(qn(r),r):(qn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return me(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ya(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Se]=r}else ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;me(r),f=!1}else f=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(qn(r),r):(qn(r),null)}return qn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Oc(r,r.updateQueue),me(r),null);case 4:return he(),e===null&&gm(r.stateNode.containerInfo),me(r),null;case 10:return ar(r.type),me(r),null;case 19:if(Q(Oe),l=r.memoizedState,l===null)return me(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)wl(l,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=_c(e),d!==null){for(r.flags|=128,wl(l,!1),e=d.updateQueue,r.updateQueue=e,Oc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)a_(a,e),a=a.sibling;return st(Oe,Oe.current&1|2),Ft&&rr(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&Vt()>Vc&&(r.flags|=128,f=!0,wl(l,!1),r.lanes=4194304)}else{if(!f)if(e=_c(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Oc(r,e),wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ft)return me(r),null}else 2*Vt()-l.renderingStartTime>Vc&&a!==536870912&&(r.flags|=128,f=!0,wl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Vt(),e.sibling=null,a=Oe.current,st(Oe,f?a&1|2:a&1),Ft&&rr(r,l.treeForkCount),e):(me(r),null);case 22:case 23:return qn(r),_d(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(me(r),r.subtreeFlags&6&&(r.flags|=8192)):me(r),a=r.updateQueue,a!==null&&Oc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&Q(aa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(Le),me(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ab(e,r){switch(nd(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return ar(Le),he(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Fe(r),null;case 31:if(r.memoizedState!==null){if(qn(r),r.alternate===null)throw Error(s(340));ia()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(qn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ia()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Q(Oe),null;case 4:return he(),null;case 10:return ar(r.type),null;case 22:case 23:return qn(r),_d(),e!==null&&Q(aa),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return ar(Le),null;case 25:return null;default:return null}}function xy(e,r){switch(nd(r),r.tag){case 3:ar(Le),he();break;case 26:case 27:case 5:Fe(r);break;case 4:he();break;case 31:r.memoizedState!==null&&qn(r);break;case 13:qn(r);break;case 19:Q(Oe);break;case 10:ar(r.type);break;case 22:case 23:qn(r),_d(),e!==null&&Q(aa);break;case 24:ar(Le)}}function Cl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(A){re(r,r.return,A)}}function ss(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,f=r;var N=a,H=A;try{H()}catch($){re(f,N,$)}}}l=l.next}while(l!==d)}}catch($){re(r,r.return,$)}}function Ly(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{I_(r,a)}catch(l){re(e,e.return,l)}}}function Vy(e,r,a){a.props=ha(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){re(e,r,l)}}function Nl(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){re(e,r,f)}}function Pi(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){re(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){re(e,r,f)}else a.current=null}function Uy(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){re(e,e.return,f)}}function Qd(e,r,a){try{var l=e.stateNode;Cb(l,e.type,a,r),l[en]=r}catch(f){re(e,e.return,f)}}function Py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fs(e.type)||e.tag===4}function Xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ke));else if(l!==4&&(l===27&&fs(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Jd(e,r,a),e=e.sibling;e!==null;)Jd(e,r,a),e=e.sibling}function Dc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&fs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dc(e,r,a),e=e.sibling;e!==null;)Dc(e,r,a),e=e.sibling}function ky(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,a),r[Se]=e,r[en]=a}catch(d){re(e,e.return,d)}}var hr=!1,Pe=!1,Wd=!1,By=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function ob(e,r){if(e=e.containerInfo,Em=Wc,e=Jg(e),qf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,A=-1,N=-1,H=0,$=0,tt=e,F=null;e:for(;;){for(var q;tt!==a||f!==0&&tt.nodeType!==3||(A=y+f),tt!==d||l!==0&&tt.nodeType!==3||(N=y+l),tt.nodeType===3&&(y+=tt.nodeValue.length),(q=tt.firstChild)!==null;)F=tt,tt=q;for(;;){if(tt===e)break e;if(F===a&&++H===f&&(A=y),F===d&&++$===l&&(N=y),(q=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=q}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(vm={focusedElem:e,selectionRange:a},Wc=!1,Xe=r;Xe!==null;)if(r=Xe,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Xe=e;else for(;Xe!==null;){switch(r=Xe,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=ha(a.type,f);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){re(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Sm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Xe=e;break}Xe=r.return}}function zy(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:dr(e,a),l&4&&Cl(5,a);break;case 1:if(dr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(y){re(a,a.return,y)}else{var f=ha(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(y){re(a,a.return,y)}}l&64&&Ly(a),l&512&&Nl(a,a.return);break;case 3:if(dr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{I_(e,r)}catch(y){re(a,a.return,y)}}break;case 27:r===null&&l&4&&ky(a);case 26:case 5:dr(e,a),r===null&&l&4&&Uy(a),l&512&&Nl(a,a.return);break;case 12:dr(e,a);break;case 31:dr(e,a),l&4&&Fy(e,a);break;case 13:dr(e,a),l&4&&Gy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gb.bind(null,a),Ub(e,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){r=r!==null&&r.memoizedState!==null||Pe,f=hr;var d=Pe;hr=l,(Pe=r)&&!d?mr(e,a,(a.subtreeFlags&8772)!==0):dr(e,a),hr=f,Pe=d}break;case 30:break;default:dr(e,a)}}function jy(e){var r=e.alternate;r!==null&&(e.alternate=null,jy(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Fs(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,xn=!1;function fr(e,r,a){for(a=a.child;a!==null;)Hy(e,r,a),a=a.sibling}function Hy(e,r,a){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(fn,a)}catch{}switch(a.tag){case 26:Pe||Pi(a,r),fr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Pi(a,r);var l=ge,f=xn;fs(a.type)&&(ge=a.stateNode,xn=!1),fr(e,r,a),kl(a.stateNode),ge=l,xn=f;break;case 5:Pe||Pi(a,r);case 6:if(l=ge,f=xn,ge=null,fr(e,r,a),ge=l,xn=f,ge!==null)if(xn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(a.stateNode)}catch(d){re(a,r,d)}else try{ge.removeChild(a.stateNode)}catch(d){re(a,r,d)}break;case 18:ge!==null&&(xn?(e=ge,LE(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),mo(e)):LE(ge,a.stateNode));break;case 4:l=ge,f=xn,ge=a.stateNode.containerInfo,xn=!0,fr(e,r,a),ge=l,xn=f;break;case 0:case 11:case 14:case 15:ss(2,a,r),Pe||ss(4,a,r),fr(e,r,a);break;case 1:Pe||(Pi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Vy(a,r,l)),fr(e,r,a);break;case 21:fr(e,r,a);break;case 22:Pe=(l=Pe)||a.memoizedState!==null,fr(e,r,a),Pe=l;break;default:fr(e,r,a)}}function Fy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mo(e)}catch(a){re(r,r.return,a)}}}function Gy(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mo(e)}catch(a){re(r,r.return,a)}}function lb(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new By),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new By),r;default:throw Error(s(435,e.tag))}}function Mc(e,r){var a=lb(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=_b.bind(null,e,l);l.then(f,f)}})}function Ln(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,y=r,A=y;t:for(;A!==null;){switch(A.tag){case 27:if(fs(A.type)){ge=A.stateNode,xn=!1;break t}break;case 5:ge=A.stateNode,xn=!1;break t;case 3:case 4:ge=A.stateNode.containerInfo,xn=!0;break t}A=A.return}if(ge===null)throw Error(s(160));Hy(d,y,f),ge=null,xn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)qy(r,e),r=r.sibling}var Ti=null;function qy(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(r,e),Vn(e),l&4&&(ss(3,e,e.return),Cl(3,e),ss(5,e,e.return));break;case 1:Ln(r,e),Vn(e),l&512&&(Pe||a===null||Pi(a,a.return)),l&64&&hr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ti;if(Ln(r,e),Vn(e),l&512&&(Pe||a===null||Pi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Qi]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),an(d,l,a),d[Se]=e,Ne(d),l=d;break t;case"link":var y=qE("link","href",f).get(l+(a.href||""));if(y){for(var A=0;A<y.length;A++)if(d=y[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(A,1);break e}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;case"meta":if(y=qE("meta","content",f).get(l+(a.content||""))){for(A=0;A<y.length;A++)if(d=y[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(A,1);break e}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,Ne(d),l=d}e.stateNode=l}else YE(f,e.type,e.stateNode);else e.stateNode=GE(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?YE(f,e.type,e.stateNode):GE(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Qd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ln(r,e),Vn(e),l&512&&(Pe||a===null||Pi(a,a.return)),a!==null&&l&4&&Qd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ln(r,e),Vn(e),l&512&&(Pe||a===null||Pi(a,a.return)),e.flags&32){f=e.stateNode;try{ii(f,"")}catch(ft){re(e,e.return,ft)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Qd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Wd=!0);break;case 6:if(Ln(r,e),Vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ft){re(e,e.return,ft)}}break;case 3:if($c=null,f=Ti,Ti=Yc(r.containerInfo),Ln(r,e),Ti=f,Vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(r.containerInfo)}catch(ft){re(e,e.return,ft)}Wd&&(Wd=!1,Yy(e));break;case 4:l=Ti,Ti=Yc(e.stateNode.containerInfo),Ln(r,e),Vn(e),Ti=l;break;case 12:Ln(r,e),Vn(e);break;case 31:Ln(r,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mc(e,l)));break;case 13:Ln(r,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lc=Vt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mc(e,l)));break;case 22:f=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=hr,$=Pe;if(hr=H||f,Pe=$||N,Ln(r,e),Pe=$,hr=H,Vn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||hr||Pe||fa(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=N.stateNode;var tt=N.memoizedProps.style,F=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ft){re(N,N.return,ft)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ft){re(N,N.return,ft)}}}else if(r.tag===18){if(a===null){N=r;try{var q=N.stateNode;f?VE(q,!0):VE(N.stateNode,!1)}catch(ft){re(N,N.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mc(e,a))));break;case 19:Ln(r,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Mc(e,l)));break;case 30:break;case 21:break;default:Ln(r,e),Vn(e)}}function Vn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(Py(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(e);Dc(e,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(ii(y,""),a.flags&=-33);var A=Xd(e);Dc(e,A,y);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Xd(e);Jd(e,H,N);break;default:throw Error(s(161))}}catch($){re(e,e.return,$)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function dr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)zy(e,r.alternate,r),r=r.sibling}function fa(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:ss(4,r,r.return),fa(r);break;case 1:Pi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Vy(r,r.return,a),fa(r);break;case 27:kl(r.stateNode);case 26:case 5:Pi(r,r.return),fa(r);break;case 22:r.memoizedState===null&&fa(r);break;case 30:fa(r);break;default:fa(r)}e=e.sibling}}function mr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,y=d.flags;switch(d.tag){case 0:case 11:case 15:mr(f,d,a),Cl(4,d);break;case 1:if(mr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){re(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)S_(N[f],A)}catch(H){re(l,l.return,H)}}a&&y&64&&Ly(d),Nl(d,d.return);break;case 27:ky(d);case 26:case 5:mr(f,d,a),a&&l===null&&y&4&&Uy(d),Nl(d,d.return);break;case 12:mr(f,d,a);break;case 31:mr(f,d,a),a&&y&4&&Fy(f,d);break;case 13:mr(f,d,a),a&&y&4&&Gy(f,d);break;case 22:d.memoizedState===null&&mr(f,d,a),Nl(d,d.return);break;case 30:break;default:mr(f,d,a)}r=r.sibling}}function Zd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&pl(a))}function tm(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&pl(e))}function Ai(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ky(e,r,a,l),r=r.sibling}function Ky(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(e,r,a,l),f&2048&&Cl(9,r);break;case 1:Ai(e,r,a,l);break;case 3:Ai(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&pl(e)));break;case 12:if(f&2048){Ai(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,y=d.id,A=d.onPostCommit;typeof A=="function"&&A(y,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){re(r,r.return,N)}}else Ai(e,r,a,l);break;case 31:Ai(e,r,a,l);break;case 13:Ai(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,y=r.alternate,r.memoizedState!==null?d._visibility&2?Ai(e,r,a,l):Ol(e,r):d._visibility&2?Ai(e,r,a,l):(d._visibility|=2,no(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Zd(y,r);break;case 24:Ai(e,r,a,l),f&2048&&tm(r.alternate,r);break;default:Ai(e,r,a,l)}}function no(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,y=r,A=a,N=l,H=y.flags;switch(y.tag){case 0:case 11:case 15:no(d,y,A,N,f),Cl(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?no(d,y,A,N,f):Ol(d,y):($._visibility|=2,no(d,y,A,N,f)),f&&H&2048&&Zd(y.alternate,y);break;case 24:no(d,y,A,N,f),f&&H&2048&&tm(y.alternate,y);break;default:no(d,y,A,N,f)}r=r.sibling}}function Ol(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Ol(a,l),f&2048&&Zd(l.alternate,l);break;case 24:Ol(a,l),f&2048&&tm(l.alternate,l);break;default:Ol(a,l)}r=r.sibling}}var Dl=8192;function io(e,r,a){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)$y(e,r,a),e=e.sibling}function $y(e,r,a){switch(e.tag){case 26:io(e,r,a),e.flags&Dl&&e.memoizedState!==null&&$b(a,Ti,e.memoizedState,e.memoizedProps);break;case 5:io(e,r,a);break;case 3:case 4:var l=Ti;Ti=Yc(e.stateNode.containerInfo),io(e,r,a),Ti=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,io(e,r,a),Dl=l):io(e,r,a));break;default:io(e,r,a)}}function Qy(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Ml(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xe=l,Jy(l,e)}Qy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xy(e),e=e.sibling}function Xy(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&ss(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,xc(e)):Ml(e);break;default:Ml(e)}}function xc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xe=l,Jy(l,e)}Qy(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:ss(8,r,r.return),xc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,xc(r));break;default:xc(r)}e=e.sibling}}function Jy(e,r){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:ss(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xe=l;else t:for(a=e;Xe!==null;){l=Xe;var f=l.sibling,d=l.return;if(jy(l),l===a){Xe=null;break t}if(f!==null){f.return=d,Xe=f;break t}Xe=d}}}var ub={getCacheForType:function(e){var r=rn(Le),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return rn(Le).controller.signal}},cb=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ue=null,Ut=null,Bt=0,ie=0,Yn=null,as=!1,ro=!1,em=!1,pr=0,be=0,os=0,da=0,nm=0,Kn=0,so=0,xl=null,Un=null,im=!1,Lc=0,Wy=0,Vc=1/0,Uc=null,ls=null,qe=0,us=null,ao=null,gr=0,rm=0,sm=null,Zy=null,Ll=0,am=null;function $n(){return(Zt&2)!==0&&Bt!==0?Bt&-Bt:K.T!==null?fm():$i()}function tE(){if(Kn===0)if((Bt&536870912)===0||Ft){var e=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),Kn=e}else Kn=536870912;return e=Gn.current,e!==null&&(e.flags|=32),Kn}function Pn(e,r,a){(e===ue&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(oo(e,0),cs(e,Bt,Kn,!1)),xr(e,a),((Zt&2)===0||e!==ue)&&(e===ue&&((Zt&2)===0&&(da|=a),be===4&&cs(e,Bt,Kn,!1)),ki(e))}function eE(e,r,a){if((Zt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Mr(e,r),f=l?db(e,r):lm(e,r,!0),d=l;do{if(f===0){ro&&!l&&cs(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!hb(a)){f=lm(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;t:{var A=e;f=xl;var N=A.current.memoizedState.isDehydrated;if(N&&(oo(A,y).flags|=256),y=lm(A,y,!1),y!==2){if(em&&!N){A.errorRecoveryDisabledLanes|=d,da|=d,f=4;break t}d=Un,Un=f,d!==null&&(Un===null?Un=d:Un.push.apply(Un,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){oo(e,0),cs(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:cs(l,r,Kn,!as);break t;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Lc+300-Vt(),10<f)){if(cs(l,r,Kn,!as),ei(l,0,!0)!==0)break t;gr=r,l.timeoutHandle=ME(nE.bind(null,l,a,Un,Uc,im,r,Kn,da,so,as,d,"Throttled",-0,0),f);break t}nE(l,a,Un,Uc,im,r,Kn,da,so,as,d,null,-0,0)}}break}while(!0);ki(e)}function nE(e,r,a,l,f,d,y,A,N,H,$,tt,F,q){if(e.timeoutHandle=-1,tt=r.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ke},$y(r,d,tt);var ft=(d&62914560)===d?Lc-Vt():(d&4194048)===d?Wy-Vt():0;if(ft=Qb(tt,ft),ft!==null){gr=d,e.cancelPendingCommit=ft(cE.bind(null,e,r,d,a,l,f,y,A,N,$,tt,null,F,q)),cs(e,d,y,!H);return}}cE(e,r,d,a,l,f,y,A,N)}function hb(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Hn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function cs(e,r,a,l){r&=~nm,r&=~da,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-Tn(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&$o(e,a,r)}function Pc(){return(Zt&6)===0?(Vl(0),!1):!0}function om(){if(Ut!==null){if(ie===0)var e=Ut.return;else e=Ut,sr=ra=null,Sd(e),Ja=null,_l=0,e=Ut;for(;e!==null;)xy(e.alternate,e),e=e.return;Ut=null}}function oo(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Db(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),gr=0,om(),ue=e,Ut=a=ir(e.current,null),Bt=r,ie=0,Yn=null,as=!1,ro=Mr(e,r),em=!1,so=Kn=nm=da=os=be=0,Un=xl=null,im=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-Tn(l),d=1<<f;r|=e[f],l&=~d}return pr=r,rc(),a}function iE(e,r){Nt=null,K.H=Rl,r===Xa||r===fc?(r=E_(),ie=3):r===hd?(r=E_(),ie=4):ie=r===Bd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yn=r,Ut===null&&(be=1,bc(e,si(r,e.current)))}function rE(){var e=Gn.current;return e===null?!0:(Bt&4194048)===Bt?ui===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?e===ui:!1}function sE(){var e=K.H;return K.H=Rl,e===null?Rl:e}function aE(){var e=K.A;return K.A=ub,e}function kc(){be=4,as||(Bt&4194048)!==Bt&&Gn.current!==null||(ro=!0),(os&134217727)===0&&(da&134217727)===0||ue===null||cs(ue,Bt,Kn,!1)}function lm(e,r,a){var l=Zt;Zt|=2;var f=sE(),d=aE();(ue!==e||Bt!==r)&&(Uc=null,oo(e,r)),r=!1;var y=be;t:do try{if(ie!==0&&Ut!==null){var A=Ut,N=Yn;switch(ie){case 8:om(),y=6;break t;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var H=ie;if(ie=0,Yn=null,lo(e,A,N,H),a&&ro){y=0;break t}break;default:H=ie,ie=0,Yn=null,lo(e,A,N,H)}}fb(),y=be;break}catch($){iE(e,$)}while(!0);return r&&e.shellSuspendCounter++,sr=ra=null,Zt=l,K.H=f,K.A=d,Ut===null&&(ue=null,Bt=0,rc()),y}function fb(){for(;Ut!==null;)oE(Ut)}function db(e,r){var a=Zt;Zt|=2;var l=sE(),f=aE();ue!==e||Bt!==r?(Uc=null,Vc=Vt()+500,oo(e,r)):ro=Mr(e,r);t:do try{if(ie!==0&&Ut!==null){r=Ut;var d=Yn;e:switch(ie){case 1:ie=0,Yn=null,lo(e,r,d,1);break;case 2:case 9:if(__(d)){ie=0,Yn=null,lE(r);break}r=function(){ie!==2&&ie!==9||ue!==e||(ie=7),ki(e)},d.then(r,r);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:__(d)?(ie=0,Yn=null,lE(r)):(ie=0,Yn=null,lo(e,r,d,7));break;case 5:var y=null;switch(Ut.tag){case 26:y=Ut.memoizedState;case 5:case 27:var A=Ut;if(y?KE(y):A.stateNode.complete){ie=0,Yn=null;var N=A.sibling;if(N!==null)Ut=N;else{var H=A.return;H!==null?(Ut=H,Bc(H)):Ut=null}break e}}ie=0,Yn=null,lo(e,r,d,5);break;case 6:ie=0,Yn=null,lo(e,r,d,6);break;case 8:om(),be=6;break t;default:throw Error(s(462))}}mb();break}catch($){iE(e,$)}while(!0);return sr=ra=null,K.H=l,K.A=f,Zt=a,Ut!==null?0:(ue=null,Bt=0,rc(),be)}function mb(){for(;Ut!==null&&!mt();)oE(Ut)}function oE(e){var r=Dy(e.alternate,e,pr);e.memoizedProps=e.pendingProps,r===null?Bc(e):Ut=r}function lE(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Ry(a,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=Ry(a,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Sd(r);default:xy(a,r),r=Ut=a_(r,pr),r=Dy(a,r,pr)}e.memoizedProps=e.pendingProps,r===null?Bc(e):Ut=r}function lo(e,r,a,l){sr=ra=null,Sd(r),Ja=null,_l=0;var f=r.return;try{if(nb(e,f,r,a,Bt)){be=1,bc(e,si(a,e.current)),Ut=null;return}}catch(d){if(f!==null)throw Ut=f,d;be=1,bc(e,si(a,e.current)),Ut=null;return}r.flags&32768?(Ft||l===1?e=!0:ro||(Bt&536870912)!==0?e=!1:(as=e=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),uE(r,e)):Bc(r)}function Bc(e){var r=e;do{if((r.flags&32768)!==0){uE(r,as);return}e=r.return;var a=sb(r.alternate,r,pr);if(a!==null){Ut=a;return}if(r=r.sibling,r!==null){Ut=r;return}Ut=r=e}while(r!==null);be===0&&(be=5)}function uE(e,r){do{var a=ab(e.alternate,e);if(a!==null){a.flags&=32767,Ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=a}while(e!==null);be=6,Ut=null}function cE(e,r,a,l,f,d,y,A,N){e.cancelPendingCommit=null;do zc();while(qe!==0);if((Zt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Xf,tn(e,a,d,y,A,N),e===ue&&(Ut=ue=null,Bt=0),ao=r,us=e,gr=a,rm=d,sm=f,Zy=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yb(_e,function(){return pE(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=at.p,at.p=2,y=Zt,Zt|=4;try{ob(e,r,a)}finally{Zt=y,at.p=f,K.T=l}}qe=1,hE(),fE(),dE()}}function hE(){if(qe===1){qe=0;var e=us,r=ao,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var f=Zt;Zt|=4;try{qy(r,e);var d=vm,y=Jg(e.containerInfo),A=d.focusedElem,N=d.selectionRange;if(y!==A&&A&&A.ownerDocument&&Xg(A.ownerDocument.documentElement,A)){if(N!==null&&qf(A)){var H=N.start,$=N.end;if($===void 0&&($=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min($,A.value.length);else{var tt=A.ownerDocument||document,F=tt&&tt.defaultView||window;if(F.getSelection){var q=F.getSelection(),ft=A.textContent.length,At=Math.min(N.start,ft),oe=N.end===void 0?At:Math.min(N.end,ft);!q.extend&&At>oe&&(y=oe,oe=At,At=y);var k=Qg(A,At),M=Qg(A,oe);if(k&&M&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var j=tt.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),At>oe?(q.addRange(j),q.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),q.addRange(j))}}}}for(tt=[],q=A;q=q.parentNode;)q.nodeType===1&&tt.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var J=tt[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Wc=!!Em,vm=Em=null}finally{Zt=f,at.p=l,K.T=a}}e.current=r,qe=2}}function fE(){if(qe===2){qe=0;var e=us,r=ao,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=at.p;at.p=2;var f=Zt;Zt|=4;try{zy(e,r.alternate,r)}finally{Zt=f,at.p=l,K.T=a}}qe=3}}function dE(){if(qe===4||qe===3){qe=0,gt();var e=us,r=ao,a=gr,l=Zy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qe=5:(qe=0,ao=us=null,mE(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ls=null),Xo(a),r=r.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(fn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=at.p,at.p=2,K.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];d(A.value,{componentStack:A.stack})}}finally{K.T=r,at.p=f}}(gr&3)!==0&&zc(),ki(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===am?Ll++:(Ll=0,am=e):Ll=0,Vl(0)}}function mE(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,pl(r)))}function zc(){return hE(),fE(),dE(),pE()}function pE(){if(qe!==5)return!1;var e=us,r=rm;rm=0;var a=Xo(gr),l=K.T,f=at.p;try{at.p=32>a?32:a,K.T=null,a=sm,sm=null;var d=us,y=gr;if(qe=0,ao=us=null,gr=0,(Zt&6)!==0)throw Error(s(331));var A=Zt;if(Zt|=4,Xy(d.current),Ky(d,d.current,y,a),Zt=A,Vl(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(fn,d)}catch{}return!0}finally{at.p=f,K.T=l,mE(e,r)}}function gE(e,r,a){r=si(a,r),r=kd(e.stateNode,r,2),e=ns(e,r,2),e!==null&&(xr(e,2),ki(e))}function re(e,r,a){if(e.tag===3)gE(e,e,a);else for(;r!==null;){if(r.tag===3){gE(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ls===null||!ls.has(l))){e=si(a,e),a=_y(2),l=ns(r,a,2),l!==null&&(yy(a,l,r,e),xr(l,2),ki(l));break}}r=r.return}}function um(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new cb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(em=!0,f.add(a),e=pb.bind(null,e,r,a),r.then(e,e))}function pb(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ue===e&&(Bt&a)===a&&(be===4||be===3&&(Bt&62914560)===Bt&&300>Vt()-Lc?(Zt&2)===0&&oo(e,0):nm|=a,so===Bt&&(so=0)),ki(e)}function _E(e,r){r===0&&(r=Ko()),e=ea(e,r),e!==null&&(xr(e,r),ki(e))}function gb(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),_E(e,a)}function _b(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),_E(e,a)}function yb(e,r){return it(e,r)}var jc=null,uo=null,cm=!1,Hc=!1,hm=!1,hs=0;function ki(e){e!==uo&&e.next===null&&(uo===null?jc=uo=e:uo=uo.next=e),Hc=!0,cm||(cm=!0,vb())}function Vl(e,r){if(!hm&&Hc){hm=!0;do for(var a=!1,l=jc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Tn(42|e)+1)-1,d&=f&~(y&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,TE(l,d))}else d=Bt,d=ei(l,l===ue?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Mr(l,d)||(a=!0,TE(l,d));l=l.next}while(a);hm=!1}}function Eb(){yE()}function yE(){Hc=cm=!1;var e=0;hs!==0&&Ob()&&(e=hs);for(var r=Vt(),a=null,l=jc;l!==null;){var f=l.next,d=EE(l,r);d===0?(l.next=null,a===null?jc=f:a.next=f,f===null&&(uo=a)):(a=l,(e!==0||(d&3)!==0)&&(Hc=!0)),l=f}qe!==0&&qe!==5||Vl(e),hs!==0&&(hs=0)}function EE(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Tn(d),A=1<<y,N=f[y];N===-1?((A&a)===0||(A&l)!==0)&&(f[y]=Na(A,r)):N<=r&&(e.expiredLanes|=A),d&=~A}if(r=ue,a=Bt,a=ei(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Mr(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&lt(l),Xo(a)){case 2:case 8:a=ee;break;case 32:a=_e;break;case 268435456:a=Wt;break;default:a=_e}return l=vE.bind(null,e),a=it(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&lt(l),e.callbackPriority=2,e.callbackNode=null,2}function vE(e,r){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zc()&&e.callbackNode!==a)return null;var l=Bt;return l=ei(e,e===ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(eE(e,l,r),EE(e,Vt()),e.callbackNode!=null&&e.callbackNode===a?vE.bind(null,e):null)}function TE(e,r){if(zc())return null;eE(e,r,!0)}function vb(){Mb(function(){(Zt&6)!==0?it(kt,Eb):yE()})}function fm(){if(hs===0){var e=$a;e===0&&(e=Hs,Hs<<=1,(Hs&261888)===0&&(Hs=256)),hs=e}return hs}function AE(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mi(""+e)}function SE(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function Tb(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=AE((f[en]||null).action),y=l.submitter;y&&(r=(r=y[en]||null)?AE(r.formAction):y.getAttribute("formAction"),r!==null&&(d=r,y=null));var A=new $s("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var N=y?SE(f,y):new FormData(f);Md(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(A.preventDefault(),N=y?SE(f,y):new FormData(f),Md(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var dm=0;dm<Qf.length;dm++){var mm=Qf[dm],Ab=mm.toLowerCase(),Sb=mm[0].toUpperCase()+mm.slice(1);vi(Ab,"on"+Sb)}vi(t_,"onAnimationEnd"),vi(e_,"onAnimationIteration"),vi(n_,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(BR,"onTransitionRun"),vi(zR,"onTransitionStart"),vi(jR,"onTransitionCancel"),vi(i_,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function IE(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var y=l.length-1;0<=y;y--){var A=l[y],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){ic($)}f.currentTarget=null,d=N}else for(y=0;y<l.length;y++){if(A=l[y],N=A.instance,H=A.currentTarget,A=A.listener,N!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=H;try{d(f)}catch($){ic($)}f.currentTarget=null,d=N}}}}function Pt(e,r){var a=r[Ur];a===void 0&&(a=r[Ur]=new Set);var l=e+"__bubble";a.has(l)||(RE(r,e,2,!1),a.add(l))}function pm(e,r,a){var l=0;r&&(l|=4),RE(a,e,l,r)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Fc]){e[Fc]=!0,Oa.forEach(function(a){a!=="selectionchange"&&(Ib.has(a)||pm(a,!1,e),pm(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Fc]||(r[Fc]=!0,pm("selectionchange",!1,r))}}function RE(e,r,a,l){switch(tv(r)){case 2:var f=Wb;break;case 8:f=Zb;break;default:f=Dm}a=f.bind(null,r,a,e),f=void 0,!rl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function _m(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===f)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;A!==null;){if(y=Xi(A),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=d=y;continue t}A=A.parentNode}}l=l.return}ju(function(){var H=d,$=Va(a),tt=[];t:{var F=r_.get(e);if(F!==void 0){var q=$s,ft=e;switch(e){case"keypress":if(Ks(a)===0)break t;case"keydown":case"keyup":q=Xu;break;case"focusin":ft="focus",q=Yr;break;case"focusout":ft="blur",q=Yr;break;case"beforeblur":case"afterblur":q=Yr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Wu;break;case t_:case e_:case n_:q=ka;break;case i_:q=Ba;break;case"scroll":case"scrollend":q=Hu;break;case"wheel":q=tc;break;case"copy":case"cut":case"paste":q=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ul;break;case"toggle":case"beforetoggle":q=$r}var At=(r&4)!==0,oe=!At&&(e==="scroll"||e==="scrollend"),k=At?F!==null?F+"Capture":null:F;At=[];for(var M=H,j;M!==null;){var J=M;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||k===null||(J=Dn(M,k),J!=null&&At.push(Pl(M,J,j))),oe)break;M=M.return}0<At.length&&(F=new q(F,ft,null,a,$),tt.push({event:F,listeners:At}))}}if((r&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",F&&a!==La&&(ft=a.relatedTarget||a.fromElement)&&(Xi(ft)||ft[Ni]))break t;if((q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,q?(ft=a.relatedTarget||a.toElement,q=H,ft=ft?Xi(ft):null,ft!==null&&(oe=u(ft),At=ft.tag,ft!==oe||At!==5&&At!==27&&At!==6)&&(ft=null)):(q=null,ft=H),q!==ft)){if(At=Fu,J="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(At=ul,J="onPointerLeave",k="onPointerEnter",M="pointer"),oe=q==null?F:Gs(q),j=ft==null?F:Gs(ft),F=new At(J,M+"leave",q,a,$),F.target=oe,F.relatedTarget=j,J=null,Xi($)===H&&(At=new At(k,M+"enter",ft,a,$),At.target=j,At.relatedTarget=oe,J=At),oe=J,q&&ft)e:{for(At=Rb,k=q,M=ft,j=0,J=k;J;J=At(J))j++;J=0;for(var vt=M;vt;vt=At(vt))J++;for(;0<j-J;)k=At(k),j--;for(;0<J-j;)M=At(M),J--;for(;j--;){if(k===M||M!==null&&k===M.alternate){At=k;break e}k=At(k),M=At(M)}At=null}else At=null;q!==null&&bE(tt,F,q,At,!1),ft!==null&&oe!==null&&bE(tt,oe,ft,At,!0)}}t:{if(F=H?Gs(H):window,q=F.nodeName&&F.nodeName.toLowerCase(),q==="select"||q==="input"&&F.type==="file")var Xt=Fg;else if(Mn(F))if(Gg)Xt=UR;else{Xt=LR;var pt=xR}else q=F.nodeName,!q||q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&nl(H.elementType)&&(Xt=Fg):Xt=VR;if(Xt&&(Xt=Xt(e,H))){Ws(tt,Xt,a,$);break t}pt&&pt(e,F,H),e==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&xa(F,"number",F.value)}switch(pt=H?Gs(H):window,e){case"focusin":(Mn(pt)||pt.contentEditable==="true")&&(za=pt,Yf=H,fl=null);break;case"focusout":fl=Yf=za=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Wg(tt,a,$);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":Wg(tt,a,$)}var Dt;if(_)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Mt?ne(e,a)&&(zt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(B&&a.locale!=="ko"&&(Mt||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Mt&&(Dt=Hr()):(jn=$,Ua="value"in jn?jn.value:jn.textContent,Mt=!0)),pt=Gc(H,zt),0<pt.length&&(zt=new al(zt,e,null,a,$),tt.push({event:zt,listeners:pt}),Dt?zt.data=Dt:(Dt=xe(a),Dt!==null&&(zt.data=Dt)))),(Dt=I?$e(e,a):Qe(e,a))&&(zt=Gc(H,"onBeforeInput"),0<zt.length&&(pt=new al("onBeforeInput","beforeinput",null,a,$),tt.push({event:pt,listeners:zt}),pt.data=Dt)),Tb(tt,e,H,a,$)}IE(tt,r)})}function Pl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Gc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Dn(e,a),f!=null&&l.unshift(Pl(e,f,d)),f=Dn(e,r),f!=null&&l.push(Pl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Rb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bE(e,r,a,l,f){for(var d=r._reactName,y=[];a!==null&&a!==l;){var A=a,N=A.alternate,H=A.stateNode;if(A=A.tag,N!==null&&N===l)break;A!==5&&A!==26&&A!==27||H===null||(N=H,f?(H=Dn(a,d),H!=null&&y.unshift(Pl(a,H,N))):f||(H=Dn(a,d),H!=null&&y.push(Pl(a,H,N)))),a=a.return}y.length!==0&&e.push({event:r,listeners:y})}var bb=/\r\n?/g,wb=/\u0000|\uFFFD/g;function wE(e){return(typeof e=="string"?e:""+e).replace(bb,`
`).replace(wb,"")}function CE(e,r){return r=wE(r),wE(e)===r}function ae(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ii(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ii(e,""+l);break;case"className":Br(e,"class",l);break;case"tabIndex":Br(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Br(e,a,l);break;case"style":Bu(e,l,d);break;case"data":if(r!=="object"){Br(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Mi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ae(e,r,"name",f.name,f,null),ae(e,r,"formEncType",f.formEncType,f,null),ae(e,r,"formMethod",f.formMethod,f,null),ae(e,r,"formTarget",f.formTarget,f,null)):(ae(e,r,"encType",f.encType,f,null),ae(e,r,"method",f.method,f,null),ae(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Mi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ke);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Mi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),kr(e,"popover",l);break;case"xlinkActuate":ni(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ni(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ni(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ni(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ni(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ni(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ni(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ni(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ni(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":kr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zf.get(a)||a,kr(e,a,l))}}function ym(e,r,a,l,f,d){switch(a){case"style":Bu(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ii(e,l):(typeof l=="number"||typeof l=="bigint")&&ii(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ke);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[en]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):kr(e,a,l)}}}function an(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ae(e,r,d,y,a,null)}}f&&ae(e,r,"srcSet",a.srcSet,a,null),l&&ae(e,r,"src",a.src,a,null);return;case"input":Pt("invalid",e);var A=d=y=f=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":y=$;break;case"checked":N=$;break;case"defaultChecked":H=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:ae(e,r,l,$,a,null)}}qs(e,d,A,N,H,y,f,!1);return;case"select":Pt("invalid",e),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:ae(e,r,f,A,a,null)}r=d,a=y,e.multiple=!!l,r!=null?Qt(e,!!l,r,!1):a!=null&&Qt(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(A=a[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ae(e,r,y,A,a,null)}jr(e,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ae(e,r,N,l,a,null)}return;case"dialog":Pt("beforetoggle",e),Pt("toggle",e),Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Pt(Ul[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ae(e,r,H,l,a,null)}return;default:if(nl(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&ym(e,r,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ae(e,r,A,l,a,null))}function Cb(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,A=null,N=null,H=null,$=null;for(q in a){var tt=a[q];if(a.hasOwnProperty(q)&&tt!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=tt;default:l.hasOwnProperty(q)||ae(e,r,q,null,l,tt)}}for(var F in l){var q=l[F];if(tt=a[F],l.hasOwnProperty(F)&&(q!=null||tt!=null))switch(F){case"type":d=q;break;case"name":f=q;break;case"checked":H=q;break;case"defaultChecked":$=q;break;case"value":y=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==tt&&ae(e,r,F,q,l,tt)}}zr(e,y,A,N,H,$,d,f);return;case"select":q=y=A=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(d)||ae(e,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":y=d;default:d!==N&&ae(e,r,f,d,l,N)}r=A,a=y,l=q,F!=null?Qt(e,!!a,F,!1):!!l!=!!a&&(r!=null?Qt(e,!!a,r,!0):Qt(e,!!a,a?[]:"",!1));return;case"textarea":q=F=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ae(e,r,A,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":F=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ae(e,r,y,f,l,d)}Ys(e,F,q);return;case"option":for(var ft in a)if(F=a[ft],a.hasOwnProperty(ft)&&F!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:ae(e,r,ft,null,l,F)}for(N in l)if(F=l[N],q=a[N],l.hasOwnProperty(N)&&F!==q&&(F!=null||q!=null))switch(N){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ae(e,r,N,F,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)F=a[At],a.hasOwnProperty(At)&&F!=null&&!l.hasOwnProperty(At)&&ae(e,r,At,null,l,F);for(H in l)if(F=l[H],q=a[H],l.hasOwnProperty(H)&&F!==q&&(F!=null||q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:ae(e,r,H,F,l,q)}return;default:if(nl(r)){for(var oe in a)F=a[oe],a.hasOwnProperty(oe)&&F!==void 0&&!l.hasOwnProperty(oe)&&ym(e,r,oe,void 0,l,F);for($ in l)F=l[$],q=a[$],!l.hasOwnProperty($)||F===q||F===void 0&&q===void 0||ym(e,r,$,F,l,q);return}}for(var k in a)F=a[k],a.hasOwnProperty(k)&&F!=null&&!l.hasOwnProperty(k)&&ae(e,r,k,null,l,F);for(tt in l)F=l[tt],q=a[tt],!l.hasOwnProperty(tt)||F===q||F==null&&q==null||ae(e,r,tt,F,l,q)}function NE(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,A=f.duration;if(d&&A&&NE(y)){for(y=0,A=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>A)break;var $=N.transferSize,tt=N.initiatorType;$&&NE(tt)&&(N=N.responseEnd,y+=$*(N<A?1:(A-H)/(N-H)))}if(--l,r+=8*(d+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Em=null,vm=null;function qc(e){return e.nodeType===9?e:e.ownerDocument}function OE(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DE(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Tm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Am=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===Am?!1:(Am=e,!0):(Am=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(e){return xE.resolve(null).then(e).catch(xb)}:ME;function xb(e){setTimeout(function(){throw e})}function fs(e){return e==="head"}function LE(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),mo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")kl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,kl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,A=d.nodeName;d[Qi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&kl(e.ownerDocument.body);a=f}while(a);mo(r)}function VE(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Sm(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),Fs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lb(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qi])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ci(e.nextSibling),e===null)break}return null}function Vb(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ci(e.nextSibling),e===null))return null;return e}function UE(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ci(e.nextSibling),e===null))return null;return e}function Im(e){return e.data==="$?"||e.data==="$~"}function Rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ub(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ci(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var bm=null;function PE(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return ci(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function kE(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function BE(e,r,a){switch(r=qc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function kl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Fs(e)}var hi=new Map,zE=new Set;function Yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _r=at.d;at.d={f:Pb,r:kb,D:Bb,C:zb,L:jb,m:Hb,X:Gb,S:Fb,M:qb};function Pb(){var e=_r.f(),r=Pc();return e||r}function kb(e){var r=Ji(e);r!==null&&r.tag===5&&r.type==="form"?iy(r):_r.r(e)}var co=typeof document>"u"?null:document;function jE(e,r,a){var l=co;if(l&&typeof r=="string"&&r){var f=Ie(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),zE.has(f)||(zE.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",e),Ne(r),l.head.appendChild(r)))}}function Bb(e){_r.D(e),jE("dns-prefetch",e,null)}function zb(e,r){_r.C(e,r),jE("preconnect",e,r)}function jb(e,r,a){_r.L(e,r,a);var l=co;if(l&&e&&r){var f='link[rel="preload"][as="'+Ie(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ie(a.imageSizes)+'"]')):f+='[href="'+Ie(e)+'"]';var d=f;switch(r){case"style":d=ho(e);break;case"script":d=fo(e)}hi.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),hi.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(Bl(d))||r==="script"&&l.querySelector(zl(d))||(r=l.createElement("link"),an(r,"link",e),Ne(r),l.head.appendChild(r)))}}function Hb(e,r){_r.m(e,r);var a=co;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Ie(l)+'"][href="'+Ie(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(e)}if(!hi.has(d)&&(e=T({rel:"modulepreload",href:e},r),hi.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),an(l,"link",e),Ne(l),a.head.appendChild(l)}}}function Fb(e,r,a){_r.S(e,r,a);var l=co;if(l&&e){var f=yi(l).hoistableStyles,d=ho(e);r=r||"default";var y=f.get(d);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(Bl(d)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=hi.get(d))&&wm(e,a);var N=y=l.createElement("link");Ne(N),an(N,"link",e),N._p=new Promise(function(H,$){N.onload=H,N.onerror=$}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Kc(y,r,l)}y={type:"stylesheet",instance:y,count:1,state:A},f.set(d,y)}}}function Gb(e,r){_r.X(e,r);var a=co;if(a&&e){var l=yi(a).hoistableScripts,f=fo(e),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(e=T({src:e,async:!0},r),(r=hi.get(f))&&Cm(e,r),d=a.createElement("script"),Ne(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function qb(e,r){_r.M(e,r);var a=co;if(a&&e){var l=yi(a).hoistableScripts,f=fo(e),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=hi.get(f))&&Cm(e,r),d=a.createElement("script"),Ne(d),an(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function HE(e,r,a,l){var f=(f=Ot.current)?Yc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ho(a.href),a=yi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ho(a.href);var d=yi(f).hoistableStyles,y=d.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=f.querySelector(Bl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),hi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},hi.set(e,a),d||Yb(f,e,a,y.state))),r&&l===null)throw Error(s(528,""));return y}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fo(a),a=yi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ho(e){return'href="'+Ie(e)+'"'}function Bl(e){return'link[rel="stylesheet"]['+e+"]"}function FE(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Yb(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),Ne(r),e.head.appendChild(r))}function fo(e){return'[src="'+Ie(e)+'"]'}function zl(e){return"script[async]"+e}function GE(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+Ie(a.href)+'"]');if(l)return r.instance=l,Ne(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ne(l),an(l,"style",f),Kc(l,a.precedence,e),r.instance=l;case"stylesheet":f=ho(a.href);var d=e.querySelector(Bl(f));if(d)return r.state.loading|=4,r.instance=d,Ne(d),d;l=FE(a),(f=hi.get(f))&&wm(l,f),d=(e.ownerDocument||e).createElement("link"),Ne(d);var y=d;return y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),an(d,"link",l),r.state.loading|=4,Kc(d,a.precedence,e),r.instance=d;case"script":return d=fo(a.src),(f=e.querySelector(zl(d)))?(r.instance=f,Ne(f),f):(l=a,(f=hi.get(d))&&(l=T({},a),Cm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ne(f),an(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Kc(l,a.precedence,e));return r.instance}function Kc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function wm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Cm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var $c=null;function qE(e,r,a){if($c===null){var l=new Map,f=$c=new Map;f.set(a,l)}else f=$c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Qi]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(r)||"";y=e+y;var A=l.get(y);A?A.push(d):l.set(y,[d])}}return l}function YE(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function Kb(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function KE(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $b(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ho(l.href),d=r.querySelector(Bl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Qc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,Ne(d);return}d=r.ownerDocument||r,l=FE(l),(f=hi.get(f))&&wm(l,f),d=d.createElement("link"),Ne(d);var y=d;y._p=new Promise(function(A,N){y.onload=A,y.onerror=N}),an(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Qc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Nm=0;function Qb(e,r){return e.stylesheets&&e.count===0&&Jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&Nm===0&&(Nm=62500*Nb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Nm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xc=null;function Jc(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xc=new Map,r.forEach(Xb,e),Xc=null,Qc.call(e))}function Xb(e,r){if(!(r.state.loading&4)){var a=Xc.get(e);if(a)var l=a.get(null);else{a=new Map,Xc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=r.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var jl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function Jb(e,r,a,l,f,d,y,A,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function $E(e,r,a,l,f,d,y,A,N,H,$,tt){return e=new Jb(e,r,a,y,N,H,$,tt,A),r=1,d===!0&&(r|=24),d=Fn(3,null,null,r),e.current=d,d.stateNode=e,r=ld(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},fd(d),e}function QE(e){return e?(e=Fa,e):Fa}function XE(e,r,a,l,f,d){f=QE(f),l.context===null?l.context=f:l.pendingContext=f,l=es(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ns(e,l,r),a!==null&&(Pn(a,e,r),El(a,e,r))}function JE(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Om(e,r){JE(e,r),(e=e.alternate)&&JE(e,r)}function WE(e){if(e.tag===13||e.tag===31){var r=ea(e,67108864);r!==null&&Pn(r,e,67108864),Om(e,67108864)}}function ZE(e){if(e.tag===13||e.tag===31){var r=$n();r=Qo(r);var a=ea(e,r);a!==null&&Pn(a,e,r),Om(e,r)}}var Wc=!0;function Wb(e,r,a,l){var f=K.T;K.T=null;var d=at.p;try{at.p=2,Dm(e,r,a,l)}finally{at.p=d,K.T=f}}function Zb(e,r,a,l){var f=K.T;K.T=null;var d=at.p;try{at.p=8,Dm(e,r,a,l)}finally{at.p=d,K.T=f}}function Dm(e,r,a,l){if(Wc){var f=Mm(l);if(f===null)_m(e,r,l,Zc,a),ev(e,l);else if(ew(f,e,r,a,l))l.stopPropagation();else if(ev(e,l),r&4&&-1<tw.indexOf(e)){for(;f!==null;){var d=Ji(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=_i(d.pendingLanes);if(y!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var N=1<<31-Tn(y);A.entanglements[1]|=N,y&=~N}ki(d),(Zt&6)===0&&(Vc=Vt()+500,Vl(0))}}break;case 31:case 13:A=ea(d,2),A!==null&&Pn(A,d,2),Pc(),Om(d,2)}if(d=Mm(l),d===null&&_m(e,r,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else _m(e,r,l,null,a)}}function Mm(e){return e=Va(e),xm(e)}var Zc=null;function xm(e){if(Zc=null,e=Xi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Zc=e,null}function tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case kt:return 2;case ee:return 8;case _e:case Ce:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var Lm=!1,ds=null,ms=null,ps=null,Hl=new Map,Fl=new Map,gs=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(e,r){switch(e){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Gl(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Ji(r),r!==null&&WE(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function ew(e,r,a,l,f){switch(r){case"focusin":return ds=Gl(ds,e,r,a,l,f),!0;case"dragenter":return ms=Gl(ms,e,r,a,l,f),!0;case"mouseover":return ps=Gl(ps,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Gl(Fl.get(d)||null,e,r,a,l,f)),!0}return!1}function nv(e){var r=Xi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Vu(e.priority,function(){ZE(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Vu(e.priority,function(){ZE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function th(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Mm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);La=l,a.target.dispatchEvent(l),La=null}else return r=Ji(a),r!==null&&WE(r),e.blockedOn=a,!1;r.shift()}return!0}function iv(e,r,a){th(e)&&a.delete(r)}function nw(){Lm=!1,ds!==null&&th(ds)&&(ds=null),ms!==null&&th(ms)&&(ms=null),ps!==null&&th(ps)&&(ps=null),Hl.forEach(iv),Fl.forEach(iv)}function eh(e,r){e.blockedOn===r&&(e.blockedOn=null,Lm||(Lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nw)))}var nh=null;function rv(e){nh!==e&&(nh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nh===e&&(nh=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(xm(l||a)===null)continue;break}var d=Ji(a);d!==null&&(e.splice(r,3),r-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function mo(e){function r(N){return eh(N,e)}ds!==null&&eh(ds,e),ms!==null&&eh(ms,e),ps!==null&&eh(ps,e),Hl.forEach(r),Fl.forEach(r);for(var a=0;a<gs.length;a++){var l=gs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<gs.length&&(a=gs[0],a.blockedOn===null);)nv(a),a.blockedOn===null&&gs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[en]||null;if(typeof d=="function")y||rv(a);else if(y){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[en]||null)A=y.formAction;else if(xm(f)!==null)continue}else A=y.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),rv(a)}}}function sv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Vm(e){this._internalRoot=e}ih.prototype.render=Vm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=$n();XE(a,l,e,r,null,null)},ih.prototype.unmount=Vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;XE(e.current,2,null,e,null,null),Pc(),r[Ni]=null}};function ih(e){this._internalRoot=e}ih.prototype.unstable_scheduleHydration=function(e){if(e){var r=$i();e={blockedOn:null,target:e,priority:r};for(var a=0;a<gs.length&&r!==0&&r<gs[a].priority;a++);gs.splice(a,0,e),a===0&&nv(e)}};var av=t.version;if(av!=="19.2.3")throw Error(s(527,av,"19.2.3"));at.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(r),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var iw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{fn=rh.inject(iw),ye=rh}catch{}}return Yl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=dy,d=my,y=py;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=$E(e,1,!1,null,null,a,l,null,f,d,y,sv),e[Ni]=r.current,gm(e),new Vm(r)},Yl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=dy,y=my,A=py,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),r=$E(e,1,!0,r,a??null,l,f,N,d,y,A,sv),r.context=QE(null),a=r.current,l=$n(),l=Qo(l),f=es(l),f.callback=null,ns(a,f,l),a=l,r.current.lanes=a,xr(r,a),ki(r),e[Ni]=r.current,gm(e),new ih(r)},Yl.version="19.2.3",Yl}var gv;function mw(){if(gv)return km.exports;gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),km.exports=dw(),km.exports}var pw=mw();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _v="popstate";function gw(i={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=Ra(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),sp("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:lu(u))}function s(o,u){Wn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return yw(t,n,s,i)}function ve(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Wn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _w(){return Math.random().toString(36).substring(2,10)}function yv(i,t){return{usr:i.state,key:i.key,idx:t}}function sp(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Ra(t):t,state:n,key:t&&t.key||s||_w()}}function lu({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ra(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function yw(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let D=v(),et=D==null?null:D-g;g=D,p&&p({action:m,location:z.location,delta:et})}function S(D,et){m="PUSH";let rt=sp(z.location,D,et);n&&n(rt,D),g=v()+1;let Z=yv(rt,g),dt=z.createHref(rt);try{h.pushState(Z,"",dt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;o.location.assign(dt)}u&&p&&p({action:m,location:z.location,delta:1})}function b(D,et){m="REPLACE";let rt=sp(z.location,D,et);n&&n(rt,D),g=v();let Z=yv(rt,g),dt=z.createHref(rt);h.replaceState(Z,"",dt),u&&p&&p({action:m,location:z.location,delta:0})}function V(D){return Ew(D)}let z={get action(){return m},get location(){return i(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,T),p=D,()=>{o.removeEventListener(_v,T),p=null}},createHref(D){return t(o,D)},createURL:V,encodeLocation(D){let et=V(D);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:S,replace:b,go(D){return h.go(D)}};return z}function Ew(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ve(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:lu(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hA(i,t,n="/"){return vw(i,t,n,!1)}function vw(i,t,n,s){let o=typeof t=="string"?Ra(t):t,u=Sr(o.pathname||"/",n);if(u==null)return null;let h=fA(i);Tw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Mw(u);m=Ow(h[p],g,s)}return m}function fA(i,t=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ve(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=Tr([s,v.relativePath]),S=n.concat(v);h.children&&h.children.length>0&&(ve(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),fA(h.children,t,S,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:Cw(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of dA(h.path))u(h,m,!0,g)}),t}function dA(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=dA(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Tw(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:Nw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,Sw=3,Iw=2,Rw=1,bw=10,ww=-2,Ev=i=>i==="*";function Cw(i,t){let n=i.split("/"),s=n.length;return n.some(Ev)&&(s+=ww),t&&(s+=Iw),n.filter(o=>!Ev(o)).reduce((o,u)=>o+(Aw.test(u)?Sw:u===""?Rw:bw),s)}function Nw(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function Ow(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?t:t.slice(u.length)||"/",T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Tr([u,T.pathname]),pathnameBase:Uw(Tr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Tr([u,T.pathnameBase]))}return h}function Vh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Dw(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const b=m[S];return T&&!b?g[v]=void 0:g[v]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Dw(i,t=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Mw(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Sr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var mA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xw=i=>mA.test(i);function Lw(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ra(i):i,u;if(n)if(xw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=vv(n.substring(1),"/"):u=vv(n,t)}else u=t;return{pathname:u,search:Pw(s),hash:kw(o)}}function vv(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pA(i){let t=Vw(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function gA(i,t,n,s=!1){let o;typeof i=="string"?o=Ra(i):(o={...i},ve(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ve(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ve(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?t[T]:"/"}let p=Lw(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),Uw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Pw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Bw=class{constructor(i,t,n,s=!1){this.status=i,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function zw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function jw(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function yA(i,t){let n=i;if(typeof n!="string"||!mA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(_A)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Sr(h.pathname,t);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Wn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var EA=["POST","PUT","PATCH","DELETE"];new Set(EA);var Hw=["GET",...EA];new Set(Hw);var Uo=G.createContext(null);Uo.displayName="DataRouter";var lf=G.createContext(null);lf.displayName="DataRouterState";var Fw=G.createContext(!1),vA=G.createContext({isTransitioning:!1});vA.displayName="ViewTransition";var Gw=G.createContext(new Map);Gw.displayName="Fetchers";var qw=G.createContext(null);qw.displayName="Await";var pi=G.createContext(null);pi.displayName="Navigation";var gu=G.createContext(null);gu.displayName="Location";var Cr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var jp=G.createContext(null);jp.displayName="RouteError";var TA="REACT_ROUTER_ERROR",Yw="REDIRECT",Kw="ROUTE_ERROR_RESPONSE";function $w(i){if(i.startsWith(`${TA}:${Yw}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Qw(i){if(i.startsWith(`${TA}:${Kw}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Bw(t.status,t.statusText,t.data)}catch{}}function Xw(i,{relative:t}={}){ve(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(pi),{hash:o,pathname:u,search:h}=yu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Tr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function _u(){return G.useContext(gu)!=null}function Bs(){return ve(_u(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(gu).location}var AA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SA(i){G.useContext(pi).static||G.useLayoutEffect(i)}function Hp(){let{isDataRoute:i}=G.useContext(Cr);return i?u1():Jw()}function Jw(){ve(_u(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(Uo),{basename:t,navigator:n}=G.useContext(pi),{matches:s}=G.useContext(Cr),{pathname:o}=Bs(),u=JSON.stringify(pA(s)),h=G.useRef(!1);return SA(()=>{h.current=!0}),G.useCallback((p,g={})=>{if(Wn(h.current,AA),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=gA(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Tr([t,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[t,n,u,o,i])}G.createContext(null);function yu(i,{relative:t}={}){let{matches:n}=G.useContext(Cr),{pathname:s}=Bs(),o=JSON.stringify(pA(n));return G.useMemo(()=>gA(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function Ww(i,t){return IA(i,t)}function IA(i,t,n,s,o){var rt;ve(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(pi),{matches:h}=G.useContext(Cr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";bA(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=Bs(),b;if(t){let Z=typeof t=="string"?Ra(t):t;ve(v==="/"||((rt=Z.pathname)==null?void 0:rt.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),b=Z}else b=S;let V=b.pathname||"/",z=V;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");z="/"+V.replace(/^\//,"").split("/").slice(Z.length).join("/")}let D=hA(i,{pathname:z});Wn(T||D!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=i1(D&&D.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Tr([v,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:Tr([v,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),h,n,s,o);return t&&et?G.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},et):et}function Zw(){let i=l1(),t=zw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:o},n):null,h)}var t1=G.createElement(Zw,null),RA=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=Qw(i.digest);n&&(i=n)}let t=i!==void 0?G.createElement(Cr.Provider,{value:this.props.routeContext},G.createElement(jp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?G.createElement(e1,{error:i},t):t}};RA.contextType=Fw;var Fm=new WeakMap;function e1({children:i,error:t}){let{basename:n}=G.useContext(pi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=$w(t.digest);if(s){let o=Fm.get(t);if(o)throw o;let u=yA(s.location,n);if(_A&&!Fm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Fm.set(t,h),h}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function n1({routeContext:i,match:t,children:n}){let s=G.useContext(Uo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Cr.Provider,{value:i},n)}function i1(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let v=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);ve(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:S,errors:b}=n,V=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!b||b[T.route.id]===void 0);if(T.route.lazy||V){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,T)=>{var S,b;s(v,{location:n.location,params:((b=(S=n.matches)==null?void 0:S[0])==null?void 0:b.params)??{},unstable_pattern:jw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((v,T,S)=>{let b,V=!1,z=null,D=null;n&&(b=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||t1,m&&(p<0&&S===0?(bA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,D=null):p===S&&(V=!0,D=T.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,S+1)),rt=()=>{let Z;return b?Z=z:V?Z=D:T.route.Component?Z=G.createElement(T.route.Component,null):T.route.element?Z=T.route.element:Z=v,G.createElement(n1,{match:T,routeContext:{outlet:v,matches:et,isDataRoute:n!=null},children:Z})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?G.createElement(RA,{location:n.location,revalidation:n.revalidation,component:z,error:b,children:rt(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:g}):rt()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(i){let t=G.useContext(Uo);return ve(t,Fp(i)),t}function s1(i){let t=G.useContext(lf);return ve(t,Fp(i)),t}function a1(i){let t=G.useContext(Cr);return ve(t,Fp(i)),t}function Gp(i){let t=a1(i),n=t.matches[t.matches.length-1];return ve(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function o1(){return Gp("useRouteId")}function l1(){var s;let i=G.useContext(jp),t=s1("useRouteError"),n=Gp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[n]}function u1(){let{router:i}=r1("useNavigate"),t=Gp("useNavigate"),n=G.useRef(!1);return SA(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Wn(n.current,AA),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Tv={};function bA(i,t,n){!t&&!Tv[i]&&(Tv[i]=!0,Wn(!1,n))}G.memo(c1);function c1({routes:i,future:t,state:n,onError:s}){return IA(i,void 0,n,s,t)}function ap(i){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function h1({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ve(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Ra(n));let{pathname:g="/",search:v="",hash:T="",state:S=null,key:b="default"}=n,V=G.useMemo(()=>{let z=Sr(g,m);return z==null?null:{location:{pathname:z,search:v,hash:T,state:S,key:b},navigationType:s}},[m,g,v,T,S,b,s]);return Wn(V!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:G.createElement(pi.Provider,{value:p},G.createElement(gu.Provider,{children:t,value:V}))}function f1({children:i,location:t}){return Ww(op(i),t)}function op(i,t=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...t,o];if(s.type===G.Fragment){n.push.apply(n,op(s.props.children,u));return}ve(s.type===ap,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=op(s.props.children,u)),n.push(h)}),n}var Ah="get",Sh="application/x-www-form-urlencoded";function uf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function d1(i){return uf(i)&&i.tagName.toLowerCase()==="button"}function m1(i){return uf(i)&&i.tagName.toLowerCase()==="form"}function p1(i){return uf(i)&&i.tagName.toLowerCase()==="input"}function g1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _1(i,t){return i.button===0&&(!t||t==="_self")&&!g1(i)}function lp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,n)=>{let s=i[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function y1(i,t){let n=lp(i);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var sh=null;function E1(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var v1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(i){return i!=null&&!v1.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):i}function T1(i,t){let n,s,o,u,h;if(m1(i)){let m=i.getAttribute("action");s=m?Sr(m,t):null,n=i.getAttribute("method")||Ah,o=Gm(i.getAttribute("enctype"))||Sh,u=new FormData(i)}else if(d1(i)||p1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Sr(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ah,o=Gm(i.getAttribute("formenctype"))||Gm(m.getAttribute("enctype"))||Sh,u=new FormData(m,i),!E1()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(uf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,s=null,o=Sh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function A1(i,t,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Sr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function S1(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function R1(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await S1(u,n);return h.links?h.links():[]}return[]}));return N1(s.flat(1).filter(I1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Av(i,t,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function b1(i,t,{includeHydrateFallback:n}={}){return w1(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function w1(i){return[...new Set(i)]}function C1(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function N1(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(C1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function wA(){let i=G.useContext(Uo);return qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function O1(){let i=G.useContext(lf);return qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yp=G.createContext(void 0);Yp.displayName="FrameworkContext";function CA(){let i=G.useContext(Yp);return qp(i,"You must render this element inside a <HydratedRouter> element"),i}function D1(i,t){let n=G.useContext(Yp),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=t,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=et=>{et.forEach(rt=>{h(rt.isIntersecting)})},D=new IntersectionObserver(z,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[i]),G.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let b=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Kl(m,b),onBlur:Kl(p,V),onMouseEnter:Kl(g,b),onMouseLeave:Kl(v,V),onTouchStart:Kl(T,b)}]:[!1,S,{}]}function Kl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function M1({page:i,...t}){let{router:n}=wA(),s=G.useMemo(()=>hA(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(L1,{page:i,matches:s,...t}):null}function x1(i){let{manifest:t,routeModules:n}=CA(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return R1(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),s}function L1({page:i,matches:t,...n}){let s=Bs(),{future:o,manifest:u,routeModules:h}=CA(),{basename:m}=wA(),{loaderData:p,matches:g}=O1(),v=G.useMemo(()=>Av(i,t,g,u,s,"data"),[i,t,g,u,s]),T=G.useMemo(()=>Av(i,t,g,u,s,"assets"),[i,t,g,u,s]),S=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,D=!1;if(t.forEach(rt=>{var dt;let Z=u.routes[rt.route.id];!Z||!Z.hasLoader||(!v.some(Rt=>Rt.route.id===rt.route.id)&&rt.route.id in p&&((dt=h[rt.route.id])!=null&&dt.shouldRevalidate)||Z.hasClientLoader?D=!0:z.add(rt.route.id))}),z.size===0)return[];let et=A1(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return D&&z.size>0&&et.searchParams.set("_routes",t.filter(rt=>z.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[et.pathname+et.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,t,i,h]),b=G.useMemo(()=>b1(T,u),[T,u]),V=x1(T);return G.createElement(G.Fragment,null,S.map(z=>G.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),b.map(z=>G.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),V.map(({key:z,link:D})=>G.createElement("link",{key:z,nonce:n.nonce,...D})))}function V1(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var U1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U1&&(window.__reactRouterVersion="7.12.0")}catch{}function P1({basename:i,children:t,unstable_useTransitions:n,window:s}){let o=G.useRef();o.current==null&&(o.current=gw({window:s,v5Compat:!0}));let u=o.current,[h,m]=G.useState({action:u.action,location:u.location}),p=G.useCallback(g=>{n===!1?m(g):G.startTransition(()=>m(g))},[n]);return G.useLayoutEffect(()=>u.listen(p),[u,p]),G.createElement(h1,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var NA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OA=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V){let{basename:z,unstable_useTransitions:D}=G.useContext(pi),et=typeof g=="string"&&NA.test(g),rt=yA(g,z);g=rt.to;let Z=Xw(g,{relative:o}),[dt,Rt,Et]=D1(s,b),O=j1(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:D});function R(x){t&&t(x),x.defaultPrevented||O(x)}let w=G.createElement("a",{...b,...Et,href:rt.absoluteURL||Z,onClick:rt.isExternal||u?t:R,ref:V1(V,Rt),target:p,"data-discover":!et&&n==="render"?"true":void 0});return dt&&!et?G.createElement(G.Fragment,null,w,G.createElement(M1,{page:Z})):w});OA.displayName="Link";var k1=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=yu(h,{relative:g.relative}),S=Bs(),b=G.useContext(lf),{navigator:V,basename:z}=G.useContext(pi),D=b!=null&&K1(T)&&m===!0,et=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,rt=S.pathname,Z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),Z=Z?Z.toLowerCase():null,et=et.toLowerCase()),Z&&z&&(Z=Sr(Z,z)||Z);const dt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let Rt=rt===et||!o&&rt.startsWith(et)&&rt.charAt(dt)==="/",Et=Z!=null&&(Z===et||!o&&Z.startsWith(et)&&Z.charAt(et.length)==="/"),O={isActive:Rt,isPending:Et,isTransitioning:D},R=Rt?t:void 0,w;typeof s=="function"?w=s(O):w=[s,Rt?"active":null,Et?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return G.createElement(OA,{...g,"aria-current":R,className:w,ref:v,style:x,to:h,viewTransition:m},typeof p=="function"?p(O):p)});k1.displayName="NavLink";var B1=G.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Ah,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S,...b},V)=>{let{unstable_useTransitions:z}=G.useContext(pi),D=q1(),et=Y1(m,{relative:g}),rt=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&NA.test(m),dt=Rt=>{if(p&&p(Rt),Rt.defaultPrevented)return;Rt.preventDefault();let Et=Rt.nativeEvent.submitter,O=(Et==null?void 0:Et.getAttribute("formmethod"))||h,R=()=>D(Et||Rt.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:S});z&&n!==!1?G.startTransition(()=>R()):R()};return G.createElement("form",{ref:V,method:rt,action:et,onSubmit:s?p:dt,...b,"data-discover":!Z&&i==="render"?"true":void 0})});B1.displayName="Form";function z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(i){let t=G.useContext(Uo);return ve(t,z1(i)),t}function j1(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Hp(),v=Bs(),T=yu(i,{relative:u});return G.useCallback(S=>{if(_1(S,t)){S.preventDefault();let b=n!==void 0?n:lu(v)===lu(T),V=()=>g(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?G.startTransition(()=>V()):V()}},[v,g,T,n,s,t,i,o,u,h,m,p])}function H1(i){Wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=G.useRef(lp(i)),n=G.useRef(!1),s=Bs(),o=G.useMemo(()=>y1(s.search,n.current?null:t.current),[s.search]),u=Hp(),h=G.useCallback((m,p)=>{const g=lp(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var F1=0,G1=()=>`__${String(++F1)}__`;function q1(){let{router:i}=DA("useSubmit"),{basename:t}=G.useContext(pi),n=o1(),s=i.fetch,o=i.navigate;return G.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:v,body:T}=T1(u,t);if(h.navigate===!1){let S=h.fetcherKey||G1();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:v,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,n])}function Y1(i,{relative:t}={}){let{basename:n}=G.useContext(pi),s=G.useContext(Cr);ve(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(i||".",{relative:t})},h=Bs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Tr([n,u.pathname])),lu(u)}function K1(i,{relative:t}={}){let n=G.useContext(vA);ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DA("useViewTransitionState"),o=yu(i,{relative:t});if(!n.isTransitioning)return!1;let u=Sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=(...i)=>i.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=G.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>G.createElement("svg",{ref:p,...Q1,width:t,height:t,stroke:i,strokeWidth:s?Number(n)*24/Number(t):n,className:MA("lucide",o),...m},[...h.map(([g,v])=>G.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=(i,t)=>{const n=G.forwardRef(({className:s,...o},u)=>G.createElement(X1,{ref:u,iconNode:t,className:MA(`lucide-${$1(i)}`,s),...o}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=En("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=En("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=En("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=En("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=En("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=En("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=En("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=En("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=En("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=En("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=En("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=En("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=En("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=En("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=En("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=En("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),oC=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},lC=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},UA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,b=g&63;p||(b=64,h||(S=64)),s.push(n[v],n[T],n[S],n[b])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(VA(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):lC(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new uC;const S=u<<2|m>>4;if(s.push(S),g!==64){const b=m<<4&240|g>>2;if(s.push(b),T!==64){const V=g<<6&192|T;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(i){const t=VA(i);return UA.encodeByteArray(t,!0)},Ph=function(i){return cC(i).replace(/\./g,"")},PA=function(i){try{return UA.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>hC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof Iv>"u")return;const i=Iv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},mC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&PA(i[1]);return t&&JSON.parse(t)},cf=()=>{try{return oC()||fC()||dC()||mC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kA=i=>{var t,n;return(n=(t=cf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},pC=i=>{const t=kA(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},BA=()=>{var i;return(i=cf())===null||i===void 0?void 0:i.config},zA=i=>{var t;return(t=cf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ph(JSON.stringify(n)),Ph(JSON.stringify(h)),""].join(".")}const tu={};function yC(){const i={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?i.emulator.push(t):i.prod.push(t);return i}function EC(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let Rv=!1;function HA(i,t){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||tu[i]===t||tu[i]||Rv)return;tu[i]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=yC().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,b){S.setAttribute("width","24"),S.setAttribute("id",b),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Rv=!0,h()},S}function v(S,b){S.setAttribute("id",b),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=EC(s),b=n("text"),V=document.getElementById(b)||document.createElement("span"),z=n("learnmore"),D=document.getElementById(z)||document.createElement("a"),et=n("preprendIcon"),rt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Z=S.element;m(Z),v(D,z);const dt=g();p(rt,et),Z.append(rt,V,D,dt),document.body.appendChild(Z)}u?(V.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function TC(){var i;const t=(i=cf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RC(){const i=yn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function bC(){return!TC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function CC(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="FirebaseError";class Nr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=NC,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?OC(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Nr(o,m,s)}}function OC(i,t){return i.replace(DC,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const DC=/\{\$([^}]+)}/g;function MC(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Os(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(bv(u)&&bv(h)){if(!Os(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function bv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function xC(i,t){const n=new LC(i,t);return n.subscribe.bind(n)}class LC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");VC(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VC(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(i){return i&&i._delegate?i._delegate:i}class Ta{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new gC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kC(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PC(i){return i===pa?void 0:i}function kC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(jt||(jt={}));const zC={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},jC=jt.INFO,HC={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},FC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=HC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Kp{constructor(t){this.name=t,this._logLevel=jC,this._logHandler=FC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const GC=(i,t)=>t.some(n=>i instanceof n);let wv,Cv;function qC(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YC(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FA=new WeakMap,up=new WeakMap,GA=new WeakMap,Ym=new WeakMap,$p=new WeakMap;function KC(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Ss(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&FA.set(n,i)}).catch(()=>{}),$p.set(t,i),t}function $C(i){if(up.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});up.set(i,t)}let cp={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return up.get(i);if(t==="objectStoreNames")return i.objectStoreNames||GA.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function QC(i){cp=i(cp)}function XC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Km(this),t,...n);return GA.set(s,t.sort?t.sort():[t]),Ss(s)}:YC().includes(i)?function(...t){return i.apply(Km(this),t),Ss(FA.get(this))}:function(...t){return Ss(i.apply(Km(this),t))}}function JC(i){return typeof i=="function"?XC(i):(i instanceof IDBTransaction&&$C(i),GC(i,qC())?new Proxy(i,cp):i)}function Ss(i){if(i instanceof IDBRequest)return KC(i);if(Ym.has(i))return Ym.get(i);const t=JC(i);return t!==i&&(Ym.set(i,t),$p.set(t,i)),t}const Km=i=>$p.get(i);function WC(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=Ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Ss(h.result),p.oldVersion,p.newVersion,Ss(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ZC=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],$m=new Map;function Nv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if($m.get(t))return $m.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=tN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return $m.set(t,u),u}QC(i=>({...i,get:(t,n,s)=>Nv(t,n)||i.get(t,n,s),has:(t,n)=>!!Nv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nN(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hp="@firebase/app",Ov="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Kp("@firebase/app"),iN="@firebase/app-compat",rN="@firebase/analytics-compat",sN="@firebase/analytics",aN="@firebase/app-check-compat",oN="@firebase/app-check",lN="@firebase/auth",uN="@firebase/auth-compat",cN="@firebase/database",hN="@firebase/data-connect",fN="@firebase/database-compat",dN="@firebase/functions",mN="@firebase/functions-compat",pN="@firebase/installations",gN="@firebase/installations-compat",_N="@firebase/messaging",yN="@firebase/messaging-compat",EN="@firebase/performance",vN="@firebase/performance-compat",TN="@firebase/remote-config",AN="@firebase/remote-config-compat",SN="@firebase/storage",IN="@firebase/storage-compat",RN="@firebase/firestore",bN="@firebase/ai",wN="@firebase/firestore-compat",CN="firebase",NN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",ON={[hp]:"fire-core",[iN]:"fire-core-compat",[sN]:"fire-analytics",[rN]:"fire-analytics-compat",[oN]:"fire-app-check",[aN]:"fire-app-check-compat",[lN]:"fire-auth",[uN]:"fire-auth-compat",[cN]:"fire-rtdb",[hN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[dN]:"fire-fn",[mN]:"fire-fn-compat",[pN]:"fire-iid",[gN]:"fire-iid-compat",[_N]:"fire-fcm",[yN]:"fire-fcm-compat",[EN]:"fire-perf",[vN]:"fire-perf-compat",[TN]:"fire-rc",[AN]:"fire-rc-compat",[SN]:"fire-gcs",[IN]:"fire-gcs-compat",[RN]:"fire-fst",[wN]:"fire-fst-compat",[bN]:"fire-vertex","fire-js":"fire-js",[CN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,DN=new Map,dp=new Map;function Dv(i,t){try{i.container.addComponent(t)}catch(n){Ir.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function Co(i){const t=i.name;if(dp.has(t))return Ir.debug(`There were multiple attempts to register component ${t}.`),!1;dp.set(t,i);for(const n of kh.values())Dv(n,i);for(const n of DN.values())Dv(n,i);return!0}function Qp(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function fi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Eu("app","Firebase",MN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=NN;function qA(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:fp,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Is.create("bad-app-name",{appName:String(o)});if(n||(n=BA()),!n)throw Is.create("no-options");const u=kh.get(o);if(u){if(Os(n,u.options)&&Os(s,u.config))return u;throw Is.create("duplicate-app",{appName:o})}const h=new BC(o);for(const p of dp.values())h.addComponent(p);const m=new xN(n,s,h);return kh.set(o,m),m}function YA(i=fp){const t=kh.get(i);if(!t&&i===fp&&BA())return qA();if(!t)throw Is.create("no-app",{appName:i});return t}function Rs(i,t,n){var s;let o=(s=ON[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ir.warn(m.join(" "));return}Co(new Ta(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firebase-heartbeat-database",VN=1,uu="firebase-heartbeat-store";let Qm=null;function KA(){return Qm||(Qm=WC(LN,VN,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Is.create("idb-open",{originalErrorMessage:i.message})})),Qm}async function UN(i){try{const n=(await KA()).transaction(uu),s=await n.objectStore(uu).get($A(i));return await n.done,s}catch(t){if(t instanceof Nr)Ir.warn(t.message);else{const n=Is.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ir.warn(n.message)}}}async function Mv(i,t){try{const s=(await KA()).transaction(uu,"readwrite");await s.objectStore(uu).put(t,$A(i)),await s.done}catch(n){if(n instanceof Nr)Ir.warn(n.message);else{const s=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(s.message)}}}function $A(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=1024,kN=30;class BN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>kN){const h=HN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ir.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:o}=zN(this._heartbeatsCache.heartbeats),u=Ph(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ir.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function zN(i,t=PN){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?CC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Lv(i){return Ph(JSON.stringify({version:2,heartbeats:i})).length}function HN(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(i){Co(new Ta("platform-logger",t=>new eN(t),"PRIVATE")),Co(new Ta("heartbeat",t=>new BN(t),"PRIVATE")),Rs(hp,Ov,i),Rs(hp,Ov,"esm2017"),Rs("fire-js","")}FN("");function Xp(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function QA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GN=QA,XA=new Eu("auth","Firebase",QA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Kp("@firebase/auth");function qN(i,...t){Bh.logLevel<=jt.WARN&&Bh.warn(`Auth (${ko}): ${i}`,...t)}function Ih(i,...t){Bh.logLevel<=jt.ERROR&&Bh.error(`Auth (${ko}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(i,...t){throw Wp(i,...t)}function Ii(i,...t){return Wp(i,...t)}function Jp(i,t,n){const s=Object.assign(Object.assign({},GN()),{[t]:n});return new Eu("auth","Firebase",s).create(t,{appName:i.name})}function bs(i){return Jp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JA(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Gi(i,"argument-error"),Jp(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wp(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return XA.create(i,...t)}function bt(i,t,...n){if(!i)throw Wp(t,...n)}function Er(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Ih(t),new Error(t)}function Rr(i,t){i||Er(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function YN(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||SC()||"connection"in navigator)?navigator.onLine:!0}function $N(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Rr(n>t,"Short delay should be less than long delay!"),this.isMobile=vC()||IC()}get(){return KN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(i,t){Rr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JN=new Tu(3e4,6e4);function tg(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function Bo(i,t,n,s,o={}){return ZA(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=vu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return AC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),WA.fetch()(await tS(i,i.config.apiHost,n,m),g)})}async function ZA(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},QN),t);try{const o=new ZN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw lh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw lh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw lh(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Jp(i,v,g);Gi(i,v)}}catch(o){if(o instanceof Nr)throw o;Gi(i,"network-request-failed",{message:String(o)})}}async function WN(i,t,n,s,o={}){const u=await Bo(i,t,n,s,o);return"mfaPendingCredential"in u&&Gi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function tS(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?Zp(i.config,o):`${i.config.apiScheme}://${o}`;return XN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class ZN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),JN.get())})}}function lh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(i,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(i,t){return Bo(i,"POST","/v1/accounts:delete",t)}async function zh(i,t){return Bo(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eO(i,t=!1){const n=je(i),s=await n.getIdToken(t),o=eg(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:eu(Xm(o.auth_time)),issuedAtTime:eu(Xm(o.iat)),expirationTime:eu(Xm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xm(i){return Number(i)*1e3}function eg(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=PA(n);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uv(i){const t=eg(i);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Nr&&nO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function nO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await cu(i,zh(n,{idToken:s}));bt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?eS(u.providerUserInfo):[],m=sO(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new pp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function rO(i){const t=je(i);await jh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sO(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function eS(i){return i.map(t=>{var{providerId:n}=t,s=Xp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(i,t){const n=await ZA(i,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await tS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(p.credentials="include"),WA.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oO(i,t){return Bo(i,"POST","/v2/accounts:revokeToken",tg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=Uv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await aO(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new So;return s&&(bt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(i,t){bt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Si{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Xp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await cu(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return eO(this,t)}reload(){return rO(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Si(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(bs(this.auth));const t=await this.getIdToken();return await cu(this,tO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,h,m,p,g,v;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,D=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,et=(g=n.createdAt)!==null&&g!==void 0?g:void 0,rt=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Z,emailVerified:dt,isAnonymous:Rt,providerData:Et,stsTokenManager:O}=n;bt(Z&&O,t,"internal-error");const R=So.fromJSON(this.name,O);bt(typeof Z=="string",t,"internal-error"),ys(T,t.name),ys(S,t.name),bt(typeof dt=="boolean",t,"internal-error"),bt(typeof Rt=="boolean",t,"internal-error"),ys(b,t.name),ys(V,t.name),ys(z,t.name),ys(D,t.name),ys(et,t.name),ys(rt,t.name);const w=new Si({uid:Z,auth:t,email:S,emailVerified:dt,displayName:T,isAnonymous:Rt,photoURL:V,phoneNumber:b,tenantId:z,stsTokenManager:R,createdAt:et,lastLoginAt:rt});return Et&&Array.isArray(Et)&&(w.providerData=Et.map(x=>Object.assign({},x))),D&&(w._redirectEventId=D),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new So;o.updateFromServerResponse(n);const u=new Si({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?eS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new So;m.updateFromIdToken(s);const p=new Si({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function vr(i){Rr(i instanceof Function,"Expected a class definition");let t=Pv.get(i);return t?(Rr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,Pv.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}nS.type="NONE";const kv=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i,t,n){return`firebase:${i}:${t}:${n}`}class Io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zh(this.auth,{idToken:t}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,t):null}return Si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Io(vr(kv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||vr(kv);const h=Rh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const S=await zh(t,{idToken:v}).catch(()=>{});if(!S)break;T=await Si._fromGetAccountInfoResponse(t,S,v)}else T=Si._fromJSON(t,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Io(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lS(t))return"Blackberry";if(uS(t))return"Webos";if(rS(t))return"Safari";if((t.includes("chrome/")||sS(t))&&!t.includes("edge/"))return"Chrome";if(oS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iS(i=yn()){return/firefox\//i.test(i)}function rS(i=yn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sS(i=yn()){return/crios\//i.test(i)}function aS(i=yn()){return/iemobile/i.test(i)}function oS(i=yn()){return/android/i.test(i)}function lS(i=yn()){return/blackberry/i.test(i)}function uS(i=yn()){return/webos/i.test(i)}function ng(i=yn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lO(i=yn()){var t;return ng(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function uO(){return RC()&&document.documentMode===10}function cS(i=yn()){return ng(i)||oS(i)||uS(i)||lS(i)||/windows phone/i.test(i)||aS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i,t=[]){let n;switch(i){case"Browser":n=Bv(yn());break;case"Worker":n=`${Bv(yn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(i,t={}){return Bo(i,"GET","/v2/passwordPolicy",tg(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=6;class dO{constructor(t){var n,s,o,u;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:fO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new cO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Io.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zh(this,{idToken:t}),s=await Si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(fi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$N()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(fi(this.app))return Promise.reject(bs(this));const n=t?je(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return fi(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hO(this),n=new dO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await oO(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&vr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&qN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Au(i){return je(i)}class zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=xC(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pO(i){ig=i}function gO(i){return ig.loadJS(i)}function _O(){return ig.gapiScript}function yO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(i,t){const n=Qp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Os(u,t??{}))return o;Gi(o,"already-initialized")}return n.initialize({options:t})}function vO(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(vr);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function TO(i,t,n){const s=Au(i);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=fS(t),{host:h,port:m}=AO(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(Os(g,s.config.emulator)&&Os(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Po(h)?(jA(`${u}//${h}${p}`),HA("Auth",!0)):SO()}function fS(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function AO(i){const t=fS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:jv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:jv(h)}}}function jv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function SO(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(t){return Er("not implemented")}_linkToIdToken(t,n){return Er("not implemented")}_getReauthenticationResolver(t){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,t){return WN(i,"POST","/v1/accounts:signInWithIdp",tg(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="http://localhost";class Aa extends dS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Xp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Aa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return Ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ro(t,n)}buildRequest(){const t={requestUri:IO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=vu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends hf{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Su{constructor(){super("facebook.com")}static credential(t){return Aa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Es.credential(t.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Aa._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return yr.credentialFromTaggedObject(t)}static credentialFromError(t){return yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return yr.credential(n,s)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Su{constructor(){super("github.com")}static credential(t){return Aa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Su{constructor(){super("twitter.com")}static credential(t,n){return Aa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ts.credentialFromTaggedObject(t)}static credentialFromError(t){return Ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Ts.credential(n,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Si._fromIdTokenResponse(t,s,o),h=Hv(s);return new No({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Hv(s);return new No({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Hv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Nr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Hh(t,n,s,o)}}function mS(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(i,u,t,s):u})}async function RO(i,t,n=!1){const s=await cu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return No._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(i,t,n=!1){const{auth:s}=i;if(fi(s.app))return Promise.reject(bs(s));const o="reauthenticate";try{const u=await cu(i,mS(s,o,t,i),n);bt(u.idToken,s,"internal-error");const h=eg(u.idToken);bt(h,s,"internal-error");const{sub:m}=h;return bt(i.uid===m,s,"user-mismatch"),No._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(i,t,n=!1){if(fi(i.app))return Promise.reject(bs(i));const s="signIn",o=await mS(i,s,t),u=await No._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function CO(i,t,n,s){return je(i).onIdTokenChanged(t,n,s)}function NO(i,t,n){return je(i).beforeAuthStateChanged(t,n)}function pS(i,t,n,s){return je(i).onAuthStateChanged(t,n,s)}function OO(i){return je(i).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,MO=10;class _S extends gS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);uO()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MO):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_S.type="LOCAL";const xO=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends gS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yS.type="SESSION";const ES=yS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new ff(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await LO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function UO(i){zi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function PO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function BO(){return vS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firebaseLocalStorageDb",zO=1,Gh="firebaseLocalStorage",AS="fbase_key";class Iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(i,t){return i.transaction([Gh],t?"readwrite":"readonly").objectStore(Gh)}function jO(){const i=indexedDB.deleteDatabase(TS);return new Iu(i).toPromise()}function gp(){const i=indexedDB.open(TS,zO);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gh,{keyPath:AS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gh)?t(s):(s.close(),await jO(),t(await gp()))})})}async function Fv(i,t,n){const s=df(i,!0).put({[AS]:t,value:n});return new Iu(s).toPromise()}async function HO(i,t){const n=df(i,!1).get(t),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function Gv(i,t){const n=df(i,!0).delete(t);return new Iu(n).toPromise()}const FO=800,GO=3;class SS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>GO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(BO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await PO(),!this.activeServiceWorker)return;this.sender=new VO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gp();return await Fv(t,Fh,"1"),await Gv(t,Fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>HO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=df(o,!1).getAll();return new Iu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SS.type="LOCAL";const qO=SS;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(i,t){return t?vr(t):(bt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends dS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function YO(i){return wO(i.auth,new ag(i),i.bypassAuthState)}function KO(i){const{auth:t,user:n}=i;return bt(n,t,"internal-error"),bO(n,new ag(i),i.bypassAuthState)}async function $O(i){const{auth:t,user:n}=i;return bt(n,t,"internal-error"),RO(n,new ag(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YO;case"linkViaPopup":case"linkViaRedirect":return $O;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:Gi(this.auth,"internal-error")}}resolve(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Tu(2e3,1e4);async function XO(i,t,n){if(fi(i.app))return Promise.reject(Ii(i,"operation-not-supported-in-this-environment"));const s=Au(i);JA(i,t,hf);const o=sg(s,n);return new _a(s,"signInViaPopup",t,o).executeNotNull()}class _a extends IS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const t=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QO.get())};t()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="pendingRedirect",bh=new Map;class WO extends IS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=bh.get(this.auth._key());if(!t){try{const s=await ZO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}bh.set(this.auth._key(),t)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZO(i,t){const n=bS(t),s=RS(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function tD(i,t){return RS(i)._set(bS(t),"true")}function eD(i,t){bh.set(i._key(),t)}function RS(i){return vr(i._redirectPersistence)}function bS(i){return Rh(JO,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(i,t,n){return nD(i,t,n)}async function nD(i,t,n){if(fi(i.app))return Promise.reject(bs(i));const s=Au(i);JA(i,t,hf),await s._initializationPromise;const o=sg(s,n);return await tD(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function iD(i,t,n=!1){if(fi(i.app))return Promise.reject(bs(i));const s=Au(i),o=sg(s,t),h=await new WO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=600*1e3;class sD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!wS(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(t))}saveEventToCache(t){this.cachedEventUids.add(Yv(t)),this.lastProcessedEventTime=Date.now()}}function Yv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function wS({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function aD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(i,t={}){return Bo(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;async function cD(i){if(i.config.emulator)return;const{authorizedDomains:t}=await oD(i);for(const n of t)try{if(hD(n))return}catch{}Gi(i,"unauthorized-domain")}function hD(i){const t=mp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!uD.test(n))return!1;if(lD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Tu(3e4,6e4);function Kv(){const i=zi().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function dD(i){return new Promise((t,n)=>{var s,o,u;function h(){Kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(Ii(i,"network-request-failed"))},timeout:fD.get()})}if(!((o=(s=zi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=zi().gapi)===null||u===void 0)&&u.load)h();else{const m=yO("iframefcb");return zi()[m]=()=>{gapi.load?h():n(Ii(i,"network-request-failed"))},gO(`${_O()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw wh=null,t})}let wh=null;function mD(i){return wh=wh||dD(i),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Tu(5e3,15e3),gD="__/auth/iframe",_D="emulator/auth/iframe",yD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vD(i){const t=i.config;bt(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?Zp(t,_D):`https://${i.config.authDomain}/${gD}`,s={apiKey:t.apiKey,appName:i.name,v:ko},o=ED.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function TD(i){const t=await mD(i),n=zi().gapi;return bt(n,i,"internal-error"),t.open({where:document.body,url:vD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ii(i,"network-request-failed"),m=zi().setTimeout(()=>{u(h)},pD.get());function p(){zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SD=500,ID=600,RD="_blank",bD="http://localhost";class $v{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(i,t,n,s=SD,o=ID){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},AD),{width:s.toString(),height:o.toString(),top:u,left:h}),g=yn().toLowerCase();n&&(m=sS(g)?RD:n),iS(g)&&(t=t||bD,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[b,V])=>`${S}${b}=${V},`,"");if(lO(g)&&m!=="_self")return CD(t||"",m),new $v(null);const T=window.open(t||"",m,v);bt(T,i,"popup-blocked");try{T.focus()}catch{}return new $v(T)}function CD(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="__/auth/handler",OD="emulator/auth/handler",DD=encodeURIComponent("fac");async function Qv(i,t,n,s,o,u){bt(i.config.authDomain,i,"auth-domain-config-required"),bt(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ko,eventId:o};if(t instanceof hf){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",MC(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(t instanceof Su){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${DD}=${encodeURIComponent(p)}`:"";return`${MD(i)}?${vu(m).slice(1)}${g}`}function MD({config:i}){return i.emulator?Zp(i,OD):`https://${i.authDomain}/${ND}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class xD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=iD,this._overrideRedirectResult=eD}async _openPopup(t,n,s,o){var u;Rr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await Qv(t,n,s,mp(),o);return wD(t,h,rg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Qv(t,n,s,mp(),o);return UO(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await TD(t),s=new sD(t);return n.register("authEvent",o=>(bt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jm,{type:Jm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Jm];h!==void 0&&n(!!h),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return cS()||rS()||ng()}}const LD=xD;var Xv="@firebase/auth",Jv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PD(i){Co(new Ta("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;bt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(i)},g=new mO(s,o,u,p);return vO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Co(new Ta("auth-internal",t=>{const n=Au(t.getProvider("auth").getImmediate());return(s=>new VD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(Xv,Jv,UD(i)),Rs(Xv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=300,BD=zA("authIdTokenMaxAge")||kD;let Wv=null;const zD=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>BD)return;const o=n==null?void 0:n.token;Wv!==o&&(Wv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jD(i=YA()){const t=Qp(i,"auth");if(t.isInitialized())return t.getImmediate();const n=EO(i,{popupRedirectResolver:LD,persistence:[qO,xO,ES]}),s=zA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=zD(u.toString());NO(n,h,()=>h(n.currentUser)),CO(n,m=>h(m))}}const o=kA("auth");return o&&TO(n,`http://${o}`),n}function HD(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}pO({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",HD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PD("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,CS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function w(){}w.prototype=R.prototype,O.D=R.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(x,U,P){for(var C=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)C[ce-2]=arguments[ce];return R.prototype[U].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,w){w||(w=0);var x=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)x[U]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(U=0;16>U;++U)x[U]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=O.g[0],w=O.g[1],U=O.g[2];var P=O.g[3],C=R+(P^w&(U^P))+x[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[2]+606105819&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[3]+3250441966&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+x[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[6]+2821735955&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[7]+4249261313&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+x[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[10]+4294925233&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[11]+2304563134&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(P^w&(U^P))+x[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=P+(U^R&(w^U))+x[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=U+(w^P&(R^w))+x[14]+2792965006&4294967295,U=P+(C<<17&4294967295|C>>>15),C=w+(R^U&(P^R))+x[15]+1236535329&4294967295,w=U+(C<<22&4294967295|C>>>10),C=R+(U^P&(w^U))+x[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[11]+643717713&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[0]+3921069994&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+x[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[15]+3634488961&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[4]+3889429448&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+x[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[3]+4107603335&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[8]+1163531501&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(U^P&(w^U))+x[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=P+(w^U&(R^w))+x[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=U+(R^w&(P^R))+x[7]+1735328473&4294967295,U=P+(C<<14&4294967295|C>>>18),C=w+(P^R&(U^P))+x[12]+2368359562&4294967295,w=U+(C<<20&4294967295|C>>>12),C=R+(w^U^P)+x[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[11]+1839030562&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[14]+4259657740&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+x[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[7]+4139469664&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[10]+3200236656&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+x[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[3]+3572445317&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[6]+76029189&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(w^U^P)+x[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=P+(R^w^U)+x[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=U+(P^R^w)+x[15]+530742520&4294967295,U=P+(C<<16&4294967295|C>>>16),C=w+(U^P^R)+x[2]+3299628645&4294967295,w=U+(C<<23&4294967295|C>>>9),C=R+(U^(w|~P))+x[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[14]+2878612391&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[5]+4237533241&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+x[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[10]+4293915773&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[1]+2240044497&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+x[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[6]+2734768916&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[13]+1309151649&4294967295,w=U+(C<<21&4294967295|C>>>11),C=R+(U^(w|~P))+x[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=P+(w^(R|~U))+x[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=U+(R^(P|~w))+x[2]+718787259&4294967295,U=P+(C<<15&4294967295|C>>>17),C=w+(P^(U|~R))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(U+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var w=R-this.blockSize,x=this.B,U=this.h,P=0;P<R;){if(U==0)for(;P<=w;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<R;)if(x[U++]=O.charCodeAt(P++),U==this.blockSize){o(this,x),U=0;break}}else for(;P<R;)if(x[U++]=O[P++],U==this.blockSize){o(this,x),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var w=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=w&255,w/=256;for(this.u(O),O=Array(16),R=w=0;4>R;++R)for(var x=0;32>x;x+=8)O[w++]=this.g[R]>>>x&255;return O};function u(O,R){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=R(O)}function h(O,R){this.h=R;for(var w=[],x=!0,U=O.length-1;0<=U;U--){var P=O[U]|0;x&&P==R||(w[U]=P,x=!1)}this.g=w}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return D(g(-O));for(var R=[],w=1,x=0;O>=w;x++)R[x]=O/w|0,w*=4294967296;return new h(R,0)}function v(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return D(v(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),x=T,U=0;U<O.length;U+=8){var P=Math.min(8,O.length-U),C=parseInt(O.substring(U,U+P),R);8>P?(P=g(Math.pow(R,P)),x=x.j(P).add(g(C))):(x=x.j(w),x=x.add(g(C)))}return x}var T=p(0),S=p(1),b=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-D(this).m();for(var O=0,R=1,w=0;w<this.g.length;w++){var x=this.i(w);O+=(0<=x?x:4294967296+x)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(z(this))return"-"+D(this).toString(O);for(var R=g(Math.pow(O,6)),w=this,x="";;){var U=dt(w,R).g;w=et(w,U.j(R));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=U,V(w))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function z(O){return O.h==-1}i.l=function(O){return O=et(this,O),z(O)?-1:V(O)?0:1};function D(O){for(var R=O.g.length,w=[],x=0;x<R;x++)w[x]=~O.g[x];return new h(w,~O.h).add(S)}i.abs=function(){return z(this)?D(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0,U=0;U<=R;U++){var P=x+(this.i(U)&65535)+(O.i(U)&65535),C=(P>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);x=C>>>16,P&=65535,C&=65535,w[U]=C<<16|P}return new h(w,w[w.length-1]&-2147483648?-1:0)};function et(O,R){return O.add(D(R))}i.j=function(O){if(V(this)||V(O))return T;if(z(this))return z(O)?D(this).j(D(O)):D(D(this).j(O));if(z(O))return D(this.j(D(O)));if(0>this.l(b)&&0>O.l(b))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,w=[],x=0;x<2*R;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var U=0;U<O.g.length;U++){var P=this.i(x)>>>16,C=this.i(x)&65535,ce=O.i(U)>>>16,Ae=O.i(U)&65535;w[2*x+2*U]+=C*Ae,rt(w,2*x+2*U),w[2*x+2*U+1]+=P*Ae,rt(w,2*x+2*U+1),w[2*x+2*U+1]+=C*ce,rt(w,2*x+2*U+1),w[2*x+2*U+2]+=P*ce,rt(w,2*x+2*U+2)}for(x=0;x<R;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=R;x<2*R;x++)w[x]=0;return new h(w,0)};function rt(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function Z(O,R){this.g=O,this.h=R}function dt(O,R){if(V(R))throw Error("division by zero");if(V(O))return new Z(T,T);if(z(O))return R=dt(D(O),R),new Z(D(R.g),D(R.h));if(z(R))return R=dt(O,D(R)),new Z(D(R.g),R.h);if(30<O.g.length){if(z(O)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,x=R;0>=x.l(O);)w=Rt(w),x=Rt(x);var U=Et(w,1),P=Et(x,1);for(x=Et(x,2),w=Et(w,2);!V(x);){var C=P.add(x);0>=C.l(O)&&(U=U.add(w),P=C),x=Et(x,1),w=Et(w,1)}return R=et(O,U.j(R)),new Z(U,R)}for(U=T;0<=O.l(R);){for(w=Math.max(1,Math.floor(O.m()/R.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=g(w),C=P.j(R);z(C)||0<C.l(O);)w-=x,P=g(w),C=P.j(R);V(P)&&(P=S),U=U.add(P),O=et(O,C)}return new Z(U,O)}i.A=function(O){return dt(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)&O.i(x);return new h(w,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)|O.i(x);return new h(w,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)^O.i(x);return new h(w,this.h^O.h)};function Rt(O){for(var R=O.g.length+1,w=[],x=0;x<R;x++)w[x]=O.i(x)<<1|O.i(x-1)>>>31;return new h(w,O.h)}function Et(O,R){var w=R>>5;R%=32;for(var x=O.g.length-w,U=[],P=0;P<x;P++)U[P]=0<R?O.i(P+w)>>>R|O.i(P+w+1)<<32-R:O.i(P+w);return new h(U,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,CS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ws=h}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NS,Ql,OS,Ch,_p,DS,MS,xS;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,E){return c==Array.prototype||c==Object.prototype||(c[_]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)t:{var E=s;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in E))break t;E=E[B]}c=c[c.length-1],I=E[c],_=_(I),_!=I&&_!=null&&t(E,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var E=0,I=!1,B={next:function(){if(!I&&E<c.length){var Y=E++;return{value:_(Y,c[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,E){return c.call.apply(c.bind,arguments)}function T(c,_,E){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function S(c,_,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function b(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function V(c,_){function E(){}E.prototype=_.prototype,c.aa=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(I,B,Y){for(var ot=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)ot[ne-2]=arguments[ne];return _.prototype[B].apply(I,ot)}}function z(c){const _=c.length;if(0<_){const E=Array(_);for(let I=0;I<_;I++)E[I]=c[I];return E}return[]}function D(c,_){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(p(I)){const B=c.length||0,Y=I.length||0;c.length=B+Y;for(let ot=0;ot<Y;ot++)c[B+ot]=I[ot]}else c.push(I)}}class et{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function rt(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function dt(c){return dt[" "](c),c}dt[" "]=function(){};var Rt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Et(c,_,E){for(const I in c)_.call(E,c[I],I,c)}function O(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function R(c){const _={};for(const E in c)_[E]=c[E];return _}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,_){let E,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(E in I)c[E]=I[E];for(let Y=0;Y<w.length;Y++)E=w[Y],Object.prototype.hasOwnProperty.call(I,E)&&(c[E]=I[E])}}function U(c){var _=1;c=c.split(":");const E=[];for(;0<_&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function P(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Gt;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class ce{constructor(){this.h=this.g=null}add(_,E){const I=Ae.get();I.set(_,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Ae=new et(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let at,_t=!1,Gt=new ce,qt=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(L)}};var L=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(E){P(E)}var _=Ae;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}_t=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,_),m.removeEventListener("test",E,_)}catch{}return c})();function St(c,_){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(Rt){t:{try{dt(_.nodeName);var B=!0;break t}catch{}B=!1}B||(_=null)}}else E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ot[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&St.aa.h.call(this)}}V(St,st);var Ot={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),He=0;function he(c,_,E,I,B){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!I,this.ha=B,this.key=++He,this.da=this.fa=!1}function Zn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c){this.src=c,this.g={},this.h=0}Fe.prototype.add=function(c,_,E,I,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ot=gi(c,_,I,B);return-1<ot?(_=c[ot],E||(_.fa=!1)):(_=new he(_,this.src,Y,!!I,B),_.fa=E,c.push(_)),_};function te(c,_){var E=_.type;if(E in c.g){var I=c.g[E],B=Array.prototype.indexOf.call(I,_,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(I,B,1),Y&&(Zn(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function gi(c,_,E,I){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==_&&Y.capture==!!E&&Y.ha==I)return B}return-1}var Bn="closure_lm_"+(1e6*Math.random()|0),Yi={};function ti(c,_,E,I,B){if(Array.isArray(_)){for(var Y=0;Y<_.length;Y++)ti(c,_[Y],E,I,B);return null}return E=Ge(E),c&&c[Lt]?c.K(_,E,g(I)?!!I.capture:!1,B):qo(c,_,E,!1,I,B)}function qo(c,_,E,I,B,Y){if(!_)throw Error("Invalid event type");var ot=g(B)?!!B.capture:!!B,ne=gt(c);if(ne||(c[Bn]=ne=new Fe(c)),E=ne.add(_,E,I,ot,Y),E.proxy)return E;if(I=bi(),E.proxy=I,I.src=c,I.listener=E,c.addEventListener)ht||(B=ot),B===void 0&&(B=!1),c.addEventListener(_.toString(),I,B);else if(c.attachEvent)c.attachEvent(lt(_.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function bi(){function c(E){return _.call(c.src,c.listener,E)}const _=mt;return c}function Or(c,_,E,I,B){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)Or(c,_[Y],E,I,B);else I=g(I)?!!I.capture:!!I,E=Ge(E),c&&c[Lt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Y=c.g[_],E=gi(Y,E,I,B),-1<E&&(Zn(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete c.g[_],c.h--)))):c&&(c=gt(c))&&(_=c.g[_.toString()],c=-1,_&&(c=gi(_,E,I,B)),(E=-1<c?_[c]:null)&&it(E))}function it(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Lt])te(_.i,c);else{var E=c.type,I=c.proxy;_.removeEventListener?_.removeEventListener(E,I,c.capture):_.detachEvent?_.detachEvent(lt(E),I):_.addListener&&_.removeListener&&_.removeListener(I),(E=gt(_))?(te(E,c),E.h==0&&(E.src=null,_[Bn]=null)):Zn(c)}}}function lt(c){return c in Yi?Yi[c]:Yi[c]="on"+c}function mt(c,_){if(c.da)c=!0;else{_=new St(_,this);var E=c.listener,I=c.ha||c.src;c.fa&&it(c),c=E.call(I,_)}return c}function gt(c){return c=c[Bn],c instanceof Fe?c:null}var Vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(c){return typeof c=="function"?c:(c[Vt]||(c[Vt]=function(_){return c.handleEvent(_)}),c[Vt])}function kt(){Q.call(this),this.i=new Fe(this),this.M=this,this.F=null}V(kt,Q),kt.prototype[Lt]=!0,kt.prototype.removeEventListener=function(c,_,E,I){Or(this,c,_,E,I)};function ee(c,_){var E,I=c.F;if(I)for(E=[];I;I=I.F)E.push(I);if(c=c.M,I=_.type||_,typeof _=="string")_=new st(_,c);else if(_ instanceof st)_.target=_.target||c;else{var B=_;_=new st(I,c),x(_,B)}if(B=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ot=_.g=E[Y];B=_e(ot,I,!0,_)&&B}if(ot=_.g=c,B=_e(ot,I,!0,_)&&B,B=_e(ot,I,!1,_)&&B,E)for(Y=0;Y<E.length;Y++)ot=_.g=E[Y],B=_e(ot,I,!1,_)&&B}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var E=c.g[_],I=0;I<E.length;I++)Zn(E[I]);delete c.g[_],c.h--}}this.F=null},kt.prototype.K=function(c,_,E,I){return this.i.add(String(c),_,!1,E,I)},kt.prototype.L=function(c,_,E,I){return this.i.add(String(c),_,!0,E,I)};function _e(c,_,E,I){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,Y=0;Y<_.length;++Y){var ot=_[Y];if(ot&&!ot.da&&ot.capture==E){var ne=ot.listener,xe=ot.ha||ot.src;ot.fa&&te(c.i,ot),B=ne.call(xe,I)!==!1&&B}}return B&&!I.defaultPrevented}function Ce(c,_,E){if(typeof c=="function")E&&(c=S(c,E));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Wt(c){c.g=Ce(()=>{c.g=null,c.i&&(c.i=!1,Wt(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class $t extends Q{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(c){Q.call(this),this.h=c,this.g={}}V(Ze,Q);var fn=[];function ye(c){Et(c.g,function(_,E){this.g.hasOwnProperty(E)&&it(_)},c),c.g={}}Ze.prototype.N=function(){Ze.aa.N.call(this),ye(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=m.JSON.stringify,Tn=m.JSON.parse,Uf=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Yo(){}Yo.prototype.h=null;function Lu(c){return c.h||(c.h=c.i())}function Hs(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){st.call(this,"d")}V(Dr,st);function _i(){st.call(this,"c")}V(_i,st);var ei={},Mr=null;function Na(){return Mr=Mr||new kt}ei.La="serverreachability";function Ko(c){st.call(this,ei.La,c)}V(Ko,st);function Ki(c){const _=Na();ee(_,new Ko(_))}ei.STAT_EVENT="statevent";function xr(c,_){st.call(this,ei.STAT_EVENT,c),this.stat=_}V(xr,st);function tn(c){const _=Na();ee(_,new xr(_,c))}ei.Ma="timingevent";function $o(c,_){st.call(this,ei.Ma,c),this.size=_}V($o,st);function Lr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function Vr(){this.g=!0}Vr.prototype.xa=function(){this.g=!1};function Qo(c,_,E,I,B,Y){c.info(function(){if(c.g)if(Y)for(var ot="",ne=Y.split("&"),xe=0;xe<ne.length;xe++){var Mt=ne[xe].split("=");if(1<Mt.length){var $e=Mt[0];Mt=Mt[1];var Qe=$e.split("_");ot=2<=Qe.length&&Qe[1]=="type"?ot+($e+"="+Mt+"&"):ot+($e+"=redacted&")}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+_+`
`+E+`
`+ot})}function Xo(c,_,E,I,B,Y,ot){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+_+`
`+E+`
`+Y+" "+ot})}function $i(c,_,E,I){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ci(c,E)+(I?" "+I:"")})}function Vu(c,_){c.info(function(){return"TIMEOUT: "+_})}Vr.prototype.info=function(){};function Ci(c,_){if(!c.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var I=E[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ot=1;ot<B.length;ot++)B[ot]=""}}}}return vn(E)}catch{return _}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},en={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ni;function Ur(){}V(Ur,Yo),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},Ni=new Ur;function Oi(c,_,E,I){this.j=c,this.i=_,this.l=E,this.R=I||1,this.U=new Ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uu}function Uu(){this.i=null,this.g="",this.h=!1}var Jo={},Qi={};function Fs(c,_,E){c.L=1,c.v=Ys(Ie(_)),c.m=E,c.P=!0,Xi(c,null)}function Xi(c,_){c.F=Date.now(),yi(c),c.A=Ie(c.v);var E=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Zi(E.i,"t",I),c.C=0,E=c.j.J,c.h=new Uu,c.g=Wu(c.j,E?_:null,!c.m),0<c.O&&(c.M=new $t(S(c.Y,c,c.g),c.O)),_=c.U,E=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(fn[0]=B.toString()),B=fn);for(var Y=0;Y<B.length;Y++){var ot=ti(E,B[Y],I||_.handleEvent,!1,_.h||_);if(!ot)break;_.g[ot.key]=ot}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Ki(),Qo(c.i,c.u,c.A,c.l,c.R,c.m)}Oi.prototype.ca=function(c){c=c.target;const _=this.M;_&&In(c)==3?_.j():this.Y(c)},Oi.prototype.Y=function(c){try{if(c==this.g)t:{const Qe=In(this.g);var _=this.g.Ba();const Qr=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||Qs(this.g)))){this.J||Qe!=4||_==7||(_==8||0>=Qr?Ki(3):Ki(2)),Oa(this);var E=this.g.Z();this.X=E;e:if(Ji(this)){var I=Qs(this.g);c="";var B=I.length,Y=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),Pr(this);var ot="";break e}this.h.i=new m.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(I[_],{stream:!(Y&&_==B-1)});I.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=E==200,Xo(this.i,this.u,this.A,this.l,this.R,Qe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var ne,xe=this.g;if((ne=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(ne)){var Mt=ne;break e}}Mt=null}if(E=Mt)$i(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,E);else{this.o=!1,this.s=3,tn(12),An(this),Pr(this);break t}}if(this.P){E=!0;let Mn;for(;!this.J&&this.C<ot.length;)if(Mn=Gs(this,ot),Mn==Qi){Qe==4&&(this.s=4,tn(14),E=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Jo){this.s=4,tn(15),$i(this.i,this.l,ot,"[Invalid Chunk]"),E=!1;break}else $i(this.i,this.l,Mn,null),Di(this,Mn);if(Ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||ot.length!=0||this.h.h||(this.s=1,tn(16),E=!1),this.o=this.o&&E,!E)$i(this.i,this.l,ot,"[Invalid Chunked Response]"),An(this),Pr(this);else if(0<ot.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),ll($e),$e.M=!0,tn(11))}}else $i(this.i,this.l,ot,null),Di(this,ot);Qe==4&&An(this),this.o&&!this.J&&(Qe==4?Qu(this.j,this):(this.o=!1,yi(this)))}else Fu(this.g),E==400&&0<ot.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),An(this),Pr(this)}}}catch{}finally{}};function Ji(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gs(c,_){var E=c.C,I=_.indexOf(`
`,E);return I==-1?Qi:(E=Number(_.substring(E,I)),isNaN(E)?Jo:(I+=1,I+E>_.length?Qi:(_=_.slice(I,I+E),c.C=I+E,_)))}Oi.prototype.cancel=function(){this.J=!0,An(this)};function yi(c){c.S=Date.now()+c.I,Ne(c,c.I)}function Ne(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lr(S(c.ba,c),_)}function Oa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vu(this.i,this.A),this.L!=2&&(Ki(),tn(17)),An(this),this.s=2,Pr(this)):Ne(this,this.S-c)};function Pr(c){c.j.G==0||c.J||Qu(c.j,c)}function An(c){Oa(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,ye(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Di(c,_){try{var E=c.j;if(E.G!=0&&(E.g==c||kr(E.h,c))){if(!c.K&&kr(E.h,c)&&E.G==3){try{var I=E.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Kr(E),Yr(E);else break t;ol(E),tn(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=Lr(S(E.Za,E),6e3));if(1>=Pu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else er(E,11)}else if((c.K||E.g==c)&&Kr(E),!rt(_))for(B=E.Da.g.parse(_),_=0;_<B.length;_++){let Mt=B[_];if(E.T=Mt[0],Mt=Mt[1],E.G==2)if(Mt[0]=="c"){E.K=Mt[1],E.ia=Mt[2];const $e=Mt[3];$e!=null&&(E.la=$e,E.j.info("VER="+E.la));const Qe=Mt[4];Qe!=null&&(E.Aa=Qe,E.j.info("SVER="+E.Aa));const Qr=Mt[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(I=1.5*Qr,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Mn=c.g;if(Mn){const Ws=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var Y=I.h;Y.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Br(Y,Y.h),Y.h=null))}if(I.D){const nr=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;nr&&(I.ya=nr,Qt(I.I,I.D,nr))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ot=c;if(I.qa=Ju(I,I.J?I.ia:null,I.W),ot.K){ni(I.h,ot);var ne=ot,xe=I.L;xe&&(ne.I=xe),ne.B&&(Oa(ne),yi(ne)),I.g=ot}else Ku(I);0<E.i.length&&ka(E)}else Mt[0]!="stop"&&Mt[0]!="close"||er(E,7);else E.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?er(E,7):sl(E):Mt[0]!="noop"&&E.l&&E.l.ta(Mt),E.v=0)}}Ki(4)}catch{}}var Pf=class{constructor(c,_){this.g=c,this.map=_}};function Wo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pu(c){return c.h?1:c.g?c.g.size:0}function kr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Br(c,_){c.g?c.g.add(_):c.h=_}function ni(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Wo.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.D);return _}return z(c.i)}function ku(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],E=c.length,I=0;I<E;I++)_.push(c[I]);return _}_=[],E=0;for(I in c)_[E++]=c[I];return _}function kf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var E=0;E<c;E++)_.push(E);return _}_=[],E=0;for(const I in c)_[E++]=I;return _}}}function Da(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var E=kf(c),I=ku(c),B=I.length,Y=0;Y<B;Y++)_.call(void 0,I[Y],E&&E[Y],c)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(c,_){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var I=c[E].indexOf("="),B=null;if(0<=I){var Y=c[E].substring(0,I);B=c[E].substring(I+1)}else Y=c[E];_(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wi){this.h=c.h,zr(this,c.j),this.o=c.o,this.g=c.g,qs(this,c.s),this.l=c.l;var _=c.i,E=new Mi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),xa(this,E),this.m=c.m}else c&&(_=String(c).match(tl))?(this.h=!1,zr(this,_[1]||"",!0),this.o=jr(_[2]||""),this.g=jr(_[3]||"",!0),qs(this,_[4]),this.l=jr(_[5]||"",!0),xa(this,_[6]||"",!0),this.m=jr(_[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Wi.prototype.toString=function(){var c=[],_=this.j;_&&c.push(ii(_,el,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(ii(_,el,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ii(E,E.charAt(0)=="/"?nl:Bu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ii(E,jf)),c.join("")};function Ie(c){return new Wi(c)}function zr(c,_,E){c.j=E?jr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function qs(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function xa(c,_,E){_ instanceof Mi?(c.i=_,zu(c.i,c.h)):(E||(_=ii(_,zf)),c.i=new Mi(_,c.h))}function Qt(c,_,E){c.i.set(_,E)}function Ys(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ii(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Bf),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,Bu=/[#\?:]/g,nl=/[#\?]/g,zf=/[#\?@]/g,jf=/#/g;function Mi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Ke(c){c.g||(c.g=new Map,c.h=0,c.i&&Ma(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=Mi.prototype,i.add=function(c,_){Ke(this),this.i=null,c=zn(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function La(c,_){Ke(c),_=zn(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Va(c,_){return Ke(c),_=zn(c,_),c.g.has(_)}i.forEach=function(c,_){Ke(this),this.g.forEach(function(E,I){E.forEach(function(B){c.call(_,B,I,this)},this)},this)},i.na=function(){Ke(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let I=0;I<_.length;I++){const B=c[I];for(let Y=0;Y<B.length;Y++)E.push(_[I])}return E},i.V=function(c){Ke(this);let _=[];if(typeof c=="string")Va(this,c)&&(_=_.concat(this.g.get(zn(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)_=_.concat(c[E])}return _},i.set=function(c,_){return Ke(this),this.i=null,c=zn(this,c),Va(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Zi(c,_,E){La(c,_),0<E.length&&(c.i=null,c.g.set(zn(c,_),z(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var I=_[E];const Y=encodeURIComponent(String(I)),ot=this.V(I);for(I=0;I<ot.length;I++){var B=Y;ot[I]!==""&&(B+="="+encodeURIComponent(String(ot[I]))),c.push(B)}}return this.i=c.join("&")};function zn(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function zu(c,_){_&&!c.j&&(Ke(c),c.i=null,c.g.forEach(function(E,I){var B=I.toLowerCase();I!=B&&(La(this,I),Zi(this,B,E))},c)),c.j=_}function il(c,_){const E=new Vr;if(m.Image){const I=new Image;I.onload=b(Dn,E,"TestLoadImage: loaded",!0,_,I),I.onerror=b(Dn,E,"TestLoadImage: error",!1,_,I),I.onabort=b(Dn,E,"TestLoadImage: abort",!1,_,I),I.ontimeout=b(Dn,E,"TestLoadImage: timeout",!1,_,I),m.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else _(!1)}function ju(c,_){const E=new Vr,I=new AbortController,B=setTimeout(()=>{I.abort(),Dn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:I.signal}).then(Y=>{clearTimeout(B),Y.ok?Dn(E,"TestPingServer: ok",!0,_):Dn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Dn(E,"TestPingServer: error",!1,_)})}function Dn(c,_,E,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(E)}catch{}}function Ei(){this.g=new Uf}function rl(c,_,E){const I=E||"";try{Da(c,function(B,Y){let ot=B;g(B)&&(ot=vn(B)),_.push(I+Y+"="+encodeURIComponent(ot))})}catch(B){throw _.push(I+"type="+encodeURIComponent("_badmap")),B}}function xi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(xi,Yo),xi.prototype.g=function(){return new jn(this.l,this.j)},xi.prototype.i=(function(c){return function(){return c}})({});function jn(c,_){kt.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(jn,kt),i=jn.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,Hr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ua(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ua(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Li(this):Hr(this),this.readyState==3&&Ua(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Li(this))},i.Qa=function(c){this.g&&(this.response=c,Li(this))},i.ga=function(){this.g&&Li(this)};function Li(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hr(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ks(c){let _="";return Et(c,function(E,I){_+=I,_+=":",_+=E,_+=`\r
`}),_}function Fr(c,_,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=Ks(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Qt(c,_,E))}function fe(c){kt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(fe,kt);var dn=/^https?$/i,tr=["POST","PUT"];i=fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ni.g(),this.v=this.o?Lu(this.o):Lu(Ni),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Y){$s(this,Y);return}if(c=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)E.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())E.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(tr,_,void 0))||I||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of E)this.g.setRequestHeader(Y,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){$s(this,Y)}};function $s(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Gr(c),qr(c)}function Gr(c){c.A||(c.A=!0,ee(c,"complete"),ee(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ee(this,"complete"),ee(this,"abort"),qr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qr(this,!0)),fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Hu(this):this.bb())},i.bb=function(){Hu(this)};function Hu(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Ce(c.Ea,0,c);else if(ee(c,"readystatechange"),In(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var I;if(I=ot===0){var B=String(c.D).match(tl)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),I=!dn.test(B?B.toLowerCase():"")}E=I}if(E)ee(c,"complete"),ee(c,"success");else{c.m=6;try{var Y=2<In(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Gr(c)}}finally{qr(c)}}}}function qr(c,_){if(c.g){Pa(c);const E=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||ee(c,"ready");try{E.onreadystatechange=I}catch{}}}function Pa(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Tn(_)}};function Qs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fu(c){const _={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(rt(c[I]))continue;var E=U(c[I]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=_[B]||[];_[B]=Y,Y.push(E)}O(_,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function Gu(c){this.Aa=0,this.i=[],this.j=new Vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wo(c&&c.concurrentRequestLimit),this.Da=new Ei,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Gu.prototype,i.la=8,i.G=1,i.connect=function(c,_,E,I){tn(0),this.W=c,this.H=_||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Ju(this,null,this.W),ka(this)};function sl(c){if(qu(c),c.G==3){var _=c.U++,E=Ie(c.I);if(Qt(E,"SID",c.K),Qt(E,"RID",_),Qt(E,"TYPE","terminate"),Js(c,E),_=new Oi(c,c.j,_),_.L=2,_.v=Ys(Ie(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=_.v,E=!0),E||(_.g=Wu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),yi(_)}ul(c)}function Yr(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function qu(c){Yr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Kr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ka(c){if(!Zo(c.h)&&!c.s){c.s=!0;var _=c.Ga;at||qt(),_t||(at(),_t=!0),Gt.add(_,c),c.B=0}}function Hf(c,_){return Pu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lr(S(c.Ga,c,_),Xu(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Oi(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),x(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=al(this,B,_),E=Ie(this.I),Qt(E,"RID",c),Qt(E,"CVER",22),this.D&&Qt(E,"X-HTTP-Session-Id",this.D),Js(this,E),Y&&(this.O?_="headers="+encodeURIComponent(String(Ks(Y)))+"&"+_:this.m&&Fr(E,this.m,Y)),Br(this.h,B),this.Ua&&Qt(E,"TYPE","init"),this.P?(Qt(E,"$req",_),Qt(E,"SID","null"),B.T=!0,Fs(B,E,null)):Fs(B,E,_),this.G=2}}else this.G==3&&(c?Yu(this,c):this.i.length==0||Zo(this.h)||Yu(this))};function Yu(c,_){var E;_?E=_.l:E=c.U++;const I=Ie(c.I);Qt(I,"SID",c.K),Qt(I,"RID",E),Qt(I,"AID",c.T),Js(c,I),c.m&&c.o&&Fr(I,c.m,c.o),E=new Oi(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),_&&(c.i=_.D.concat(c.i)),_=al(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Br(c.h,E),Fs(E,I,_)}function Js(c,_){c.H&&Et(c.H,function(E,I){Qt(_,I,E)}),c.l&&Da({},function(E,I){Qt(_,I,E)})}function al(c,_,E){E=Math.min(c.i.length,E);var I=c.l?S(c.l.Na,c.l,c):null;t:{var B=c.i;let Y=-1;for(;;){const ot=["count="+E];Y==-1?0<E?(Y=B[0].g,ot.push("ofs="+Y)):Y=0:ot.push("ofs="+Y);let ne=!0;for(let xe=0;xe<E;xe++){let Mt=B[xe].g;const $e=B[xe].map;if(Mt-=Y,0>Mt)Y=Math.max(0,B[xe].g-100),ne=!1;else try{rl($e,ot,"req"+Mt+"_")}catch{I&&I($e)}}if(ne){I=ot.join("&");break t}}}return c=c.i.splice(0,E),_.D=c,I}function Ku(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;at||qt(),_t||(at(),_t=!0),Gt.add(_,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lr(S(c.Fa,c),Xu(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,$u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lr(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),Yr(this),$u(this))};function ll(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function $u(c){c.g=new Oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=Ie(c.qa);Qt(_,"RID","rpc"),Qt(_,"SID",c.K),Qt(_,"AID",c.T),Qt(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(_,"TO",c.ja),Qt(_,"TYPE","xmlhttp"),Js(c,_),c.m&&c.o&&Fr(_,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Ys(Ie(_)),E.m=null,E.P=!0,Xi(E,c)}i.Za=function(){this.C!=null&&(this.C=null,Yr(this),ol(this),tn(19))};function Kr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,_){var E=null;if(c.g==_){Kr(c),ll(c),c.g=null;var I=2}else if(kr(c.h,_))E=_.D,ni(c.h,_),I=1;else return;if(c.G!=0){if(_.o)if(I==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;I=Na(),ee(I,new $o(I,E)),ka(c)}else Ku(c);else if(B=_.s,B==3||B==0&&0<_.X||!(I==1&&Hf(c,_)||I==2&&ol(c)))switch(E&&0<E.length&&(_=c.h,_.i=_.i.concat(E)),B){case 1:er(c,5);break;case 4:er(c,10);break;case 3:er(c,6);break;default:er(c,2)}}}function Xu(c,_){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*_}function er(c,_){if(c.j.info("Error code "+_),_==2){var E=S(c.fb,c),I=c.Xa;const B=!I;I=new Wi(I||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||zr(I,"https"),Ys(I),B?il(I.toString(),E):ju(I.toString(),E)}else tn(2);c.G=0,c.l&&c.l.sa(_),ul(c),qu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function ul(c){if(c.G=0,c.ka=[],c.l){const _=Sn(c.h);(_.length!=0||c.i.length!=0)&&(D(c.ka,_),D(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Ju(c,_,E){var I=E instanceof Wi?Ie(E):new Wi(E);if(I.g!="")_&&(I.g=_+"."+I.g),qs(I,I.s);else{var B=m.location;I=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var Y=new Wi(null);I&&zr(Y,I),_&&(Y.g=_),B&&qs(Y,B),E&&(Y.l=E),I=Y}return E=c.D,_=c.ya,E&&_&&Qt(I,E,_),Qt(I,"VER",c.la),Js(c,I),I}function Wu(c,_,E){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new fe(new xi({eb:E})):new fe(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}i=Zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ba(){}Ba.prototype.g=function(c,_){return new Rn(c,_)};function Rn(c,_){kt.call(this),this.g=new Gu(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!rt(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!rt(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new $r(this)}V(Rn,kt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){sl(this.g)},Rn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=vn(c),c=E);_.i.push(new Pf(_.Ya++,c)),_.G==3&&ka(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Rn.aa.N.call(this)};function tc(c){Dr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){t:{for(const E in _){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}V(tc,Dr);function ec(){_i.call(this),this.status=1}V(ec,_i);function $r(c){this.g=c}V($r,Zu),$r.prototype.ua=function(){ee(this.g,"a")},$r.prototype.ta=function(c){ee(this.g,new tc(c))},$r.prototype.sa=function(c){ee(this.g,new ec)},$r.prototype.ra=function(){ee(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,xS=function(){return new Ba},MS=function(){return Na()},DS=ei,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Ch=Se,en.COMPLETE="complete",OS=en,Hs.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Ql=Hs,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,NS=fe}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const tT="@firebase/firestore",eT="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Kp("@firebase/firestore");function go(){return Sa.logLevel}function ct(i,...t){if(Sa.logLevel<=jt.DEBUG){const n=t.map(og);Sa.debug(`Firestore (${zo}): ${i}`,...n)}}function br(i,...t){if(Sa.logLevel<=jt.ERROR){const n=t.map(og);Sa.error(`Firestore (${zo}): ${i}`,...n)}}function Ds(i,...t){if(Sa.logLevel<=jt.WARN){const n=t.map(og);Sa.warn(`Firestore (${zo}): ${i}`,...n)}}function og(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,LS(i,s,n)}function LS(i,t,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw br(s),new Error(s)}function Kt(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||LS(t,o,s)}function wt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Nr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class GD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qD{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ar,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ar)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new VS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class YD{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KD{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new YD(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $D{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=QD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(i,t){return i<t?-1:i>t?1:0}function yp(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return xt(s,o);{const u=US(),h=XD(u.encode(iT(i,n)),u.encode(iT(t,n)));return h!==0?h:xt(s,o)}}n+=s>65535?2:1}return xt(i.length,t.length)}function iT(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function XD(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return xt(i[n],t[n]);return xt(i.length,t.length)}function Oo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__name__";class Bi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=Bi.isNumericId(t),o=Bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(n)):yp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ws.fromString(t.substring(4,t.length-2))}}class le extends Bi{construct(t,n,s){return new le(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new le(n)}static emptyPath(){return new le([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Bi{construct(t,n,s){return new un(t,n,s)}static isValidIdentifier(t){return JD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rT}static keyField(){return new un([rT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(le.fromString(t))}static fromName(t){return new yt(le.fromString(t).popFirst(5))}static empty(){return new yt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(i,t,n){if(!n)throw new ut(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function WD(i,t,n,s){if(t===!0&&s===!0)throw new ut(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function sT(i){if(!yt.isDocumentKey(i))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function aT(i){if(yt.isDocumentKey(i))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function kS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function mf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function di(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(i);throw new ut(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(i,t){const n={typeString:i};return t&&(n.value=t),n}function Ru(i,t){if(!kS(i))throw new ut(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ut(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=-62135596800,lT=1e6;class pe{static now(){return pe.fromMillis(Date.now())}static fromDate(t){return pe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*lT);return new pe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<oT)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lT}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ru(t,pe._jsonSchema))return new pe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-oT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pe._jsonSchemaVersion="firestore/timestamp/1.0",pe._jsonSchema={type:ze("string",pe._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new pe(0,0))}static max(){return new It(new pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function ZD(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new pe(n+1,0):new pe(n,s));return new Ms(o,yt.empty(),t)}function t2(i){return new Ms(i.readTime,i.key,hu)}class Ms{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(It.min(),yt.empty(),hu)}static max(){return new Ms(It.max(),yt.empty(),hu)}}function e2(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(i.documentKey,t.documentKey),n!==0?n:xt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==n2)throw i;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((v=>{h[g]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function r2(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}pf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function bu(i){return i==null}function qh(i){return i===0&&1/i==-1/0}function s2(i){return typeof i=="number"&&Number.isInteger(i)&&!qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="";function a2(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=uT(t)),t=o2(i.get(n),t);return uT(t)}function o2(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case BS:n+="";break;default:n+=u}}return n}function uT(i){return i+BS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function zs(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function zS(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,n){this.comparator=t,this.root=n||ln.EMPTY}insert(t,n){return new Te(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ln.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ch(this.root,t,this.comparator,!0)}}class ch{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ln{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??ln.RED,this.left=o??ln.EMPTY,this.right=u??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new ln(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new ln(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(t){return new hT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ye(this.comparator);return n.data=t,n}}class hT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.fields=t,t.sort(un.comparator)}static empty(){return new Xn([])}unionWith(t){let n=new Ye(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Xn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jS("Invalid base64 string: "+u):u}})(t);return new cn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const l2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(i){if(Kt(!!i,39018),typeof i=="string"){let t=0;const n=l2.exec(i);if(Kt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Me(i.seconds),nanos:Me(i.nanos)}}function Me(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ls(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="server_timestamp",FS="__type__",GS="__previous_value__",qS="__local_write_time__";function cg(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[FS])===null||n===void 0?void 0:n.stringValue)===HS}function gf(i){const t=i.mapValue.fields[GS];return cg(t)?gf(t):t}function fu(i){const t=xs(i.mapValue.fields[qS].timestampValue);return new pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n,s,o,u,h,m,p,g,v){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Yh="(default)";class du{constructor(t,n){this.projectId=t,this.database=n||Yh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(t){return t instanceof du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__type__",c2="__max__",hh={mapValue:{}},KS="__vector__",Kh="value";function Vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cg(i)?4:f2(i)?9007199254740991:h2(i)?10:11:Tt(28295,{value:i})}function qi(i,t){if(i===t)return!0;const n=Vs(i);if(n!==Vs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return fu(i).isEqual(fu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=xs(o.timestampValue),m=xs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return Ls(o.bytesValue).isEqual(Ls(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Me(o.geoPointValue.latitude)===Me(u.geoPointValue.latitude)&&Me(o.geoPointValue.longitude)===Me(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Me(o.integerValue)===Me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Me(o.doubleValue),m=Me(u.doubleValue);return h===m?qh(h)===qh(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return Oo(i.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(cT(h)!==cT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!qi(h[p],m[p])))return!1;return!0})(i,t);default:return Tt(52216,{left:i})}}function mu(i,t){return(i.values||[]).find((n=>qi(n,t)))!==void 0}function Do(i,t){if(i===t)return 0;const n=Vs(i),s=Vs(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Me(u.integerValue||u.doubleValue),p=Me(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return fT(i.timestampValue,t.timestampValue);case 4:return fT(fu(i),fu(t));case 5:return yp(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=Ls(u),p=Ls(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=xt(m[g],p[g]);if(v!==0)return v}return xt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=xt(Me(u.latitude),Me(h.latitude));return m!==0?m:xt(Me(u.longitude),Me(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return dT(i.arrayValue,t.arrayValue);case 10:return(function(u,h){var m,p,g,v;const T=u.fields||{},S=h.fields||{},b=(m=T[Kh])===null||m===void 0?void 0:m.arrayValue,V=(p=S[Kh])===null||p===void 0?void 0:p.arrayValue,z=xt(((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:dT(b,V)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===hh.mapValue&&h===hh.mapValue)return 0;if(u===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=yp(p[T],v[T]);if(S!==0)return S;const b=Do(m[p[T]],g[v[T]]);if(b!==0)return b}return xt(p.length,v.length)})(i.mapValue,t.mapValue);default:throw Tt(23264,{le:n})}}function fT(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return xt(i,t);const n=xs(i),s=xs(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function dT(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Do(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function Mo(i){return Ep(i)}function Ep(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=xs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ls(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return yt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ep(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ep(n.fields[h])}`;return o+"}"})(i.mapValue):Tt(61005,{value:i})}function Nh(i){switch(Vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gf(i);return t?16+Nh(t):16;case 5:return 2*i.stringValue.length;case 6:return Ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Nh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return zs(s.fields,((u,h)=>{o+=u.length+Nh(h)})),o})(i.mapValue);default:throw Tt(13486,{value:i})}}function mT(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function hg(i){return!!i&&"arrayValue"in i}function pT(i){return!!i&&"nullValue"in i}function gT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oh(i){return!!i&&"mapValue"in i}function h2(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[YS])===null||n===void 0?void 0:n.stringValue)===KS}function nu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return zs(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=nu(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nu(i.arrayValue.values[n]);return t}return Object.assign({},i)}function f2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===c2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(n)}setAll(t){let n=un.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=nu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){zs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Nn(nu(this.value))}}function $S(i){const t=[];return zs(i.fields,((n,s)=>{const o=new un([n]);if(Oh(s)){const u=$S(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new We(t,0,It.min(),It.min(),It.min(),Nn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,It.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,It.min(),It.min(),Nn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,It.min(),It.min(),Nn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,n){this.position=t,this.inclusive=n}}function _T(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(h.referenceValue),n.key):s=Do(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yT(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n="asc"){this.field=t,this.dir=n}}function d2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class Be extends QS{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new p2(t,n,s):n==="array-contains"?new y2(t,s):n==="in"?new E2(t,s):n==="not-in"?new v2(t,s):n==="array-contains-any"?new T2(t,s):new Be(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new g2(t,s):new _2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends QS{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Ri(t,n)}matches(t){return XS(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function XS(i){return i.op==="and"}function JS(i){return m2(i)&&XS(i)}function m2(i){for(const t of i.filters)if(t instanceof Ri)return!1;return!0}function Tp(i){if(i instanceof Be)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(JS(i))return i.filters.map((t=>Tp(t))).join(",");{const t=i.filters.map((n=>Tp(n))).join(",");return`${i.op}(${t})`}}function WS(i,t){return i instanceof Be?(function(s,o){return o instanceof Be&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(i,t):i instanceof Ri?(function(s,o){return o instanceof Ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&WS(h,o.filters[m])),!0):!1})(i,t):void Tt(19439)}function ZS(i){return i instanceof Be?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`})(i):i instanceof Ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(ZS).join(" ,")+"}"})(i):"Filter"}class p2 extends Be{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class g2 extends Be{constructor(t,n){super(t,"in",n),this.keys=tI("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class _2 extends Be{constructor(t,n){super(t,"not-in",n),this.keys=tI("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function tI(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>yt.fromName(s.referenceValue)))}class y2 extends Be{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return hg(n)&&mu(n.arrayValue,this.value)}}class E2 extends Be{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class v2 extends Be{constructor(t,n){super(t,"not-in",n)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class T2 extends Be{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>mu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function ET(i,t=null,n=[],s=[],o=null,u=null,h=null){return new A2(i,t,n,s,o,u,h)}function fg(i){const t=wt(i);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Tp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),bu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Mo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Mo(s))).join(",")),t.Pe=n}return t.Pe}function dg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!d2(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!WS(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!yT(i.startAt,t.startAt)&&yT(i.endAt,t.endAt)}function Ap(i){return yt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function S2(i,t,n,s,o,u,h,m){return new wu(i,t,n,s,o,u,h,m)}function mg(i){return new wu(i)}function vT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function eI(i){return i.collectionGroup!==null}function iu(i){const t=wt(i);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ye(un.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Qh(u,s))})),n.has(un.keyField().canonicalString())||t.Te.push(new Qh(un.keyField(),s))}return t.Te}function ji(i){const t=wt(i);return t.Ie||(t.Ie=I2(t,iu(i))),t.Ie}function I2(i,t){if(i.limitType==="F")return ET(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Qh(o.field,u)}));const n=i.endAt?new $h(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new $h(i.startAt.position,i.startAt.inclusive):null;return ET(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Sp(i,t){const n=i.filters.concat([t]);return new wu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ip(i,t,n){return new wu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function _f(i,t){return dg(ji(i),ji(t))&&i.limitType===t.limitType}function nI(i){return`${fg(ji(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ZS(o))).join(", ")}]`),bu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Mo(o))).join(",")),`Target(${s})`})(ji(i))}; limitType=${i.limitType})`}function yf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of iu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=_T(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,iu(s),o)||s.endAt&&!(function(h,m,p){const g=_T(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,iu(s),o))})(i,t)}function R2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function iI(i){return(t,n)=>{let s=!1;for(const o of iu(i)){const u=b2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function b2(i,t,n){const s=i.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Do(p,g):Tt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return zS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Te(yt.comparator);function wr(){return w2}const rI=new Te(yt.comparator);function Xl(...i){let t=rI;for(const n of i)t=t.insert(n.key,n);return t}function sI(i){let t=rI;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ya(){return ru()}function aI(){return ru()}function ru(){return new ba((i=>i.toString()),((i,t)=>i.isEqual(t)))}const C2=new Te(yt.comparator),N2=new Ye(yt.comparator);function Ht(...i){let t=N2;for(const n of i)t=t.add(n);return t}const O2=new Ye(xt);function D2(){return O2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(t)?"-0":t}}function oI(i){return{integerValue:""+i}}function M2(i,t){return s2(t)?oI(t):pg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function x2(i,t,n){return i instanceof Xh?(function(o,u){const h={fields:{[FS]:{stringValue:HS},[qS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cg(u)&&(u=gf(u)),u&&(h.fields[GS]=u),{mapValue:h}})(n,t):i instanceof xo?uI(i,t):i instanceof pu?cI(i,t):(function(o,u){const h=lI(o,u),m=TT(h)+TT(o.Ee);return vp(h)&&vp(o.Ee)?oI(m):pg(o.serializer,m)})(i,t)}function L2(i,t,n){return i instanceof xo?uI(i,t):i instanceof pu?cI(i,t):n}function lI(i,t){return i instanceof Jh?(function(s){return vp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Xh extends Ef{}class xo extends Ef{constructor(t){super(),this.elements=t}}function uI(i,t){const n=hI(t);for(const s of i.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends Ef{constructor(t){super(),this.elements=t}}function cI(i,t){let n=hI(t);for(const s of i.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class Jh extends Ef{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function TT(i){return Me(i.integerValue||i.doubleValue)}function hI(i){return hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n){this.field=t,this.transform=n}}function U2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof xo&&o instanceof xo||s instanceof pu&&o instanceof pu?Oo(s.elements,o.elements,qi):s instanceof Jh&&o instanceof Jh?qi(s.Ee,o.Ee):s instanceof Xh&&o instanceof Xh})(i.transform,t.transform)}class P2{constructor(t,n){this.version=t,this.transformResults=n}}class _n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _n}static exists(t){return new _n(void 0,t)}static updateTime(t){return new _n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class vf{}function fI(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new Tf(i.key,_n.none()):new Cu(i.key,i.data,_n.none());{const n=i.data,s=Nn.empty();let o=new Ye(un.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new js(i.key,s,new Xn(o.toArray()),_n.none())}}function k2(i,t,n){i instanceof Cu?(function(o,u,h){const m=o.value.clone(),p=ST(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,n):i instanceof js?(function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=ST(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(dI(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function su(i,t,n,s){return i instanceof Cu?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=u.value.clone(),v=IT(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,n,s):i instanceof js?(function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=IT(u.fieldTransforms,p,h),v=h.data;return v.setAll(dI(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,h,m){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,n)}function B2(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=lI(s.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function AT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,((u,h)=>U2(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Cu extends vf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends vf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dI(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function ST(i,t,n){const s=new Map;Kt(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,L2(h,m,n[o]))}return s}function IT(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,x2(u,h,t))}return s}class Tf extends vf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mI extends vf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&k2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=su(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=aI();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=fI(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(It.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,((n,s)=>AT(n,s)))&&Oo(this.baseMutations,t.baseMutations,((n,s)=>AT(n,s)))}}class gg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return C2})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new gg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke,Yt;function pI(i){switch(i){case W.OK:return Tt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function gI(i){if(i===void 0)return br("GRPC error has no .code"),W.UNKNOWN;switch(i){case ke.OK:return W.OK;case ke.CANCELLED:return W.CANCELLED;case ke.UNKNOWN:return W.UNKNOWN;case ke.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ke.INTERNAL:return W.INTERNAL;case ke.UNAVAILABLE:return W.UNAVAILABLE;case ke.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ke.NOT_FOUND:return W.NOT_FOUND;case ke.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ke.ABORTED:return W.ABORTED;case ke.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ke.DATA_LOSS:return W.DATA_LOSS;default:return Tt(39323,{code:i})}}(Yt=ke||(ke={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new ws([4294967295,4294967295],0);function RT(i){const t=US().encode(i),n=new CS;return n.update(t),new Uint8Array(n.digest())}function bT(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ws([n,s],0),new ws([o,u],0)]}class _g{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=ws.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(ws.fromNumber(s)));return o.compare(F2)===1&&(o=new ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=RT(t),[s,o]=bT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new _g(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.fe===0)return;const n=RT(t),[s,o]=bT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Nu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Af(It.min(),o,new Te(xt),wr(),Ht())}}class Nu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Nu(s,n,Ht(),Ht(),Ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class _I{constructor(t,n){this.targetId=t,this.De=n}}class yI{constructor(t,n,s=cn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wT{constructor(){this.ve=0,this.Ce=CT(),this.Fe=cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Ht(),n=Ht(),s=Ht();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}})),new Nu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=CT()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class G2{constructor(t){this.We=t,this.Ge=new Map,this.ze=wr(),this.je=fh(),this.Je=fh(),this.He=new Te(xt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(Ap(u))if(s===0){const h=new yt(u.path);this.Xe(n,h,We.newNoDocument(h,It.min()))}else Kt(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(t),p=m?this.ut(m,t,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Ls(s).toUint8Array()}catch(p){if(p instanceof jS)return Ds("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _g(h,o,u)}catch(p){return Ds(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,h)=>{const m=this.st(h);if(m){if(u.current&&Ap(m.target)){const p=new yt(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,We.newNoDocument(p,t))}u.Ne&&(n.set(h,u.Le()),u.ke())}}));let s=Ht();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,h)=>h.setReadTime(t)));const o=new Af(t,n,this.He,this.ze,s);return this.ze=wr(),this.je=fh(),this.Je=fh(),this.He=new Te(xt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new wT,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ye(xt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ye(xt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new wT),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function fh(){return new Te(yt.comparator)}function CT(){return new Te(yt.comparator)}const q2={asc:"ASCENDING",desc:"DESCENDING"},Y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class $2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Rp(i,t){return i.useProto3Json||bu(t)?t:{value:t}}function Wh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EI(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Q2(i,t){return Wh(i,t.toTimestamp())}function Jn(i){return Kt(!!i,49232),It.fromTimestamp((function(n){const s=xs(n);return new pe(s.seconds,s.nanos)})(i))}function yg(i,t){return bp(i,t).canonicalString()}function bp(i,t){const n=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function vI(i){const t=le.fromString(i);return Kt(bI(t),10190,{key:t.toString()}),t}function Zh(i,t){return yg(i.databaseId,t.path)}function au(i,t){const n=vI(t);if(n.get(1)!==i.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new yt(AI(n))}function TI(i,t){return yg(i.databaseId,t)}function X2(i){const t=vI(i);return t.length===4?le.emptyPath():AI(t)}function wp(i){return new le(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function AI(i){return Kt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function NT(i,t,n){return{name:Zh(i,t),fields:n.value.mapValue.fields}}function J2(i,t){return"found"in t?(function(s,o){Kt(!!o.found,43571),o.found.name,o.found.updateTime;const u=au(s,o.found.name),h=Jn(o.found.updateTime),m=o.found.createTime?Jn(o.found.createTime):It.min(),p=new Nn({mapValue:{fields:o.found.fields}});return We.newFoundDocument(u,h,m,p)})(i,t):"missing"in t?(function(s,o){Kt(!!o.missing,3894),Kt(!!o.readTime,22933);const u=au(s,o.missing),h=Jn(o.readTime);return We.newNoDocument(u,h)})(i,t):Tt(7234,{result:t})}function W2(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Kt(v===void 0||typeof v=="string",58123),cn.fromBase64String(v||"")):(Kt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),cn.fromUint8Array(v||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const v=g.code===void 0?W.UNKNOWN:gI(g.code);return new ut(v,g.message||"")})(h);n=new yI(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=au(i,s.document.name),u=Jn(s.document.updateTime),h=s.document.createTime?Jn(s.document.createTime):It.min(),m=new Nn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Mh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=au(i,s.document),u=s.readTime?Jn(s.readTime):It.min(),h=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Mh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=au(i,s.document),u=s.removedTargetIds||[];n=new Mh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new H2(o,u),m=s.targetId;n=new _I(m,h)}}return n}function SI(i,t){let n;if(t instanceof Cu)n={update:NT(i,t.key,t.value)};else if(t instanceof Tf)n={delete:Zh(i,t.key)};else if(t instanceof js)n={update:NT(i,t.key,t.data),updateMask:oM(t.fieldMask)};else{if(!(t instanceof mI))return Tt(16599,{Rt:t.type});n={verify:Zh(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Xh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Tt(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Q2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)})(i,t.precondition)),n}function Z2(i,t){return i&&i.length>0?(Kt(t!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Jn(o.updateTime):Jn(u);return h.isEqual(It.min())&&(h=Jn(u)),new P2(h,o.transformResults||[])})(n,t)))):[]}function tM(i,t){return{documents:[TI(i,t.path)]}}function eM(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=TI(i,o);const u=(function(g){if(g.length!==0)return RI(Ri.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:yo(S.field),direction:rM(S.dir)}})(v)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Rp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{Vt:n,parent:o}}function nM(i){let t=X2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];n.where&&(u=(function(T){const S=II(T);return S instanceof Ri&&JS(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(V){return new Qh(Eo(V.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,bu(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,b=T.values||[];return new $h(b,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,b=T.values||[];return new $h(b,S)})(n.endAt)),S2(t,o,h,u,m,"F",p,g)}function iM(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function II(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return Be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return Be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(n.unaryFilter.field);return Be.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Be.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ri.create(n.compositeFilter.filters.map((s=>II(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(i):Tt(30097,{filter:i})}function rM(i){return q2[i]}function sM(i){return Y2[i]}function aM(i){return K2[i]}function yo(i){return{fieldPath:i.canonicalString()}}function Eo(i){return un.fromServerFormat(i.fieldPath)}function RI(i){return i instanceof Be?(function(n){if(n.op==="=="){if(gT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(pT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(pT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:sM(n.op),value:n.value}}})(i):i instanceof Ri?(function(n){const s=n.getFilters().map((o=>RI(o)));return s.length===1?s[0]:{compositeFilter:{op:aM(n.op),filters:s}}})(i):Tt(54877,{filter:i})}function oM(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function bI(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t,n,s,o,u=It.min(),h=It.min(),m=cn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new As(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.gt=t}}function uM(i){const t=nM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ip(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.Dn=new hM}addToCollectionParentIndex(t,n){return this.Dn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(Ms.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(Ms.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class hM{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ye(le.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ye(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wI=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(wI,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Lo(0)}static ur(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="LruGarbageCollector",fM=1048576;function MT([i,t],[n,s]){const o=xt(i,n);return o===0?xt(t,s):o}class dM{constructor(t){this.Tr=t,this.buffer=new Ye(MT),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();MT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ct(DT,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?ct(DT,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Rr(3e5)}))}}class pM{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(pf.ue);const s=new dM(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(OT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OT):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),go()<=jt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function gM(i,t){return new pM(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new ba((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&su(s.mutation,o,Xn.empty(),pe.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ht()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ht()){const o=ya();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=Xl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=ya();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ht())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=wr();const h=ru(),m=(function(){return ru()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof js)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),su(v.mutation,g,v.mutation.getFieldMask(),pe.now())):h.set(g.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>h.set(g,v))),n.forEach(((g,v)=>{var T;return m.set(g,new yM(v,(T=h.get(g))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=ru();let o=new Te(((h,m)=>h-m)),u=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Xn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Ht()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=aI();v.forEach((S=>{if(!u.has(S)){const b=fI(n.get(S),s.get(S));b!==null&&T.set(S,b),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return yt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):eI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(ya());let m=hu,p=u;return h.next((g=>nt.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ht()))).next((v=>({batchId:m,changes:sI(v)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,S){return new wu(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((v=>{v.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,We.newInvalidDocument(v)))}));let m=Xl();return h.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&su(v.mutation,g,Xn.empty(),pe.now()),yf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Jn(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:uM(o.bundledQuery),readTime:Jn(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.overlays=new Te(yt.comparator),this.kr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ya();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=ya(),u=n.length+1,h=new yt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Te(((g,v)=>g-v));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ya(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ya(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return nt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new j2(n,s));let u=this.kr.get(n);u===void 0&&(u=Ht(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.qr=new Ye(Je.Qr),this.$r=new Ye(Je.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Je(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Je(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new yt(new le([])),s=new Je(n,t),o=new Je(n,t+1),u=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new yt(new le([])),s=new Je(n,t),o=new Je(n,t+1);let u=Ht();return this.$r.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new Je(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Je{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return yt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ye(Je.Qr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new z2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(h)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?ug:this.er-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Je(n,0),o=new Je(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ye(xt);return n.forEach((o=>{const u=new Je(o,0),h=new Je(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),nt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const h=new Je(new yt(u),0);let m=new Ye(xt);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),nt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return nt.forEach(n.mutations,(o=>{const u=new Je(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new Je(n,0),o=this.Yr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.ni=t,this.docs=(function(){return new Te(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=wr();const h=n.path,m=new yt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||e2(t2(v),s)<=0||(o.has(v.key)||yf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}ri(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new RM(this)}getSize(t){return nt.resolve(this.size)}}class RM extends _M{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.persistence=t,this.ii=new ba((n=>fg(n)),dg),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.si=0,this.oi=new Eg,this.targetCount=0,this._i=Lo.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),nt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Lo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.hr(n),nt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t,n){this.ai={},this.overlays={},this.ui=new pf(0),this.ci=!1,this.ci=!0,this.li=new AM,this.referenceDelegate=t(this),this.hi=new bM(this),this.indexManager=new cM,this.remoteDocumentCache=(function(o){return new IM(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new lM(n),this.Ti=new vM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new TM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new SM(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new wM(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return nt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class wM extends i2{constructor(t){super(),this.currentSequenceNumber=t}}class vg{constructor(t){this.persistence=t,this.Ai=new Eg,this.Ri=null}static Vi(t){return new vg(t)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(s=>{const o=yt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,It.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return nt.or([()=>nt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class tf{constructor(t,n){this.persistence=t,this.gi=new ba((s=>a2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=gM(this,n)}static Vi(t,n){return new tf(t,n)}Ii(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return nt.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(h=>this.Sr(t,h,n).next((m=>{m||(s++,u.removeEntry(h,It.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Nh(t.data.value)),n}Sr(t,n,s){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Ht(),o=Ht();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return bC()?8:r2(yn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new CM;return this.ws(t,n,h).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,h,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(go()<=jt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(go()<=jt.DEBUG&&ct("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(go()<=jt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(n))):nt.resolve())}ps(t,n){if(vT(n))return nt.resolve(null);let s=ji(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ip(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=Ht(...u);return this.gs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(t,Ip(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ys(t,n,s,o){return vT(n)||o.isEqual(It.min())?nt.resolve(null):this.gs.getDocuments(t,s).next((u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?nt.resolve(null):(go()<=jt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(t,h,n,ZD(o,hu)).next((m=>m)))}))}bs(t,n){let s=new Ye(iI(t));return n.forEach(((o,u)=>{yf(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return go()<=jt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",_o(n)),this.gs.getDocumentsMatchingQuery(t,n,Ms.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",OM=3e8;class DM{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new Te(xt),this.Ms=new ba((u=>fg(u)),dg),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function MM(i,t,n,s){return new DM(i,t,n,s)}async function NI(i,t){const n=wt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ht();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function xM(i,t){const n=wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,S=T.keys();let b=nt.resolve();return S.forEach((V=>{b=b.next((()=>v.getEntry(p,V))).next((z=>{const D=g.docVersions.get(V);Kt(D!==null,48541),z.version.compareTo(D)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),b.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ht();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function OI(i){const t=wt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function LM(i,t){const n=wt(i),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((v,T)=>{const S=o.get(T);if(!S)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,v.addedDocuments,T))));let b=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?b=b.withResumeToken(cn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,s)),o=o.insert(T,b),(function(z,D,et){return z.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=OM?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(S,b,v)&&m.push(n.hi.updateTargetData(u,b))}));let p=wr(),g=Ht();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(VM(u,h,t.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(It.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return nt.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function VM(i,t,n){let s=Ht(),o=Ht();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=wr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ct(Ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function UM(i,t){const n=wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function PM(i,t){const n=wt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.hi.allocateTargetId(s).next((h=>(o=new As(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function Cp(i,t,n){const s=wt(i),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ho(h))throw h;ct(Ag,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function xT(i,t,n){const s=wt(i);let o=It.min(),u=Ht();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,v){const T=wt(p),S=T.Ms.get(v);return S!==void 0?nt.resolve(T.Fs.get(S)):T.hi.getTargetData(g,v)})(s,h,ji(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,t,n?o:It.min(),n?u:Ht()))).next((m=>(kM(s,R2(t),m),{documents:m,qs:u})))))}function kM(i,t,n){let s=i.xs.get(t)||It.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.xs.set(t,s)}class LT{constructor(){this.activeTargetIds=D2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BM{constructor(){this.Fo=new LT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new LT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="ConnectivityMonitor";class UT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(VT,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ct(VT,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Np(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",jM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const h=Np(),m=this.Go(t,n.toUriEncodedString());ct(Wm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=Po(g);return this.jo(t,m,p,s,v).then((T=>(ct(Wm,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw Ds(Wm,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,h){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=jM[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class GM extends HM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const h=Np();return new Promise(((m,p)=>{const g=new NS;g.setWithCredentials(!0),g.listenOnce(OS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const T=g.getResponseJson();ct(pn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case Ch.TIMEOUT:ct(pn,`RPC '${t}' ${h} timed out`),p(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const S=g.getStatus();if(ct(pn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const V=b==null?void 0:b.error;if(V&&V.status&&V.message){const z=(function(et){const rt=et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(rt)>=0?rt:W.UNKNOWN})(V.status);p(new ut(z,V.message))}else p(new ut(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(W.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:t,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ct(pn,`RPC '${t}' ${h} completed.`)}}));const v=JSON.stringify(o);ct(pn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)}))}P_(t,n,s){const o=Np(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=xS(),m=MS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ct(pn,`Creating RPC '${t}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.T_(T);let S=!1,b=!1;const V=new FM({Ho:D=>{b?ct(pn,`Not sending because RPC '${t}' stream ${o} is closed:`,D):(S||(ct(pn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),ct(pn,`RPC '${t}' stream ${o} sending:`,D),T.send(D))},Yo:()=>T.close()}),z=(D,et,rt)=>{D.listen(et,(Z=>{try{rt(Z)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return z(T,Ql.EventType.OPEN,(()=>{b||(ct(pn,`RPC '${t}' stream ${o} transport opened.`),V.s_())})),z(T,Ql.EventType.CLOSE,(()=>{b||(b=!0,ct(pn,`RPC '${t}' stream ${o} transport closed`),V.__(),this.I_(T))})),z(T,Ql.EventType.ERROR,(D=>{b||(b=!0,Ds(pn,`RPC '${t}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),V.__(new ut(W.UNAVAILABLE,"The operation could not be completed")))})),z(T,Ql.EventType.MESSAGE,(D=>{var et;if(!b){const rt=D.data[0];Kt(!!rt,16349);const Z=rt,dt=(Z==null?void 0:Z.error)||((et=Z[0])===null||et===void 0?void 0:et.error);if(dt){ct(pn,`RPC '${t}' stream ${o} received error:`,dt);const Rt=dt.status;let Et=(function(w){const x=ke[w];if(x!==void 0)return gI(x)})(Rt),O=dt.message;Et===void 0&&(Et=W.INTERNAL,O="Unknown error status: "+Rt+" with message "+dt.message),b=!0,V.__(new ut(Et,O)),T.close()}else ct(pn,`RPC '${t}' stream ${o} received:`,rt),V.a_(rt)}})),z(m,DS.STAT_EVENT,(D=>{D.stat===_p.PROXY?ct(pn,`RPC '${t}' stream ${o} detected buffering proxy`):D.stat===_p.NOPROXY&&ct(pn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.o_()}),0),V}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return new $2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="PersistentStream";class DI{constructor(t,n,s,o,u,h,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Sg(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new ut(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ct(PT,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(ct(PT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qM extends DI{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=W2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return It.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?It.min():h.readTime?Jn(h.readTime):It.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=wp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Ap(p)?{documents:tM(u,p)}:{query:eM(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=EI(u,h.resumeToken);const g=Rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(It.min())>0){m.readTime=Wh(u,h.snapshotVersion.toTimestamp());const g=Rp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=iM(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=wp(this.serializer),n.removeTarget=t,this.k_(n)}}class YM extends DI{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=Z2(t.writeResults,t.commitTime),s=Jn(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=wp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>SI(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{}class $M extends KM{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,bp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(W.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Jo(t,bp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(W.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class QM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(br(n),this._a=!1):ct("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class XM{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{wa(this)&&(ct(Ia,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ia.add(4),await Ou(g),g.Aa.set("Unknown"),g.Ia.delete(4),await If(g)})(this))}))})),this.Aa=new QM(s,o)}}async function If(i){if(wa(i))for(const t of i.da)await t(!0)}async function Ou(i){for(const t of i.da)await t(!1)}function MI(i,t){const n=wt(i);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),wg(n)?bg(n):Fo(n).x_()&&Rg(n,t))}function Ig(i,t){const n=wt(i),s=Fo(n);n.Ta.delete(t),s.x_()&&xI(n,t),n.Ta.size===0&&(s.x_()?s.B_():wa(n)&&n.Aa.set("Unknown"))}function Rg(i,t){if(i.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fo(i).H_(t)}function xI(i,t){i.Ra.$e(t),Fo(i).Y_(t)}function bg(i){i.Ra=new G2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>i.Ta.get(t)||null,lt:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Aa.aa()}function wg(i){return wa(i)&&!Fo(i).M_()&&i.Ta.size>0}function wa(i){return wt(i).Ia.size===0}function LI(i){i.Ra=void 0}async function JM(i){i.Aa.set("Online")}async function WM(i){i.Ta.forEach(((t,n)=>{Rg(i,t)}))}async function ZM(i,t){LI(i),wg(i)?(i.Aa.la(t),bg(i)):i.Aa.set("Unknown")}async function tx(i,t,n){if(i.Aa.set("Online"),t instanceof yI&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))})(i,t)}catch(s){ct(Ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ef(i,s)}else if(t instanceof Mh?i.Ra.Ye(t):t instanceof _I?i.Ra.it(t):i.Ra.et(t),!n.isEqual(It.min()))try{const s=await OI(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(cn.EMPTY_BYTE_STRING,v.snapshotVersion)),xI(u,p);const T=new As(v.target,p,g,v.sequenceNumber);Rg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ct(Ia,"Failed to raise snapshot:",s),await ef(i,s)}}async function ef(i,t,n){if(!Ho(t))throw t;i.Ia.add(1),await Ou(i),i.Aa.set("Offline"),n||(n=()=>OI(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ct(Ia,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await If(i)}))}function VI(i,t){return t().catch((n=>ef(i,n,t)))}async function Rf(i){const t=wt(i),n=Us(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:ug;for(;ex(t);)try{const o=await UM(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,nx(t,o)}catch(o){await ef(t,o)}UI(t)&&PI(t)}function ex(i){return wa(i)&&i.Pa.length<10}function nx(i,t){i.Pa.push(t);const n=Us(i);n.x_()&&n.Z_&&n.X_(t.mutations)}function UI(i){return wa(i)&&!Us(i).M_()&&i.Pa.length>0}function PI(i){Us(i).start()}async function ix(i){Us(i).na()}async function rx(i){const t=Us(i);for(const n of i.Pa)t.X_(n.mutations)}async function sx(i,t,n){const s=i.Pa.shift(),o=gg.from(s,t,n);await VI(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Rf(i)}async function ax(i,t){t&&Us(i).Z_&&await(async function(s,o){if((function(h){return pI(h)&&h!==W.ABORTED})(o.code)){const u=s.Pa.shift();Us(s).N_(),await VI(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rf(s)}})(i,t),UI(i)&&PI(i)}async function kT(i,t){const n=wt(i);n.asyncQueue.verifyOperationInProgress(),ct(Ia,"RemoteStore received new credentials");const s=wa(n);n.Ia.add(3),await Ou(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await If(n)}async function ox(i,t){const n=wt(i);t?(n.Ia.delete(2),await If(n)):t||(n.Ia.add(2),await Ou(n),n.Aa.set("Unknown"))}function Fo(i){return i.Va||(i.Va=(function(n,s,o){const u=wt(n);return u.ia(),new qM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:JM.bind(null,i),e_:WM.bind(null,i),n_:ZM.bind(null,i),J_:tx.bind(null,i)}),i.da.push((async t=>{t?(i.Va.N_(),wg(i)?bg(i):i.Aa.set("Unknown")):(await i.Va.stop(),LI(i))}))),i.Va}function Us(i){return i.ma||(i.ma=(function(n,s,o){const u=wt(n);return u.ia(),new YM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:ix.bind(null,i),n_:ax.bind(null,i),ea:rx.bind(null,i),ta:sx.bind(null,i)}),i.da.push((async t=>{t?(i.ma.N_(),await Rf(i)):(await i.ma.stop(),i.Pa.length>0&&(ct(Ia,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new Cg(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(i,t){if(br("AsyncQueue",`${t}: ${i}`),Ho(i))return new ut(W.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(t){return new bo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new bo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.fa=new Te(yt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Tt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Vo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Vo(t,n,bo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class ux{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=zT(),u.forEach(((h,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function zT(){return new ba((i=>nI(i)),_f)}async function kI(i,t){const n=wt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new lx,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Ng(h,`Initialization of query '${_o(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&Og(n)}async function BI(i,t){const n=wt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(t);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cx(i,t){const n=wt(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Og(n)}function hx(i,t,n){const s=wt(i),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function Og(i){i.Da.forEach((t=>{t.next()}))}var Op,jT;(jT=Op||(Op={})).Fa="default",jT.Cache="cache";class zI{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Vo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.key=t}}class HI{constructor(t){this.key=t}}class fx{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ht(),this.mutatedKeys=Ht(),this.Xa=iI(t),this.eu=new bo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new BT,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const S=o.get(v),b=yf(this.query,T)?T:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let D=!1;S&&b?S.data.isEqual(b.data)?V!==z&&(s.track({type:3,doc:b}),D=!0):this.iu(S,b)||(s.track({type:2,doc:b}),D=!0,(p&&this.Xa(b,p)>0||g&&this.Xa(b,g)<0)&&(m=!0)):!S&&b?(s.track({type:0,doc:b}),D=!0):S&&!b&&(s.track({type:1,doc:S}),D=!0,(p||g)&&(m=!0)),D&&(b?(h=h.add(b),u=z?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const h=t.ru.pa();h.sort(((v,T)=>(function(b,V){const z=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:D})}};return z(b)-z(V)})(v.type,T.type)||this.Xa(v.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Vo(this.query,t.eu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new BT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Ht(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new HI(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new jI(s))})),n}uu(t){this.Ha=t.qs,this.Za=Ht();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Vo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Dg="SyncEngine";class dx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class mx{constructor(t){this.key=t,this.lu=!1}}class px{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new ba((m=>nI(m)),_f),this.Tu=new Map,this.Iu=new Set,this.du=new Te(yt.comparator),this.Eu=new Map,this.Au=new Eg,this.Ru={},this.Vu=new Map,this.mu=Lo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function gx(i,t,n=!0){const s=$I(i);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await FI(s,t,n,!0),o}async function _x(i,t){const n=$I(i);await FI(n,t,!0,!1)}async function FI(i,t,n,s){const o=await PM(i.localStore,ji(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await yx(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&MI(i.remoteStore,o),m}async function yx(i,t,n,s,o){i.gu=(T,S,b)=>(async function(z,D,et,rt){let Z=D.view.nu(et);Z.Ds&&(Z=await xT(z.localStore,D.query,!1).then((({documents:O})=>D.view.nu(O,Z))));const dt=rt&&rt.targetChanges.get(D.targetId),Rt=rt&&rt.targetMismatches.get(D.targetId)!=null,Et=D.view.applyChanges(Z,z.isPrimaryClient,dt,Rt);return FT(z,D.targetId,Et._u),Et.snapshot})(i,T,S,b);const u=await xT(i.localStore,t,!0),h=new fx(t,u.qs),m=h.nu(u.documents),p=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);FT(i,n,g._u);const v=new dx(t,n,h);return i.Pu.set(t,v),i.Tu.has(n)?i.Tu.get(n).push(t):i.Tu.set(n,[t]),g.snapshot}async function Ex(i,t,n){const s=wt(i),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((h=>!_f(h,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ig(s.remoteStore,o.targetId),Dp(s,o.targetId)})).catch(jo)):(Dp(s,o.targetId),await Cp(s.localStore,o.targetId,!0))}async function vx(i,t){const n=wt(i),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ig(n.remoteStore,s.targetId))}async function Tx(i,t,n){const s=Cx(i);try{const o=await(function(h,m){const p=wt(h),g=pe.now(),v=m.reduce(((b,V)=>b.add(V.key)),Ht());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let V=wr(),z=Ht();return p.Os.getEntries(b,v).next((D=>{V=D,V.forEach(((et,rt)=>{rt.isValidDocument()||(z=z.add(et))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,V))).next((D=>{T=D;const et=[];for(const rt of m){const Z=B2(rt,T.get(rt.key).overlayedDocument);Z!=null&&et.push(new js(rt.key,Z,$S(Z.value.mapValue),_n.exists(!0)))}return p.mutationQueue.addMutationBatch(b,g,et,m)})).next((D=>{S=D;const et=D.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(b,D.batchId,et)}))})).then((()=>({batchId:S.batchId,changes:sI(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new Te(xt)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g})(s,o.batchId,n),await Du(s,o.changes),await Rf(s.remoteStore)}catch(o){const u=Ng(o,"Failed to persist write");n.reject(u)}}async function GI(i,t){const n=wt(i);try{const s=await LM(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Eu.get(u);h&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Kt(h.lu,14607):o.removedDocuments.size>0&&(Kt(h.lu,42227),h.lu=!1))})),await Du(n,s,t)}catch(s){await jo(s)}}function HT(i,t,n){const s=wt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=wt(h);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.wa)S.va(m)&&(g=!0)})),g&&Og(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Ax(i,t,n){const s=wt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let h=new Te(yt.comparator);h=h.insert(u,We.newNoDocument(u,It.min()));const m=Ht().add(u),p=new Af(It.min(),new Map,new Te(xt),h,m);await GI(s,p),s.du=s.du.remove(u),s.Eu.delete(t),Mg(s)}else await Cp(s.localStore,t,!1).then((()=>Dp(s,t,n))).catch(jo)}async function Sx(i,t){const n=wt(i),s=t.batch.batchId;try{const o=await xM(n.localStore,t);YI(n,s,null),qI(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Du(n,o)}catch(o){await jo(o)}}async function Ix(i,t,n){const s=wt(i);try{const o=await(function(h,m){const p=wt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Kt(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,t);YI(s,t,n),qI(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Du(s,o)}catch(o){await jo(o)}}function qI(i,t){(i.Vu.get(t)||[]).forEach((n=>{n.resolve()})),i.Vu.delete(t)}function YI(i,t,n){const s=wt(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function Dp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Tu.get(t))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(t),i.isPrimaryClient&&i.Au.zr(t).forEach((s=>{i.Au.containsKey(s)||KI(i,s)}))}function KI(i,t){i.Iu.delete(t.path.canonicalString());const n=i.du.get(t);n!==null&&(Ig(i.remoteStore,n),i.du=i.du.remove(t),i.Eu.delete(n),Mg(i))}function FT(i,t,n){for(const s of n)s instanceof jI?(i.Au.addReference(s.key,t),Rx(i,s)):s instanceof HI?(ct(Dg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,t),i.Au.containsKey(s.key)||KI(i,s.key)):Tt(19791,{yu:s})}function Rx(i,t){const n=t.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ct(Dg,"New document in limbo: "+n),i.Iu.add(s),Mg(i))}function Mg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Iu.values().next().value;i.Iu.delete(t);const n=new yt(le.fromString(t)),s=i.mu.next();i.Eu.set(s,new mx(n)),i.du=i.du.insert(n,s),MI(i.remoteStore,new As(ji(mg(n.path)),s,"TargetPurposeLimboResolution",pf.ue))}}async function Du(i,t,n){const s=wt(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{h.push(s.gu(p,t,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Tg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(S=>nt.forEach(S.Is,(b=>v.persistence.referenceDelegate.addReference(T,S.targetId,b))).next((()=>nt.forEach(S.ds,(b=>v.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))))))}catch(T){if(!Ho(T))throw T;ct(Ag,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const b=v.Fs.get(S),V=b.snapshotVersion,z=b.withLastLimboFreeSnapshotVersion(V);v.Fs=v.Fs.insert(S,z)}}})(s.localStore,u))}async function bx(i,t){const n=wt(i);if(!n.currentUser.isEqual(t)){ct(Dg,"User change. New user:",t.toKey());const s=await NI(n.localStore,t);n.currentUser=t,(function(u,h){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ut(W.CANCELLED,h))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Du(n,s.Bs)}}function wx(i,t){const n=wt(i),s=n.Eu.get(t);if(s&&s.lu)return Ht().add(s.key);{let o=Ht();const u=n.Tu.get(t);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function $I(i){const t=wt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=GI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ax.bind(null,t),t.hu.J_=cx.bind(null,t.eventManager),t.hu.pu=hx.bind(null,t.eventManager),t}function Cx(i){const t=wt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ix.bind(null,t),t}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return MM(this.persistence,new NM,t.initialUser,this.serializer)}Du(t){return new CI(vg.Vi,this.serializer)}bu(t){return new BM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class Nx extends nf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Kt(this.persistence.referenceDelegate instanceof tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mM(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new CI((s=>tf.Vi(s,n)),this.serializer)}}class Mp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bx.bind(null,this.syncEngine),await ox(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ux})()}createDatastore(t){const n=Sf(t.databaseInfo.databaseId),s=(function(u){return new GM(u)})(t.databaseInfo);return(function(u,h,m,p){return new $M(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new XM(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>HT(this.syncEngine,n,0)),(function(){return UT.C()?new UT:new zM})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,v){const T=new px(o,u,h,m,p,g);return v&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=wt(o);ct(Ia,"RemoteStore shutting down."),u.Ia.add(5),await Ou(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):br("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=wt(o),m={documents:u.map((T=>Zh(h.serializer,T)))},p=await h.Jo("BatchGetDocuments",h.serializer.databaseId,le.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const S=J2(h.serializer,T);g.set(S.key.toString(),S)}));const v=[];return u.forEach((T=>{const S=g.get(T.toString());Kt(!!S,55234,{key:T}),v.push(S)})),v})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Tf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=yt.fromPath(s);this.mutations.push(new mI(o,this.precondition(o)))})),await(async function(s,o){const u=wt(s),h={writes:o.map((m=>SI(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,le.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Tt(50498,{Wu:t.constructor.name});n=It.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ut(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(It.min())?_n.exists(!1):_n.updateTime(n):_n.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(It.min()))throw new ut(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(n)}return _n.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new Sg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new Ox(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!bu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!pI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class Mx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ct(Ps,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ct(Ps,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ng(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function tp(i,t){i.asyncQueue.verifyOperationInProgress(),ct(Ps,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await NI(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{Ds("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Ds("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),i._offlineComponents=t}async function GT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await xx(i);ct(Ps,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>kT(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>kT(t.remoteStore,o))),i._onlineComponents=t}async function xx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ct(Ps,"Using user provided OfflineComponentProvider");try{await tp(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await tp(i,new nf)}}else ct(Ps,"Using default OfflineComponentProvider"),await tp(i,new Nx(void 0));return i._offlineComponents}async function xg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ct(Ps,"Using user provided OnlineComponentProvider"),await GT(i,i._uninitializedComponentsProvider._online)):(ct(Ps,"Using default OnlineComponentProvider"),await GT(i,new Mp))),i._onlineComponents}function Lx(i){return xg(i).then((t=>t.syncEngine))}function Vx(i){return xg(i).then((t=>t.datastore))}async function xp(i){const t=await xg(i),n=t.eventManager;return n.onListen=gx.bind(null,t.syncEngine),n.onUnlisten=Ex.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_x.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=vx.bind(null,t.syncEngine),n}function Ux(i,t,n={}){const s=new Ar;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const v=new QI({next:S=>{v.Ou(),h.enqueueAndForget((()=>BI(u,T))),S.fromCache&&p.source==="server"?g.reject(new ut(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new zI(m,v,{includeMetadataChanges:!0,ka:!0});return kI(u,T)})(await xp(i),i.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firestore.googleapis.com",YT=!0;class KT{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JI,this.ssl=YT}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:YT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fM)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XI((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FD;switch(s.type){case"firstParty":return new KD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=qT.get(n);s&&(ct("ComponentProvider","Removing Datastore"),qT.delete(n),s.terminate())})(this),Promise.resolve()}}function Px(i,t,n,s={}){var o;i=di(i,bf);const u=Po(t),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(jA(`https://${p}`),HA("Firestore",!0)),h.host!==JI&&h.host!==p&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Os(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=gn.MOCK_USER;else{v=_C(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new gn(S)}i._authCredentials=new GD(new VS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ca(this.firestore,t,this._query)}}class we{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Ru(n,we._jsonSchema))return new we(t,s||null,new yt(le.fromString(n.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:ze("string",we._jsonSchemaVersion),referencePath:ze("string")};class Cs extends Ca{constructor(t,n,s){super(t,n,mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new yt(t))}withConverter(t){return new Cs(this.firestore,t,this._path)}}function mh(i,t,...n){if(i=je(i),PS("collection","path",t),i instanceof bf){const s=le.fromString(t,...n);return aT(s),new Cs(i,null,s)}{if(!(i instanceof we||i instanceof Cs))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(le.fromString(t,...n));return aT(s),new Cs(i.firestore,null,s)}}function wn(i,t,...n){if(i=je(i),arguments.length===1&&(t=lg.newId()),PS("doc","path",t),i instanceof bf){const s=le.fromString(t,...n);return sT(s),new we(i,null,new yt(s))}{if(!(i instanceof we||i instanceof Cs))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(le.fromString(t,...n));return sT(s),new we(i.firestore,i instanceof Cs?i.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="AsyncQueue";class QT{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Sg(this,"async_queue_retry"),this.oc=()=>{const s=Zm();s&&ct($T,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Ar;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Ho(t))throw t;ct($T,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,br("INTERNAL UNHANDLED ERROR: ",XT(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Cg.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&Tt(47125,{hc:XT(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function XT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ks extends bf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new QT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new QT(t),this._firestoreClient=void 0,await t}}}function kx(i,t){const n=typeof i=="object"?i:YA(),s=typeof i=="string"?i:Yh,o=Qp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pC("firestore");u&&Px(o,...u)}return o}function wf(i){if(i._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Bx(i),i._firestoreClient}function Bx(i){var t,n,s;const o=i._freezeSettings(),u=(function(m,p,g,v){return new u2(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,XI(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Mx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(cn.fromBase64String(t))}catch(n){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qn(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ru(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:ze("string",Qn._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Ru(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:ze("string",Hi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ru(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fi(t.vectorValues);throw new ut(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:ze("string",Fi._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=/^__.*__$/;class jx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(t,this.data,n,this.fieldTransforms)}}class WI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new js(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZI(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:i})}}class Nf{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Nf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return rf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(ZI(this.Ec)&&zx.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Hx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Sf(t)}Dc(t,n,s,o=!1){return new Nf({Ec:t,methodName:n,bc:s,path:un.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(i){const t=i._freezeSettings(),n=Sf(i._databaseId);return new Hx(i._databaseId,!!t.ignoreUndefinedProperties,n)}function tR(i,t,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,t,n,o);Vg("Data must be an object, but it was:",h,s);const m=iR(s,h);let p,g;if(u.merge)p=new Xn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const S=Lp(t,T,n);if(!h.contains(S))throw new ut(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);sR(v,S)||v.push(S)}p=new Xn(v),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new jx(new Nn(m),p,g)}class xu extends Cf{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xu}}function Fx(i,t,n){return new Nf({Ec:3,bc:t.settings.bc,methodName:i._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Lg extends Cf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Fx(this,t,!0),s=this.vc.map((u=>Go(u,n))),o=new xo(s);return new V2(t.path,o)}isEqual(t){return t instanceof Lg&&Os(this.vc,t.vc)}}function eR(i,t,n,s){const o=i.Dc(1,t,n);Vg("Data must be an object, but it was:",o,s);const u=[],h=Nn.empty();zs(s,((p,g)=>{const v=Ug(t,p,n);g=je(g);const T=o.gc(v);if(g instanceof xu)u.push(v);else{const S=Go(g,T);S!=null&&(u.push(v),h.set(v,S))}}));const m=new Xn(u);return new WI(h,m,o.fieldTransforms)}function nR(i,t,n,s,o,u){const h=i.Dc(1,t,n),m=[Lp(t,s,n)],p=[o];if(u.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Lp(t,u[S])),p.push(u[S+1]);const g=[],v=Nn.empty();for(let S=m.length-1;S>=0;--S)if(!sR(g,m[S])){const b=m[S];let V=p[S];V=je(V);const z=h.gc(b);if(V instanceof xu)g.push(b);else{const D=Go(V,z);D!=null&&(g.push(b),v.set(b,D))}}const T=new Xn(g);return new WI(v,T,h.fieldTransforms)}function Gx(i,t,n,s=!1){return Go(n,i.Dc(s?4:3,t))}function Go(i,t){if(rR(i=je(i)))return Vg("Unsupported field value:",t,i),iR(i,t);if(i instanceof Cf)return(function(s,o){if(!ZI(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Go(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pe.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof pe){const u=new pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof Hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qn)return{bytesValue:EI(o.serializer,s._byteString)};if(s instanceof we){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fi)return(function(h,m){return{mapValue:{fields:{[YS]:{stringValue:KS},[Kh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return pg(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${mf(s)}`)})(i,t)}function iR(i,t){const n={};return zS(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(i,((s,o)=>{const u=Go(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function rR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pe||i instanceof Hi||i instanceof Qn||i instanceof we||i instanceof Cf||i instanceof Fi)}function Vg(i,t,n){if(!rR(n)||!kS(n)){const s=mf(n);throw s==="an object"?t.wc(i+" a custom object"):t.wc(i+" "+s)}}function Lp(i,t,n){if((t=je(t))instanceof Mu)return t._internalPath;if(typeof t=="string")return Ug(i,t);throw rf("Field path arguments must be of type string or ",i,!1,void 0,n)}const qx=new RegExp("[~\\*/\\[\\]]");function Ug(i,t,n){if(t.search(qx)>=0)throw rf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Mu(...t.split("."))._internalPath}catch{throw rf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function rf(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ut(W.INVALID_ARGUMENT,m+i+p)}function sR(i,t){return i.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Pg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yx extends sf{data(){return super.data()}}function Pg(i,t){return typeof t=="string"?Ug(i,t):t instanceof Mu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class Kx extends kg{}function $x(i,t,...n){let s=[];t instanceof kg&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Bg)).length,m=u.filter((p=>p instanceof Df)).length;if(h>1||h>0&&m>0)throw new ut(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Df extends Kx{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Df(t,n,s)}_apply(t){const n=this._parse(t);return oR(t._query,n),new Ca(t.firestore,t.converter,Sp(t._query,n))}_parse(t){const n=Of(t.firestore);return(function(u,h,m,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ut(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ZT(T,v);const V=[];for(const z of T)V.push(WT(p,u,z));S={arrayValue:{values:V}}}else S=WT(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ZT(T,v),S=Gx(m,h,T,v==="in"||v==="not-in");return Be.create(g,v,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Qx(i,t,n){const s=t,o=Pg("where",i);return Df._create(o,s,n)}class Bg extends kg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)oR(h,p),h=Sp(h,p)})(t._query,n),new Ca(t.firestore,t.converter,Sp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function WT(i,t,n){if(typeof(n=je(n))=="string"){if(n==="")throw new ut(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eI(t)&&n.indexOf("/")!==-1)throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(le.fromString(n));if(!yt.isDocumentKey(s))throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mT(i,new yt(s))}if(n instanceof we)return mT(i,n._key);throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function ZT(i,t){if(!Array.isArray(i)||i.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oR(i,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class lR{convertValue(t,n="none"){switch(Vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return zs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Kh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>Me(h.doubleValue)));return new Fi(u)}convertGeoPoint(t){return new Hi(Me(t.latitude),Me(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=gf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fu(t));default:return null}}convertTimestamp(t){const n=xs(t);return new pe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=le.fromString(t);Kt(bI(s),9688,{name:t});const o=new du(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class Xx extends lR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}class To{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends sf{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Pg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:ze("string",Ns._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class xh extends Ns{data(t={}){return super.data(t)}}class Ea{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new To(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new To(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new To(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:Jx(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ea._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Jx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:ze("string",Ea._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class Mf extends lR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,n)}}function Wx(i){i=di(i,Ca);const t=di(i.firestore,ks),n=wf(t),s=new Mf(t);return aR(i._query),Ux(n,i._query).then((o=>new Ea(t,s,i,o)))}function po(i,t,n){i=di(i,we);const s=di(i.firestore,ks),o=uR(i.converter,t,n);return zg(s,[tR(Of(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,_n.none())])}function ph(i,t,n,...s){i=di(i,we);const o=di(i.firestore,ks),u=Of(o);let h;return h=typeof(t=je(t))=="string"||t instanceof Mu?nR(u,"updateDoc",i._key,t,n,s):eR(u,"updateDoc",i._key,t),zg(o,[h.toMutation(i._key,_n.exists(!0))])}function gh(i){return zg(di(i.firestore,ks),[new Tf(i._key,_n.none())])}function ep(i,...t){var n,s,o;i=je(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||JT(t[h])||(u=t[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(JT(t[h])){const T=t[h];t[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,v;if(i instanceof we)g=di(i.firestore,ks),v=mg(i._key.path),p={next:T=>{t[h]&&t[h](Zx(g,i,T))},error:t[h+1],complete:t[h+2]};else{const T=di(i,Ca);g=di(T.firestore,ks),v=T._query;const S=new Mf(g);p={next:b=>{t[h]&&t[h](new Ea(g,S,T,b))},error:t[h+1],complete:t[h+2]},aR(i._query)}return(function(S,b,V,z){const D=new QI(z),et=new zI(b,D,V);return S.asyncQueue.enqueueAndForget((async()=>kI(await xp(S),et))),()=>{D.Ou(),S.asyncQueue.enqueueAndForget((async()=>BI(await xp(S),et)))}})(wf(g),v,m,p)}function zg(i,t){return(function(s,o){const u=new Ar;return s.asyncQueue.enqueueAndForget((async()=>Tx(await Lx(s),o,u))),u.promise})(wf(i),t)}function Zx(i,t,n){const s=n.docs.get(t._key),o=new Mf(i);return new Ns(i,o,t._key,s,new To(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={maxAttempts:5};function Wl(i,t){if((i=je(i)).firestore!==t)throw new ut(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Of(t)}get(t){const n=Wl(t,this._firestore),s=new Xx(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Tt(24041);const u=o[0];if(u.isFoundDocument())return new sf(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new sf(this._firestore,s,n._key,null,n.converter);throw Tt(18433,{doc:u})}))}set(t,n,s){const o=Wl(t,this._firestore),u=uR(o.converter,n,s),h=tR(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(t,n,s,...o){const u=Wl(t,this._firestore);let h;return h=typeof(n=je(n))=="string"||n instanceof Mu?nR(this._dataReader,"Transaction.update",u._key,n,s,o):eR(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(t){const n=Wl(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL extends eL{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Wl(t,this._firestore),s=new Mf(this._firestore);return super.get(t).then((o=>new Ns(this._firestore,s,n._key,o._document,new To(!1,!1),n.converter)))}}function iL(i,t,n){i=di(i,ks);const s=Object.assign(Object.assign({},tL),n);return(function(u){if(u.maxAttempts<1)throw new ut(W.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const p=new Ar;return u.asyncQueue.enqueueAndForget((async()=>{const g=await Vx(u);new Dx(u.asyncQueue,g,m,h,p).zu()})),p.promise})(wf(i),(o=>t(new nL(i,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return new xu("deleteField")}function sL(...i){return new Lg("arrayUnion",i)}(function(t,n=!0){(function(o){zo=o})(ko),Co(new Ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ks(new qD(s.getProvider("auth-internal")),new $D(h,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,v)})(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Rs(tT,eT,t),Rs(tT,eT,"esm2017")})();var aL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var t0;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(t0||(t0={}));var e0;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(e0||(e0={}));var n0;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(n0||(n0={}));var i0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(i0||(i0={}));var r0;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(r0||(r0={}));var s0;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(s0||(s0={}));var a0;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(a0||(a0={}));var o0;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(o0||(o0={}));var l0;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(l0||(l0={}));var u0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(u0||(u0={}));var c0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(c0||(c0={}));var h0;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(h0||(h0={}));var f0;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(f0||(f0={}));var d0;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(d0||(d0={}));var m0;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(m0||(m0={}));var p0;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(p0||(p0={}));var g0;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(g0||(g0={}));var _0;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_0||(_0={}));var y0;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(y0||(y0={}));var E0;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(E0||(E0={}));var v0;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(v0||(v0={}));var T0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(T0||(T0={}));var A0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(A0||(A0={}));var S0;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(S0||(S0={}));var I0;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(I0||(I0={}));var R0;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(R0||(R0={}));var b0;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(b0||(b0={}));var w0;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(w0||(w0={}));var C0;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(C0||(C0={}));var N0;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(N0||(N0={}));var O0;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(O0||(O0={}));var D0;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(D0||(D0={}));var M0;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(M0||(M0={}));var x0;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(x0||(x0={}));var L0;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(L0||(L0={}));var V0;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(V0||(V0={}));var U0;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(U0||(U0={}));var P0;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(P0||(P0={}));var k0;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(k0||(k0={}));var B0;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(B0||(B0={}));var z0;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(z0||(z0={}));var j0;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(j0||(j0={}));var H0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(H0||(H0={}));var F0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(F0||(F0={}));var G0;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(G0||(G0={}));var q0;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(q0||(q0={}));var Y0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Y0||(Y0={}));var K0;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(K0||(K0={}));var $0;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})($0||($0={}));var Q0;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Q0||(Q0={}));var X0;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(X0||(X0={}));var J0;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(J0||(J0={}));var W0;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(W0||(W0={}));var Z0;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Z0||(Z0={}));var tA;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(tA||(tA={}));var eA;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(eA||(eA={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nA;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(nA||(nA={}));function af(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function iA(i){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&i[t],s=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(i){return this instanceof Ee?(this.v=i,this):new Ee(i)}function ou(i,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,t||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(b){return function(V){return Promise.resolve(V).then(b,T)}}function m(b,V){s[b]&&(o[b]=function(z){return new Promise(function(D,et){u.push([b,z,D,et])>1||p(b,z)})},V&&(o[b]=V(o[b])))}function p(b,V){try{g(s[b](V))}catch(z){S(u[0][3],z)}}function g(b){b.value instanceof Ee?Promise.resolve(b.value.v).then(v,T):S(u[0][2],b)}function v(b){p("next",b)}function T(b){p("throw",b)}function S(b,V){b(V),u.shift(),u.length&&p(u[0][0],u[0][1])}}function wo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],n;return t?t.call(i):(i=typeof iA=="function"?iA(i):i[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(u){n[u]=i[u]&&function(h){return new Promise(function(m,p){h=i[u](h),o(m,p,h.done,h.value)})}}function o(u,h,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cR=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return cR=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),n=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^n()&15>>+s/4).toString(16))};const oL=()=>cR();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vp(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Up=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mi extends Error{}class On extends mi{constructor(t,n,s,o){super(`${On.makeMessage(t,n,s)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,s){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,s,o){if(!t||!o)return new xf({message:s,cause:Up(n)});const u=n;return t===400?new fR(t,u,s,o):t===401?new dR(t,u,s,o):t===403?new mR(t,u,s,o):t===404?new pR(t,u,s,o):t===409?new gR(t,u,s,o):t===422?new _R(t,u,s,o):t===429?new yR(t,u,s,o):t>=500?new ER(t,u,s,o):new On(t,u,s,o)}}class Pp extends On{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class xf extends On{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class hR extends xf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class fR extends On{}class dR extends On{}class mR extends On{}class pR extends On{}class gR extends On{}class _R extends On{}class yR extends On{}class ER extends On{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL=/^[a-z][a-z0-9+.-]*:/i,uL=i=>lL.test(i);let kp=i=>(kp=Array.isArray,kp(i));const cL=kp;let hL=cL;const rA=hL;function fL(i){if(!i)return!0;for(const t in i)return!1;return!0}function dL(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const mL=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new mi(`${i} must be an integer`);if(t<0)throw new mi(`${i} must be a positive integer`);return t},pL=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _L(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yL=()=>{var i,t,n,s,o;const u=_L();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":aA(Deno.build.os),"X-Stainless-Arch":sA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":aA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":sA((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const h=EL();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EL(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of i){const s=n.exec(navigator.userAgent);if(s){const o=s[1]||0,u=s[2]||0,h=s[3]||0;return{browser:t,version:`${o}.${u}.${h}`}}}return null}const sA=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",aA=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let _h;const vL=()=>_h??(_h=yL());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vR(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function AL(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return vR({start(){},async pull(n){const{done:s,value:o}=await t.next();s?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function TR(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SL(i){var t,n;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((n=(t=i[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const s=i.getReader(),o=s.cancel();s.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IL=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AR=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function np(i,t,n){return AR(),new File(i,t??"unknown_file",n)}function RL(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const bL=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SR=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",wL=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&SR(i),CL=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function NL(i,t,n){if(AR(),i=await i,wL(i))return i instanceof File?i:np([await i.arrayBuffer()],i.name);if(CL(i)){const o=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),np(await Bp(o),t,n)}const s=await Bp(i);if(t||(t=RL(i)),!(n!=null&&n.type)){const o=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return np(s,t,n)}async function Bp(i){var t,n,s,o,u;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(SR(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(bL(i))try{for(var m=!0,p=wo(i),g;g=await p.next(),t=g.done,!t;m=!0){o=g.value,m=!1;const v=o;h.push(...await Bp(v))}}catch(v){n={error:v}}finally{try{!m&&!t&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${OL(i)}`)}return h}function OL(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IR{constructor(t){this._client=t}}IR._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RR(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const oA=Object.freeze(Object.create(null)),DL=(i=RR)=>(function(n,...s){if(n.length===1)return n[0];let o=!1;const u=[],h=n.reduce((v,T,S)=>{var b,V,z;/[?#]/.test(T)&&(o=!0);const D=s[S];let et=(o?encodeURIComponent:i)(""+D);return S!==s.length&&(D==null||typeof D=="object"&&D.toString===((z=Object.getPrototypeOf((V=Object.getPrototypeOf((b=D.hasOwnProperty)!==null&&b!==void 0?b:oA))!==null&&V!==void 0?V:oA))===null||z===void 0?void 0:z.toString))&&(et=D+"",u.push({start:v.length+T.length,length:et.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+T+(S===s.length?"":et)},""),m=h.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=p.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((S,b)=>{const V=" ".repeat(b.start-v),z="^".repeat(b.length);return v=b.start+b.length,S+V+z},"");throw new mi(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${h}
${T}`)}return h}),yh=DL(RR);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bR extends IR{create(t,n){var s;const{api_version:o=this._client.apiVersion}=t,u=af(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new mi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new mi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(yh`/${o}/interactions`,Object.assign(Object.assign({body:u},n),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(yh`/${o}/interactions/${t}`,s)}cancel(t,n={},s){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(yh`/${o}/interactions/${t}/cancel`,s)}get(t,n={},s){var o;const u=n??{},{api_version:h=this._client.apiVersion}=u,m=af(u,["api_version"]);return this._client.get(yh`/${h}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}bR._key=Object.freeze(["interactions"]);class wR extends bR{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ML(i){let t=0;for(const o of i)t+=o.length;const n=new Uint8Array(t);let s=0;for(const o of i)n.set(o,s),s+=o.length;return n}let Eh;function jg(i){let t;return(Eh??(t=new globalThis.TextEncoder,Eh=t.encode.bind(t)))(i)}let vh;function lA(i){let t;return(vh??(t=new globalThis.TextDecoder,vh=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?jg(t):t;this.buffer=ML([this.buffer,n]);const s=[];let o;for(;(o=xL(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){s.push(lA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,h=lA(this.buffer.subarray(0,u));s.push(h),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Lf.NEWLINE_CHARS=new Set([`
`,"\r"]);Lf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xL(i,t){for(let o=t??0;o<i.length;o++){if(i[o]===10)return{preceding:o,index:o+1,carriage:!1};if(i[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function LL(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const of={off:0,error:200,warn:300,info:400,debug:500},uA=(i,t,n)=>{if(i){if(dL(of,i))return i;Cn(n).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(of))}`)}};function Zl(){}function Th(i,t,n){return!t||of[i]>of[n]?Zl:t[i].bind(t)}const VL={error:Zl,warn:Zl,info:Zl,debug:Zl};let cA=new WeakMap;function Cn(i){var t;const n=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!n)return VL;const o=cA.get(n);if(o&&o[0]===s)return o[1];const u={error:Th("error",n,s),warn:Th("warn",n,s),info:Th("info",n,s),debug:Th("debug",n,s)};return cA.set(n,[s,u]),u}const ga=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ao{constructor(t,n,s){this.iterator=t,this.controller=n,this.client=s}static fromSSEResponse(t,n,s){let o=!1;const u=s?Cn(s):console;function h(){return ou(this,arguments,function*(){var p,g,v,T;if(o)throw new mi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=wo(UL(t,n)),z;z=yield Ee(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const D=T;if(!S)if(D.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ee(JSON.parse(D.data))}catch(et){throw u.error("Could not parse message into JSON:",D.data),u.error("From chunk:",D.raw),et}}}catch(D){g={error:D}}finally{try{!b&&!p&&(v=V.return)&&(yield Ee(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(D){if(Vp(D))return yield Ee(void 0);throw D}finally{S||n.abort()}})}return new Ao(h,n,s)}static fromReadableStream(t,n,s){let o=!1;function u(){return ou(this,arguments,function*(){var p,g,v,T;const S=new Lf,b=TR(t);try{for(var V=!0,z=wo(b),D;D=yield Ee(z.next()),p=D.done,!p;V=!0){T=D.value,V=!1;const et=T;for(const rt of S.decode(et))yield yield Ee(rt)}}catch(et){g={error:et}}finally{try{!V&&!p&&(v=z.return)&&(yield Ee(v.call(z)))}finally{if(g)throw g.error}}for(const et of S.flush())yield yield Ee(et)})}function h(){return ou(this,arguments,function*(){var p,g,v,T;if(o)throw new mi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let S=!1;try{try{for(var b=!0,V=wo(u()),z;z=yield Ee(V.next()),p=z.done,!p;b=!0){T=z.value,b=!1;const D=T;S||D&&(yield yield Ee(JSON.parse(D)))}}catch(D){g={error:D}}finally{try{!b&&!p&&(v=V.return)&&(yield Ee(v.call(V)))}finally{if(g)throw g.error}}S=!0}catch(D){if(Vp(D))return yield Ee(void 0);throw D}finally{S||n.abort()}})}return new Ao(h,n,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],s=this.iterator(),o=u=>({next:()=>{if(u.length===0){const h=s.next();t.push(h),n.push(h)}return u.shift()}});return[new Ao(()=>o(t),this.controller,this.client),new Ao(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return vR({async start(){n=t[Symbol.asyncIterator]()},async pull(s){try{const{value:o,done:u}=await n.next();if(u)return s.close();const h=jg(JSON.stringify(o)+`
`);s.enqueue(h)}catch(o){s.error(o)}},async cancel(){var s;await((s=n.return)===null||s===void 0?void 0:s.call(n))}})}}function UL(i,t){return ou(this,arguments,function*(){var s,o,u,h;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mi("Attempted to iterate over a response with no body");const m=new kL,p=new Lf,g=TR(i.body);try{for(var v=!0,T=wo(PL(g)),S;S=yield Ee(T.next()),s=S.done,!s;v=!0){h=S.value,v=!1;const b=h;for(const V of p.decode(b)){const z=m.decode(V);z&&(yield yield Ee(z))}}}catch(b){o={error:b}}finally{try{!v&&!s&&(u=T.return)&&(yield Ee(u.call(T)))}finally{if(o)throw o.error}}for(const b of p.flush()){const V=m.decode(b);V&&(yield yield Ee(V))}})}function PL(i){return ou(this,arguments,function*(){var n,s,o,u;let h=new Uint8Array;try{for(var m=!0,p=wo(i),g;g=yield Ee(p.next()),n=g.done,!n;m=!0){u=g.value,m=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?jg(v):v;let S=new Uint8Array(h.length+T.length);S.set(h),S.set(T,h.length),h=S;let b;for(;(b=LL(h))!==-1;)yield yield Ee(h.slice(0,b)),h=h.slice(b)}}catch(v){s={error:v}}finally{try{!m&&!n&&(o=p.return)&&(yield Ee(o.call(p)))}finally{if(s)throw s.error}}h.length>0&&(yield yield Ee(h))})}class kL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,s,o]=BL(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function BL(i,t){const n=i.indexOf(t);return n!==-1?[i.substring(0,n),t,i.substring(n+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zL(i,t){const{response:n,requestLogID:s,retryOfRequestLogID:o,startTime:u}=t,h=await(async()=>{var m;if(t.options.stream)return Cn(i).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,i):Ao.fromSSEResponse(n,t.controller,i);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const p=n.headers.get("content-type"),g=(m=p==null?void 0:p.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await n.json():await n.text()})();return Cn(i).debug(`[${s}] response parsed`,ga({retryOfRequestLogID:o,url:n.url,status:n.status,body:h,durationMs:Date.now()-u})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg extends Promise{constructor(t,n,s=zL){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Hg(this.client,this.responsePromise,async(n,s)=>t(await this.parseResponse(n,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CR=Symbol("brand.privateNullableHeaders");function*jL(i){if(!i)return;if(CR in i){const{values:s,nulls:o}=i;yield*s.entries();for(const u of o)yield[u,null];return}let t=!1,n;i instanceof Headers?n=i.entries():rA(i)?n=i:(t=!0,n=Object.entries(i??{}));for(let s of n){const o=s[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const u=rA(s[1])?s[1]:[s[1]];let h=!1;for(const m of u)m!==void 0&&(t&&!h&&(h=!0,yield[o,null]),yield[o,m])}}const $l=i=>{const t=new Headers,n=new Set;for(const s of i){const o=new Set;for(const[u,h]of jL(s)){const m=u.toLowerCase();o.has(m)||(t.delete(u),o.add(m)),h===null?(t.delete(u),n.add(m)):(t.append(u,h),n.delete(m))}}return{[CR]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ip=i=>{var t,n,s,o,u,h;if(typeof globalThis.process<"u")return(s=(n=(t=aL)===null||t===void 0?void 0:t[i])===null||n===void 0?void 0:n.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(h=(u=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||u===void 0?void 0:u.call(o,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NR;class Vf{constructor(t){var n,s,o,u,h,m,p,{baseURL:g=ip("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(n=ip("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:T="v1beta"}=t,S=af(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:v,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:Vf.DEFAULT_TIMEOUT,this.logger=(o=b.logger)!==null&&o!==void 0?o:console;const V="warn";this.logLevel=V,this.logLevel=(h=(u=uA(b.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:uA(ip("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:V,this.fetchOptions=b.fetchOptions,this.maxRetries=(m=b.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(p=b.fetch)!==null&&p!==void 0?p:TL(),this.encoder=IL,this._options=b,this.apiKey=v,this.apiVersion=T,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=$l([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return $l([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return $l([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new mi(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vo}`}defaultIdempotencyKey(){return`stainless-node-retry-${oL()}`}makeStatusError(t,n,s,o){return On.generate(t,n,s,o)}buildURL(t,n,s){const o=!this.baseURLOverridden()&&s||this.baseURL,u=uL(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return fL(h)||(n=Object.assign(Object.assign({},h),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(u.search=this.stringifyQuery(n)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:s}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,s){return this.request(Promise.resolve(s).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new Hg(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,s){var o,u,h;const m=await t,p=(o=m.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(m);const{req:g,url:v,timeout:T}=await this.buildRequest(m,{retryCount:p-n});await this.prepareRequest(g,{url:v,options:m});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,V=Date.now();if(Cn(this).debug(`[${S}] sending request`,ga({retryOfRequestLogID:s,method:m.method,url:v,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Pp;const z=new AbortController,D=await this.fetchWithTimeout(v,g,T,z).catch(Up),et=Date.now();if(D instanceof globalThis.Error){const Z=`retrying, ${n} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new Pp;const dt=Vp(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(n)return Cn(this).info(`[${S}] connection ${dt?"timed out":"failed"} - ${Z}`),Cn(this).debug(`[${S}] connection ${dt?"timed out":"failed"} (${Z})`,ga({retryOfRequestLogID:s,url:v,durationMs:et-V,message:D.message})),this.retryRequest(m,n,s??S);throw Cn(this).info(`[${S}] connection ${dt?"timed out":"failed"} - error; no more retries left`),Cn(this).debug(`[${S}] connection ${dt?"timed out":"failed"} (error; no more retries left)`,ga({retryOfRequestLogID:s,url:v,durationMs:et-V,message:D.message})),dt?new hR:new xf({cause:D})}const rt=`[${S}${b}] ${g.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${et-V}ms`;if(!D.ok){const Z=await this.shouldRetry(D);if(n&&Z){const w=`retrying, ${n} attempts remaining`;return await SL(D.body),Cn(this).info(`${rt} - ${w}`),Cn(this).debug(`[${S}] response error (${w})`,ga({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:et-V})),this.retryRequest(m,n,s??S,D.headers)}const dt=Z?"error; no more retries left":"error; not retryable";Cn(this).info(`${rt} - ${dt}`);const Rt=await D.text().catch(w=>Up(w).message),Et=pL(Rt),O=Et?void 0:Rt;throw Cn(this).debug(`[${S}] response error (${dt})`,ga({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,message:O,durationMs:Date.now()-V})),this.makeStatusError(D.status,Et,O,D.headers)}return Cn(this).info(rt),Cn(this).debug(`[${S}] response start`,ga({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:et-V})),{response:D,options:m,controller:z,requestLogID:S,retryOfRequestLogID:s,startTime:V}}async fetchWithTimeout(t,n,s,o){const u=n||{},{signal:h,method:m}=u,p=af(u,["signal","method"]);h&&h.addEventListener("abort",()=>o.abort());const g=setTimeout(()=>o.abort(),s),v=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,T=Object.assign(Object.assign(Object.assign({signal:o.signal},v?{duplex:"half"}:{}),{method:"GET"}),p);m&&(T.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,s,o){var u;let h;const m=o==null?void 0:o.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(h=g)}const p=o==null?void 0:o.get("retry-after");if(p&&!h){const g=parseFloat(p);Number.isNaN(g)?h=Date.parse(p)-Date.now():h=g*1e3}if(!(h&&0<=h&&h<60*1e3)){const g=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(n,g)}return await gL(h),this.makeRequest(t,n-1,s)}calculateDefaultRetryTimeoutMillis(t,n){const u=n-t,h=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(t,{retryCount:n=0}={}){var s,o,u;const h=Object.assign({},t),{method:m,path:p,query:g,defaultBaseURL:v}=h,T=this.buildURL(p,g,v);"timeout"in h&&mL("timeout",h.timeout),h.timeout=(s=h.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:S,body:b}=this.buildBody({options:h}),V=await this.buildHeaders({options:t,method:m,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:V},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(u=h.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:h.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:s,retryCount:o}){let u={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let m=$l([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),vL()),this._options.defaultHeaders,s,t.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=$l([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:AL(t)}:this.encoder({body:t,headers:s})}}Vf.DEFAULT_TIMEOUT=6e4;class hn extends Vf{constructor(){super(...arguments),this.interactions=new wR(this)}}NR=hn;hn.GeminiNextGenAPIClient=NR;hn.GeminiNextGenAPIClientError=mi;hn.APIError=On;hn.APIConnectionError=xf;hn.APIConnectionTimeoutError=hR;hn.APIUserAbortError=Pp;hn.NotFoundError=pR;hn.ConflictError=gR;hn.RateLimitError=yR;hn.BadRequestError=fR;hn.AuthenticationError=dR;hn.InternalServerError=ER;hn.PermissionDeniedError=mR;hn.UnprocessableEntityError=_R;hn.toFile=NL;hn.Interactions=wR;var HL="firebase",FL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(HL,FL,"app");const GL={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},OR=qA(GL),va=jD(OR),rp=new yr,on=kx(OR);function qL(i,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(i)}&token=${encodeURIComponent(t)}`}async function YL(i){try{return await navigator.clipboard.writeText(i),!0}catch{return window.prompt("  :",i),!1}}async function Lh(){try{await XO(va,rp)}catch(i){const t=i==null?void 0:i.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await qv(va,rp);return}await qv(va,rp)}}function KL(i){const t=encodeURIComponent(i);window.open(`https://wa.me/?text=${t}`,"_blank")}const $L=()=>{const[i]=H1(),t=Hp(),n=i.get("listId"),s=i.get("token"),[o,u]=G.useState(va.currentUser),[h,m]=G.useState(!0),[p,g]=G.useState(!1),[v,T]=G.useState(null);G.useEffect(()=>pS(va,V=>{u(V),m(!1)}),[]);const S=async()=>{T(null);try{await Lh()}catch(V){T((V==null?void 0:V.message)||" ")}},b=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await S();return}g(!0),T(null);try{await iL(on,async V=>{var Z;const z=wn(on,"lists",n),D=await V.get(z);if(!D.exists())throw new Error("  ");const rt=(Z=D.data().pendingInvites)==null?void 0:Z[s];if(!rt)throw new Error("  ");if(rt.expiresAt<Date.now())throw new Error("  ");V.update(z,{sharedWith:sL(o.uid),[`pendingInvites.${s}`]:rL()})}),localStorage.setItem("activeListId",n),t("/")}catch(V){T((V==null?void 0:V.message)||"  ")}finally{g(!1)}};return h?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Uh,{className:"animate-spin text-indigo-600"})}):X.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[X.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:X.jsx(LA,{className:"w-10 h-10"})}),X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?X.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,v?X.jsx("p",{className:"text-rose-500 font-bold break-words",children:v}):null,o?X.jsx("button",{onClick:b,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?X.jsx(Uh,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):X.jsxs("button",{onClick:S,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(xA,{className:"w-5 h-5"}),"   "]})]})})},QL=()=>{const[i,t]=G.useState(null),[n,s]=G.useState(null),[o,u]=G.useState([]),[h,m]=G.useState([]),[p,g]=G.useState("list"),[v,T]=G.useState(""),[S,b]=G.useState(!1),[V,z]=G.useState(!1),[D,et]=G.useState(!1),[rt,Z]=G.useState(!0),[dt,Rt]=G.useState(!1),[Et,O]=G.useState(!1),[R,w]=G.useState("continuous"),[x,U]=G.useState(""),P=ma.useRef(null),C=ma.useRef(!1),ce=ma.useRef(!1),Ae=ma.useRef(null),K=ma.useRef(null),at=ma.useRef([]);G.useEffect(()=>{K.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),G.useEffect(()=>{at.current=o},[o]),G.useEffect(()=>pS(va,async it=>{if(t(it),Z(!1),!it){s(null),u([]),m([]);return}Rt(!0);const lt=$x(mh(on,"lists"),Qx("sharedWith","array-contains",it.uid)),mt=await Wx(lt);if(mt.empty){const gt=wn(mh(on,"lists")),Vt={id:gt.id,title:" ",ownerUid:it.uid,sharedWith:[it.uid],createdAt:Date.now(),updatedAt:Date.now()};await po(gt,Vt),s(Vt),localStorage.setItem("activeListId",gt.id)}else{const gt=localStorage.getItem("activeListId"),Vt=gt?mt.docs.find(kt=>kt.id===gt)??mt.docs[0]:mt.docs[0],Ge=Vt.data();s({...Ge,id:Vt.id}),localStorage.setItem("activeListId",Vt.id)}Rt(!1)}),[]),G.useEffect(()=>{if(!(n!=null&&n.id))return;const it=wn(on,"lists",n.id),lt=mh(it,"items"),mt=mh(it,"favorites"),gt=ep(it,kt=>{kt.exists()&&s({...kt.data(),id:kt.id})}),Vt=ep(lt,kt=>{const ee=kt.docs.map(_e=>_e.data());u(ee)}),Ge=ep(mt,kt=>{const ee=kt.docs.map(_e=>{const Ce=_e.data();return{id:_e.id,name:String((Ce==null?void 0:Ce.name)||""),createdAt:Number((Ce==null?void 0:Ce.createdAt)||0)}});ee.sort((_e,Ce)=>Ce.createdAt-_e.createdAt),m(ee)});return()=>{gt(),Vt(),Ge()}},[n==null?void 0:n.id]);const _t=G.useMemo(()=>{const it=new Set;for(const lt of h)it.add(lt.id);return it},[h]),Gt=G.useMemo(()=>o.filter(it=>!it.isPurchased).sort((it,lt)=>lt.createdAt-it.createdAt),[o]),qt=G.useMemo(()=>o.filter(it=>it.isPurchased).sort((it,lt)=>(lt.purchasedAt||0)-(it.purchasedAt||0)),[o]),L=async it=>{if(it&&it.preventDefault(),!i){await Lh();return}if(!(n!=null&&n.id))return;const lt=v.trim();if(!lt)return;const mt=crypto.randomUUID(),gt={id:mt,name:lt,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await po(wn(on,"lists",n.id,"items",mt),gt),T("")},Q=async it=>{if(!(n!=null&&n.id))return;const lt=o.find(gt=>gt.id===it);if(!lt)return;const mt=!lt.isPurchased;await ph(wn(on,"lists",n.id,"items",it),{isPurchased:mt,purchasedAt:mt?Date.now():null})},st=async(it,lt)=>{if(!(n!=null&&n.id))return;const mt=o.find(gt=>gt.id===it);mt&&await ph(wn(on,"lists",n.id,"items",it),{quantity:Math.max(1,mt.quantity+lt)})},ht=async it=>{n!=null&&n.id&&await gh(wn(on,"lists",n.id,"items",it))},St=async it=>{if(!(n!=null&&n.id))return;const lt=o.find(gt=>gt.id===it);if(!lt)return;const mt=wn(on,"lists",n.id,"favorites",it);_t.has(it)?await gh(mt):await po(mt,{name:lt.name,createdAt:Date.now()})},Ot=async it=>{n!=null&&n.id&&await gh(wn(on,"lists",n.id,"favorites",it))},Lt=async()=>{if(!(n!=null&&n.id))return;const it=o.map(lt=>gh(wn(on,"lists",n.id,"items",lt.id)));await Promise.all(it),z(!1)},He=async()=>{if(!i)return await Lh(),null;if(!(n!=null&&n.id))return null;const it=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),lt=Date.now()+2880*60*1e3;return await ph(wn(on,"lists",n.id),{[`pendingInvites.${it}`]:{createdAt:Date.now(),expiresAt:lt}}),qL(n.id,it)},he=async()=>{const it=await He();if(it){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:it});return}}catch{}await YL(it),b(!0),setTimeout(()=>b(!1),2e3)}},Zn=()=>{const it=(n==null?void 0:n.title)||" ",lt=o.filter(Wt=>!Wt.isPurchased),mt="",gt="",Vt="",Ge="",kt=lt.length>0?lt.map(Wt=>`${mt}${Wt.name} X ${Vt}${Wt.quantity}${Ge}${gt}`).join(`
`):`${mt}(  )${gt}`,Ce=`${`*${it}:*`}

${kt}

   `;KL(Ce)},Fe=it=>(it||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),te=it=>{try{if(!("speechSynthesis"in window))return;const lt=new SpeechSynthesisUtterance(it);lt.lang="he-IL",window.speechSynthesis.cancel(),window.speechSynthesis.speak(lt)}catch{}},gi=it=>{const lt=at.current??o,mt=Fe(it),gt=lt.find(Ge=>Fe(Ge.name)===mt);return gt||lt.find(Ge=>Fe(Ge.name).includes(mt)||mt.includes(Fe(Ge.name)))||null},Bn=async it=>{const lt=K.current||(n==null?void 0:n.id);if(!lt)return;const mt=at.current||o,gt=Fe(it);if(!gt)return;if(gt.includes(" ")||gt===""){w("continuous"),te("   ");return}if(gt.includes("  ")||gt.includes(" ")||gt===""){w("once"),te("    ");return}if(gt.includes("")||gt.includes("")){g("favorites"),te(" ");return}if(gt.includes("")){g("list"),te(" ");return}if(gt.includes("")&&gt.includes("")){z(!0),te("   ");return}if(gt===""||gt===""||gt===""||gt===" "||gt===" "||gt===" "){te("  ?");return}const Vt=gt.match(/^(|||)(?:\s+)?\s+(\d+)\s+(.+)$/);if(Vt){const Wt=Math.max(1,Number(Vt[2])),$t=Vt[3].trim();if(!$t)return;const Ze=mt.find(vn=>!vn.isPurchased&&Fe(vn.name)===Fe($t));if(Ze){await ph(wn(on,"lists",lt,"items",Ze.id),{quantity:Wt}),te(` ${Ze.name}  ${Wt}`);return}const fn=crypto.randomUUID(),ye={id:fn,name:$t,quantity:Wt,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await po(wn(on,"lists",lt,"items",fn),ye),te(` ${$t} ${Wt}`);return}const Ge=gt.match(/^(|||)(?:\s+)?\s+(.+)$/);if(Ge){const Wt=Ge[2].trim();if(!Wt)return;const $t=mt.find(ye=>!ye.isPurchased&&Fe(ye.name)===Fe(Wt));if($t){await st($t.id,1),te(` ${$t.name}`);return}const Ze=crypto.randomUUID(),fn={id:Ze,name:Wt,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await po(wn(on,"lists",lt,"items",Ze),fn),te(` ${Wt}`);return}const kt=gt.match(/^(|||)\s+(.+)$/);if(kt){const Wt=kt[2].trim(),$t=gi(Wt);if(!$t){te("    ");return}await ht($t.id),te(` ${$t.name}`);return}const ee=gt.match(/^(||)\s+(.+)\s+(||)$/);if(ee){const Wt=ee[2].trim(),$t=gi(Wt);if(!$t){te("    ");return}$t.isPurchased||await Q($t.id),te(` ${$t.name} `);return}const _e=gt.match(/^(||)\s+(.+)$/);if(_e){const Wt=_e[2].trim(),$t=gi(Wt);if(!$t){te("    ");return}await st($t.id,1),te(` ${$t.name}`);return}const Ce=gt.match(/^(||)\s+(.+)$/);if(Ce){const Wt=Ce[2].trim(),$t=gi(Wt);if(!$t){te("    ");return}await st($t.id,-1),te(` ${$t.name}`);return}te(" .  :  ,  ,   , , ,  ")},Yi=it=>{let lt=String(it||"");return lt=lt.replace(/[]/g,""),lt=lt.replace(/[\.,!\?;:"']/g,""),lt=lt.replace(/\s+/g," ").trim(),lt=lt.replace(/^(|||||)\s+/g,""),lt=lt.replace(/\s+(|)$/,""),lt.trim()},ti=()=>{Ae.current&&(clearTimeout(Ae.current),Ae.current=null)},qo=()=>{ti(),Ae.current=setTimeout(()=>{(C.current||Et)&&bi()},4e3)},bi=()=>{var it,lt;ti(),C.current=!1,ce.current=!1,O(!1);try{te(" ")}catch{}try{(lt=(it=P.current)==null?void 0:it.stop)==null||lt.call(it)}catch{}},Or=()=>{const it=window.SpeechRecognition||window.webkitSpeechRecognition;if(!it){alert("    .  Chrome  Edge.");return}if(Et){bi();return}if(C.current=!0,ce.current=!0,P.current){try{P.current.stop()}catch{}P.current=null}const lt=new it;P.current=lt,lt.lang="he-IL",lt.interimResults=!1,lt.maxAlternatives=1,lt.continuous=R==="continuous",lt.onstart=()=>{O(!0),qo(),ce.current&&(te(R==="continuous"?"  ":"  "),ce.current=!1)},lt.onerror=mt=>{console.error("Speech error",mt),ti(),O(!1),C.current=!1;const gt=String((mt==null?void 0:mt.error)||"");(gt==="not-allowed"||gt==="service-not-allowed")&&alert("  .     .")},lt.onresult=async mt=>{var _e,Ce,Wt,$t,Ze,fn;ti();const gt=typeof(mt==null?void 0:mt.resultIndex)=="number"?mt.resultIndex:0,Vt=(Ce=(_e=mt==null?void 0:mt.results)==null?void 0:_e[gt])==null?void 0:Ce[0],kt=((Vt==null?void 0:Vt.transcript)||"").trim()||String(((fn=(Ze=($t=mt==null?void 0:mt.results)==null?void 0:$t[((Wt=mt==null?void 0:mt.results)==null?void 0:Wt.length)-1])==null?void 0:Ze[0])==null?void 0:fn.transcript)||"").trim(),ee=Yi(kt);U(ee);try{await Bn(ee)}catch(ye){console.error(ye),te("   ")}finally{R==="once"&&bi()}},lt.onend=()=>{ti();const mt=C.current&&R==="continuous";if(O(mt),mt){ce.current=!1;try{lt.start()}catch{bi()}}};try{lt.start()}catch(mt){console.error(mt),bi()}};return G.useEffect(()=>()=>{var it,lt;try{(lt=(it=P.current)==null?void 0:it.stop)==null||lt.call(it)}catch{}},[]),rt?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Uh,{className:"animate-spin text-indigo-600"})}):i?dt||!(n!=null&&n.id)?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Uh,{className:"animate-spin text-indigo-600"})}):X.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[X.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:Or,className:`p-2 rounded-full ${Et?"bg-rose-100 text-rose-600 animate-pulse":"bg-slate-100 hover:bg-indigo-50 text-indigo-600"}`,title:Et?"  -  ":"   -  ",children:Et?X.jsx(rC,{className:"w-5 h-5"}):X.jsx(iC,{className:"w-5 h-5"})}),X.jsx("button",{onClick:()=>z(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:X.jsx(oh,{className:"w-5 h-5"})}),X.jsx("button",{onClick:he,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:S?X.jsx(J1,{className:"w-5 h-5 text-emerald-500"}):X.jsx(LA,{className:"w-5 h-5"})})]}),X.jsx("h1",{className:"text-xl font-extrabold text-indigo-600",children:(n==null?void 0:n.title)||" "}),X.jsx("button",{onClick:()=>OO(va),className:"p-2 rounded-full shadow-lg active:scale-90 transition-transform bg-slate-100 text-slate-600",title:"",children:X.jsx(eC,{className:"w-5 h-5"})})]}),x?X.jsx("div",{className:"px-5 pt-3",children:X.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[X.jsx("div",{className:"text-[11px] font-black text-slate-400",children:":"}),X.jsx("div",{className:"text-sm font-bold text-slate-700",style:{direction:"rtl",unicodeBidi:"plaintext"},children:x}),X.jsxs("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:[": ",R==="continuous"?"":" ",' ( : " "  "  ")']})]})}):null,X.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?X.jsxs(X.Fragment,{children:[X.jsxs("form",{onSubmit:L,className:"relative",children:[X.jsx("input",{value:v,onChange:it=>T(it.target.value),placeholder:"  ?",className:"w-full p-4 pr-4 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),X.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:X.jsx(Sv,{className:"w-6 h-6"})})]}),o.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(aC,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"text-lg font-bold",children:" "})]}):X.jsx("div",{className:"space-y-4",children:X.jsxs("div",{className:"space-y-3",children:[Gt.map(it=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:()=>ht(it.id),className:"p-2 text-slate-300 hover:text-rose-500",title:"",children:X.jsx(oh,{className:"w-4 h-4"})}),X.jsx("button",{onClick:()=>St(it.id),className:`p-2 ${_t.has(it.id)?"text-amber-500":"text-slate-300"}`,title:"",children:X.jsx(ah,{className:`w-4 h-4 ${_t.has(it.id)?"fill-amber-500":""}`})})]}),X.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>Q(it.id),children:it.name}),X.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100",children:[X.jsx("button",{onClick:()=>st(it.id,-1),className:"p-1 text-slate-400",title:"",children:X.jsx(sC,{className:"w-3 h-3"})}),X.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:it.quantity}),X.jsx("button",{onClick:()=>st(it.id,1),className:"p-1 text-slate-400",title:"",children:X.jsx(Sv,{className:"w-3 h-3"})})]})]},it.id)),qt.length>0?X.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[X.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest text-right mb-2",children:[" (",qt.length,")"]}),qt.map(it=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:[X.jsx("button",{onClick:()=>ht(it.id),className:"p-2 text-slate-300",title:"",children:X.jsx(oh,{className:"w-4 h-4"})}),X.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end cursor-pointer",onClick:()=>Q(it.id),children:[X.jsxs("span",{className:"text-base font-bold text-slate-500 line-through truncate text-right",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[it.name," x",it.quantity]}),X.jsx(Z1,{className:"w-6 h-6 text-emerald-500"})]})]},it.id))]}):null]})})]}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"text-right",children:[X.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),X.jsx("p",{className:"text-sm text-slate-400 font-bold",children:"  "})]}),h.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(ah,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"font-bold",children:"  "})]}):X.jsx("div",{className:"grid grid-cols-1 gap-3",children:h.map(it=>X.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:async()=>{if(!(n!=null&&n.id))return;const lt=o.find(mt=>!mt.isPurchased&&mt.name.trim()===it.name.trim());if(lt)await st(lt.id,1);else{const mt=crypto.randomUUID(),gt={id:mt,name:it.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await po(wn(on,"lists",n.id,"items",mt),gt)}},className:"px-1 py-0.5 text-[10px] rounded-md bg-emerald-500 text-white shadow-md active:scale-90 transition-transform font-black",title:" ",children:" "}),X.jsx("button",{onClick:()=>Ot(it.id),className:"p-2 text-slate-300 hover:text-rose-500",title:" ",children:X.jsx(oh,{className:"w-4 h-4"})})]}),X.jsx("div",{className:"flex-1 text-right font-black text-slate-700 truncate px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},children:it.name}),X.jsx(ah,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]},it.id))})]})}),X.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:X.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[X.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:X.jsxs("button",{onClick:Zn,className:"flex items-center justify-center gap-2 bg-emerald-500 text-white py-3 px-6 rounded-full font-black shadow-lg shadow-emerald-200",title:"  ",children:[X.jsx(nC,{className:"w-5 h-5"})," "]})}),X.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:X.jsxs("div",{className:"flex items-center justify-between px-10 py-3",children:[X.jsxs("button",{onClick:()=>g("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(ah,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),X.jsxs("button",{onClick:()=>g("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(tC,{className:"w-7 h-7"}),""]})]})})]})}),V?X.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:X.jsx(W1,{className:"w-5 h-5"})}),X.jsxs("div",{className:"text-right",children:[X.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),X.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),X.jsxs("div",{className:"flex gap-3",children:[X.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),X.jsx("button",{onClick:Lt,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null]}):X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),X.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),X.jsxs("button",{onClick:async()=>{await Lh()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(xA,{className:"w-5 h-5"}),"  "]})]})})},XL=()=>X.jsx(P1,{children:X.jsxs(f1,{children:[X.jsx(ap,{path:"/",element:X.jsx(QL,{})}),X.jsx(ap,{path:"/invite",element:X.jsx($L,{})})]})}),DR=document.getElementById("root");if(!DR)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",i=>{const t=(i==null?void 0:i.message)||"unknown",n=i==null?void 0:i.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",i=>{const t=i==null?void 0:i.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());pw.createRoot(DR).render(X.jsx(ma.StrictMode,{children:X.jsx(XL,{})}));
