(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function bS(){if($_)return Wl;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=e,Wl.jsx=n,Wl.jsxs=n,Wl}var X_;function SS(){return X_||(X_=1,vm.exports=bS()),vm.exports}var L=SS(),_m={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function AS(){if(J_)return ze;J_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function P(T){return T===null||typeof T!="object"?null:(T=R&&T[R]||T["@@iterator"],typeof T=="function"?T:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,B={};function ue(T,q,X){this.props=T,this.context=q,this.refs=B,this.updater=X||K}ue.prototype.isReactComponent={},ue.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},ue.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ce(){}ce.prototype=ue.prototype;function se(T,q,X){this.props=T,this.context=q,this.refs=B,this.updater=X||K}var Se=se.prototype=new ce;Se.constructor=se,Z(Se,ue.prototype),Se.isPureReactComponent=!0;var Pe=Array.isArray;function Ne(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(T,q,X){var le=X.ref;return{$$typeof:r,type:T,key:q,ref:le!==void 0?le:null,props:X}}function M(T,q){return C(T.type,q,T.props)}function k(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function z(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return q[X]})}var x=/\/+/g;function Ct(T,q){return typeof T=="object"&&T!==null&&T.key!=null?z(""+T.key):q.toString(36)}function ht(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ne,Ne):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function ee(T,q,X,le,fe){var pe=typeof T;(pe==="undefined"||pe==="boolean")&&(T=null);var de=!1;if(T===null)de=!0;else switch(pe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(T.$$typeof){case r:case e:de=!0;break;case E:return de=T._init,ee(de(T._payload),q,X,le,fe)}}if(de)return fe=fe(T),de=le===""?"."+Ct(T,0):le,Pe(fe)?(X="",de!=null&&(X=de.replace(x,"$&/")+"/"),ee(fe,q,X,"",function(et){return et})):fe!=null&&(k(fe)&&(fe=M(fe,X+(fe.key==null||T&&T.key===fe.key?"":(""+fe.key).replace(x,"$&/")+"/")+de)),q.push(fe)),1;de=0;var Ae=le===""?".":le+":";if(Pe(T))for(var Ce=0;Ce<T.length;Ce++)le=T[Ce],pe=Ae+Ct(le,Ce),de+=ee(le,q,X,pe,fe);else if(Ce=P(T),typeof Ce=="function")for(T=Ce.call(T),Ce=0;!(le=T.next()).done;)le=le.value,pe=Ae+Ct(le,Ce++),de+=ee(le,q,X,pe,fe);else if(pe==="object"){if(typeof T.then=="function")return ee(ht(T),q,X,le,fe);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return de}function he(T,q,X){if(T==null)return T;var le=[],fe=0;return ee(T,le,"","",function(pe){return q.call(X,pe,fe++)}),le}function Ee(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var qe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},H={map:he,forEach:function(T,q,X){he(T,function(){q.apply(this,arguments)},X)},count:function(T){var q=0;return he(T,function(){q++}),q},toArray:function(T){return he(T,function(q){return q})||[]},only:function(T){if(!k(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ze.Activity=w,ze.Children=H,ze.Component=ue,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=se,ze.StrictMode=s,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function(T){return N.H.useMemoCache(T)}},ze.cache=function(T){return function(){return T.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(T,q,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var le=Z({},T.props),fe=T.key;if(q!=null)for(pe in q.key!==void 0&&(fe=""+q.key),q)!I.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(le[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)le.children=X;else if(1<pe){for(var de=Array(pe),Ae=0;Ae<pe;Ae++)de[Ae]=arguments[Ae+2];le.children=de}return C(T.type,fe,le)},ze.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},ze.createElement=function(T,q,X){var le,fe={},pe=null;if(q!=null)for(le in q.key!==void 0&&(pe=""+q.key),q)I.call(q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(fe[le]=q[le]);var de=arguments.length-2;if(de===1)fe.children=X;else if(1<de){for(var Ae=Array(de),Ce=0;Ce<de;Ce++)Ae[Ce]=arguments[Ce+2];fe.children=Ae}if(T&&T.defaultProps)for(le in de=T.defaultProps,de)fe[le]===void 0&&(fe[le]=de[le]);return C(T,pe,fe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(T){return{$$typeof:m,render:T}},ze.isValidElement=k,ze.lazy=function(T){return{$$typeof:E,_payload:{_status:-1,_result:T},_init:Ee}},ze.memo=function(T,q){return{$$typeof:g,type:T,compare:q===void 0?null:q}},ze.startTransition=function(T){var q=N.T,X={};N.T=X;try{var le=T(),fe=N.S;fe!==null&&fe(X,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ne,qe)}catch(pe){qe(pe)}finally{q!==null&&X.types!==null&&(q.types=X.types),N.T=q}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function(T){return N.H.use(T)},ze.useActionState=function(T,q,X){return N.H.useActionState(T,q,X)},ze.useCallback=function(T,q){return N.H.useCallback(T,q)},ze.useContext=function(T){return N.H.useContext(T)},ze.useDebugValue=function(){},ze.useDeferredValue=function(T,q){return N.H.useDeferredValue(T,q)},ze.useEffect=function(T,q){return N.H.useEffect(T,q)},ze.useEffectEvent=function(T){return N.H.useEffectEvent(T)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function(T,q,X){return N.H.useImperativeHandle(T,q,X)},ze.useInsertionEffect=function(T,q){return N.H.useInsertionEffect(T,q)},ze.useLayoutEffect=function(T,q){return N.H.useLayoutEffect(T,q)},ze.useMemo=function(T,q){return N.H.useMemo(T,q)},ze.useOptimistic=function(T,q){return N.H.useOptimistic(T,q)},ze.useReducer=function(T,q,X){return N.H.useReducer(T,q,X)},ze.useRef=function(T){return N.H.useRef(T)},ze.useState=function(T){return N.H.useState(T)},ze.useSyncExternalStore=function(T,q,X){return N.H.useSyncExternalStore(T,q,X)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.3",ze}var W_;function bp(){return W_||(W_=1,_m.exports=AS()),_m.exports}var V=bp();const RS=wS(V);var Em={exports:{}},Zl={},Tm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function IS(){return Z_||(Z_=1,(function(r){function e(ee,he){var Ee=ee.length;ee.push(he);e:for(;0<Ee;){var qe=Ee-1>>>1,H=ee[qe];if(0<o(H,he))ee[qe]=he,ee[Ee]=H,Ee=qe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var he=ee[0],Ee=ee.pop();if(Ee!==he){ee[0]=Ee;e:for(var qe=0,H=ee.length,T=H>>>1;qe<T;){var q=2*(qe+1)-1,X=ee[q],le=q+1,fe=ee[le];if(0>o(X,Ee))le<H&&0>o(fe,X)?(ee[qe]=fe,ee[le]=Ee,qe=le):(ee[qe]=X,ee[q]=Ee,qe=q);else if(le<H&&0>o(fe,Ee))ee[qe]=fe,ee[le]=Ee,qe=le;else break e}}return he}function o(ee,he){var Ee=ee.sortIndex-he.sortIndex;return Ee!==0?Ee:ee.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,R=3,P=!1,K=!1,Z=!1,B=!1,ue=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Se(ee){for(var he=n(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=ee)s(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=n(g)}}function Pe(ee){if(Z=!1,Se(ee),!K)if(n(p)!==null)K=!0,Ne||(Ne=!0,z());else{var he=n(g);he!==null&&ht(Pe,he.startTime-ee)}}var Ne=!1,N=-1,I=5,C=-1;function M(){return B?!0:!(r.unstable_now()-C<I)}function k(){if(B=!1,Ne){var ee=r.unstable_now();C=ee;var he=!0;try{e:{K=!1,Z&&(Z=!1,ce(N),N=-1),P=!0;var Ee=R;try{t:{for(Se(ee),w=n(p);w!==null&&!(w.expirationTime>ee&&M());){var qe=w.callback;if(typeof qe=="function"){w.callback=null,R=w.priorityLevel;var H=qe(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof H=="function"){w.callback=H,Se(ee),he=!0;break t}w===n(p)&&s(p),Se(ee)}else s(p);w=n(p)}if(w!==null)he=!0;else{var T=n(g);T!==null&&ht(Pe,T.startTime-ee),he=!1}}break e}finally{w=null,R=Ee,P=!1}he=void 0}}finally{he?z():Ne=!1}}}var z;if(typeof se=="function")z=function(){se(k)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ct=x.port2;x.port1.onmessage=k,z=function(){Ct.postMessage(null)}}else z=function(){ue(k,0)};function ht(ee,he){N=ue(function(){ee(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(ee){switch(R){case 1:case 2:case 3:var he=3;break;default:he=R}var Ee=R;R=he;try{return ee()}finally{R=Ee}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(ee,he){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ee=R;R=ee;try{return he()}finally{R=Ee}},r.unstable_scheduleCallback=function(ee,he,Ee){var qe=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?qe+Ee:qe):Ee=qe,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Ee+H,ee={id:E++,callback:he,priorityLevel:ee,startTime:Ee,expirationTime:H,sortIndex:-1},Ee>qe?(ee.sortIndex=Ee,e(g,ee),n(p)===null&&ee===n(g)&&(Z?(ce(N),N=-1):Z=!0,ht(Pe,Ee-qe))):(ee.sortIndex=H,e(p,ee),K||P||(K=!0,Ne||(Ne=!0,z()))),ee},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(ee){var he=R;return function(){var Ee=R;R=he;try{return ee.apply(this,arguments)}finally{R=Ee}}}})(wm)),wm}var e0;function CS(){return e0||(e0=1,Tm.exports=IS()),Tm.exports}var bm={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function xS(){if(t0)return jn;t0=1;var r=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},jn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},jn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},jn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},jn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},jn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},jn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},jn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},jn.requestFormReset=function(p){s.d.r(p)},jn.unstable_batchedUpdates=function(p,g){return p(g)},jn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},jn.useFormStatus=function(){return f.H.useHostTransitionStatus()},jn.version="19.2.3",jn}var n0;function NS(){if(n0)return bm.exports;n0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=xS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function DS(){if(i0)return Zl;i0=1;var r=CS(),e=bp(),n=NS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ce=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ct(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ue:return"Profiler";case B:return"StrictMode";case Pe:return"Suspense";case Ne:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case se:return t.displayName||"Context";case ce:return(t._context.displayName||"Context")+".Consumer";case Se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ct(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return Ct(t(i))}catch{}}return null}var ht=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},qe=[],H=-1;function T(t){return{current:t}}function q(t){0>H||(t.current=qe[H],qe[H]=null,H--)}function X(t,i){H++,qe[H]=t.current,t.current=i}var le=T(null),fe=T(null),pe=T(null),de=T(null);function Ae(t,i){switch(X(pe,i),X(fe,t),X(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?v_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=v_(i),t=__(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(le),X(le,t)}function Ce(){q(le),q(fe),q(pe)}function et(t){t.memoizedState!==null&&X(de,t);var i=le.current,a=__(i,t.type);i!==a&&(X(fe,t),X(le,a))}function He(t){fe.current===t&&(q(le),q(fe)),de.current===t&&(q(de),Kl._currentValue=Ee)}var ot,At;function Oe(t){if(ot===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ot=i&&i[1]||"",At=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+t+At}var Pt=!1;function Zt(t,i){if(!t||Pt)return"";Pt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var $=J}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(J){$=J}t.call(ae.prototype)}}else{try{throw Error()}catch(J){$=J}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&$&&typeof J.stack=="string")return[J.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var D=v.split(`
`),Y=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===Y.length)for(l=D.length-1,h=Y.length-1;1<=l&&0<=h&&D[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==Y[h]){var te=`
`+D[l].replace(" at new "," at ");return t.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",t.displayName)),te}while(1<=l&&0<=h);break}}}finally{Pt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oe(a):""}function wn(t,i){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==i&&i!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Zt(t.type,!1);case 11:return Zt(t.type.render,!1);case 1:return Zt(t.type,!0);case 31:return Oe("Activity");default:return""}}function bn(t){try{var i="",a=null;do i+=wn(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var cn=Object.prototype.hasOwnProperty,zt=r.unstable_scheduleCallback,Cr=r.unstable_cancelCallback,ds=r.unstable_shouldYield,or=r.unstable_requestPaint,xt=r.unstable_now,yt=r.unstable_getCurrentPriorityLevel,mt=r.unstable_ImmediatePriority,at=r.unstable_UserBlockingPriority,hn=r.unstable_NormalPriority,ui=r.unstable_LowPriority,Xn=r.unstable_IdlePriority,Sn=r.log,fn=r.unstable_setDisableYieldValue,An=null,Rt=null;function nt(t){if(typeof Sn=="function"&&fn(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(An,t)}catch{}}var It=Math.clz32?Math.clz32:Fi,Ri=Math.log,Jn=Math.LN2;function Fi(t){return t>>>=0,t===0?32:31-(Ri(t)/Jn|0)|0}var Gi=256,Ii=262144,lr=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ci(l):(v&=b,v!==0?h=ci(v):a||(a=b&~t,a!==0&&(h=ci(a))))):(b=l&~d,b!==0?h=ci(b):v!==0?h=ci(v):a||(a=l&~t,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ur(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ms(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(){var t=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),t}function Zn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Qi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qt(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,Y=t.hiddenUpdates;for(a=v&~a;0<a;){var te=31-It(a),ae=1<<te;b[te]=0,D[te]=-1;var $=Y[te];if($!==null)for(Y[te]=null,te=0;te<$.length;te++){var J=$[te];J!==null&&(J.lane&=-536870913)}a&=~ae}l!==0&&xr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function xr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-It(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Yi(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-It(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function cr(t,i){var a=i&-i;return a=(a&42)!==0?1:Nr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ps(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rn(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function Fn(t,i){var a=he.p;try{return he.p=t,i()}finally{he.p=a}}var Ci=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Ci,$t="__reactProps$"+Ci,xi="__reactContainer$"+Ci,hr="__reactEvents$"+Ci,Gn="__reactListeners$"+Ci,no="__reactHandles$"+Ci,Ta="__reactResources$"+Ci,Ln="__reactMarker$"+Ci;function Dr(t){delete t[Nt],delete t[$t],delete t[hr],delete t[Gn],delete t[no]}function ei(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[xi]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=R_(t);t!==null;){if(a=t[Nt])return a;t=R_(t)}return i}t=a,a=t.parentNode}return null}function Ni(t){if(t=t[Nt]||t[xi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Mr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function hi(t){var i=t[Ta];return i||(i=t[Ta]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Lt(t){t[Ln]=!0}var gs=new Set,fr={};function In(t,i){Di(t,i),Di(t+"Capture",i)}function Di(t,i){for(fr[t]=i,t=0;t<i.length;t++)gs.add(i[t])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ki={},$i={};function Xi(t){return cn.call($i,t)?!0:cn.call(Ki,t)?!1:ul.test(t)?$i[t]=!0:(Ki[t]=!0,!1)}function ft(t,i,a){if(Xi(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function fi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Cn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Or(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ys(t){if(!t._valueTracker){var i=Or(t)?"checked":"value";t._valueTracker=cl(t,i,""+t[i])}}function wa(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ji=/[\n"\\]/g;function bt(t){return t.replace(Ji,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dr(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?_s(t,v,Ht(i)):a!=null?_s(t,v,Ht(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ht(b):t.removeAttribute("name")}function Vr(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ys(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ys(t)}function _s(t,i,a){i==="number"&&vs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function it(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Wi(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Un(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ys(t)}function S(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var U=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function G(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||U.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ne(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&G(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&G(t,d,i[d])}function ge(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ve=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $e(t){return ve.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ue(){}var Qe=null;function Le(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dt=null,Ft=null;function kr(t){var i=Ni(t);if(i&&(t=i.stateNode)){var a=t[$t]||null;e:switch(t=i.stateNode,i.type){case"input":if(dr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(s(90));dr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&wa(l)}break e;case"textarea":Wi(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&it(t,!!a.multiple,i,!1)}}}var Zi=!1;function er(t,i,a){if(Zi)return t(i,a);Zi=!0;try{var l=t(i);return l}finally{if(Zi=!1,(Dt!==null||Ft!==null)&&(qc(),Dt&&(i=Dt,t=Ft,Ft=Dt=null,kr(i),t)))for(i=0;i<t.length;i++)kr(t[i])}}function en(t,i){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=!1;if(vt)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){hl=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{hl=!1}var di=null,io=null,pr=null;function Es(){if(pr)return pr;var t,i=io,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return pr=h.slice(t,1<l?1-l:void 0)}function ba(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function Mt(){return!1}function zn(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ts:Mt,this.isPropagationStopped=Mt,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),i}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=zn(Pr),ws=w({},Pr,{view:0,detail:0}),Yu=zn(ws),bs,ro,Qn,Aa=w({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(bs=t.screenX-Qn.screenX,ro=t.screenY-Qn.screenY):ro=bs=0,Qn=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),Ku=zn(Aa),Ra=w({},Aa,{dataTransfer:0}),$u=zn(Ra),fl=w({},ws,{relatedTarget:0}),Ss=zn(fl),Xu=w({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),so=zn(Xu),Sf=w({},Pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=zn(Sf),Ia=w({},Pr,{data:0}),dl=zn(Ia),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pl[t])?!!i[t]:!1}function As(){return Zu}var ec=w({},ws,{key:function(t){if(t.key){var i=Wu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ml[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tc=zn(ec),Lr=w({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=zn(Lr),nc=w({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),ic=zn(nc),rc=w({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ao=zn(rc),Yn=w({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sc=zn(Yn),ac=w({},Pr,{newState:0,oldState:0}),Rs=zn(ac),c=[9,13,27,32],y=vt&&"CompositionEvent"in window,_=null;vt&&"documentMode"in document&&(_=document.documentMode);var A=vt&&"TextEvent"in window&&!_,F=vt&&(!y||_&&8<_&&11>=_),W=" ",me=!1;function dt(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fe=!1;function gn(t,i){switch(t){case"compositionend":return tn(i);case"keypress":return i.which!==32?null:(me=!0,W);case"textInput":return t=i.data,t===W&&me?null:t;default:return null}}function yn(t,i){if(Fe)return t==="compositionend"||!y&&dt(t,i)?(t=Es(),pr=io=di=null,Fe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return F&&i.locale!=="ko"?null:i.data;default:return null}}var Is={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ti(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Is[t.type]:i==="textarea"}function Ca(t,i,a,l){Dt?Ft?Ft.push(l):Ft=[l]:Dt=l,i=$c(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ur=null,yl=null;function $1(t){f_(t,0)}function oc(t){var i=Mr(t);if(wa(i))return t}function Dg(t,i){if(t==="change")return i}var Mg=!1;if(vt){var Af;if(vt){var Rf="oninput"in document;if(!Rf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Rf=typeof Og.oninput=="function"}Af=Rf}else Af=!1;Mg=Af&&(!document.documentMode||9<document.documentMode)}function Vg(){Ur&&(Ur.detachEvent("onpropertychange",kg),yl=Ur=null)}function kg(t){if(t.propertyName==="value"&&oc(yl)){var i=[];Ca(i,yl,t,Le(t)),er($1,i)}}function X1(t,i,a){t==="focusin"?(Vg(),Ur=i,yl=a,Ur.attachEvent("onpropertychange",kg)):t==="focusout"&&Vg()}function J1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(yl)}function W1(t,i){if(t==="click")return oc(i)}function Z1(t,i){if(t==="input"||t==="change")return oc(i)}function eb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mi=typeof Object.is=="function"?Object.is:eb;function vl(t,i){if(mi(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!cn.call(i,h)||!mi(t[h],i[h]))return!1}return!0}function Pg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,i){var a=Pg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function Ug(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ug(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vs(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var tb=vt&&"documentMode"in document&&11>=document.documentMode,oo=null,Cf=null,_l=null,xf=!1;function jg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||oo==null||oo!==vs(l)||(l=oo,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=$c(Cf,"onSelect"),0<l.length&&(i=new Sa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oo)))}function xa(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var lo={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Nf={},Bg={};vt&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Na(t){if(Nf[t])return Nf[t];if(!lo[t])return t;var i=lo[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bg)return Nf[t]=i[a];return t}var qg=Na("animationend"),Hg=Na("animationiteration"),Fg=Na("animationstart"),nb=Na("transitionrun"),ib=Na("transitionstart"),rb=Na("transitioncancel"),Gg=Na("transitionend"),Qg=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function tr(t,i){Qg.set(t,i),In(i,[t])}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mi=[],uo=0,Mf=0;function uc(){for(var t=uo,i=Mf=uo=0;i<t;){var a=Mi[i];Mi[i++]=null;var l=Mi[i];Mi[i++]=null;var h=Mi[i];Mi[i++]=null;var d=Mi[i];if(Mi[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Yg(a,h,d)}}function cc(t,i,a,l){Mi[uo++]=t,Mi[uo++]=i,Mi[uo++]=a,Mi[uo++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,i,a,l){return cc(t,i,a,l),hc(t)}function Da(t,i){return cc(t,null,null,i),hc(t)}function Yg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-It(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function hc(t){if(50<Bl)throw Bl=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var co={};function sb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(t,i,a,l){return new sb(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,i){var a=t.alternate;return a===null?(a=pi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=cS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=pi(31,a,i,h),t.elementType=C,t.lanes=d,t;case Z:return Ma(a.children,h,d,i);case B:v=8,h|=24;break;case ue:return t=pi(12,a,i,h|2),t.elementType=ue,t.lanes=d,t;case Pe:return t=pi(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case Ne:return t=pi(19,a,i,h),t.elementType=Ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:v=10;break e;case ce:v=9;break e;case Se:v=11;break e;case N:v=14;break e;case I:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=pi(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ma(t,i,a,l){return t=pi(7,t,l,i),t.lanes=a,t}function kf(t,i,a){return t=pi(6,t,null,i),t.lanes=a,t}function $g(t){var i=pi(18,null,null,0);return i.stateNode=t,i}function Pf(t,i,a){return i=pi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Xg=new WeakMap;function Oi(t,i){if(typeof t=="object"&&t!==null){var a=Xg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:bn(i)},Xg.set(t,i),i)}return{value:t,source:i,stack:bn(i)}}var ho=[],fo=0,dc=null,El=0,Vi=[],ki=0,Cs=null,gr=1,yr="";function jr(t,i){ho[fo++]=El,ho[fo++]=dc,dc=t,El=i}function Jg(t,i,a){Vi[ki++]=gr,Vi[ki++]=yr,Vi[ki++]=Cs,Cs=t;var l=gr;t=yr;var h=32-It(l)-1;l&=~(1<<h),a+=1;var d=32-It(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,gr=1<<32-It(i)+h|a<<h|l,yr=d+t}else gr=1<<d|a<<h|l,yr=t}function Lf(t){t.return!==null&&(jr(t,1),Jg(t,1,0))}function Uf(t){for(;t===dc;)dc=ho[--fo],ho[fo]=null,El=ho[--fo],ho[fo]=null;for(;t===Cs;)Cs=Vi[--ki],Vi[ki]=null,yr=Vi[--ki],Vi[ki]=null,gr=Vi[--ki],Vi[ki]=null}function Wg(t,i){Vi[ki++]=gr,Vi[ki++]=yr,Vi[ki++]=Cs,gr=i.id,yr=i.overflow,Cs=t}var xn=null,Ot=null,tt=!1,xs=null,Pi=!1,zf=Error(s(519));function Ns(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(Oi(i,t)),zf}function Zg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[$t]=l,a){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Ke(Hl[a],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),Vr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),Un(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||g_(i.textContent,a)?(l.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),l.onScroll!=null&&Ke("scroll",i),l.onScrollEnd!=null&&Ke("scrollend",i),l.onClick!=null&&(i.onclick=Ue),i=!0):i=!1,i||Ns(t,!0)}function ey(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:xn=xn.return}}function mo(t){if(t!==xn)return!1;if(!tt)return ey(t),tt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&Ot&&Ns(t),ey(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ot=A_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ot=A_(t)}else i===27?(i=Ot,Fs(t.type)?(t=lm,lm=null,Ot=t):Ot=i):Ot=xn?Ui(t.stateNode.nextSibling):null;return!0}function Oa(){Ot=xn=null,tt=!1}function jf(){var t=xs;return t!==null&&(si===null?si=t:si.push.apply(si,t),xs=null),t}function Tl(t){xs===null?xs=[t]:xs.push(t)}var Bf=T(null),Va=null,Br=null;function Ds(t,i,a){X(Bf,i._currentValue),i._currentValue=a}function qr(t){t._currentValue=Bf.current,q(Bf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function po(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;mi(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===de.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}h=h.return}t!==null&&Hf(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!mi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ka(t){Va=t,Br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return ty(Va,t)}function pc(t,i){return Va===null&&ka(t),ty(t,i)}function ty(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Br===null){if(t===null)throw Error(s(308));Br=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Br=Br.next=i;return a}var ab=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ob=r.unstable_scheduleCallback,lb=r.unstable_NormalPriority,nn={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new ab,data:new Map,refCount:0}}function wl(t){t.refCount--,t.refCount===0&&ob(lb,function(){t.controller.abort()})}var bl=null,Gf=0,go=0,yo=null;function ub(t,i){if(bl===null){var a=bl=[];Gf=0,go=Kd(),yo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(ny,ny),i}function ny(){if(--Gf===0&&bl!==null){yo!==null&&(yo.status="fulfilled");var t=bl;bl=null,go=0,yo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var iy=ee.S;ee.S=function(t,i){jv=xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ub(t,i),iy!==null&&iy(t,i)};var Pa=T(null);function Qf(){var t=Pa.current;return t!==null?t:St.pooledCache}function gc(t,i){i===null?X(Pa,Pa.current):X(Pa,i.pool)}function ry(){var t=Qf();return t===null?null:{parent:nn._currentValue,pool:t}}var vo=Error(s(460)),Yf=Error(s(474)),yc=Error(s(542)),vc={then:function(){}};function sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ay(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ue,Ue),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ly(t),t;default:if(typeof i.status=="string")i.then(Ue,Ue);else{if(t=St,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ly(t),t}throw Ua=i,vo}}function La(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ua=a,vo):a}}var Ua=null;function oy(){if(Ua===null)throw Error(s(459));var t=Ua;return Ua=null,t}function ly(t){if(t===vo||t===yc)throw Error(s(483))}var _o=null,Sl=0;function _c(t){var i=Sl;return Sl+=1,_o===null&&(_o=[]),ay(_o,t,i)}function Al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ec(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function uy(t){function i(j,O){if(t){var Q=j.deletions;Q===null?(j.deletions=[O],j.flags|=16):Q.push(O)}}function a(j,O){if(!t)return null;for(;O!==null;)i(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=zr(j,O),j.index=0,j.sibling=null,j}function d(j,O,Q){return j.index=Q,t?(Q=j.alternate,Q!==null?(Q=Q.index,Q<O?(j.flags|=67108866,O):Q):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,O,Q,ie){return O===null||O.tag!==6?(O=kf(Q,j.mode,ie),O.return=j,O):(O=h(O,Q),O.return=j,O)}function D(j,O,Q,ie){var Ie=Q.type;return Ie===Z?te(j,O,Q.props.children,ie,Q.key):O!==null&&(O.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&La(Ie)===O.type)?(O=h(O,Q.props),Al(O,Q),O.return=j,O):(O=fc(Q.type,Q.key,Q.props,null,j.mode,ie),Al(O,Q),O.return=j,O)}function Y(j,O,Q,ie){return O===null||O.tag!==4||O.stateNode.containerInfo!==Q.containerInfo||O.stateNode.implementation!==Q.implementation?(O=Pf(Q,j.mode,ie),O.return=j,O):(O=h(O,Q.children||[]),O.return=j,O)}function te(j,O,Q,ie,Ie){return O===null||O.tag!==7?(O=Ma(Q,j.mode,ie,Ie),O.return=j,O):(O=h(O,Q),O.return=j,O)}function ae(j,O,Q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=kf(""+O,j.mode,Q),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return Q=fc(O.type,O.key,O.props,null,j.mode,Q),Al(Q,O),Q.return=j,Q;case K:return O=Pf(O,j.mode,Q),O.return=j,O;case I:return O=La(O),ae(j,O,Q)}if(ht(O)||z(O))return O=Ma(O,j.mode,Q,null),O.return=j,O;if(typeof O.then=="function")return ae(j,_c(O),Q);if(O.$$typeof===se)return ae(j,pc(j,O),Q);Ec(j,O)}return null}function $(j,O,Q,ie){var Ie=O!==null?O.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:b(j,O,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return Q.key===Ie?D(j,O,Q,ie):null;case K:return Q.key===Ie?Y(j,O,Q,ie):null;case I:return Q=La(Q),$(j,O,Q,ie)}if(ht(Q)||z(Q))return Ie!==null?null:te(j,O,Q,ie,null);if(typeof Q.then=="function")return $(j,O,_c(Q),ie);if(Q.$$typeof===se)return $(j,O,pc(j,Q),ie);Ec(j,Q)}return null}function J(j,O,Q,ie,Ie){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(Q)||null,b(O,j,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case P:return j=j.get(ie.key===null?Q:ie.key)||null,D(O,j,ie,Ie);case K:return j=j.get(ie.key===null?Q:ie.key)||null,Y(O,j,ie,Ie);case I:return ie=La(ie),J(j,O,Q,ie,Ie)}if(ht(ie)||z(ie))return j=j.get(Q)||null,te(O,j,ie,Ie,null);if(typeof ie.then=="function")return J(j,O,Q,_c(ie),Ie);if(ie.$$typeof===se)return J(j,O,Q,pc(O,ie),Ie);Ec(O,ie)}return null}function Te(j,O,Q,ie){for(var Ie=null,lt=null,be=O,Be=O=0,Je=null;be!==null&&Be<Q.length;Be++){be.index>Be?(Je=be,be=null):Je=be.sibling;var ut=$(j,be,Q[Be],ie);if(ut===null){be===null&&(be=Je);break}t&&be&&ut.alternate===null&&i(j,be),O=d(ut,O,Be),lt===null?Ie=ut:lt.sibling=ut,lt=ut,be=Je}if(Be===Q.length)return a(j,be),tt&&jr(j,Be),Ie;if(be===null){for(;Be<Q.length;Be++)be=ae(j,Q[Be],ie),be!==null&&(O=d(be,O,Be),lt===null?Ie=be:lt.sibling=be,lt=be);return tt&&jr(j,Be),Ie}for(be=l(be);Be<Q.length;Be++)Je=J(be,j,Be,Q[Be],ie),Je!==null&&(t&&Je.alternate!==null&&be.delete(Je.key===null?Be:Je.key),O=d(Je,O,Be),lt===null?Ie=Je:lt.sibling=Je,lt=Je);return t&&be.forEach(function($s){return i(j,$s)}),tt&&jr(j,Be),Ie}function De(j,O,Q,ie){if(Q==null)throw Error(s(151));for(var Ie=null,lt=null,be=O,Be=O=0,Je=null,ut=Q.next();be!==null&&!ut.done;Be++,ut=Q.next()){be.index>Be?(Je=be,be=null):Je=be.sibling;var $s=$(j,be,ut.value,ie);if($s===null){be===null&&(be=Je);break}t&&be&&$s.alternate===null&&i(j,be),O=d($s,O,Be),lt===null?Ie=$s:lt.sibling=$s,lt=$s,be=Je}if(ut.done)return a(j,be),tt&&jr(j,Be),Ie;if(be===null){for(;!ut.done;Be++,ut=Q.next())ut=ae(j,ut.value,ie),ut!==null&&(O=d(ut,O,Be),lt===null?Ie=ut:lt.sibling=ut,lt=ut);return tt&&jr(j,Be),Ie}for(be=l(be);!ut.done;Be++,ut=Q.next())ut=J(be,j,Be,ut.value,ie),ut!==null&&(t&&ut.alternate!==null&&be.delete(ut.key===null?Be:ut.key),O=d(ut,O,Be),lt===null?Ie=ut:lt.sibling=ut,lt=ut);return t&&be.forEach(function(TS){return i(j,TS)}),tt&&jr(j,Be),Ie}function Tt(j,O,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===Z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:e:{for(var Ie=Q.key;O!==null;){if(O.key===Ie){if(Ie=Q.type,Ie===Z){if(O.tag===7){a(j,O.sibling),ie=h(O,Q.props.children),ie.return=j,j=ie;break e}}else if(O.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&La(Ie)===O.type){a(j,O.sibling),ie=h(O,Q.props),Al(ie,Q),ie.return=j,j=ie;break e}a(j,O);break}else i(j,O);O=O.sibling}Q.type===Z?(ie=Ma(Q.props.children,j.mode,ie,Q.key),ie.return=j,j=ie):(ie=fc(Q.type,Q.key,Q.props,null,j.mode,ie),Al(ie,Q),ie.return=j,j=ie)}return v(j);case K:e:{for(Ie=Q.key;O!==null;){if(O.key===Ie)if(O.tag===4&&O.stateNode.containerInfo===Q.containerInfo&&O.stateNode.implementation===Q.implementation){a(j,O.sibling),ie=h(O,Q.children||[]),ie.return=j,j=ie;break e}else{a(j,O);break}else i(j,O);O=O.sibling}ie=Pf(Q,j.mode,ie),ie.return=j,j=ie}return v(j);case I:return Q=La(Q),Tt(j,O,Q,ie)}if(ht(Q))return Te(j,O,Q,ie);if(z(Q)){if(Ie=z(Q),typeof Ie!="function")throw Error(s(150));return Q=Ie.call(Q),De(j,O,Q,ie)}if(typeof Q.then=="function")return Tt(j,O,_c(Q),ie);if(Q.$$typeof===se)return Tt(j,O,pc(j,Q),ie);Ec(j,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,O!==null&&O.tag===6?(a(j,O.sibling),ie=h(O,Q),ie.return=j,j=ie):(a(j,O),ie=kf(Q,j.mode,ie),ie.return=j,j=ie),v(j)):a(j,O)}return function(j,O,Q,ie){try{Sl=0;var Ie=Tt(j,O,Q,ie);return _o=null,Ie}catch(be){if(be===vo||be===yc)throw be;var lt=pi(29,be,null,j.mode);return lt.lanes=ie,lt.return=j,lt}finally{}}}var za=uy(!0),cy=uy(!1),Ms=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ct&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=hc(t),Yg(t,null,a),i}return cc(t,l,i,a),hc(t)}function Rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Yi(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function Il(){if(Jf){var t=yo;if(t!==null)throw t}}function Cl(t,i,a,l){Jf=!1;var h=t.updateQueue;Ms=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,Y=D.next;D.next=null,v===null?d=Y:v.next=Y,v=D;var te=t.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==v&&(b===null?te.firstBaseUpdate=Y:b.next=Y,te.lastBaseUpdate=D))}if(d!==null){var ae=h.baseState;v=0,te=Y=D=null,b=d;do{var $=b.lane&-536870913,J=$!==b.lane;if(J?(Xe&$)===$:(l&$)===$){$!==0&&$===go&&(Jf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,De=b;$=i;var Tt=a;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){ae=Te.call(Tt,ae,$);break e}ae=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,$=typeof Te=="function"?Te.call(Tt,ae,$):Te,$==null)break e;ae=w({},ae,$);break e;case 2:Ms=!0}}$=b.callback,$!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[$]:J.push($))}else J={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(Y=te=J,D=ae):te=te.next=J,v|=$;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;J=b,b=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);te===null&&(D=ae),h.baseState=D,h.firstBaseUpdate=Y,h.lastBaseUpdate=te,d===null&&(h.shared.lanes=0),zs|=v,t.lanes=v,t.memoizedState=ae}}function hy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function fy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hy(a[t],i)}var Eo=T(null),Tc=T(0);function dy(t,i){t=Jr,X(Tc,t),X(Eo,i),Jr=t|i.baseLanes}function Wf(){X(Tc,Jr),X(Eo,Eo.current)}function Zf(){Jr=Tc.current,q(Eo),q(Tc)}var gi=T(null),Li=null;function ks(t){var i=t.alternate;X(Xt,Xt.current&1),X(gi,t),Li===null&&(i===null||Eo.current!==null||i.memoizedState!==null)&&(Li=t)}function ed(t){X(Xt,Xt.current),X(gi,t),Li===null&&(Li=t)}function my(t){t.tag===22?(X(Xt,Xt.current),X(gi,t),Li===null&&(Li=t)):Ps()}function Ps(){X(Xt,Xt.current),X(gi,gi.current)}function yi(t){q(gi),Li===t&&(Li=null),q(Xt)}var Xt=T(0);function wc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||am(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Hr=0,je=null,_t=null,rn=null,bc=!1,To=!1,ja=!1,Sc=0,xl=0,wo=null,hb=0;function Gt(){throw Error(s(321))}function td(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!mi(t[a],i[a]))return!1;return!0}function nd(t,i,a,l,h,d){return Hr=d,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=t===null||t.memoizedState===null?Jy:yd,ja=!1,d=a(l,h),ja=!1,To&&(d=gy(i,a,l,h)),py(t),d}function py(t){ee.H=Ml;var i=_t!==null&&_t.next!==null;if(Hr=0,rn=_t=je=null,bc=!1,xl=0,wo=null,i)throw Error(s(300));t===null||sn||(t=t.dependencies,t!==null&&mc(t)&&(sn=!0))}function gy(t,i,a,l){je=t;var h=0;do{if(To&&(wo=null),xl=0,To=!1,25<=h)throw Error(s(301));if(h+=1,rn=_t=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=Wy,d=i(a,l)}while(To);return d}function fb(){var t=ee.H,i=t.useState()[0];return i=typeof i.then=="function"?Nl(i):i,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(je.flags|=1024),i}function id(){var t=Sc!==0;return Sc=0,t}function rd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sd(t){if(bc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}bc=!1}Hr=0,rn=_t=je=null,To=!1,xl=Sc=0,wo=null}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?je.memoizedState=rn=t:rn=rn.next=t,rn}function Jt(){if(_t===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var i=rn===null?je.memoizedState:rn.next;if(i!==null)rn=i,_t=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},rn===null?je.memoizedState=rn=t:rn=rn.next=t}return rn}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var i=xl;return xl+=1,wo===null&&(wo=[]),t=ay(wo,t,i),i=je,(rn===null?i.memoizedState:rn.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?Jy:yd),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===se)return Nn(t)}throw Error(s(438,String(t)))}function ad(t){var i=null,a=je.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ac(),je.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Fr(t,i){return typeof i=="function"?i(t):i}function Ic(t){var i=Jt();return od(i,_t,t)}function od(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,D=null,Y=i,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Xe&ae)===ae:(Hr&ae)===ae){var $=Y.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===go&&(te=!0);else if((Hr&$)===$){Y=Y.next,$===go&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(b=D=ae,v=d):D=D.next=ae,je.lanes|=$,zs|=$;ae=Y.action,ja&&a(d,ae),d=Y.hasEagerState?Y.eagerState:a(d,ae)}else $={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(b=D=$,v=d):D=D.next=$,je.lanes|=ae,zs|=ae;Y=Y.next}while(Y!==null&&Y!==i);if(D===null?v=d:D.next=b,!mi(d,t.memoizedState)&&(sn=!0,te&&(a=yo,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var i=Jt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mi(d,i.memoizedState)||(sn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function yy(t,i,a){var l=je,h=Jt(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!mi((_t||h).memoizedState,a);if(v&&(h.memoizedState=a,sn=!0),h=h.queue,hd(Ey.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||rn!==null&&rn.memoizedState.tag&1){if(l.flags|=2048,bo(9,{destroy:void 0},_y.bind(null,l,h,a,i),null),St===null)throw Error(s(349));d||(Hr&127)!==0||vy(l,i,a)}return a}function vy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=je.updateQueue,i===null?(i=Ac(),je.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function _y(t,i,a,l){i.value=a,i.getSnapshot=l,Ty(i)&&wy(t)}function Ey(t,i,a){return a(function(){Ty(i)&&wy(t)})}function Ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!mi(t,a)}catch{return!0}}function wy(t){var i=Da(t,2);i!==null&&ai(i,t,2)}function ud(t){var i=Kn();if(typeof t=="function"){var a=t;if(t=a(),ja){nt(!0);try{a()}finally{nt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:t},i}function by(t,i,a,l){return t.baseState=a,od(t,_t,typeof l=="function"?l:Fr)}function db(t,i,a,l,h){if(Nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};ee.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Sy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Sy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=ee.T,v={};ee.T=v;try{var b=a(h,l),D=ee.S;D!==null&&D(v,b),Ay(t,i,b)}catch(Y){cd(t,i,Y)}finally{d!==null&&v.types!==null&&(d.types=v.types),ee.T=d}}else try{d=a(h,l),Ay(t,i,d)}catch(Y){cd(t,i,Y)}}function Ay(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ry(t,i,l)},function(l){return cd(t,i,l)}):Ry(t,i,a)}function Ry(t,i,a){i.status="fulfilled",i.value=a,Iy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Sy(t,a)))}function cd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Iy(i),i=i.next;while(i!==l)}t.action=null}function Iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Cy(t,i){return i}function xy(t,i){if(tt){var a=St.formState;if(a!==null){e:{var l=je;if(tt){if(Ot){t:{for(var h=Ot,d=Pi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ui(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ot=Ui(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=Kn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:i},a.queue=l,a=Ky.bind(null,je,l),l.dispatch=a,l=ud(!1),d=gd.bind(null,je,!1,l.queue),l=Kn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=db.bind(null,je,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ny(t){var i=Jt();return Dy(i,_t,t)}function Dy(t,i,a){if(i=od(t,i,Cy)[0],t=Ic(Fr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Nl(i)}catch(v){throw v===vo?yc:v}else l=i;i=Jt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(je.flags|=2048,bo(9,{destroy:void 0},mb.bind(null,h,a),null)),[l,d,t]}function mb(t,i){t.action=i}function My(t){var i=Jt(),a=_t;if(a!==null)return Dy(i,a,t);Jt(),i=i.memoizedState,a=Jt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function bo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=je.updateQueue,i===null&&(i=Ac(),je.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Oy(){return Jt().memoizedState}function Cc(t,i,a,l){var h=Kn();je.flags|=t,h.memoizedState=bo(1|i,{destroy:void 0},a,l===void 0?null:l)}function xc(t,i,a,l){var h=Jt();l=l===void 0?null:l;var d=h.memoizedState.inst;_t!==null&&l!==null&&td(l,_t.memoizedState.deps)?h.memoizedState=bo(i,d,a,l):(je.flags|=t,h.memoizedState=bo(1|i,d,a,l))}function Vy(t,i){Cc(8390656,8,t,i)}function hd(t,i){xc(2048,8,t,i)}function pb(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=Ac(),je.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ky(t){var i=Jt().memoizedState;return pb({ref:i,nextImpl:t}),function(){if((ct&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Py(t,i){return xc(4,2,t,i)}function Ly(t,i){return xc(4,4,t,i)}function Uy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zy(t,i,a){a=a!=null?a.concat([t]):null,xc(4,4,Uy.bind(null,i,t),a)}function fd(){}function jy(t,i){var a=Jt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function By(t,i){var a=Jt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=t(),ja){nt(!0);try{t()}finally{nt(!1)}}return a.memoizedState=[l,i],l}function dd(t,i,a){return a===void 0||(Hr&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=qv(),je.lanes|=t,zs|=t,a)}function qy(t,i,a,l){return mi(a,i)?a:Eo.current!==null?(t=dd(t,a,l),mi(t,i)||(sn=!0),t):(Hr&42)===0||(Hr&1073741824)!==0&&(Xe&261930)===0?(sn=!0,t.memoizedState=a):(t=qv(),je.lanes|=t,zs|=t,i)}function Hy(t,i,a,l,h){var d=he.p;he.p=d!==0&&8>d?d:8;var v=ee.T,b={};ee.T=b,gd(t,!1,i,a);try{var D=h(),Y=ee.S;if(Y!==null&&Y(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=cb(D,l);Dl(t,i,te,Ei(t))}else Dl(t,i,l,Ei(t))}catch(ae){Dl(t,i,{then:function(){},status:"rejected",reason:ae},Ei())}finally{he.p=d,v!==null&&b.types!==null&&(v.types=b.types),ee.T=v}}function gb(){}function md(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Fy(t).queue;Hy(t,h,i,Ee,a===null?gb:function(){return Gy(t),a(l)})}function Fy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:Ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Gy(t){var i=Fy(t);i.next===null&&(i=t.alternate.memoizedState),Dl(t,i.next.queue,{},Ei())}function pd(){return Nn(Kl)}function Qy(){return Jt().memoizedState}function Yy(){return Jt().memoizedState}function yb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Ei();t=Os(a);var l=Vs(i,t,a);l!==null&&(ai(l,i,a),Rl(l,i,a)),i={cache:Ff()},t.payload=i;return}i=i.return}}function vb(t,i,a){var l=Ei();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?$y(i,a):(a=Of(t,i,a,l),a!==null&&(ai(a,t,l),Xy(a,i,l)))}function Ky(t,i,a){var l=Ei();Dl(t,i,a,l)}function Dl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))$y(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,mi(b,v))return cc(t,i,h,0),St===null&&uc(),!1}catch{}finally{}if(a=Of(t,i,h,l),a!==null)return ai(a,t,l),Xy(a,i,l),!0}return!1}function gd(t,i,a,l){if(l={lane:2,revertLane:Kd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(i)throw Error(s(479))}else i=Of(t,a,l,2),i!==null&&ai(i,t,2)}function Nc(t){var i=t.alternate;return t===je||i!==null&&i===je}function $y(t,i){To=bc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Xy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Yi(t,a)}}var Ml={readContext:Nn,use:Rc,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt};Ml.useEffectEvent=Gt;var Jy={readContext:Nn,use:Rc,useCallback:function(t,i){return Kn().memoizedState=[t,i===void 0?null:i],t},useContext:Nn,useEffect:Vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Cc(4194308,4,Uy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Cc(4194308,4,t,i)},useInsertionEffect:function(t,i){Cc(4,2,t,i)},useMemo:function(t,i){var a=Kn();i=i===void 0?null:i;var l=t();if(ja){nt(!0);try{t()}finally{nt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Kn();if(a!==void 0){var h=a(i);if(ja){nt(!0);try{a(i)}finally{nt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=vb.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var i=Kn();return t={current:t},i.memoizedState=t},useState:function(t){t=ud(t);var i=t.queue,a=Ky.bind(null,je,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:fd,useDeferredValue:function(t,i){var a=Kn();return dd(a,t,i)},useTransition:function(){var t=ud(!1);return t=Hy.bind(null,je,t.queue,!0,!1),Kn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=je,h=Kn();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),St===null)throw Error(s(349));(Xe&127)!==0||vy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Vy(Ey.bind(null,l,d,t),[t]),l.flags|=2048,bo(9,{destroy:void 0},_y.bind(null,l,d,a,i),null),a},useId:function(){var t=Kn(),i=St.identifierPrefix;if(tt){var a=yr,l=gr;a=(l&~(1<<32-It(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:pd,useFormState:xy,useActionState:xy,useOptimistic:function(t){var i=Kn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gd.bind(null,je,!0,a),a.dispatch=i,[t,i]},useMemoCache:ad,useCacheRefresh:function(){return Kn().memoizedState=yb.bind(null,je)},useEffectEvent:function(t){var i=Kn(),a={impl:t};return i.memoizedState=a,function(){if((ct&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},yd={readContext:Nn,use:Rc,useCallback:jy,useContext:Nn,useEffect:hd,useImperativeHandle:zy,useInsertionEffect:Py,useLayoutEffect:Ly,useMemo:By,useReducer:Ic,useRef:Oy,useState:function(){return Ic(Fr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Jt();return qy(a,_t.memoizedState,t,i)},useTransition:function(){var t=Ic(Fr)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:yy,useId:Qy,useHostTransitionStatus:pd,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,i){var a=Jt();return by(a,_t,t,i)},useMemoCache:ad,useCacheRefresh:Yy};yd.useEffectEvent=ky;var Wy={readContext:Nn,use:Rc,useCallback:jy,useContext:Nn,useEffect:hd,useImperativeHandle:zy,useInsertionEffect:Py,useLayoutEffect:Ly,useMemo:By,useReducer:ld,useRef:Oy,useState:function(){return ld(Fr)},useDebugValue:fd,useDeferredValue:function(t,i){var a=Jt();return _t===null?dd(a,t,i):qy(a,_t.memoizedState,t,i)},useTransition:function(){var t=ld(Fr)[0],i=Jt().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:yy,useId:Qy,useHostTransitionStatus:pd,useFormState:My,useActionState:My,useOptimistic:function(t,i){var a=Jt();return _t!==null?by(a,_t,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Yy};Wy.useEffectEvent=ky;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Ei(),h=Os(l);h.payload=i,a!=null&&(h.callback=a),i=Vs(t,h,l),i!==null&&(ai(i,t,l),Rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Ei(),h=Os(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vs(t,h,l),i!==null&&(ai(i,t,l),Rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Ei(),l=Os(a);l.tag=2,i!=null&&(l.callback=i),i=Vs(t,l,a),i!==null&&(ai(i,t,a),Rl(i,t,a))}};function Zy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!vl(a,l)||!vl(h,d):!0}function ev(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Ba(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function tv(t){lc(t)}function nv(t){console.error(t)}function iv(t){lc(t)}function Dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function rv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ed(t,i,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,i)},a}function sv(t){return t=Os(t),t.tag=3,t}function av(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){rv(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){rv(i,a,l),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function _b(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&po(i,a,h,!0),a=gi.current,a!==null){switch(a.tag){case 31:case 13:return Li===null?Hc():a.alternate===null&&Qt===0&&(Qt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gd(t,l,h)),!1;case 22:return a.flags|=65536,l===vc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gd(t,l,h)),!1}throw Error(s(435,a.tag))}return Gd(t,l,h),Hc(),!1}if(tt)return i=gi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),Tl(Oi(t,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),Tl(Oi(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Oi(l,a),h=Ed(t.stateNode,l,h),Xf(t,h),Qt!==4&&(Qt=2)),!1;var d=Error(s(520),{cause:l});if(d=Oi(d,a),jl===null?jl=[d]:jl.push(d),Qt!==4&&(Qt=2),i===null)return!0;l=Oi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ed(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(js===null||!js.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sv(h),av(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Td=Error(s(461)),sn=!1;function Dn(t,i,a,l){i.child=t===null?cy(i,null,a,l):za(i,t.child,a,l)}function ov(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return ka(i),l=nd(t,i,a,v,d,h),b=id(),t!==null&&!sn?(rd(t,i,h),Gr(t,i,h)):(tt&&b&&Lf(i),i.flags|=1,Dn(t,i,l,h),i.child)}function lv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,uv(t,i,d,l,h)):(t=fc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(v,l)&&t.ref===i.ref)return Gr(t,i,h)}return i.flags|=1,t=zr(d,l),t.ref=i.ref,t.return=i,i.child=t}function uv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(vl(d,l)&&t.ref===i.ref)if(sn=!1,i.pendingProps=l=d,xd(t,h))(t.flags&131072)!==0&&(sn=!0);else return i.lanes=t.lanes,Gr(t,i,h)}return wd(t,i,a,l,h)}function cv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return hv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(i,d!==null?d.cachePool:null),d!==null?dy(i,d):Wf(),my(i);else return l=i.lanes=536870912,hv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(gc(i,d.cachePool),dy(i,d),Ps(),i.memoizedState=null):(t!==null&&gc(i,null),Wf(),Ps());return Dn(t,i,h,a),i.child}function Ol(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function hv(t,i,a,l,h){var d=Qf();return d=d===null?null:{parent:nn._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(i,null),Wf(),my(i),t!==null&&po(t,i,l,!0),i.childLanes=h,null}function Mc(t,i){return i=Vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function fv(t,i,a){return za(i,t.child,null,a),t=Mc(i,i.pendingProps),t.flags|=2,yi(i),i.memoizedState=null,t}function Eb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(tt){if(l.mode==="hidden")return t=Mc(i,l),i.lanes=536870912,Ol(null,t);if(ed(i),(t=Ot)?(t=S_(t,Pi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:gr,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},a=$g(t),a.return=i,i.child=a,xn=i,Ot=null)):t=null,t===null)throw Ns(i);return i.lanes=536870912,null}return Mc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ed(i),h)if(i.flags&256)i.flags&=-257,i=fv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(sn||po(t,i,a,!1),h=(a&t.childLanes)!==0,sn||h){if(l=St,l!==null&&(v=cr(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Da(t,v),ai(l,t,v),Td;Hc(),i=fv(t,i,a)}else t=d.treeContext,Ot=Ui(v.nextSibling),xn=i,tt=!0,xs=null,Pi=!1,t!==null&&Wg(i,t),i=Mc(i,l),i.flags|=4096;return i}return t=zr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function wd(t,i,a,l,h){return ka(i),a=nd(t,i,a,l,void 0,h),l=id(),t!==null&&!sn?(rd(t,i,h),Gr(t,i,h)):(tt&&l&&Lf(i),i.flags|=1,Dn(t,i,a,h),i.child)}function dv(t,i,a,l,h,d){return ka(i),i.updateQueue=null,a=gy(i,l,a,h),py(t),l=id(),t!==null&&!sn?(rd(t,i,d),Gr(t,i,d)):(tt&&l&&Lf(i),i.flags|=1,Dn(t,i,a,d),i.child)}function mv(t,i,a,l,h){if(ka(i),i.stateNode===null){var d=co,v=a.contextType;typeof v=="object"&&v!==null&&(d=Nn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Nn(v):co,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&_d.enqueueReplaceState(d,d.state,null),Cl(i,l,d,h),Il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,D=Ba(a,b);d.props=D;var Y=d.context,te=a.contextType;v=co,typeof te=="object"&&te!==null&&(v=Nn(te));var ae=a.getDerivedStateFromProps;te=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Y!==v)&&ev(i,d,l,v),Ms=!1;var $=i.memoizedState;d.state=$,Cl(i,l,d,h),Il(),Y=i.memoizedState,b||$!==Y||Ms?(typeof ae=="function"&&(vd(i,a,ae,l),Y=i.memoizedState),(D=Ms||Zy(i,a,D,l,$,Y,v))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),v=i.memoizedProps,te=Ba(a,v),d.props=te,ae=i.pendingProps,$=d.context,Y=a.contextType,D=co,typeof Y=="object"&&Y!==null&&(D=Nn(Y)),b=a.getDerivedStateFromProps,(Y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ae||$!==D)&&ev(i,d,l,D),Ms=!1,$=i.memoizedState,d.state=$,Cl(i,l,d,h),Il();var J=i.memoizedState;v!==ae||$!==J||Ms||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),J=i.memoizedState),(te=Ms||Zy(i,a,te,l,$,J,D)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=D,l=te):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Oc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=za(i,t.child,null,h),i.child=za(i,null,a,h)):Dn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gr(t,i,h),t}function pv(t,i,a,l){return Oa(),i.flags|=256,Dn(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:ry()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=_i),t}function gv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(h?ks(i):Ps(),(t=Ot)?(t=S_(t,Pi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:gr,overflow:yr}:null,retryLane:536870912,hydrationErrors:null},a=$g(t),a.return=i,i.child=a,xn=i,Ot=null)):t=null,t===null)throw Ns(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ps(),h=i.mode,b=Vc({mode:"hidden",children:b},h),l=Ma(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,Ol(null,l)):(ks(i),Rd(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?(ks(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(Ps(),i.child=t.child,i.flags|=128,i=null):(Ps(),b=l.fallback,h=i.mode,l=Vc({mode:"visible",children:l.children},h),b=Ma(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,za(i,t.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,v,a),i.memoizedState=bd,i=Ol(null,l));else if(ks(i),om(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var Y=v.dgst;v=Y,l=Error(s(419)),l.stack="",l.digest=v,Tl({value:l,source:null,stack:null}),i=Id(t,i,a)}else if(sn||po(t,i,a,!1),v=(a&t.childLanes)!==0,sn||v){if(v=St,v!==null&&(l=cr(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Da(t,l),ai(v,t,l),Td;am(b)||Hc(),i=Id(t,i,a)}else am(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,Ot=Ui(b.nextSibling),xn=i,tt=!0,xs=null,Pi=!1,t!==null&&Wg(i,t),i=Rd(i,l.children),i.flags|=4096);return i}return h?(Ps(),b=l.fallback,h=i.mode,D=t.child,Y=D.sibling,l=zr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,Y!==null?b=zr(Y,b):(b=Ma(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Ol(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Sd(a):(h=b.cachePool,h!==null?(D=nn._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=ry(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Ad(t,v,a),i.memoizedState=bd,Ol(t.child,l)):(ks(i),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Rd(t,i){return i=Vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vc(t,i){return t=pi(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return za(i,t.child,null,a),t=Rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function yv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function Cd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function vv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=Xt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,X(Xt,v),Dn(t,i,l,a),l=tt?El:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yv(t,a,i);else if(t.tag===19)yv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Cd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&wc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Cd(i,!0,a,null,d,l);break;case"together":Cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(po(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=zr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function Tb(t,i,a){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),Ds(i,nn,t.memoizedState.cache),Oa();break;case 27:case 5:et(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:Ds(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ed(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?gv(t,i,a):(ks(i),t=Gr(t,i,a),t!==null?t.sibling:null);ks(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(po(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return vv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(Xt,Xt.current),l)break;return null;case 22:return i.lanes=0,cv(t,i,a,i.pendingProps);case 24:Ds(i,nn,t.memoizedState.cache)}return Gr(t,i,a)}function _v(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)sn=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return sn=!1,Tb(t,i,a);sn=(t.flags&131072)!==0}else sn=!1,tt&&(i.flags&1048576)!==0&&Jg(i,El,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=La(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Ba(t,l),i.tag=1,i=mv(null,i,t,l,a)):(i.tag=0,i=wd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Se){i.tag=11,i=ov(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=lv(null,i,t,l,a);break e}}throw i=Ct(t)||t,Error(s(306,i,""))}}return i;case 0:return wd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ba(l,i.pendingProps),mv(t,i,l,h,a);case 3:e:{if(Ae(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,$f(t,i),Cl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ds(i,nn,l),l!==d.cache&&Hf(i,[nn],a,!0),Il(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=pv(t,i,l,a);break e}else if(l!==h){h=Oi(Error(s(424)),i),Tl(h),i=pv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=Ui(t.firstChild),xn=i,tt=!0,xs=null,Pi=!0,a=cy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oa(),l===h){i=Gr(t,i,a);break e}Dn(t,i,l,a)}i=i.child}return i;case 26:return Oc(t,i),t===null?(a=N_(i.type,null,i.pendingProps,null))?i.memoizedState=a:tt||(a=i.type,t=i.pendingProps,l=Xc(pe.current).createElement(a),l[Nt]=i,l[$t]=t,Mn(l,a,t),Lt(l),i.stateNode=l):i.memoizedState=N_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return et(i),t===null&&tt&&(l=i.stateNode=I_(i.type,i.pendingProps,pe.current),xn=i,Pi=!0,h=Ot,Fs(i.type)?(lm=h,Ot=Ui(l.firstChild)):Ot=h),Dn(t,i,i.pendingProps.children,a),Oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((h=l=Ot)&&(l=Jb(l,i.type,i.pendingProps,Pi),l!==null?(i.stateNode=l,xn=i,Ot=Ui(l.firstChild),Pi=!1,h=!0):h=!1),h||Ns(i)),et(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,im(h,d)?l=null:v!==null&&im(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=nd(t,i,fb,null,null,a),Kl._currentValue=h),Oc(t,i),Dn(t,i,l,a),i.child;case 6:return t===null&&tt&&((t=a=Ot)&&(a=Wb(a,i.pendingProps,Pi),a!==null?(i.stateNode=a,xn=i,Ot=null,t=!0):t=!1),t||Ns(i)),null;case 13:return gv(t,i,a);case 4:return Ae(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=za(i,null,l,a):Dn(t,i,l,a),i.child;case 11:return ov(t,i,i.type,i.pendingProps,a);case 7:return Dn(t,i,i.pendingProps,a),i.child;case 8:return Dn(t,i,i.pendingProps.children,a),i.child;case 12:return Dn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ds(i,i.type,l.value),Dn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ka(i),h=Nn(h),l=l(h),i.flags|=1,Dn(t,i,l,a),i.child;case 14:return lv(t,i,i.type,i.pendingProps,a);case 15:return uv(t,i,i.type,i.pendingProps,a);case 19:return vv(t,i,a);case 31:return Eb(t,i,a);case 22:return cv(t,i,a,i.pendingProps);case 24:return ka(i),l=Nn(nn),t===null?(h=Qf(),h===null&&(h=St,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),Ds(i,nn,h)):((t.lanes&a)!==0&&($f(t,i),Cl(i,null,null,a),Il()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ds(i,nn,l)):(l=d.cache,Ds(i,nn,l),l!==h.cache&&Hf(i,[nn],a,!0))),Dn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qr(t){t.flags|=4}function Nd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Qv())t.flags|=8192;else throw Ua=vc,Yf}else t.flags&=-16777217}function Ev(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k_(i))if(Qv())t.flags|=8192;else throw Ua=vc,Yf}function kc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ea():536870912,t.lanes|=i,Io|=i)}function Vl(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Vt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function wb(t,i,a){var l=i.pendingProps;switch(Uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return Vt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qr(nn),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mo(i)?Qr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),Vt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Qr(i),d!==null?(Vt(i),Ev(i,d)):(Vt(i),Nd(i,h,null,l,a))):d?d!==t.memoizedState?(Qr(i),Vt(i),Ev(i,d)):(Vt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qr(i),Vt(i),Nd(i,h,t,l,a)),null;case 27:if(He(i),a=pe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}t=le.current,mo(i)?Zg(i):(t=I_(h,l,a),i.stateNode=t,Qr(i))}return Vt(i),null;case 5:if(He(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Vt(i),null}if(d=le.current,mo(i))Zg(i);else{var v=Xc(pe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[Nt]=i,d[$t]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Mn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qr(i)}}return Vt(i),Nd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pe.current,mo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=xn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g_(t.nodeValue,a)),t||Ns(i,!0)}else t=Xc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return Vt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=mo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Nt]=i}else Oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),t=!1}else a=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(yi(i),i):(yi(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Vt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=mo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else Oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),h=!1}else h=jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yi(i),i):(yi(i),null)}return yi(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),kc(i,i.updateQueue),Vt(i),null);case 4:return Ce(),t===null&&Wd(i.stateNode.containerInfo),Vt(i),null;case 10:return qr(i.type),Vt(i),null;case 19:if(q(Xt),l=i.memoizedState,l===null)return Vt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Vl(l,!1);else{if(Qt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=wc(t),d!==null){for(i.flags|=128,Vl(l,!1),t=d.updateQueue,i.updateQueue=t,kc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Kg(a,t),a=a.sibling;return X(Xt,Xt.current&1|2),tt&&jr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&xt()>jc&&(i.flags|=128,h=!0,Vl(l,!1),i.lanes=4194304)}else{if(!h)if(t=wc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,kc(i,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!tt)return Vt(i),null}else 2*xt()-l.renderingStartTime>jc&&a!==536870912&&(i.flags|=128,h=!0,Vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=xt(),t.sibling=null,a=Xt.current,X(Xt,h?a&1|2:a&1),tt&&jr(i,l.treeForkCount),t):(Vt(i),null);case 22:case 23:return yi(i),Zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),a=i.updateQueue,a!==null&&kc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&q(Pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qr(nn),Vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bb(t,i){switch(Uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qr(nn),Ce(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return He(i),null;case 31:if(i.memoizedState!==null){if(yi(i),i.alternate===null)throw Error(s(340));Oa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(yi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Oa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return q(Xt),null;case 4:return Ce(),null;case 10:return qr(i.type),null;case 22:case 23:return yi(i),Zf(),t!==null&&q(Pa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qr(nn),null;case 25:return null;default:return null}}function Tv(t,i){switch(Uf(i),i.tag){case 3:qr(nn),Ce();break;case 26:case 27:case 5:He(i);break;case 4:Ce();break;case 31:i.memoizedState!==null&&yi(i);break;case 13:yi(i);break;case 19:q(Xt);break;case 10:qr(i.type);break;case 22:case 23:yi(i),Zf(),t!==null&&q(Pa);break;case 24:qr(nn)}}function kl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){gt(i,i.return,b)}}function Ls(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var D=a,Y=b;try{Y()}catch(te){gt(h,D,te)}}}l=l.next}while(l!==d)}}catch(te){gt(i,i.return,te)}}function wv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{fy(i,a)}catch(l){gt(t,t.return,l)}}}function bv(t,i,a){a.props=Ba(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){gt(t,i,l)}}function Pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){gt(t,i,h)}}function vr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){gt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){gt(t,i,h)}else a.current=null}function Sv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){gt(t,t.return,h)}}function Dd(t,i,a){try{var l=t.stateNode;Gb(l,t.type,a,i),l[$t]=i}catch(h){gt(t,t.return,h)}}function Av(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ue));else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Od(t,i,a),t=t.sibling;t!==null;)Od(t,i,a),t=t.sibling}function Pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pc(t,i,a),t=t.sibling;t!==null;)Pc(t,i,a),t=t.sibling}function Rv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Mn(i,l,a),i[Nt]=t,i[$t]=a}catch(d){gt(t,t.return,d)}}var Yr=!1,an=!1,Vd=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,vn=null;function Sb(t,i){if(t=t.containerInfo,tm=ih,t=zg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,D=-1,Y=0,te=0,ae=t,$=null;t:for(;;){for(var J;ae!==a||h!==0&&ae.nodeType!==3||(b=v+h),ae!==d||l!==0&&ae.nodeType!==3||(D=v+l),ae.nodeType===3&&(v+=ae.nodeValue.length),(J=ae.firstChild)!==null;)$=ae,ae=J;for(;;){if(ae===t)break t;if($===a&&++Y===h&&(b=v),$===d&&++te===l&&(D=v),(J=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=J}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(nm={focusedElem:t,selectionRange:a},ih=!1,vn=i;vn!==null;)if(i=vn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,vn=t;else for(;vn!==null;){switch(i=vn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ba(a.type,h);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(De){gt(a,a.return,De)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,vn=t;break}vn=i.return}}function Cv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$r(t,a),l&4&&kl(5,a);break;case 1:if($r(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){gt(a,a.return,v)}else{var h=Ba(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){gt(a,a.return,v)}}l&64&&wv(a),l&512&&Pl(a,a.return);break;case 3:if($r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{fy(t,i)}catch(v){gt(a,a.return,v)}}break;case 27:i===null&&l&4&&Rv(a);case 26:case 5:$r(t,a),i===null&&l&4&&Sv(a),l&512&&Pl(a,a.return);break;case 12:$r(t,a);break;case 31:$r(t,a),l&4&&Dv(t,a);break;case 13:$r(t,a),l&4&&Mv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ob.bind(null,a),Zb(t,a))));break;case 22:if(l=a.memoizedState!==null||Yr,!l){i=i!==null&&i.memoizedState!==null||an,h=Yr;var d=an;Yr=l,(an=i)&&!d?Xr(t,a,(a.subtreeFlags&8772)!==0):$r(t,a),Yr=h,an=d}break;case 30:break;default:$r(t,a)}}function xv(t){var i=t.alternate;i!==null&&(t.alternate=null,xv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Dr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ut=null,ni=!1;function Kr(t,i,a){for(a=a.child;a!==null;)Nv(t,i,a),a=a.sibling}function Nv(t,i,a){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(An,a)}catch{}switch(a.tag){case 26:an||vr(a,i),Kr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:an||vr(a,i);var l=Ut,h=ni;Fs(a.type)&&(Ut=a.stateNode,ni=!1),Kr(t,i,a),Gl(a.stateNode),Ut=l,ni=h;break;case 5:an||vr(a,i);case 6:if(l=Ut,h=ni,Ut=null,Kr(t,i,a),Ut=l,ni=h,Ut!==null)if(ni)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(a.stateNode)}catch(d){gt(a,i,d)}else try{Ut.removeChild(a.stateNode)}catch(d){gt(a,i,d)}break;case 18:Ut!==null&&(ni?(t=Ut,w_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ko(t)):w_(Ut,a.stateNode));break;case 4:l=Ut,h=ni,Ut=a.stateNode.containerInfo,ni=!0,Kr(t,i,a),Ut=l,ni=h;break;case 0:case 11:case 14:case 15:Ls(2,a,i),an||Ls(4,a,i),Kr(t,i,a);break;case 1:an||(vr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&bv(a,i,l)),Kr(t,i,a);break;case 21:Kr(t,i,a);break;case 22:an=(l=an)||a.memoizedState!==null,Kr(t,i,a),an=l;break;default:Kr(t,i,a)}}function Dv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ko(t)}catch(a){gt(i,i.return,a)}}}function Mv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ko(t)}catch(a){gt(i,i.return,a)}}function Ab(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Iv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Iv),i;default:throw Error(s(435,t.tag))}}function Lc(t,i){var a=Ab(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Vb.bind(null,t,l);l.then(h,h)}})}function ii(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Fs(b.type)){Ut=b.stateNode,ni=!1;break e}break;case 5:Ut=b.stateNode,ni=!1;break e;case 3:case 4:Ut=b.stateNode.containerInfo,ni=!0;break e}b=b.return}if(Ut===null)throw Error(s(160));Nv(d,v,h),Ut=null,ni=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ov(i,t),i=i.sibling}var nr=null;function Ov(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ii(i,t),ri(t),l&4&&(Ls(3,t,t.return),kl(3,t),Ls(5,t,t.return));break;case 1:ii(i,t),ri(t),l&512&&(an||a===null||vr(a,a.return)),l&64&&Yr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=nr;if(ii(i,t),ri(t),l&512&&(an||a===null||vr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ln]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Mn(d,l,a),d[Nt]=t,Lt(d),l=d;break e;case"link":var v=O_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Mn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=O_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Mn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,Lt(d),l=d}t.stateNode=l}else V_(h,t.type,t.stateNode);else t.stateNode=M_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?V_(h,t.type,t.stateNode):M_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ii(i,t),ri(t),l&512&&(an||a===null||vr(a,a.return)),a!==null&&l&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ii(i,t),ri(t),l&512&&(an||a===null||vr(a,a.return)),t.flags&32){h=t.stateNode;try{S(h,"")}catch(Te){gt(t,t.return,Te)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Dd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(ii(i,t),ri(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Te){gt(t,t.return,Te)}}break;case 3:if(Zc=null,h=nr,nr=Jc(i.containerInfo),ii(i,t),nr=h,ri(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ko(i.containerInfo)}catch(Te){gt(t,t.return,Te)}Vd&&(Vd=!1,Vv(t));break;case 4:l=nr,nr=Jc(t.stateNode.containerInfo),ii(i,t),ri(t),nr=l;break;case 12:ii(i,t),ri(t);break;case 31:ii(i,t),ri(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:ii(i,t),ri(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=xt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,Y=Yr,te=an;if(Yr=Y||h,an=te||D,ii(i,t),an=te,Yr=Y,ri(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Yr||an||qa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var ae=D.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Te){gt(D,D.return,Te)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Te){gt(D,D.return,Te)}}}else if(i.tag===18){if(a===null){D=i;try{var J=D.stateNode;h?b_(J,!0):b_(D.stateNode,!1)}catch(Te){gt(D,D.return,Te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(t,a))));break;case 19:ii(i,t),ri(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:ii(i,t),ri(t)}}function ri(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Av(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Pc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(S(v,""),a.flags&=-33);var b=Md(t);Pc(t,b,v);break;case 3:case 4:var D=a.stateNode.containerInfo,Y=Md(t);Od(t,Y,D);break;default:throw Error(s(161))}}catch(te){gt(t,t.return,te)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Vv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Vv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $r(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cv(t,i.alternate,i),i=i.sibling}function qa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ls(4,i,i.return),qa(i);break;case 1:vr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&bv(i,i.return,a),qa(i);break;case 27:Gl(i.stateNode);case 26:case 5:vr(i,i.return),qa(i);break;case 22:i.memoizedState===null&&qa(i);break;case 30:qa(i);break;default:qa(i)}t=t.sibling}}function Xr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Xr(h,d,a),kl(4,d);break;case 1:if(Xr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){gt(l,l.return,Y)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)hy(D[h],b)}catch(Y){gt(l,l.return,Y)}}a&&v&64&&wv(d),Pl(d,d.return);break;case 27:Rv(d);case 26:case 5:Xr(h,d,a),a&&l===null&&v&4&&Sv(d),Pl(d,d.return);break;case 12:Xr(h,d,a);break;case 31:Xr(h,d,a),a&&v&4&&Dv(h,d);break;case 13:Xr(h,d,a),a&&v&4&&Mv(h,d);break;case 22:d.memoizedState===null&&Xr(h,d,a),Pl(d,d.return);break;case 30:break;default:Xr(h,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&wl(a))}function Pd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&wl(t))}function ir(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kv(t,i,a,l),i=i.sibling}function kv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ir(t,i,a,l),h&2048&&kl(9,i);break;case 1:ir(t,i,a,l);break;case 3:ir(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&wl(t)));break;case 12:if(h&2048){ir(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){gt(i,i.return,D)}}else ir(t,i,a,l);break;case 31:ir(t,i,a,l);break;case 13:ir(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ir(t,i,a,l):Ll(t,i):d._visibility&2?ir(t,i,a,l):(d._visibility|=2,So(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&kd(v,i);break;case 24:ir(t,i,a,l),h&2048&&Pd(i.alternate,i);break;default:ir(t,i,a,l)}}function So(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,D=l,Y=v.flags;switch(v.tag){case 0:case 11:case 15:So(d,v,b,D,h),kl(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?So(d,v,b,D,h):Ll(d,v):(te._visibility|=2,So(d,v,b,D,h)),h&&Y&2048&&kd(v.alternate,v);break;case 24:So(d,v,b,D,h),h&&Y&2048&&Pd(v.alternate,v);break;default:So(d,v,b,D,h)}i=i.sibling}}function Ll(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&kd(l.alternate,l);break;case 24:Ll(a,l),h&2048&&Pd(l.alternate,l);break;default:Ll(a,l)}i=i.sibling}}var Ul=8192;function Ao(t,i,a){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Pv(t,i,a),t=t.sibling}function Pv(t,i,a){switch(t.tag){case 26:Ao(t,i,a),t.flags&Ul&&t.memoizedState!==null&&hS(a,nr,t.memoizedState,t.memoizedProps);break;case 5:Ao(t,i,a);break;case 3:case 4:var l=nr;nr=Jc(t.stateNode.containerInfo),Ao(t,i,a),nr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,Ao(t,i,a),Ul=l):Ao(t,i,a));break;default:Ao(t,i,a)}}function Lv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function zl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];vn=l,zv(l,t)}Lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uv(t),t=t.sibling}function Uv(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uc(t)):zl(t);break;default:zl(t)}}function Uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];vn=l,zv(l,t)}Lv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ls(8,i,i.return),Uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(i));break;default:Uc(i)}t=t.sibling}}function zv(t,i){for(;vn!==null;){var a=vn;switch(a.tag){case 0:case 11:case 15:Ls(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,vn=l;else e:for(a=t;vn!==null;){l=vn;var h=l.sibling,d=l.return;if(xv(l),l===a){vn=null;break e}if(h!==null){h.return=d,vn=h;break e}vn=d}}}var Rb={getCacheForType:function(t){var i=Nn(nn),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Nn(nn).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,ct=0,St=null,Ye=null,Xe=0,pt=0,vi=null,Us=!1,Ro=!1,Ld=!1,Jr=0,Qt=0,zs=0,Ha=0,Ud=0,_i=0,Io=0,jl=null,si=null,zd=!1,zc=0,jv=0,jc=1/0,Bc=null,js=null,dn=0,Bs=null,Co=null,Wr=0,jd=0,Bd=null,Bv=null,Bl=0,qd=null;function Ei(){return(ct&2)!==0&&Xe!==0?Xe&-Xe:ee.T!==null?Kd():Rn()}function qv(){if(_i===0)if((Xe&536870912)===0||tt){var t=Ii;Ii<<=1,(Ii&3932160)===0&&(Ii=262144),_i=t}else _i=536870912;return t=gi.current,t!==null&&(t.flags|=32),_i}function ai(t,i,a){(t===St&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(xo(t,0),qs(t,Xe,_i,!1)),Qi(t,a),((ct&2)===0||t!==St)&&(t===St&&((ct&2)===0&&(Ha|=a),Qt===4&&qs(t,Xe,_i,!1)),_r(t))}function Hv(t,i,a){if((ct&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ur(t,i),h=l?Nb(t,i):Fd(t,i,!0),d=l;do{if(h===0){Ro&&!l&&qs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Cb(a)){h=Fd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=jl;var D=b.current.memoizedState.isDehydrated;if(D&&(xo(b,v).flags|=256),v=Fd(b,v,!1),v!==2){if(Ld&&!D){b.errorRecoveryDisabledLanes|=d,Ha|=d,h=4;break e}d=si,si=h,d!==null&&(si===null?si=d:si.push.apply(si,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xo(t,0),qs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qs(l,i,_i,!Us);break e;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=zc+300-xt(),10<h)){if(qs(l,i,_i,!Us),Wn(l,0,!0)!==0)break e;Wr=i,l.timeoutHandle=E_(Fv.bind(null,l,a,si,Bc,zd,i,_i,Ha,Io,Us,d,"Throttled",-0,0),h);break e}Fv(l,a,si,Bc,zd,i,_i,Ha,Io,Us,d,null,-0,0)}}break}while(!0);_r(t)}function Fv(t,i,a,l,h,d,v,b,D,Y,te,ae,$,J){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ue},Pv(i,d,ae);var Te=(d&62914560)===d?zc-xt():(d&4194048)===d?jv-xt():0;if(Te=fS(ae,Te),Te!==null){Wr=d,t.cancelPendingCommit=Te(Wv.bind(null,t,i,d,a,l,h,v,b,D,te,ae,null,$,J)),qs(t,d,v,!Y);return}}Wv(t,i,d,a,l,h,v,b,D)}function Cb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mi(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qs(t,i,a,l){i&=~Ud,i&=~Ha,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-It(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&xr(t,a,i)}function qc(){return(ct&6)===0?(ql(0),!1):!0}function Hd(){if(Ye!==null){if(pt===0)var t=Ye.return;else t=Ye,Br=Va=null,sd(t),_o=null,Sl=0,t=Ye;for(;t!==null;)Tv(t.alternate,t),t=t.return;Ye=null}}function xo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Kb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wr=0,Hd(),St=t,Ye=a=zr(t.current,null),Xe=i,pt=0,vi=null,Us=!1,Ro=ur(t,i),Ld=!1,Io=_i=Ud=Ha=zs=Qt=0,si=jl=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-It(l),d=1<<h;i|=t[h],l&=~d}return Jr=i,uc(),a}function Gv(t,i){je=null,ee.H=Ml,i===vo||i===yc?(i=oy(),pt=3):i===Yf?(i=oy(),pt=4):pt=i===Td?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vi=i,Ye===null&&(Qt=1,Dc(t,Oi(i,t.current)))}function Qv(){var t=gi.current;return t===null?!0:(Xe&4194048)===Xe?Li===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===Li:!1}function Yv(){var t=ee.H;return ee.H=Ml,t===null?Ml:t}function Kv(){var t=ee.A;return ee.A=Rb,t}function Hc(){Qt=4,Us||(Xe&4194048)!==Xe&&gi.current!==null||(Ro=!0),(zs&134217727)===0&&(Ha&134217727)===0||St===null||qs(St,Xe,_i,!1)}function Fd(t,i,a){var l=ct;ct|=2;var h=Yv(),d=Kv();(St!==t||Xe!==i)&&(Bc=null,xo(t,i)),i=!1;var v=Qt;e:do try{if(pt!==0&&Ye!==null){var b=Ye,D=vi;switch(pt){case 8:Hd(),v=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(i=!0);var Y=pt;if(pt=0,vi=null,No(t,b,D,Y),a&&Ro){v=0;break e}break;default:Y=pt,pt=0,vi=null,No(t,b,D,Y)}}xb(),v=Qt;break}catch(te){Gv(t,te)}while(!0);return i&&t.shellSuspendCounter++,Br=Va=null,ct=l,ee.H=h,ee.A=d,Ye===null&&(St=null,Xe=0,uc()),v}function xb(){for(;Ye!==null;)$v(Ye)}function Nb(t,i){var a=ct;ct|=2;var l=Yv(),h=Kv();St!==t||Xe!==i?(Bc=null,jc=xt()+500,xo(t,i)):Ro=ur(t,i);e:do try{if(pt!==0&&Ye!==null){i=Ye;var d=vi;t:switch(pt){case 1:pt=0,vi=null,No(t,i,d,1);break;case 2:case 9:if(sy(d)){pt=0,vi=null,Xv(i);break}i=function(){pt!==2&&pt!==9||St!==t||(pt=7),_r(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:sy(d)?(pt=0,vi=null,Xv(i)):(pt=0,vi=null,No(t,i,d,7));break;case 5:var v=null;switch(Ye.tag){case 26:v=Ye.memoizedState;case 5:case 27:var b=Ye;if(v?k_(v):b.stateNode.complete){pt=0,vi=null;var D=b.sibling;if(D!==null)Ye=D;else{var Y=b.return;Y!==null?(Ye=Y,Fc(Y)):Ye=null}break t}}pt=0,vi=null,No(t,i,d,5);break;case 6:pt=0,vi=null,No(t,i,d,6);break;case 8:Hd(),Qt=6;break e;default:throw Error(s(462))}}Db();break}catch(te){Gv(t,te)}while(!0);return Br=Va=null,ee.H=l,ee.A=h,ct=a,Ye!==null?0:(St=null,Xe=0,uc(),Qt)}function Db(){for(;Ye!==null&&!ds();)$v(Ye)}function $v(t){var i=_v(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,i===null?Fc(t):Ye=i}function Xv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=dv(a,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=dv(a,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:sd(i);default:Tv(a,i),i=Ye=Kg(i,Jr),i=_v(a,i,Jr)}t.memoizedProps=t.pendingProps,i===null?Fc(t):Ye=i}function No(t,i,a,l){Br=Va=null,sd(i),_o=null,Sl=0;var h=i.return;try{if(_b(t,h,i,a,Xe)){Qt=1,Dc(t,Oi(a,t.current)),Ye=null;return}}catch(d){if(h!==null)throw Ye=h,d;Qt=1,Dc(t,Oi(a,t.current)),Ye=null;return}i.flags&32768?(tt||l===1?t=!0:Ro||(Xe&536870912)!==0?t=!1:(Us=t=!0,(l===2||l===9||l===3||l===6)&&(l=gi.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jv(i,t)):Fc(i)}function Fc(t){var i=t;do{if((i.flags&32768)!==0){Jv(i,Us);return}t=i.return;var a=wb(i.alternate,i,Jr);if(a!==null){Ye=a;return}if(i=i.sibling,i!==null){Ye=i;return}Ye=i=t}while(i!==null);Qt===0&&(Qt=5)}function Jv(t,i){do{var a=bb(t.alternate,t);if(a!==null){a.flags&=32767,Ye=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=a}while(t!==null);Qt=6,Ye=null}function Wv(t,i,a,l,h,d,v,b,D){t.cancelPendingCommit=null;do Gc();while(dn!==0);if((ct&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,qt(t,a,d,v,b,D),t===St&&(Ye=St=null,Xe=0),Co=i,Bs=t,Wr=a,jd=d,Bd=h,Bv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kb(hn,function(){return i_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,h=he.p,he.p=2,v=ct,ct|=4;try{Sb(t,i,a)}finally{ct=v,he.p=h,ee.T=l}}dn=1,Zv(),e_(),t_()}}function Zv(){if(dn===1){dn=0;var t=Bs,i=Co,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var l=he.p;he.p=2;var h=ct;ct|=4;try{Ov(i,t);var d=nm,v=zg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Ug(b.ownerDocument.documentElement,b)){if(D!==null&&If(b)){var Y=D.start,te=D.end;if(te===void 0&&(te=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(te,b.value.length);else{var ae=b.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var J=$.getSelection(),Te=b.textContent.length,De=Math.min(D.start,Te),Tt=D.end===void 0?De:Math.min(D.end,Te);!J.extend&&De>Tt&&(v=Tt,Tt=De,De=v);var j=Lg(b,De),O=Lg(b,Tt);if(j&&O&&(J.rangeCount!==1||J.anchorNode!==j.node||J.anchorOffset!==j.offset||J.focusNode!==O.node||J.focusOffset!==O.offset)){var Q=ae.createRange();Q.setStart(j.node,j.offset),J.removeAllRanges(),De>Tt?(J.addRange(Q),J.extend(O.node,O.offset)):(Q.setEnd(O.node,O.offset),J.addRange(Q))}}}}for(ae=[],J=b;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ih=!!tm,nm=tm=null}finally{ct=h,he.p=l,ee.T=a}}t.current=i,dn=2}}function e_(){if(dn===2){dn=0;var t=Bs,i=Co,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var l=he.p;he.p=2;var h=ct;ct|=4;try{Cv(t,i.alternate,i)}finally{ct=h,he.p=l,ee.T=a}}dn=3}}function t_(){if(dn===4||dn===3){dn=0,or();var t=Bs,i=Co,a=Wr,l=Bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,Co=Bs=null,n_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(js=null),ps(a),i=i.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(An,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,h=he.p,he.p=2,ee.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{ee.T=i,he.p=h}}(Wr&3)!==0&&Gc(),_r(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===qd?Bl++:(Bl=0,qd=t):Bl=0,ql(0)}}function n_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,wl(i)))}function Gc(){return Zv(),e_(),t_(),i_()}function i_(){if(dn!==5)return!1;var t=Bs,i=jd;jd=0;var a=ps(Wr),l=ee.T,h=he.p;try{he.p=32>a?32:a,ee.T=null,a=Bd,Bd=null;var d=Bs,v=Wr;if(dn=0,Co=Bs=null,Wr=0,(ct&6)!==0)throw Error(s(331));var b=ct;if(ct|=4,Uv(d.current),kv(d,d.current,v,a),ct=b,ql(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(An,d)}catch{}return!0}finally{he.p=h,ee.T=l,n_(t,i)}}function r_(t,i,a){i=Oi(a,i),i=Ed(t.stateNode,i,2),t=Vs(t,i,2),t!==null&&(Qi(t,2),_r(t))}function gt(t,i,a){if(t.tag===3)r_(t,t,a);else for(;i!==null;){if(i.tag===3){r_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(js===null||!js.has(l))){t=Oi(a,t),a=sv(2),l=Vs(i,a,2),l!==null&&(av(a,l,i,t),Qi(l,2),_r(l));break}}i=i.return}}function Gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ib;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ld=!0,h.add(a),t=Mb.bind(null,t,i,a),i.then(t,t))}function Mb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,St===t&&(Xe&a)===a&&(Qt===4||Qt===3&&(Xe&62914560)===Xe&&300>xt()-zc?(ct&2)===0&&xo(t,0):Ud|=a,Io===Xe&&(Io=0)),_r(t)}function s_(t,i){i===0&&(i=Ea()),t=Da(t,i),t!==null&&(Qi(t,i),_r(t))}function Ob(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),s_(t,a)}function Vb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),s_(t,a)}function kb(t,i){return zt(t,i)}var Qc=null,Do=null,Qd=!1,Yc=!1,Yd=!1,Hs=0;function _r(t){t!==Do&&t.next===null&&(Do===null?Qc=Do=t:Do=Do.next=t),Yc=!0,Qd||(Qd=!0,Lb())}function ql(t,i){if(!Yd&&Yc){Yd=!0;do for(var a=!1,l=Qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-It(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,u_(l,d))}else d=Xe,d=Wn(l,l===St?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ur(l,d)||(a=!0,u_(l,d));l=l.next}while(a);Yd=!1}}function Pb(){a_()}function a_(){Yc=Qd=!1;var t=0;Hs!==0&&Yb()&&(t=Hs);for(var i=xt(),a=null,l=Qc;l!==null;){var h=l.next,d=o_(l,i);d===0?(l.next=null,a===null?Qc=h:a.next=h,h===null&&(Do=a)):(a=l,(t!==0||(d&3)!==0)&&(Yc=!0)),l=h}dn!==0&&dn!==5||ql(t),Hs!==0&&(Hs=0)}function o_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-It(d),b=1<<v,D=h[v];D===-1?((b&a)===0||(b&l)!==0)&&(h[v]=ms(b,i)):D<=i&&(t.expiredLanes|=b),d&=~b}if(i=St,a=Xe,a=Wn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Cr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ur(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Cr(l),ps(a)){case 2:case 8:a=at;break;case 32:a=hn;break;case 268435456:a=Xn;break;default:a=hn}return l=l_.bind(null,t),a=zt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Cr(l),t.callbackPriority=2,t.callbackNode=null,2}function l_(t,i){if(dn!==0&&dn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gc()&&t.callbackNode!==a)return null;var l=Xe;return l=Wn(t,t===St?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hv(t,l,i),o_(t,xt()),t.callbackNode!=null&&t.callbackNode===a?l_.bind(null,t):null)}function u_(t,i){if(Gc())return null;Hv(t,i,!0)}function Lb(){$b(function(){(ct&6)!==0?zt(mt,Pb):a_()})}function Kd(){if(Hs===0){var t=go;t===0&&(t=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),Hs=t}return Hs}function c_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$e(""+t)}function h_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ub(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=c_((h[$t]||null).action),v=l.submitter;v&&(i=(i=v[$t]||null)?c_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new Sa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var D=v?h_(h,v):new FormData(h);md(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=v?h_(h,v):new FormData(h),md(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var $d=0;$d<Df.length;$d++){var Xd=Df[$d],zb=Xd.toLowerCase(),jb=Xd[0].toUpperCase()+Xd.slice(1);tr(zb,"on"+jb)}tr(qg,"onAnimationEnd"),tr(Hg,"onAnimationIteration"),tr(Fg,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(nb,"onTransitionRun"),tr(ib,"onTransitionStart"),tr(rb,"onTransitionCancel"),tr(Gg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function f_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],D=b.instance,Y=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){lc(te)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(b=l[v],D=b.instance,Y=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=Y;try{d(h)}catch(te){lc(te)}h.currentTarget=null,d=D}}}}function Ke(t,i){var a=i[hr];a===void 0&&(a=i[hr]=new Set);var l=t+"__bubble";a.has(l)||(d_(i,t,2,!1),a.add(l))}function Jd(t,i,a){var l=0;i&&(l|=4),d_(a,t,l,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Kc]){t[Kc]=!0,gs.forEach(function(a){a!=="selectionchange"&&(Bb.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,Jd("selectionchange",!1,i))}}function d_(t,i,a,l){switch(q_(i)){case 2:var h=pS;break;case 8:h=gS;break;default:h=dm}a=h.bind(null,i,a,t),h=void 0,!hl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=ei(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}b=b.parentNode}}l=l.return}er(function(){var Y=d,te=Le(a),ae=[];e:{var $=Qg.get(t);if($!==void 0){var J=Sa,Te=t;switch(t){case"keypress":if(ba(a)===0)break e;case"keydown":case"keyup":J=tc;break;case"focusin":Te="focus",J=Ss;break;case"focusout":Te="blur",J=Ss;break;case"beforeblur":case"afterblur":J=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=ic;break;case qg:case Hg:case Fg:J=so;break;case Gg:J=ao;break;case"scroll":case"scrollend":J=Yu;break;case"wheel":J=sc;break;case"copy":case"cut":case"paste":J=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=gl;break;case"toggle":case"beforetoggle":J=Rs}var De=(i&4)!==0,Tt=!De&&(t==="scroll"||t==="scrollend"),j=De?$!==null?$+"Capture":null:$;De=[];for(var O=Y,Q;O!==null;){var ie=O;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||j===null||(ie=en(O,j),ie!=null&&De.push(Fl(O,ie,Q))),Tt)break;O=O.return}0<De.length&&($=new J($,Te,null,a,te),ae.push({event:$,listeners:De}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",$&&a!==Qe&&(Te=a.relatedTarget||a.fromElement)&&(ei(Te)||Te[xi]))break e;if((J||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,J?(Te=a.relatedTarget||a.toElement,J=Y,Te=Te?ei(Te):null,Te!==null&&(Tt=u(Te),De=Te.tag,Te!==Tt||De!==5&&De!==27&&De!==6)&&(Te=null)):(J=null,Te=Y),J!==Te)){if(De=Ku,ie="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(De=gl,ie="onPointerLeave",j="onPointerEnter",O="pointer"),Tt=J==null?$:Mr(J),Q=Te==null?$:Mr(Te),$=new De(ie,O+"leave",J,a,te),$.target=Tt,$.relatedTarget=Q,ie=null,ei(te)===Y&&(De=new De(j,O+"enter",Te,a,te),De.target=Q,De.relatedTarget=Tt,ie=De),Tt=ie,J&&Te)t:{for(De=qb,j=J,O=Te,Q=0,ie=j;ie;ie=De(ie))Q++;ie=0;for(var Ie=O;Ie;Ie=De(Ie))ie++;for(;0<Q-ie;)j=De(j),Q--;for(;0<ie-Q;)O=De(O),ie--;for(;Q--;){if(j===O||O!==null&&j===O.alternate){De=j;break t}j=De(j),O=De(O)}De=null}else De=null;J!==null&&m_(ae,$,J,De,!1),Te!==null&&Tt!==null&&m_(ae,Tt,Te,De,!0)}}e:{if($=Y?Mr(Y):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var lt=Dg;else if(ti($))if(Mg)lt=Z1;else{lt=J1;var be=X1}else J=$.nodeName,!J||J.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&ge(Y.elementType)&&(lt=Dg):lt=W1;if(lt&&(lt=lt(t,Y))){Ca(ae,lt,a,te);break e}be&&be(t,$,Y),t==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&_s($,"number",$.value)}switch(be=Y?Mr(Y):window,t){case"focusin":(ti(be)||be.contentEditable==="true")&&(oo=be,Cf=Y,_l=null);break;case"focusout":_l=Cf=oo=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,jg(ae,a,te);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":jg(ae,a,te)}var Be;if(y)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Fe?dt(t,a)&&(Je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(F&&a.locale!=="ko"&&(Fe||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Fe&&(Be=Es()):(di=te,io="value"in di?di.value:di.textContent,Fe=!0)),be=$c(Y,Je),0<be.length&&(Je=new dl(Je,t,null,a,te),ae.push({event:Je,listeners:be}),Be?Je.data=Be:(Be=tn(a),Be!==null&&(Je.data=Be)))),(Be=A?gn(t,a):yn(t,a))&&(Je=$c(Y,"onBeforeInput"),0<Je.length&&(be=new dl("onBeforeInput","beforeinput",null,a,te),ae.push({event:be,listeners:Je}),be.data=Be)),Ub(ae,t,Y,a,te)}f_(ae,i)})}function Fl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function $c(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=en(t,a),h!=null&&l.unshift(Fl(t,h,d)),h=en(t,i),h!=null&&l.push(Fl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function qb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function m_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,D=b.alternate,Y=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||Y===null||(D=Y,h?(Y=en(a,d),Y!=null&&v.unshift(Fl(a,Y,D))):h||(Y=en(a,d),Y!=null&&v.push(Fl(a,Y,D)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Hb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function p_(t){return(typeof t=="string"?t:""+t).replace(Hb,`
`).replace(Fb,"")}function g_(t,i){return i=p_(i),p_(t)===i}function Et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||S(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&S(t,""+l);break;case"className":fi(t,"class",l);break;case"tabIndex":fi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(t,a,l);break;case"style":ne(t,l,d);break;case"data":if(i!=="object"){fi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=$e(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Et(t,i,"name",h.name,h,null),Et(t,i,"formEncType",h.formEncType,h,null),Et(t,i,"formMethod",h.formMethod,h,null),Et(t,i,"formTarget",h.formTarget,h,null)):(Et(t,i,"encType",h.encType,h,null),Et(t,i,"method",h.method,h,null),Et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=$e(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ue);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=$e(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),ft(t,"popover",l);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ft(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=we.get(a)||a,ft(t,a,l))}}function em(t,i,a,l,h,d){switch(a){case"style":ne(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?S(t,l):(typeof l=="number"||typeof l=="bigint")&&S(t,""+l);break;case"onScroll":l!=null&&Ke("scroll",t);break;case"onScrollEnd":l!=null&&Ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ue);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[$t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ft(t,a,l)}}}function Mn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(t,i,d,v,a,null)}}h&&Et(t,i,"srcSet",a.srcSet,a,null),l&&Et(t,i,"src",a.src,a,null);return;case"input":Ke("invalid",t);var b=d=v=h=null,D=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":h=te;break;case"type":v=te;break;case"checked":D=te;break;case"defaultChecked":Y=te;break;case"value":d=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:Et(t,i,l,te,a,null)}}Vr(t,d,b,D,Y,v,h,!1);return;case"select":Ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Et(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?it(t,!!l,i,!1):a!=null&&it(t,!!l,a,!0);return;case"textarea":Ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Et(t,i,v,b,a,null)}Un(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Et(t,i,D,l,a,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Ke(Hl[l],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(t,i,Y,l,a,null)}return;default:if(ge(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&em(t,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Et(t,i,b,l,a,null))}function Gb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,D=null,Y=null,te=null;for(J in a){var ae=a[J];if(a.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":D=ae;default:l.hasOwnProperty(J)||Et(t,i,J,null,l,ae)}}for(var $ in l){var J=l[$];if(ae=a[$],l.hasOwnProperty($)&&(J!=null||ae!=null))switch($){case"type":d=J;break;case"name":h=J;break;case"checked":Y=J;break;case"defaultChecked":te=J;break;case"value":v=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==ae&&Et(t,i,$,J,l,ae)}}dr(t,v,b,D,Y,te,d,h);return;case"select":J=v=b=$=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":J=D;default:l.hasOwnProperty(d)||Et(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==D&&Et(t,i,h,d,l,D)}i=b,a=v,l=J,$!=null?it(t,!!a,$,!1):!!l!=!!a&&(i!=null?it(t,!!a,i,!0):it(t,!!a,a?[]:"",!1));return;case"textarea":J=$=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":$=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Et(t,i,v,h,l,d)}Wi(t,$,J);return;case"option":for(var Te in a)if($=a[Te],a.hasOwnProperty(Te)&&$!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Et(t,i,Te,null,l,$)}for(D in l)if($=l[D],J=a[D],l.hasOwnProperty(D)&&$!==J&&($!=null||J!=null))switch(D){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Et(t,i,D,$,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)$=a[De],a.hasOwnProperty(De)&&$!=null&&!l.hasOwnProperty(De)&&Et(t,i,De,null,l,$);for(Y in l)if($=l[Y],J=a[Y],l.hasOwnProperty(Y)&&$!==J&&($!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Et(t,i,Y,$,l,J)}return;default:if(ge(i)){for(var Tt in a)$=a[Tt],a.hasOwnProperty(Tt)&&$!==void 0&&!l.hasOwnProperty(Tt)&&em(t,i,Tt,void 0,l,$);for(te in l)$=l[te],J=a[te],!l.hasOwnProperty(te)||$===J||$===void 0&&J===void 0||em(t,i,te,$,l,J);return}}for(var j in a)$=a[j],a.hasOwnProperty(j)&&$!=null&&!l.hasOwnProperty(j)&&Et(t,i,j,null,l,$);for(ae in l)$=l[ae],J=a[ae],!l.hasOwnProperty(ae)||$===J||$==null&&J==null||Et(t,i,ae,$,l,J)}function y_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&y_(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],Y=D.startTime;if(Y>b)break;var te=D.transferSize,ae=D.initiatorType;te&&y_(ae)&&(D=D.responseEnd,v+=te*(D<b?1:(b-Y)/(D-Y)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function v_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function Yb(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var E_=typeof setTimeout=="function"?setTimeout:void 0,Kb=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,$b=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(t){return T_.resolve(null).then(t).catch(Xb)}:E_;function Xb(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function w_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ko(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Gl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Ln]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Gl(t.ownerDocument.body);a=h}while(a);ko(i)}function b_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sm(a),Dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Jb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ln])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ui(t.nextSibling),t===null)break}return null}function Wb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ui(t.nextSibling),t===null))return null;return t}function S_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ui(t.nextSibling),t===null))return null;return t}function am(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Zb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ui(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var lm=null;function A_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ui(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function R_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function I_(t,i,a){switch(i=Xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Dr(t)}var zi=new Map,C_=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=he.d;he.d={f:eS,r:tS,D:nS,C:iS,L:rS,m:sS,X:oS,S:aS,M:lS};function eS(){var t=Zr.f(),i=qc();return t||i}function tS(t){var i=Ni(t);i!==null&&i.tag===5&&i.type==="form"?Gy(i):Zr.r(t)}var Mo=typeof document>"u"?null:document;function x_(t,i,a){var l=Mo;if(l&&typeof i=="string"&&i){var h=bt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),C_.has(h)||(C_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Mn(i,"link",t),Lt(i),l.head.appendChild(i)))}}function nS(t){Zr.D(t),x_("dns-prefetch",t,null)}function iS(t,i){Zr.C(t,i),x_("preconnect",t,i)}function rS(t,i,a){Zr.L(t,i,a);var l=Mo;if(l&&t&&i){var h='link[rel="preload"][as="'+bt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bt(a.imageSizes)+'"]')):h+='[href="'+bt(t)+'"]';var d=h;switch(i){case"style":d=Oo(t);break;case"script":d=Vo(t)}zi.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zi.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ql(d))||i==="script"&&l.querySelector(Yl(d))||(i=l.createElement("link"),Mn(i,"link",t),Lt(i),l.head.appendChild(i)))}}function sS(t,i){Zr.m(t,i);var a=Mo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+bt(l)+'"][href="'+bt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vo(t)}if(!zi.has(d)&&(t=w({rel:"modulepreload",href:t},i),zi.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Mn(l,"link",t),Lt(l),a.head.appendChild(l)}}}function aS(t,i,a){Zr.S(t,i,a);var l=Mo;if(l&&t){var h=hi(l).hoistableStyles,d=Oo(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ql(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zi.get(d))&&um(t,a);var D=v=l.createElement("link");Lt(D),Mn(D,"link",t),D._p=new Promise(function(Y,te){D.onload=Y,D.onerror=te}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Wc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function oS(t,i){Zr.X(t,i);var a=Mo;if(a&&t){var l=hi(a).hoistableScripts,h=Vo(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=w({src:t,async:!0},i),(i=zi.get(h))&&cm(t,i),d=a.createElement("script"),Lt(d),Mn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lS(t,i){Zr.M(t,i);var a=Mo;if(a&&t){var l=hi(a).hoistableScripts,h=Vo(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=zi.get(h))&&cm(t,i),d=a.createElement("script"),Lt(d),Mn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function N_(t,i,a,l){var h=(h=pe.current)?Jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Oo(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Oo(a.href);var d=hi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ql(t)))&&!d._p&&(v.instance=d,v.state.loading=5),zi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zi.set(t,a),d||uS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vo(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Oo(t){return'href="'+bt(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function D_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function uS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Mn(i,"link",a),Lt(i),t.head.appendChild(i))}function Vo(t){return'[src="'+bt(t)+'"]'}function Yl(t){return"script[async]"+t}function M_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+bt(a.href)+'"]');if(l)return i.instance=l,Lt(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Lt(l),Mn(l,"style",h),Wc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Oo(a.href);var d=t.querySelector(Ql(h));if(d)return i.state.loading|=4,i.instance=d,Lt(d),d;l=D_(a),(h=zi.get(h))&&um(l,h),d=(t.ownerDocument||t).createElement("link"),Lt(d);var v=d;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Mn(d,"link",l),i.state.loading|=4,Wc(d,a.precedence,t),i.instance=d;case"script":return d=Vo(a.src),(h=t.querySelector(Yl(d)))?(i.instance=h,Lt(h),h):(l=a,(h=zi.get(d))&&(l=w({},a),cm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Lt(h),Mn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Wc(l,a.precedence,t));return i.instance}function Wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Zc=null;function O_(t,i,a){if(Zc===null){var l=new Map,h=Zc=new Map;h.set(a,l)}else h=Zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ln]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function V_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function cS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function k_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Oo(l.href),d=i.querySelector(Ql(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=eh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Lt(d);return}d=i.ownerDocument||i,l=D_(l),(h=zi.get(h))&&um(l,h),d=d.createElement("link"),Lt(d);var v=d;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Mn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var hm=0;function fS(t,i){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&hm===0&&(hm=62500*Qb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>hm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,i.forEach(dS,t),th=null,eh.call(t))}function dS(t,i){if(!(i.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=eh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Kl={$$typeof:se,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function mS(t,i,a,l,h,d,v,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function P_(t,i,a,l,h,d,v,b,D,Y,te,ae){return t=new mS(t,i,a,v,D,Y,te,ae,b),i=1,d===!0&&(i|=24),d=pi(3,null,null,i),t.current=d,d.stateNode=t,i=Ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function L_(t){return t?(t=co,t):co}function U_(t,i,a,l,h,d){h=L_(h),l.context===null?l.context=h:l.pendingContext=h,l=Os(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vs(t,l,i),a!==null&&(ai(a,t,i),Rl(a,t,i))}function z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){z_(t,i),(t=t.alternate)&&z_(t,i)}function j_(t){if(t.tag===13||t.tag===31){var i=Da(t,67108864);i!==null&&ai(i,t,67108864),fm(t,67108864)}}function B_(t){if(t.tag===13||t.tag===31){var i=Ei();i=Nr(i);var a=Da(t,i);a!==null&&ai(a,t,i),fm(t,i)}}var ih=!0;function pS(t,i,a,l){var h=ee.T;ee.T=null;var d=he.p;try{he.p=2,dm(t,i,a,l)}finally{he.p=d,ee.T=h}}function gS(t,i,a,l){var h=ee.T;ee.T=null;var d=he.p;try{he.p=8,dm(t,i,a,l)}finally{he.p=d,ee.T=h}}function dm(t,i,a,l){if(ih){var h=mm(l);if(h===null)Zd(t,i,l,rh,a),H_(t,l);else if(vS(h,t,i,a,l))l.stopPropagation();else if(H_(t,l),i&4&&-1<yS.indexOf(t)){for(;h!==null;){var d=Ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ci(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-It(v);b.entanglements[1]|=D,v&=~D}_r(d),(ct&6)===0&&(jc=xt()+500,ql(0))}}break;case 31:case 13:b=Da(d,2),b!==null&&ai(b,d,2),qc(),fm(d,2)}if(d=mm(l),d===null&&Zd(t,i,l,rh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,i,l,null,a)}}function mm(t){return t=Le(t),pm(t)}var rh=null;function pm(t){if(rh=null,t=ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case mt:return 2;case at:return 8;case hn:case ui:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var gm=!1,Gs=null,Qs=null,Ys=null,$l=new Map,Xl=new Map,Ks=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(t,i){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ni(i),i!==null&&j_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function vS(t,i,a,l,h){switch(i){case"focusin":return Gs=Jl(Gs,t,i,a,l,h),!0;case"dragenter":return Qs=Jl(Qs,t,i,a,l,h),!0;case"mouseover":return Ys=Jl(Ys,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return $l.set(d,Jl($l.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Xl.set(d,Jl(Xl.get(d)||null,t,i,a,l,h)),!0}return!1}function F_(t){var i=ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){B_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){B_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qe=l,a.target.dispatchEvent(l),Qe=null}else return i=Ni(a),i!==null&&j_(i),t.blockedOn=a,!1;i.shift()}return!0}function G_(t,i,a){sh(t)&&a.delete(i)}function _S(){gm=!1,Gs!==null&&sh(Gs)&&(Gs=null),Qs!==null&&sh(Qs)&&(Qs=null),Ys!==null&&sh(Ys)&&(Ys=null),$l.forEach(G_),Xl.forEach(G_)}function ah(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_S)))}var oh=null;function Q_(t){oh!==t&&(oh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=Ni(a);d!==null&&(t.splice(i,3),i-=3,md(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ko(t){function i(D){return ah(D,t)}Gs!==null&&ah(Gs,t),Qs!==null&&ah(Qs,t),Ys!==null&&ah(Ys,t),$l.forEach(i),Xl.forEach(i);for(var a=0;a<Ks.length;a++){var l=Ks[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ks.length&&(a=Ks[0],a.blockedOn===null);)F_(a),a.blockedOn===null&&Ks.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[$t]||null;if(typeof d=="function")v||Q_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[$t]||null)b=v.formAction;else if(pm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Q_(a)}}}function Y_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ym(t){this._internalRoot=t}lh.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Ei();U_(a,l,t,i,null,null)},lh.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;U_(t.current,2,null,t,null,null),qc(),i[xi]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Rn();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ks.length&&i!==0&&i<Ks[a].priority;a++);Ks.splice(a,0,t),a===0&&F_(t)}};var K_=e.version;if(K_!=="19.2.3")throw Error(s(527,K_,"19.2.3"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var ES={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{An=uh.inject(ES),Rt=uh}catch{}}return Zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=tv,d=nv,v=iv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=P_(t,1,!1,null,null,a,l,null,h,d,v,Y_),t[xi]=i.current,Wd(t),new ym(i)},Zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=tv,v=nv,b=iv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=P_(t,1,!0,i,a??null,l,h,D,d,v,b,Y_),i.context=L_(null),a=i.current,l=Ei(),l=Nr(l),h=Os(l),h.callback=null,Vs(a,h,l),a=l,i.current.lanes=a,Qi(i,a),_r(i),t[xi]=i.current,Wd(t),new lh(i)},Zl.version="19.2.3",Zl}var r0;function MS(){if(r0)return Em.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=DS(),Em.exports}var OS=MS();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s0="popstate";function VS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Wa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Fm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:yu(u))}function s(o,u){Ai(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return PS(e,n,s,r)}function jt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kS(){return Math.random().toString(36).substring(2,10)}function a0(r,e){return{usr:r.state,key:r.key,idx:e}}function Fm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:n,key:e&&e.key||s||kS()}}function yu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Wa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function PS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let B=E(),ue=B==null?null:B-g;g=B,p&&p({action:m,location:Z.location,delta:ue})}function R(B,ue){m="PUSH";let ce=Fm(Z.location,B,ue);n&&n(ce,B),g=E()+1;let se=a0(ce,g),Se=Z.createHref(ce);try{f.pushState(se,"",Se)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(Se)}u&&p&&p({action:m,location:Z.location,delta:1})}function P(B,ue){m="REPLACE";let ce=Fm(Z.location,B,ue);n&&n(ce,B),g=E();let se=a0(ce,g),Se=Z.createHref(ce);f.replaceState(se,"",Se),u&&p&&p({action:m,location:Z.location,delta:0})}function K(B){return LS(B)}let Z={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(s0,w),p=B,()=>{o.removeEventListener(s0,w),p=null}},createHref(B){return e(o,B)},createURL:K,encodeLocation(B){let ue=K(B);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:R,replace:P,go(B){return f.go(B)}};return Z}function LS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),jt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:yu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function GE(r,e,n="/"){return US(r,e,n,!1)}function US(r,e,n,s){let o=typeof e=="string"?Wa(e):e,u=ss(o.pathname||"/",n);if(u==null)return null;let f=QE(r);zS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=XS(u);m=KS(f[p],g,s)}return m}function QE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;jt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let w=is([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(jt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),QE(f.children,e,R,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:QS(w,f.index),routesMeta:R})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of YE(f.path))u(f,m,!0,g)}),e}function YE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=YE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function zS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:YS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jS=/^:[\w-]+$/,BS=3,qS=2,HS=1,FS=10,GS=-2,o0=r=>r==="*";function QS(r,e){let n=r.split("/"),s=n.length;return n.some(o0)&&(s+=GS),e&&(s+=qS),n.filter(o=>!o0(o)).reduce((o,u)=>o+(jS.test(u)?BS:u===""?HS:FS),s)}function YS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function KS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:is([u,w.pathname]),pathnameBase:eA(is([u,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(u=is([u,w.pathnameBase]))}return f}function Dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=$S(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},R)=>{if(E==="*"){let K=m[R]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const P=m[R];return w&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function $S(r,e=!1,n=!0){Ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function XS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ss(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JS=r=>KE.test(r);function WS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Wa(r):r,u;if(n)if(JS(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=l0(n.substring(1),"/"):u=l0(n,e)}else u=e;return{pathname:u,search:tA(s),hash:nA(o)}}function l0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $E(r){let e=ZS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function XE(r,e,n,s=!1){let o;typeof r=="string"?o=Wa(r):(o={...r},jt(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),jt(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),jt(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}m=w>=0?e[w]:"/"}let p=WS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var is=r=>r.join("/").replace(/\/\/+/g,"/"),eA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,iA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function sA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WE(r,e){let n=r;if(typeof n!="string"||!KE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(JE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ss(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Ai(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var aA=["GET",...ZE];new Set(aA);var Zo=V.createContext(null);Zo.displayName="DataRouter";var ef=V.createContext(null);ef.displayName="DataRouterState";var oA=V.createContext(!1),eT=V.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var lA=V.createContext(new Map);lA.displayName="Fetchers";var uA=V.createContext(null);uA.displayName="Await";var Hi=V.createContext(null);Hi.displayName="Navigation";var Ru=V.createContext(null);Ru.displayName="Location";var hs=V.createContext({outlet:null,matches:[],isDataRoute:!1});hs.displayName="Route";var Sp=V.createContext(null);Sp.displayName="RouteError";var tT="REACT_ROUTER_ERROR",cA="REDIRECT",hA="ROUTE_ERROR_RESPONSE";function fA(r){if(r.startsWith(`${tT}:${cA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dA(r){if(r.startsWith(`${tT}:${hA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iA(e.status,e.statusText,e.data)}catch{}}function mA(r,{relative:e}={}){jt(Iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Hi),{hash:o,pathname:u,search:f}=Cu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:is([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Iu(){return V.useContext(Ru)!=null}function ya(){return jt(Iu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Ru).location}var nT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iT(r){V.useContext(Hi).static||V.useLayoutEffect(r)}function Ap(){let{isDataRoute:r}=V.useContext(hs);return r?IA():pA()}function pA(){jt(Iu(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(Zo),{basename:e,navigator:n}=V.useContext(Hi),{matches:s}=V.useContext(hs),{pathname:o}=ya(),u=JSON.stringify($E(s)),f=V.useRef(!1);return iT(()=>{f.current=!0}),V.useCallback((p,g={})=>{if(Ai(f.current,nT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=XE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:is([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}V.createContext(null);function Cu(r,{relative:e}={}){let{matches:n}=V.useContext(hs),{pathname:s}=ya(),o=JSON.stringify($E(n));return V.useMemo(()=>XE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function gA(r,e){return rT(r,e)}function rT(r,e,n,s,o){var ce;jt(Iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(Hi),{matches:f}=V.useContext(hs),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let se=w&&w.path||"";aT(g,!w||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let R=ya(),P;if(e){let se=typeof e=="string"?Wa(e):e;jt(E==="/"||((ce=se.pathname)==null?void 0:ce.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${se.pathname}" was given in the \`location\` prop.`),P=se}else P=R;let K=P.pathname||"/",Z=K;if(E!=="/"){let se=E.replace(/^\//,"").split("/");Z="/"+K.replace(/^\//,"").split("/").slice(se.length).join("/")}let B=GE(r,{pathname:Z});Ai(w||B!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ai(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ue=TA(B&&B.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:is([E,u.encodeLocation?u.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?E:is([E,u.encodeLocation?u.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),f,n,s,o);return e&&ue?V.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ue):ue}function yA(){let r=RA(),e=rA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,f)}var vA=V.createElement(yA,null),sT=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=dA(r.digest);n&&(r=n)}let e=r!==void 0?V.createElement(hs.Provider,{value:this.props.routeContext},V.createElement(Sp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?V.createElement(_A,{error:r},e):e}};sT.contextType=oA;var Am=new WeakMap;function _A({children:r,error:e}){let{basename:n}=V.useContext(Hi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=fA(e.digest);if(s){let o=Am.get(e);if(o)throw o;let u=WE(s.location,n);if(JE&&!Am.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(e,f),f}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function EA({routeContext:r,match:e,children:n}){let s=V.useContext(Zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(hs.Provider,{value:r},n)}function TA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);jt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let w=u[E];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=E),w.route.id){let{loaderData:R,errors:P}=n,K=w.route.loader&&!R.hasOwnProperty(w.route.id)&&(!P||P[w.route.id]===void 0);if(w.route.lazy||K){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,w)=>{var R,P;s(E,{location:n.location,params:((P=(R=n.matches)==null?void 0:R[0])==null?void 0:P.params)??{},unstable_pattern:sA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((E,w,R)=>{let P,K=!1,Z=null,B=null;n&&(P=f&&w.route.id?f[w.route.id]:void 0,Z=w.route.errorElement||vA,m&&(p<0&&R===0?(aT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,B=null):p===R&&(K=!0,B=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,R+1)),ce=()=>{let se;return P?se=Z:K?se=B:w.route.Component?se=V.createElement(w.route.Component,null):w.route.element?se=w.route.element:se=E,V.createElement(EA,{match:w,routeContext:{outlet:E,matches:ue,isDataRoute:n!=null},children:se})};return n&&(w.route.ErrorBoundary||w.route.errorElement||R===0)?V.createElement(sT,{location:n.location,revalidation:n.revalidation,component:Z,error:P,children:ce(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:g}):ce()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wA(r){let e=V.useContext(Zo);return jt(e,Rp(r)),e}function bA(r){let e=V.useContext(ef);return jt(e,Rp(r)),e}function SA(r){let e=V.useContext(hs);return jt(e,Rp(r)),e}function Ip(r){let e=SA(r),n=e.matches[e.matches.length-1];return jt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function AA(){return Ip("useRouteId")}function RA(){var s;let r=V.useContext(Sp),e=bA("useRouteError"),n=Ip("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function IA(){let{router:r}=wA("useNavigate"),e=Ip("useNavigate"),n=V.useRef(!1);return iT(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{Ai(n.current,nT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var u0={};function aT(r,e,n){!e&&!u0[r]&&(u0[r]=!0,Ai(!1,n))}V.memo(CA);function CA({routes:r,future:e,state:n,onError:s}){return rT(r,void 0,n,s,e)}function Gm(r){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){jt(!Iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Wa(n));let{pathname:g="/",search:E="",hash:w="",state:R=null,key:P="default"}=n,K=V.useMemo(()=>{let Z=ss(g,m);return Z==null?null:{location:{pathname:Z,search:E,hash:w,state:R,key:P},navigationType:s}},[m,g,E,w,R,P,s]);return Ai(K!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${w}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:V.createElement(Hi.Provider,{value:p},V.createElement(Ru.Provider,{children:e,value:K}))}function NA({children:r,location:e}){return gA(Qm(r),e)}function Qm(r,e=[]){let n=[];return V.Children.forEach(r,(s,o)=>{if(!V.isValidElement(s))return;let u=[...e,o];if(s.type===V.Fragment){n.push.apply(n,Qm(s.props.children,u));return}jt(s.type===Gm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Qm(s.props.children,u)),n.push(f)}),n}var _h="get",Eh="application/x-www-form-urlencoded";function tf(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function DA(r){return tf(r)&&r.tagName.toLowerCase()==="button"}function MA(r){return tf(r)&&r.tagName.toLowerCase()==="form"}function OA(r){return tf(r)&&r.tagName.toLowerCase()==="input"}function VA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kA(r,e){return r.button===0&&(!e||e==="_self")&&!VA(r)}function Ym(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function PA(r,e){let n=Ym(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ch=null;function LA(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var UA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(r){return r!=null&&!UA.has(r)?(Ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):r}function zA(r,e){let n,s,o,u,f;if(MA(r)){let m=r.getAttribute("action");s=m?ss(m,e):null,n=r.getAttribute("method")||_h,o=Rm(r.getAttribute("enctype"))||Eh,u=new FormData(r)}else if(DA(r)||OA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ss(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||_h,o=Rm(r.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||Eh,u=new FormData(m,r),!LA()){let{name:g,type:E,value:w}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,w)}}else{if(tf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,o=Eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ss(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function BA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function HA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await BA(u,n);return f.links?f.links():[]}return[]}));return YA(s.flat(1).filter(qA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function c0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function FA(r,e,{includeHydrateFallback:n}={}){return GA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GA(r){return[...new Set(r)]}function QA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function YA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(QA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function oT(){let r=V.useContext(Zo);return Cp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function KA(){let r=V.useContext(ef);return Cp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xp=V.createContext(void 0);xp.displayName="FrameworkContext";function lT(){let r=V.useContext(xp);return Cp(r,"You must render this element inside a <HydratedRouter> element"),r}function $A(r,e){let n=V.useContext(xp),[s,o]=V.useState(!1),[u,f]=V.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,R=V.useRef(null);V.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ue=>{ue.forEach(ce=>{f(ce.isIntersecting)})},B=new IntersectionObserver(Z,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),V.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let P=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:eu(m,P),onBlur:eu(p,K),onMouseEnter:eu(g,P),onMouseLeave:eu(E,K),onTouchStart:eu(w,P)}]:[!1,R,{}]}function eu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function XA({page:r,...e}){let{router:n}=oT(),s=V.useMemo(()=>GE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?V.createElement(WA,{page:r,matches:s,...e}):null}function JA(r){let{manifest:e,routeModules:n}=lT(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return HA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function WA({page:r,matches:e,...n}){let s=ya(),{future:o,manifest:u,routeModules:f}=lT(),{basename:m}=oT(),{loaderData:p,matches:g}=KA(),E=V.useMemo(()=>c0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=V.useMemo(()=>c0(r,e,g,u,s,"assets"),[r,e,g,u,s]),R=V.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,B=!1;if(e.forEach(ce=>{var Se;let se=u.routes[ce.route.id];!se||!se.hasLoader||(!E.some(Pe=>Pe.route.id===ce.route.id)&&ce.route.id in p&&((Se=f[ce.route.id])!=null&&Se.shouldRevalidate)||se.hasClientLoader?B=!0:Z.add(ce.route.id))}),Z.size===0)return[];let ue=jA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return B&&Z.size>0&&ue.searchParams.set("_routes",e.filter(ce=>Z.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[ue.pathname+ue.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),P=V.useMemo(()=>FA(w,u),[w,u]),K=JA(w);return V.createElement(V.Fragment,null,R.map(Z=>V.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),P.map(Z=>V.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),K.map(({key:Z,link:B})=>V.createElement("link",{key:Z,nonce:n.nonce,...B})))}function ZA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eR&&(window.__reactRouterVersion="7.12.0")}catch{}function tR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=V.useRef();o.current==null&&(o.current=VS({window:s,v5Compat:!0}));let u=o.current,[f,m]=V.useState({action:u.action,location:u.location}),p=V.useCallback(g=>{n===!1?m(g):V.startTransition(()=>m(g))},[n]);return V.useLayoutEffect(()=>u.listen(p),[u,p]),V.createElement(xA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cT=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:R,...P},K){let{basename:Z,unstable_useTransitions:B}=V.useContext(Hi),ue=typeof g=="string"&&uT.test(g),ce=WE(g,Z);g=ce.to;let se=mA(g,{relative:o}),[Se,Pe,Ne]=$A(s,P),N=sR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:R,unstable_useTransitions:B});function I(M){e&&e(M),M.defaultPrevented||N(M)}let C=V.createElement("a",{...P,...Ne,href:ce.absoluteURL||se,onClick:ce.isExternal||u?e:I,ref:ZA(K,Pe),target:p,"data-discover":!ue&&n==="render"?"true":void 0});return Se&&!ue?V.createElement(V.Fragment,null,C,V.createElement(XA,{page:se})):C});cT.displayName="Link";var nR=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=Cu(f,{relative:g.relative}),R=ya(),P=V.useContext(ef),{navigator:K,basename:Z}=V.useContext(Hi),B=P!=null&&hR(w)&&m===!0,ue=K.encodeLocation?K.encodeLocation(w).pathname:w.pathname,ce=R.pathname,se=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ce=ce.toLowerCase(),se=se?se.toLowerCase():null,ue=ue.toLowerCase()),se&&Z&&(se=ss(se,Z)||se);const Se=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Pe=ce===ue||!o&&ce.startsWith(ue)&&ce.charAt(Se)==="/",Ne=se!=null&&(se===ue||!o&&se.startsWith(ue)&&se.charAt(ue.length)==="/"),N={isActive:Pe,isPending:Ne,isTransitioning:B},I=Pe?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Pe?"active":null,Ne?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return V.createElement(cT,{...g,"aria-current":I,className:C,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(N):p)});nR.displayName="NavLink";var iR=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=_h,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:R,...P},K)=>{let{unstable_useTransitions:Z}=V.useContext(Hi),B=uR(),ue=cR(m,{relative:g}),ce=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&uT.test(m),Se=Pe=>{if(p&&p(Pe),Pe.defaultPrevented)return;Pe.preventDefault();let Ne=Pe.nativeEvent.submitter,N=(Ne==null?void 0:Ne.getAttribute("formmethod"))||f,I=()=>B(Ne||Pe.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w,unstable_defaultShouldRevalidate:R});Z&&n!==!1?V.startTransition(()=>I()):I()};return V.createElement("form",{ref:K,method:ce,action:ue,onSubmit:s?p:Se,...P,"data-discover":!se&&r==="render"?"true":void 0})});iR.displayName="Form";function rR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hT(r){let e=V.useContext(Zo);return jt(e,rR(r)),e}function sR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Ap(),E=ya(),w=Cu(r,{relative:u});return V.useCallback(R=>{if(kA(R,e)){R.preventDefault();let P=n!==void 0?n:yu(E)===yu(w),K=()=>g(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?V.startTransition(()=>K()):K()}},[E,g,w,n,s,e,r,o,u,f,m,p])}function aR(r){Ai(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(Ym(r)),n=V.useRef(!1),s=ya(),o=V.useMemo(()=>PA(s.search,n.current?null:e.current),[s.search]),u=Ap(),f=V.useCallback((m,p)=>{const g=Ym(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var oR=0,lR=()=>`__${String(++oR)}__`;function uR(){let{router:r}=hT("useSubmit"),{basename:e}=V.useContext(Hi),n=AA(),s=r.fetch,o=r.navigate;return V.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:w}=zA(u,e);if(f.navigate===!1){let R=f.fetcherKey||lR();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function cR(r,{relative:e}={}){let{basename:n}=V.useContext(Hi),s=V.useContext(hs);jt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(r||".",{relative:e})},f=ya();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:is([n,u.pathname])),yu(u)}function hR(r,{relative:e}={}){let n=V.useContext(eT);jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hT("useViewTransitionState"),o=Cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ss(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ss(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dh(o.pathname,f)!=null||Dh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=V.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>V.createElement("svg",{ref:p,...dR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:fT("lucide",o),...m},[...f.map(([g,E])=>V.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(r,e)=>{const n=V.forwardRef(({className:s,...o},u)=>V.createElement(mR,{ref:u,iconNode:e,className:fT(`lucide-${fR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Pn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Pn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Pn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Pn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Pn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Pn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Pn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Pn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Pn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Pn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Pn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Pn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Pn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Pn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Pn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Pn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Pn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bR=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},SR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(R=64)),s.push(n[E],n[w],n[R],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):SR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new AR;const R=u<<2|m>>4;if(s.push(R),g!==64){const P=m<<4&240|g>>2;if(s.push(P),w!==64){const K=g<<6&192|w;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(r){const e=pT(r);return gT.encodeByteArray(e,!0)},Mh=function(r){return RR(r).replace(/\./g,"")},yT=function(r){try{return gT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>IR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof d0>"u")return;const r=d0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&yT(r[1]);return e&&JSON.parse(e)},nf=()=>{try{return bR()||CR()||xR()||NR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vT=r=>{var e,n;return(n=(e=nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},DR=r=>{const e=vT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_T=()=>{var r;return(r=nf())===null||r===void 0?void 0:r.config},ET=r=>{var e;return(e=nf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mh(JSON.stringify(n)),Mh(JSON.stringify(f)),""].join(".")}const uu={};function VR(){const r={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?r.emulator.push(e):r.prod.push(e);return r}function kR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let m0=!1;function wT(r,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||uu[r]===e||uu[r]||m0)return;uu[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=VR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{m0=!0,f()},R}function E(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function w(){const R=kR(s),P=n("text"),K=document.getElementById(P)||document.createElement("span"),Z=n("learnmore"),B=document.getElementById(Z)||document.createElement("a"),ue=n("preprendIcon"),ce=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const se=R.element;m(se),E(B,Z);const Se=g();p(ce,ue),se.append(ce,K,B,Se),document.body.appendChild(se)}u?(K.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function LR(){var r;const e=(r=nf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const r=Hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HR(){try{return typeof indexedDB=="object"}catch{return!1}}function FR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="FirebaseError";class fs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=GR,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?QR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fs(o,m,s)}}function QR(r,e){return r.replace(YR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YR=/\{\$([^}]+)}/g;function KR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ua(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(p0(u)&&p0(f)){if(!ua(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function p0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $R(r,e){const n=new XR(r,e);return n.subscribe.bind(n)}class XR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r){return r&&r._delegate?r._delegate:r}class Ka{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new MR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e2(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZR(r){return r===Fa?void 0:r}function e2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const n2={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},i2=We.INFO,r2={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},s2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=r2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const a2=(r,e)=>e.some(n=>r instanceof n);let g0,y0;function o2(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,Xm=new WeakMap,ST=new WeakMap,Cm=new WeakMap,Dp=new WeakMap;function u2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(na(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,r)}).catch(()=>{}),Dp.set(e,r),e}function c2(r){if(Xm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Xm.set(r,e)}let Jm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Xm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ST.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function h2(r){Jm=r(Jm)}function f2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return ST.set(s,e.sort?e.sort():[e]),na(s)}:l2().includes(r)?function(...e){return r.apply(xm(this),e),na(bT.get(this))}:function(...e){return na(r.apply(xm(this),e))}}function d2(r){return typeof r=="function"?f2(r):(r instanceof IDBTransaction&&c2(r),a2(r,o2())?new Proxy(r,Jm):r)}function na(r){if(r instanceof IDBRequest)return u2(r);if(Cm.has(r))return Cm.get(r);const e=d2(r);return e!==r&&(Cm.set(r,e),Dp.set(e,r)),e}const xm=r=>Dp.get(r);function m2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=na(f);return s&&f.addEventListener("upgradeneeded",p=>{s(na(f.result),p.oldVersion,p.newVersion,na(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const p2=["get","getKey","getAll","getAllKeys","count"],g2=["put","add","delete","clear"],Nm=new Map;function v0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=g2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||p2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Nm.set(e,u),u}h2(r=>({...r,get:(e,n,s)=>v0(e,n)||r.get(e,n,s),has:(e,n)=>!!v0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function v2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wm="@firebase/app",_0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Np("@firebase/app"),_2="@firebase/app-compat",E2="@firebase/analytics-compat",T2="@firebase/analytics",w2="@firebase/app-check-compat",b2="@firebase/app-check",S2="@firebase/auth",A2="@firebase/auth-compat",R2="@firebase/database",I2="@firebase/data-connect",C2="@firebase/database-compat",x2="@firebase/functions",N2="@firebase/functions-compat",D2="@firebase/installations",M2="@firebase/installations-compat",O2="@firebase/messaging",V2="@firebase/messaging-compat",k2="@firebase/performance",P2="@firebase/performance-compat",L2="@firebase/remote-config",U2="@firebase/remote-config-compat",z2="@firebase/storage",j2="@firebase/storage-compat",B2="@firebase/firestore",q2="@firebase/ai",H2="@firebase/firestore-compat",F2="firebase",G2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",Q2={[Wm]:"fire-core",[_2]:"fire-core-compat",[T2]:"fire-analytics",[E2]:"fire-analytics-compat",[b2]:"fire-app-check",[w2]:"fire-app-check-compat",[S2]:"fire-auth",[A2]:"fire-auth-compat",[R2]:"fire-rtdb",[I2]:"fire-data-connect",[C2]:"fire-rtdb-compat",[x2]:"fire-fn",[N2]:"fire-fn-compat",[D2]:"fire-iid",[M2]:"fire-iid-compat",[O2]:"fire-fcm",[V2]:"fire-fcm-compat",[k2]:"fire-perf",[P2]:"fire-perf-compat",[L2]:"fire-rc",[U2]:"fire-rc-compat",[z2]:"fire-gcs",[j2]:"fire-gcs-compat",[B2]:"fire-fst",[H2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[F2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,Y2=new Map,ep=new Map;function E0(r,e){try{r.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Go(r){const e=r.name;if(ep.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,r);for(const n of Oh.values())E0(n,r);for(const n of Y2.values())E0(n,r);return!0}function Mp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new xu("app","Firebase",K2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=G2;function AT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ia.create("bad-app-name",{appName:String(o)});if(n||(n=_T()),!n)throw ia.create("no-options");const u=Oh.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw ia.create("duplicate-app",{appName:o})}const f=new t2(o);for(const p of ep.values())f.addComponent(p);const m=new $2(n,s,f);return Oh.set(o,m),m}function RT(r=Zm){const e=Oh.get(r);if(!e&&r===Zm&&_T())return AT();if(!e)throw ia.create("no-app",{appName:r});return e}function ra(r,e,n){var s;let o=(s=Q2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(m.join(" "));return}Go(new Ka(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="firebase-heartbeat-database",J2=1,vu="firebase-heartbeat-store";let Dm=null;function IT(){return Dm||(Dm=m2(X2,J2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ia.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function W2(r){try{const n=(await IT()).transaction(vu),s=await n.objectStore(vu).get(CT(r));return await n.done,s}catch(e){if(e instanceof fs)as.warn(e.message);else{const n=ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function T0(r,e){try{const s=(await IT()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,CT(r)),await s.done}catch(n){if(n instanceof fs)as.warn(n.message);else{const s=ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(s.message)}}}function CT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1024,eI=30;class tI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>eI){const f=rI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){as.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w0(),{heartbeatsToSend:s,unsentEntries:o}=nI(this._heartbeatsCache.heartbeats),u=Mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return as.warn(n),""}}}function w0(){return new Date().toISOString().substring(0,10)}function nI(r,e=Z2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),b0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),b0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HR()?FR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b0(r){return Mh(JSON.stringify({version:2,heartbeats:r})).length}function rI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){Go(new Ka("platform-logger",e=>new y2(e),"PRIVATE")),Go(new Ka("heartbeat",e=>new tI(e),"PRIVATE")),ra(Wm,_0,r),ra(Wm,_0,"esm2017"),ra("fire-js","")}sI("");function Op(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aI=xT,NT=new xu("auth","Firebase",xT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Np("@firebase/auth");function oI(r,...e){Vh.logLevel<=We.WARN&&Vh.warn(`Auth (${tl}): ${r}`,...e)}function Th(r,...e){Vh.logLevel<=We.ERROR&&Vh.error(`Auth (${tl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r,...e){throw kp(r,...e)}function sr(r,...e){return kp(r,...e)}function Vp(r,e,n){const s=Object.assign(Object.assign({},aI()),{[e]:n});return new xu("auth","Firebase",s).create(e,{appName:r.name})}function sa(r){return Vp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Rr(r,"argument-error"),Vp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return NT.create(r,...e)}function Ve(r,e,...n){if(!r)throw kp(e,...n)}function ts(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Th(e),new Error(e)}function os(r,e){r||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function lI(){return S0()==="http:"||S0()==="https:"}function S0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lI()||zR()||"connection"in navigator)?navigator.onLine:!0}function cI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=PR()||jR()}get(){return uI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){os(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dI=new Du(3e4,6e4);function Lp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function nl(r,e,n,s,o={}){return OT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Nu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return UR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&el(r.emulatorConfig.host)&&(g.credentials="include"),MT.fetch()(await VT(r,r.config.apiHost,n,m),g)})}async function OT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},hI),e);try{const o=new pI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw dh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw dh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw dh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Vp(r,E,g);Rr(r,E)}}catch(o){if(o instanceof fs)throw o;Rr(r,"network-request-failed",{message:String(o)})}}async function mI(r,e,n,s,o={}){const u=await nl(r,e,n,s,o);return"mfaPendingCredential"in u&&Rr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Pp(r.config,o):`${r.config.apiScheme}://${o}`;return fI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class pI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(sr(this.auth,"network-request-failed")),dI.get())})}}function dh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=sr(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,e){return nl(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return nl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(r,e=!1){const n=Kt(r),s=await n.getIdToken(e),o=Up(s);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:cu(Mm(o.auth_time)),issuedAtTime:cu(Mm(o.iat)),expirationTime:cu(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(r){return Number(r)*1e3}function Up(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=yT(n);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function A0(r){const e=Up(r);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fs&&vI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(r){var e;const n=r.auth,s=await r.getIdToken(),o=await _u(r,kh(n,{idToken:s}));Ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?kT(u.providerUserInfo):[],m=TI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new np(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function EI(r){const e=Kt(r);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function kT(r){return r.map(e=>{var{providerId:n}=e,s=Op(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(r,e){const n=await OT(r,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await VT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&el(r.emulatorConfig.host)&&(p.credentials="include"),MT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bI(r,e){return nl(r,"POST","/v2/accounts:revokeToken",Lp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=A0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Bo;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(r,e){Ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class rr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new np(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yI(this,e)}reload(){return EI(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await _u(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,K=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ue=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ce=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:se,emailVerified:Se,isAnonymous:Pe,providerData:Ne,stsTokenManager:N}=n;Ve(se&&N,e,"internal-error");const I=Bo.fromJSON(this.name,N);Ve(typeof se=="string",e,"internal-error"),Xs(w,e.name),Xs(R,e.name),Ve(typeof Se=="boolean",e,"internal-error"),Ve(typeof Pe=="boolean",e,"internal-error"),Xs(P,e.name),Xs(K,e.name),Xs(Z,e.name),Xs(B,e.name),Xs(ue,e.name),Xs(ce,e.name);const C=new rr({uid:se,auth:e,email:R,emailVerified:Se,displayName:w,isAnonymous:Pe,photoURL:K,phoneNumber:P,tenantId:Z,stsTokenManager:I,createdAt:ue,lastLoginAt:ce});return Ne&&Array.isArray(Ne)&&(C.providerData=Ne.map(M=>Object.assign({},M))),B&&(C._redirectEventId=B),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Bo;o.updateFromServerResponse(n);const u=new rr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Bo;m.updateFromIdToken(s);const p=new rr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;function ns(r){os(r instanceof Function,"Expected a class definition");let e=R0.get(r);return e?(os(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,R0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const ip=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e,n){return`firebase:${r}:${e}:${n}`}class qo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?rr._fromGetAccountInfoResponse(this.auth,n,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new qo(ns(ip),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ns(ip);const f=wh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const R=await kh(e,{idToken:E}).catch(()=>{});if(!R)break;w=await rr._fromGetAccountInfoResponse(e,R,E)}else w=rr._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new qo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new qo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(HT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function LT(r=Hn()){return/firefox\//i.test(r)}function UT(r=Hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(r=Hn()){return/crios\//i.test(r)}function jT(r=Hn()){return/iemobile/i.test(r)}function BT(r=Hn()){return/android/i.test(r)}function qT(r=Hn()){return/blackberry/i.test(r)}function HT(r=Hn()){return/webos/i.test(r)}function zp(r=Hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function SI(r=Hn()){var e;return zp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AI(){return BR()&&document.documentMode===10}function FT(r=Hn()){return zp(r)||BT(r)||HT(r)||qT(r)||/windows phone/i.test(r)||jT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,e=[]){let n;switch(r){case"Browser":n=I0(Hn());break;case"Worker":n=`${I0(Hn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,e={}){return nl(r,"GET","/v2/passwordPolicy",Lp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=6;class xI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:CI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C0(this),this.idTokenSubscription=new C0(this),this.beforeStateQueue=new RI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Bi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bi(this.app))return Promise.reject(sa(this));const n=e?Kt(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bi(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await II(this),n=new xI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await bI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&oI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mu(r){return Kt(r)}class C0{constructor(e){this.auth=e,this.observer=null,this.addObserver=$R(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DI(r){jp=r}function MI(r){return jp.loadJS(r)}function OI(){return jp.gapiScript}function VI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r,e){const n=Mp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return o;Rr(o,"already-initialized")}return n.initialize({options:e})}function PI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LI(r,e,n){const s=Mu(r);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=QT(e),{host:f,port:m}=UI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(ua(g,s.config.emulator)&&ua(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,el(f)?(TT(`${u}//${f}${p}`),wT("Auth",!0)):zI()}function QT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UI(r){const e=QT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:x0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:x0(f)}}}function x0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(r,e){return mI(r,"POST","/v1/accounts:signInWithIdp",Lp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="http://localhost";class $a extends YT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Op(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new $a(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:jI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Ou{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $a._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Ou{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Ou{constructor(){super("twitter.com")}static credential(e,n){return $a._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zs.credential(n,s)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await rr._fromIdTokenResponse(e,s,o),f=N0(s);return new Qo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=N0(s);return new Qo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function N0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends fs{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function KT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(r,u,e,s):u})}async function BI(r,e,n=!1){const s=await _u(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Qo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,e,n=!1){const{auth:s}=r;if(Bi(s.app))return Promise.reject(sa(s));const o="reauthenticate";try{const u=await _u(r,KT(s,o,e,r),n);Ve(u.idToken,s,"internal-error");const f=Up(u.idToken);Ve(f,s,"internal-error");const{sub:m}=f;return Ve(r.uid===m,s,"user-mismatch"),Qo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Rr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e,n=!1){if(Bi(r.app))return Promise.reject(sa(r));const s="signIn",o=await KT(r,s,e),u=await Qo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r,e){return Kt(r).setPersistence(e)}function FI(r,e,n,s){return Kt(r).onIdTokenChanged(e,n,s)}function GI(r,e,n){return Kt(r).beforeAuthStateChanged(e,n)}function $T(r,e,n,s){return Kt(r).onAuthStateChanged(e,n,s)}function QI(r){return Kt(r).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1e3,KI=10;class JT extends XT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);AI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JT.type="LOCAL";const sf=JT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends XT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WT.type="SESSION";const ZT=WT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new af(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await $I(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Bp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function JI(r){wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function WI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function eC(){return ew()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebaseLocalStorageDb",tC=1,zh="firebaseLocalStorage",nw="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(r,e){return r.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function nC(){const r=indexedDB.deleteDatabase(tw);return new Vu(r).toPromise()}function rp(){const r=indexedDB.open(tw,tC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:nw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await nC(),e(await rp()))})})}async function D0(r,e,n){const s=of(r,!0).put({[nw]:e,value:n});return new Vu(s).toPromise()}async function iC(r,e){const n=of(r,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function M0(r,e){const n=of(r,!0).delete(e);return new Vu(n).toPromise()}const rC=800,sC=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>sC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ew()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(eC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WI(),!this.activeServiceWorker)return;this.sender=new XI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await D0(e,Uh,"1"),await M0(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>iC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=of(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const rw=iw;new Du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,e){return e?ns(e):(Ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends YT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aC(r){return HI(r.auth,new Hp(r),r.bypassAuthState)}function oC(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),qI(n,new Hp(r),r.bypassAuthState)}async function lC(r){const{auth:e,user:n}=r;return Ve(n,e,"internal-error"),BI(n,new Hp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return lC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:Rr(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new Du(2e3,1e4);async function cC(r,e,n){if(Bi(r.app))return Promise.reject(sr(r,"operation-not-supported-in-this-environment"));const s=Mu(r);DT(r,e,rf);const o=qp(s,n);return new Ga(s,"signInViaPopup",e,o).executeNotNull()}class Ga extends sw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uC.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="pendingRedirect",bh=new Map;class fC extends sw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,e){const n=ow(e),s=aw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function mC(r,e){return aw(r)._set(ow(e),"true")}function pC(r,e){bh.set(r._key(),e)}function aw(r){return ns(r._redirectPersistence)}function ow(r){return wh(hC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r,e,n){return gC(r,e,n)}async function gC(r,e,n){if(Bi(r.app))return Promise.reject(sa(r));const s=Mu(r);DT(r,e,rf),await s._initializationPromise;const o=qp(s,n);return await mC(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function yC(r,e,n=!1){if(Bi(r.app))return Promise.reject(sa(r));const s=Mu(r),o=qp(s,e),f=await new fC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=600*1e3;class _C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!lw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vC&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e={}){return nl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function SC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TC(r);for(const n of e)try{if(AC(n))return}catch{}Rr(r,"unauthorized-domain")}function AC(r){const e=tp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!bC.test(n))return!1;if(wC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Du(3e4,6e4);function k0(){const r=wr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function IC(r){return new Promise((e,n)=>{var s,o,u;function f(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(sr(r,"network-request-failed"))},timeout:RC.get()})}if(!((o=(s=wr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=wr().gapi)===null||u===void 0)&&u.load)f();else{const m=VI("iframefcb");return wr()[m]=()=>{gapi.load?f():n(sr(r,"network-request-failed"))},MI(`${OI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function CC(r){return Sh=Sh||IC(r),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Du(5e3,15e3),NC="__/auth/iframe",DC="emulator/auth/iframe",MC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(r){const e=r.config;Ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Pp(e,DC):`https://${r.config.authDomain}/${NC}`,s={apiKey:e.apiKey,appName:r.name,v:tl},o=OC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Nu(s).slice(1)}`}async function kC(r){const e=await CC(r),n=wr().gapi;return Ve(n,r,"internal-error"),e.open({where:document.body,url:VC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=sr(r,"network-request-failed"),m=wr().setTimeout(()=>{u(f)},xC.get());function p(){wr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LC=500,UC=600,zC="_blank",jC="http://localhost";class P0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,e,n,s=LC,o=UC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},PC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Hn().toLowerCase();n&&(m=zT(g)?zC:n),LT(g)&&(e=e||jC,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[P,K])=>`${R}${P}=${K},`,"");if(SI(g)&&m!=="_self")return qC(e||"",m),new P0(null);const w=window.open(e||"",m,E);Ve(w,r,"popup-blocked");try{w.focus()}catch{}return new P0(w)}function qC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="__/auth/handler",FC="emulator/auth/handler",GC=encodeURIComponent("fac");async function L0(r,e,n,s,o,u){Ve(r.config.authDomain,r,"auth-domain-config-required"),Ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:tl,eventId:o};if(e instanceof rf){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",KR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Ou){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${GC}=${encodeURIComponent(p)}`:"";return`${QC(r)}?${Nu(m).slice(1)}${g}`}function QC({config:r}){return r.emulator?Pp(r,FC):`https://${r.authDomain}/${HC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class YC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZT,this._completeRedirectFn=yC,this._overrideRedirectResult=pC}async _openPopup(e,n,s,o){var u;os((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await L0(e,n,s,tp(),o);return BC(e,f,Bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await L0(e,n,s,tp(),o);return JI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(os(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kC(e),s=new _C(e);return n.register("authEvent",o=>(Ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];f!==void 0&&n(!!f),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||UT()||zp()}}const KC=YC;var U0="@firebase/auth",z0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(r){Go(new Ka("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(r)},g=new NI(s,o,u,p);return PI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Go(new Ka("auth-internal",e=>{const n=Mu(e.getProvider("auth").getImmediate());return(s=>new $C(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra(U0,z0,XC(r)),ra(U0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=300,ZC=ET("authIdTokenMaxAge")||WC;let j0=null;const ex=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n==null?void 0:n.token;j0!==o&&(j0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tx(r=RT()){const e=Mp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kI(r,{popupRedirectResolver:KC,persistence:[rw,sf,ZT]}),s=ET("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ex(u.toString());GI(n,f,()=>f(n.currentUser)),FI(n,m=>f(m))}}const o=vT("auth");return o&&LI(n,`http://${o}`),n}function nx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}DI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=sr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aa,uw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function C(){}C.prototype=I.prototype,N.D=I.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(M,k,z){for(var x=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)x[Ct-2]=arguments[Ct];return I.prototype[k].apply(M,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,C){C||(C=0);var M=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)M[k]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(k=0;16>k;++k)M[k]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=N.g[0],C=N.g[1],k=N.g[2];var z=N.g[3],x=I+(z^C&(k^z))+M[0]+3614090360&4294967295;I=C+(x<<7&4294967295|x>>>25),x=z+(k^I&(C^k))+M[1]+3905402710&4294967295,z=I+(x<<12&4294967295|x>>>20),x=k+(C^z&(I^C))+M[2]+606105819&4294967295,k=z+(x<<17&4294967295|x>>>15),x=C+(I^k&(z^I))+M[3]+3250441966&4294967295,C=k+(x<<22&4294967295|x>>>10),x=I+(z^C&(k^z))+M[4]+4118548399&4294967295,I=C+(x<<7&4294967295|x>>>25),x=z+(k^I&(C^k))+M[5]+1200080426&4294967295,z=I+(x<<12&4294967295|x>>>20),x=k+(C^z&(I^C))+M[6]+2821735955&4294967295,k=z+(x<<17&4294967295|x>>>15),x=C+(I^k&(z^I))+M[7]+4249261313&4294967295,C=k+(x<<22&4294967295|x>>>10),x=I+(z^C&(k^z))+M[8]+1770035416&4294967295,I=C+(x<<7&4294967295|x>>>25),x=z+(k^I&(C^k))+M[9]+2336552879&4294967295,z=I+(x<<12&4294967295|x>>>20),x=k+(C^z&(I^C))+M[10]+4294925233&4294967295,k=z+(x<<17&4294967295|x>>>15),x=C+(I^k&(z^I))+M[11]+2304563134&4294967295,C=k+(x<<22&4294967295|x>>>10),x=I+(z^C&(k^z))+M[12]+1804603682&4294967295,I=C+(x<<7&4294967295|x>>>25),x=z+(k^I&(C^k))+M[13]+4254626195&4294967295,z=I+(x<<12&4294967295|x>>>20),x=k+(C^z&(I^C))+M[14]+2792965006&4294967295,k=z+(x<<17&4294967295|x>>>15),x=C+(I^k&(z^I))+M[15]+1236535329&4294967295,C=k+(x<<22&4294967295|x>>>10),x=I+(k^z&(C^k))+M[1]+4129170786&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^k&(I^C))+M[6]+3225465664&4294967295,z=I+(x<<9&4294967295|x>>>23),x=k+(I^C&(z^I))+M[11]+643717713&4294967295,k=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(k^z))+M[0]+3921069994&4294967295,C=k+(x<<20&4294967295|x>>>12),x=I+(k^z&(C^k))+M[5]+3593408605&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^k&(I^C))+M[10]+38016083&4294967295,z=I+(x<<9&4294967295|x>>>23),x=k+(I^C&(z^I))+M[15]+3634488961&4294967295,k=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(k^z))+M[4]+3889429448&4294967295,C=k+(x<<20&4294967295|x>>>12),x=I+(k^z&(C^k))+M[9]+568446438&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^k&(I^C))+M[14]+3275163606&4294967295,z=I+(x<<9&4294967295|x>>>23),x=k+(I^C&(z^I))+M[3]+4107603335&4294967295,k=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(k^z))+M[8]+1163531501&4294967295,C=k+(x<<20&4294967295|x>>>12),x=I+(k^z&(C^k))+M[13]+2850285829&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^k&(I^C))+M[2]+4243563512&4294967295,z=I+(x<<9&4294967295|x>>>23),x=k+(I^C&(z^I))+M[7]+1735328473&4294967295,k=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(k^z))+M[12]+2368359562&4294967295,C=k+(x<<20&4294967295|x>>>12),x=I+(C^k^z)+M[5]+4294588738&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^k)+M[8]+2272392833&4294967295,z=I+(x<<11&4294967295|x>>>21),x=k+(z^I^C)+M[11]+1839030562&4294967295,k=z+(x<<16&4294967295|x>>>16),x=C+(k^z^I)+M[14]+4259657740&4294967295,C=k+(x<<23&4294967295|x>>>9),x=I+(C^k^z)+M[1]+2763975236&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^k)+M[4]+1272893353&4294967295,z=I+(x<<11&4294967295|x>>>21),x=k+(z^I^C)+M[7]+4139469664&4294967295,k=z+(x<<16&4294967295|x>>>16),x=C+(k^z^I)+M[10]+3200236656&4294967295,C=k+(x<<23&4294967295|x>>>9),x=I+(C^k^z)+M[13]+681279174&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^k)+M[0]+3936430074&4294967295,z=I+(x<<11&4294967295|x>>>21),x=k+(z^I^C)+M[3]+3572445317&4294967295,k=z+(x<<16&4294967295|x>>>16),x=C+(k^z^I)+M[6]+76029189&4294967295,C=k+(x<<23&4294967295|x>>>9),x=I+(C^k^z)+M[9]+3654602809&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^k)+M[12]+3873151461&4294967295,z=I+(x<<11&4294967295|x>>>21),x=k+(z^I^C)+M[15]+530742520&4294967295,k=z+(x<<16&4294967295|x>>>16),x=C+(k^z^I)+M[2]+3299628645&4294967295,C=k+(x<<23&4294967295|x>>>9),x=I+(k^(C|~z))+M[0]+4096336452&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~k))+M[7]+1126891415&4294967295,z=I+(x<<10&4294967295|x>>>22),x=k+(I^(z|~C))+M[14]+2878612391&4294967295,k=z+(x<<15&4294967295|x>>>17),x=C+(z^(k|~I))+M[5]+4237533241&4294967295,C=k+(x<<21&4294967295|x>>>11),x=I+(k^(C|~z))+M[12]+1700485571&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~k))+M[3]+2399980690&4294967295,z=I+(x<<10&4294967295|x>>>22),x=k+(I^(z|~C))+M[10]+4293915773&4294967295,k=z+(x<<15&4294967295|x>>>17),x=C+(z^(k|~I))+M[1]+2240044497&4294967295,C=k+(x<<21&4294967295|x>>>11),x=I+(k^(C|~z))+M[8]+1873313359&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~k))+M[15]+4264355552&4294967295,z=I+(x<<10&4294967295|x>>>22),x=k+(I^(z|~C))+M[6]+2734768916&4294967295,k=z+(x<<15&4294967295|x>>>17),x=C+(z^(k|~I))+M[13]+1309151649&4294967295,C=k+(x<<21&4294967295|x>>>11),x=I+(k^(C|~z))+M[4]+4149444226&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~k))+M[11]+3174756917&4294967295,z=I+(x<<10&4294967295|x>>>22),x=k+(I^(z|~C))+M[2]+718787259&4294967295,k=z+(x<<15&4294967295|x>>>17),x=C+(z^(k|~I))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var C=I-this.blockSize,M=this.B,k=this.h,z=0;z<I;){if(k==0)for(;z<=C;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<I;)if(M[k++]=N.charCodeAt(z++),k==this.blockSize){o(this,M),k=0;break}}else for(;z<I;)if(M[k++]=N[z++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=I},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var C=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=C&255,C/=256;for(this.u(N),N=Array(16),I=C=0;4>I;++I)for(var M=0;32>M;M+=8)N[C++]=this.g[I]>>>M&255;return N};function u(N,I){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=I(N)}function f(N,I){this.h=I;for(var C=[],M=!0,k=N.length-1;0<=k;k--){var z=N[k]|0;M&&z==I||(C[k]=z,M=!1)}this.g=C}var m={};function p(N){return-128<=N&&128>N?u(N,function(I){return new f([I|0],0>I?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return B(g(-N));for(var I=[],C=1,M=0;N>=C;M++)I[M]=N/C|0,C*=4294967296;return new f(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return B(E(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),M=w,k=0;k<N.length;k+=8){var z=Math.min(8,N.length-k),x=parseInt(N.substring(k,k+z),I);8>z?(z=g(Math.pow(I,z)),M=M.j(z).add(g(x))):(M=M.j(C),M=M.add(g(x)))}return M}var w=p(0),R=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-B(this).m();for(var N=0,I=1,C=0;C<this.g.length;C++){var M=this.i(C);N+=(0<=M?M:4294967296+M)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(K(this))return"0";if(Z(this))return"-"+B(this).toString(N);for(var I=g(Math.pow(N,6)),C=this,M="";;){var k=Se(C,I).g;C=ue(C,k.j(I));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=k,K(C))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function K(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function Z(N){return N.h==-1}r.l=function(N){return N=ue(this,N),Z(N)?-1:K(N)?0:1};function B(N){for(var I=N.g.length,C=[],M=0;M<I;M++)C[M]=~N.g[M];return new f(C,~N.h).add(R)}r.abs=function(){return Z(this)?B(this):this},r.add=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],M=0,k=0;k<=I;k++){var z=M+(this.i(k)&65535)+(N.i(k)&65535),x=(z>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=x>>>16,z&=65535,x&=65535,C[k]=x<<16|z}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ue(N,I){return N.add(B(I))}r.j=function(N){if(K(this)||K(N))return w;if(Z(this))return Z(N)?B(this).j(B(N)):B(B(this).j(N));if(Z(N))return B(this.j(B(N)));if(0>this.l(P)&&0>N.l(P))return g(this.m()*N.m());for(var I=this.g.length+N.g.length,C=[],M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<N.g.length;k++){var z=this.i(M)>>>16,x=this.i(M)&65535,Ct=N.i(k)>>>16,ht=N.i(k)&65535;C[2*M+2*k]+=x*ht,ce(C,2*M+2*k),C[2*M+2*k+1]+=z*ht,ce(C,2*M+2*k+1),C[2*M+2*k+1]+=x*Ct,ce(C,2*M+2*k+1),C[2*M+2*k+2]+=z*Ct,ce(C,2*M+2*k+2)}for(M=0;M<I;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=I;M<2*I;M++)C[M]=0;return new f(C,0)};function ce(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function se(N,I){this.g=N,this.h=I}function Se(N,I){if(K(I))throw Error("division by zero");if(K(N))return new se(w,w);if(Z(N))return I=Se(B(N),I),new se(B(I.g),B(I.h));if(Z(I))return I=Se(N,B(I)),new se(B(I.g),I.h);if(30<N.g.length){if(Z(N)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=R,M=I;0>=M.l(N);)C=Pe(C),M=Pe(M);var k=Ne(C,1),z=Ne(M,1);for(M=Ne(M,2),C=Ne(C,2);!K(M);){var x=z.add(M);0>=x.l(N)&&(k=k.add(C),z=x),M=Ne(M,1),C=Ne(C,1)}return I=ue(N,k.j(I)),new se(k,I)}for(k=w;0<=N.l(I);){for(C=Math.max(1,Math.floor(N.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=g(C),x=z.j(I);Z(x)||0<x.l(N);)C-=M,z=g(C),x=z.j(I);K(z)&&(z=R),k=k.add(z),N=ue(N,x)}return new se(k,N)}r.A=function(N){return Se(this,N).h},r.and=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)&N.i(M);return new f(C,this.h&N.h)},r.or=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)|N.i(M);return new f(C,this.h|N.h)},r.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)^N.i(M);return new f(C,this.h^N.h)};function Pe(N){for(var I=N.g.length+1,C=[],M=0;M<I;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(C,N.h)}function Ne(N,I){var C=I>>5;I%=32;for(var M=N.g.length-C,k=[],z=0;z<M;z++)k[z]=0<I?N.i(z+C)>>>I|N.i(z+C+1)<<32-I:N.i(z+C);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,uw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,aa=f}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cw,ru,hw,Ah,sp,fw,dw,mw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in _))break e;_=_[F]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,F={next:function(){if(!A&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,R.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function K(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,F,W){for(var me=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)me[dt-2]=arguments[dt];return y.prototype[F].apply(A,me)}}function Z(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const F=c.length||0,W=A.length||0;c.length=F+W;for(let me=0;me<W;me++)c[F+me]=A[me]}else c.push(A)}}class ue{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ce(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Se(c){return Se[" "](c),c}Se[" "]=function(){};var Pe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ne(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(_ in A)c[_]=A[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function x(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ct{constructor(){this.h=this.g=null}add(y,_){const A=ht.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new ue(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Ee=!1,qe=new Ct,H=()=>{const c=m.Promise.resolve(void 0);he=()=>{c.then(T)}};var T=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){z(_)}var y=ht;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function fe(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Pe){e:{try{Se(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}K(fe,X);var pe={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ce(c,y,_,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=F,this.key=++Ae,this.da=this.fa=!1}function et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function He(c){this.src=c,this.g={},this.h=0}He.prototype.add=function(c,y,_,A,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var me=At(c,y,A,F);return-1<me?(y=c[me],_||(y.fa=!1)):(y=new Ce(y,this.src,W,!!A,F),y.fa=_,c.push(y)),y};function ot(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],F=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(A,F,1),W&&(et(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function At(c,y,_,A){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==A)return F}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),Pt={};function Zt(c,y,_,A,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Zt(c,y[W],_,A,F);return null}return _=yt(_),c&&c[de]?c.K(y,_,g(A)?!!A.capture:!1,F):wn(c,y,_,!1,A,F)}function wn(c,y,_,A,F,W){if(!y)throw Error("Invalid event type");var me=g(F)?!!F.capture:!!F,dt=or(c);if(dt||(c[Oe]=dt=new He(c)),_=dt.add(y,_,A,me,W),_.proxy)return _;if(A=bn(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)le||(F=me),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(Cr(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function bn(){function c(_){return y.call(c.src,c.listener,_)}const y=ds;return c}function cn(c,y,_,A,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)cn(c,y[W],_,A,F);else A=g(A)?!!A.capture:!!A,_=yt(_),c&&c[de]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=At(W,_,A,F),-1<_&&(et(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=or(c))&&(y=c.g[y.toString()],c=-1,y&&(c=At(y,_,A,F)),(_=-1<c?y[c]:null)&&zt(_))}function zt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[de])ot(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Cr(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=or(y))?(ot(_,c),_.h==0&&(_.src=null,y[Oe]=null)):et(c)}}}function Cr(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function ds(c,y){if(c.da)c=!0;else{y=new fe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&zt(c),c=_.call(A,y)}return c}function or(c){return c=c[Oe],c instanceof He?c:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(c){return typeof c=="function"?c:(c[xt]||(c[xt]=function(y){return c.handleEvent(y)}),c[xt])}function mt(){q.call(this),this.i=new He(this),this.M=this,this.F=null}K(mt,q),mt.prototype[de]=!0,mt.prototype.removeEventListener=function(c,y,_,A){cn(this,c,y,_,A)};function at(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var F=y;y=new X(A,c),M(y,F)}if(F=!0,_)for(var W=_.length-1;0<=W;W--){var me=y.g=_[W];F=hn(me,A,!0,y)&&F}if(me=y.g=c,F=hn(me,A,!0,y)&&F,F=hn(me,A,!1,y)&&F,_)for(W=0;W<_.length;W++)me=y.g=_[W],F=hn(me,A,!1,y)&&F}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)et(_[A]);delete c.g[y],c.h--}}this.F=null},mt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},mt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function hn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var me=y[W];if(me&&!me.da&&me.capture==_){var dt=me.listener,tn=me.ha||me.src;me.fa&&ot(c.i,me),F=dt.call(tn,A)!==!1&&F}}return F&&!A.defaultPrevented}function ui(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Xn(c){c.g=ui(()=>{c.g=null,c.i&&(c.i=!1,Xn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sn extends q{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(c){q.call(this),this.h=c,this.g={}}K(fn,q);var An=[];function Rt(c){Ne(c.g,function(y,_){this.g.hasOwnProperty(_)&&zt(y)},c),c.g={}}fn.prototype.N=function(){fn.aa.N.call(this),Rt(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=m.JSON.stringify,It=m.JSON.parse,Ri=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Jn(){}Jn.prototype.h=null;function Fi(c){return c.h||(c.h=c.i())}function Gi(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){X.call(this,"d")}K(lr,X);function ci(){X.call(this,"c")}K(ci,X);var Wn={},ur=null;function ms(){return ur=ur||new mt}Wn.La="serverreachability";function Ea(c){X.call(this,Wn.La,c)}K(Ea,X);function Zn(c){const y=ms();at(y,new Ea(y))}Wn.STAT_EVENT="statevent";function Qi(c,y){X.call(this,Wn.STAT_EVENT,c),this.stat=y}K(Qi,X);function qt(c){const y=ms();at(y,new Qi(y,c))}Wn.Ma="timingevent";function xr(c,y){X.call(this,Wn.Ma,c),this.size=y}K(xr,X);function Yi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function cr(){this.g=!0}cr.prototype.xa=function(){this.g=!1};function Nr(c,y,_,A,F,W){c.info(function(){if(c.g)if(W)for(var me="",dt=W.split("&"),tn=0;tn<dt.length;tn++){var Fe=dt[tn].split("=");if(1<Fe.length){var gn=Fe[0];Fe=Fe[1];var yn=gn.split("_");me=2<=yn.length&&yn[1]=="type"?me+(gn+"="+Fe+"&"):me+(gn+"=redacted&")}}else me=null;else me=W;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+_+`
`+me})}function ps(c,y,_,A,F,W,me){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+_+`
`+W+" "+me})}function Rn(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ci(c,_)+(A?" "+A:"")})}function Fn(c,y){c.info(function(){return"TIMEOUT: "+y})}cr.prototype.info=function(){};function Ci(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var me=1;me<F.length;me++)F[me]=""}}}}return nt(_)}catch{return y}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function hr(){}K(hr,Jn),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},xi=new hr;function Gn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new no}function no(){this.i=null,this.g="",this.h=!1}var Ta={},Ln={};function Dr(c,y,_){c.L=1,c.v=Wi(bt(y)),c.m=_,c.P=!0,ei(c,null)}function ei(c,y){c.F=Date.now(),hi(c),c.A=bt(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Dt(_.i,"t",A),c.C=0,_=c.j.J,c.h=new no,c.g=ic(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Sn(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(An[0]=F.toString()),F=An);for(var W=0;W<F.length;W++){var me=Zt(_,F[W],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Zn(),Nr(c.i,c.u,c.A,c.l,c.R,c.m)}Gn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Qn(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const yn=Qn(this.g);var y=this.g.Ba();const Is=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||Aa(this.g)))){this.J||yn!=4||y==7||(y==8||0>=Is?Zn(3):Zn(2)),gs(this);var _=this.g.Z();this.X=_;t:if(Ni(this)){var A=Aa(this.g);c="";var F=A.length,W=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),fr(this);var me="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(W&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,ps(this.i,this.u,this.A,this.l,this.R,yn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,tn=this.g;if((dt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ce(dt)){var Fe=dt;break t}}Fe=null}if(_=Fe)Rn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,_);else{this.o=!1,this.s=3,qt(12),In(this),fr(this);break e}}if(this.P){_=!0;let ti;for(;!this.J&&this.C<me.length;)if(ti=Mr(this,me),ti==Ln){yn==4&&(this.s=4,qt(14),_=!1),Rn(this.i,this.l,null,"[Incomplete Response]");break}else if(ti==Ta){this.s=4,qt(15),Rn(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else Rn(this.i,this.l,ti,null),Di(this,ti);if(Ni(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||me.length!=0||this.h.h||(this.s=1,qt(16),_=!1),this.o=this.o&&_,!_)Rn(this.i,this.l,me,"[Invalid Chunked Response]"),In(this),fr(this);else if(0<me.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),pl(gn),gn.M=!0,qt(11))}}else Rn(this.i,this.l,me,null),Di(this,me);yn==4&&In(this),this.o&&!this.J&&(yn==4?ec(this.j,this):(this.o=!1,hi(this)))}else Ku(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),In(this),fr(this)}}}catch{}finally{}};function Ni(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Ln:(_=Number(y.substring(_,A)),isNaN(_)?Ta:(A+=1,A+_>y.length?Ln:(y=y.slice(A,A+_),c.C=A+_,y)))}Gn.prototype.cancel=function(){this.J=!0,In(this)};function hi(c){c.S=Date.now()+c.I,Lt(c,c.I)}function Lt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Yi(R(c.ba,c),y)}function gs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Gn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Fn(this.i,this.A),this.L!=2&&(Zn(),qt(17)),In(this),this.s=2,fr(this)):Lt(this,this.S-c)};function fr(c){c.j.G==0||c.J||ec(c.j,c)}function In(c){gs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Rt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Di(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ft(_.h,c))){if(!c.K&&ft(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)As(_),Ss(_);else break e;ml(_),qt(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yi(R(_.Za,_),6e3));if(1>=Xi(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Lr(_,11)}else if((c.K||_.g==c)&&As(_),!ce(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Fe=F[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const gn=Fe[3];gn!=null&&(_.la=gn,_.j.info("VER="+_.la));const yn=Fe[4];yn!=null&&(_.Aa=yn,_.j.info("SVER="+_.Aa));const Is=Fe[5];Is!=null&&typeof Is=="number"&&0<Is&&(A=1.5*Is,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ti=c.g;if(ti){const Ca=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var W=A.h;W.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(fi(W,W.h),W.h=null))}if(A.D){const Ur=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Ur&&(A.ya=Ur,it(A.I,A.D,Ur))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var me=c;if(A.qa=nc(A,A.J?A.ia:null,A.W),me.K){Cn(A.h,me);var dt=me,tn=A.L;tn&&(dt.I=tn),dt.B&&(gs(dt),hi(dt)),A.g=me}else Wu(A);0<_.i.length&&so(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Lr(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Lr(_,7):fl(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}Zn(4)}catch{}}var ul=class{constructor(c,y){this.g=c,this.map=y}};function Ki(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $i(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xi(c){return c.h?1:c.g?c.g.size:0}function ft(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fi(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ki.prototype.cancel=function(){if(this.i=Ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ht(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Z(c.i)}function Or(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function cl(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function ys(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=cl(c),A=Or(c),F=A.length,W=0;W<F;W++)y.call(void 0,A[W],_&&_[W],c)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vs(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),F=null;if(0<=A){var W=c[_].substring(0,A);F=c[_].substring(A+1)}else W=c[_];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ji){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,Vr(this,c.s),this.l=c.l;var y=c.i,_=new $e;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),_s(this,_),this.m=c.m}else c&&(y=String(c).match(wa))?(this.h=!1,dr(this,y[1]||"",!0),this.o=Un(y[2]||""),this.g=Un(y[3]||"",!0),Vr(this,y[4]),this.l=Un(y[5]||"",!0),_s(this,y[6]||"",!0),this.m=Un(y[7]||"")):(this.h=!1,this.i=new $e(null,this.h))}Ji.prototype.toString=function(){var c=[],y=this.j;y&&c.push(S(y,G,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(S(y,G,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(S(_,_.charAt(0)=="/"?ge:ne,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",S(_,ve)),c.join("")};function bt(c){return new Ji(c)}function dr(c,y,_){c.j=_?Un(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Vr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function _s(c,y,_){y instanceof $e?(c.i=y,kr(c.i,c.h)):(_||(y=S(y,we)),c.i=new $e(y,c.h))}function it(c,y,_){c.i.set(y,_)}function Wi(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Un(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function S(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,U),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function U(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var G=/[#\/\?@]/g,ne=/[#\?:]/g,ge=/[#\?]/g,we=/[#\?@]/g,ve=/#/g;function $e(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ue(c){c.g||(c.g=new Map,c.h=0,c.i&&vs(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=$e.prototype,r.add=function(c,y){Ue(this),this.i=null,c=Ft(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Qe(c,y){Ue(c),y=Ft(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Le(c,y){return Ue(c),y=Ft(c,y),c.g.has(y)}r.forEach=function(c,y){Ue(this),this.g.forEach(function(_,A){_.forEach(function(F){c.call(y,F,A,this)},this)},this)},r.na=function(){Ue(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const F=c[A];for(let W=0;W<F.length;W++)_.push(y[A])}return _},r.V=function(c){Ue(this);let y=[];if(typeof c=="string")Le(this,c)&&(y=y.concat(this.g.get(Ft(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Ue(this),this.i=null,c=Ft(this,c),Le(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Dt(c,y,_){Qe(c,y),0<_.length&&(c.i=null,c.g.set(Ft(c,y),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const W=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var F=W;me[A]!==""&&(F+="="+encodeURIComponent(String(me[A]))),c.push(F)}}return this.i=c.join("&")};function Ft(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function kr(c,y){y&&!c.j&&(Ue(c),c.i=null,c.g.forEach(function(_,A){var F=A.toLowerCase();A!=F&&(Qe(this,A),Dt(this,F,_))},c)),c.j=y}function Zi(c,y){const _=new cr;if(m.Image){const A=new Image;A.onload=P(en,_,"TestLoadImage: loaded",!0,y,A),A.onerror=P(en,_,"TestLoadImage: error",!1,y,A),A.onabort=P(en,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=P(en,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function er(c,y){const _=new cr,A=new AbortController,F=setTimeout(()=>{A.abort(),en(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(W=>{clearTimeout(F),W.ok?en(_,"TestPingServer: ok",!0,y):en(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),en(_,"TestPingServer: error",!1,y)})}function en(c,y,_,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(_)}catch{}}function vt(){this.g=new Ri}function hl(c,y,_){const A=_||"";try{ys(c,function(F,W){let me=F;g(F)&&(me=nt(F)),y.push(A+W+"="+encodeURIComponent(me))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}K(mr,Jn),mr.prototype.g=function(){return new di(this.l,this.j)},mr.prototype.i=(function(c){return function(){return c}})({});function di(c,y){mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(di,mt),r=di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Es(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Es(this)),this.g&&(this.readyState=3,Es(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;io(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function io(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?pr(this):Es(this),this.readyState==3&&io(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Qa=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Es(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Es(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ba(c){let y="";return Ne(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ts(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=ba(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):it(c,y,_))}function Mt(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(Mt,mt);var zn=/^https?$/i,Pr=["POST","PUT"];r=Mt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?Fi(this.o):Fi(xi),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Sa(this,W);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)_.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())_.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Pr,y,void 0))||A||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,me]of _)this.g.setRequestHeader(W,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Sa(this,W)}};function Sa(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ws(c),bs(c)}function ws(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),bs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),Mt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Yu(this):this.bb())},r.bb=function(){Yu(this)};function Yu(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)ui(c.Ea,0,c);else if(at(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const me=c.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=me===0){var F=String(c.D).match(wa)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),A=!zn.test(F?F.toLowerCase():"")}_=A}if(_)at(c,"complete"),at(c,"success");else{c.m=6;try{var W=2<Qn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",ws(c)}}finally{bs(c)}}}}function bs(c,y){if(c.g){ro(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||at(c,"ready");try{_.onreadystatechange=A}catch{}}}function ro(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),It(y)}};function Aa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ku(c){const y={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ce(c[A]))continue;var _=k(c[A]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[F]||[];y[F]=W,W.push(_)}N(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function $u(c){this.Aa=0,this.i=[],this.j=new cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(c&&c.concurrentRequestLimit),this.Da=new vt,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$u.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){qt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=nc(this,null,this.W),so(this)};function fl(c){if(Xu(c),c.G==3){var y=c.U++,_=bt(c.I);if(it(_,"SID",c.K),it(_,"RID",y),it(_,"TYPE","terminate"),Ia(c,_),y=new Gn(c,c.j,y),y.L=2,y.v=Wi(bt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hi(y)}gl(c)}function Ss(c){c.g&&(pl(c),c.g.cancel(),c.g=null)}function Xu(c){Ss(c),c.u&&(m.clearTimeout(c.u),c.u=null),As(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function so(c){if(!$i(c.h)&&!c.s){c.s=!0;var y=c.Ga;he||H(),Ee||(he(),Ee=!0),qe.add(y,c),c.B=0}}function Sf(c,y){return Xi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Yi(R(c.Ga,c,y),tc(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Gn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=I(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=dl(this,F,y),_=bt(this.I),it(_,"RID",c),it(_,"CVER",22),this.D&&it(_,"X-HTTP-Session-Id",this.D),Ia(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(ba(W)))+"&"+y:this.m&&Ts(_,this.m,W)),fi(this.h,F),this.Ua&&it(_,"TYPE","init"),this.P?(it(_,"$req",y),it(_,"SID","null"),F.T=!0,Dr(F,_,null)):Dr(F,_,y),this.G=2}}else this.G==3&&(c?Ju(this,c):this.i.length==0||$i(this.h)||Ju(this))};function Ju(c,y){var _;y?_=y.l:_=c.U++;const A=bt(c.I);it(A,"SID",c.K),it(A,"RID",_),it(A,"AID",c.T),Ia(c,A),c.m&&c.o&&Ts(A,c.m,c.o),_=new Gn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=dl(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fi(c.h,_),Dr(_,A,y)}function Ia(c,y){c.H&&Ne(c.H,function(_,A){it(y,A,_)}),c.l&&ys({},function(_,A){it(y,A,_)})}function dl(c,y,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const me=["count="+_];W==-1?0<_?(W=F[0].g,me.push("ofs="+W)):W=0:me.push("ofs="+W);let dt=!0;for(let tn=0;tn<_;tn++){let Fe=F[tn].g;const gn=F[tn].map;if(Fe-=W,0>Fe)W=Math.max(0,F[tn].g-100),dt=!1;else try{hl(gn,me,"req"+Fe+"_")}catch{A&&A(gn)}}if(dt){A=me.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;he||H(),Ee||(he(),Ee=!0),qe.add(y,c),c.v=0}}function ml(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Yi(R(c.Fa,c),tc(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Yi(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Ss(this),Zu(this))};function pl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=bt(c.qa);it(y,"RID","rpc"),it(y,"SID",c.K),it(y,"AID",c.T),it(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(y,"TO",c.ja),it(y,"TYPE","xmlhttp"),Ia(c,y),c.m&&c.o&&Ts(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Wi(bt(y)),_.m=null,_.P=!0,ei(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ss(this),ml(this),qt(19))};function As(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ec(c,y){var _=null;if(c.g==y){As(c),pl(c),c.g=null;var A=2}else if(ft(c.h,y))_=y.D,Cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=ms(),at(A,new xr(A,_)),so(c)}else Wu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Sf(c,y)||A==2&&ml(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function tc(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Lr(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),A=c.Xa;const F=!A;A=new Ji(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||dr(A,"https"),Wi(A),F?Zi(A.toString(),_):er(A.toString(),_)}else qt(2);c.G=0,c.l&&c.l.sa(y),gl(c),Xu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function gl(c){if(c.G=0,c.ka=[],c.l){const y=Ht(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function nc(c,y,_){var A=_ instanceof Ji?bt(_):new Ji(_);if(A.g!="")y&&(A.g=y+"."+A.g),Vr(A,A.s);else{var F=m.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Ji(null);A&&dr(W,A),y&&(W.g=y),F&&Vr(W,F),_&&(W.l=_),A=W}return _=c.D,y=c.ya,_&&y&&it(A,_,y),it(A,"VER",c.la),Ia(c,A),A}function ic(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Mt(new mr({eb:_})):new Mt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ao(){}ao.prototype.g=function(c,y){return new Yn(c,y)};function Yn(c,y){mt.call(this),this.g=new $u(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ce(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ce(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Rs(this)}K(Yn,mt),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){fl(this.g)},Yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=nt(c),c=_);y.i.push(new ul(y.Ya++,c)),y.G==3&&so(y)},Yn.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,Yn.aa.N.call(this)};function sc(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}K(sc,lr);function ac(){ci.call(this),this.status=1}K(ac,ci);function Rs(c){this.g=c}K(Rs,rc),Rs.prototype.ua=function(){at(this.g,"a")},Rs.prototype.ta=function(c){at(this.g,new sc(c))},Rs.prototype.sa=function(c){at(this.g,new ac)},Rs.prototype.ra=function(){at(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,mw=function(){return new ao},dw=function(){return ms()},fw=Wn,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,Ah=Nt,$t.COMPLETE="complete",hw=$t,Gi.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ru=Gi,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,cw=Mt}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore",H0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Np("@firebase/firestore");function Po(){return Xa.logLevel}function _e(r,...e){if(Xa.logLevel<=We.DEBUG){const n=e.map(Fp);Xa.debug(`Firestore (${il}): ${r}`,...n)}}function ls(r,...e){if(Xa.logLevel<=We.ERROR){const n=e.map(Fp);Xa.error(`Firestore (${il}): ${r}`,...n)}}function ca(r,...e){if(Xa.logLevel<=We.WARN){const n=e.map(Fp);Xa.warn(`Firestore (${il}): ${r}`,...n)}}function Fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,pw(r,s,n)}function pw(r,e,n){let s=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ls(s),new Error(s)}function st(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||pw(e,o,s)}function ke(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new gw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}class ax{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ox{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ax(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const s=u=>{u.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,_e("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ux(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ge(r,e){return r<e?-1:r>e?1:0}function ap(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=yw(),f=cx(u.encode(G0(r,n)),u.encode(G0(e,n)));return f!==0?f:Ge(s,o)}}n+=s>65535?2:1}return Ge(r.length,e.length)}function G0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function cx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ge(r[n],e[n]);return Ge(r.length,e.length)}function Yo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="__name__";class Er{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Er.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const s=Er.isNumericId(e),o=Er.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Er.extractNumericId(e).compare(Er.extractNumericId(n)):ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return aa.fromString(e.substring(4,e.length-2))}}class wt extends Er{construct(e,n,s){return new wt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Er{construct(e,n,s){return new Vn(e,n,s)}static isValidIdentifier(e){return hx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q0}static keyField(){return new Vn([Q0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(wt.fromString(e))}static fromName(e){return new Re(wt.fromString(e).popFirst(5))}static empty(){return new Re(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r,e,n){if(!n)throw new ye(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fx(r,e,n,s){if(e===!0&&s===!0)throw new ye(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Y0(r){if(!Re.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function K0(r){if(Re.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _w(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function bi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lf(r);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(r,e){const n={typeString:r};return e&&(n.value=e),n}function ku(r,e){if(!_w(r))throw new ye(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-62135596800,X0=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*X0);return new kt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$0)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:un("string",kt._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new kt(0,0))}static max(){return new Me(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function dx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(s===1e9?new kt(n+1,0):new kt(n,s));return new ha(o,Re.empty(),e)}function mx(r){return new ha(r.readTime,r.key,Eu)}class ha{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ha(Me.min(),Re.empty(),Eu)}static max(){return new ha(Me.max(),Re.empty(),Eu)}}function px(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==gx)throw r;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((o=>o?oe.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new oe(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function vx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}uf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function Pu(r){return r==null}function jh(r){return r===0&&1/r==-1/0}function _x(r){return typeof r=="number"&&Number.isInteger(r)&&!jh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="";function Ex(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=J0(e)),e=Tx(r.get(n),e);return J0(e)}function Tx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Ew:n+="";break;default:n+=u}}return n}function J0(r){return r+Ew+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function va(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Tw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||On.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??On.RED,this.left=o??On.EMPTY,this.right=u??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new On(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return On.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new On(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(e){return new Z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class Z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new wi([])}unionWith(e){let n=new pn(Vn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ww("Invalid base64 string: "+u):u}})(e);return new kn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(r){if(st(!!r,39018),typeof r=="string"){let e=0;const n=wx.exec(r);if(st(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Wt(r.seconds),nanos:Wt(r.nanos)}}function Wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function da(r){return typeof r=="string"?kn.fromBase64String(r):kn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",Sw="__type__",Aw="__previous_value__",Rw="__local_write_time__";function Yp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sw])===null||n===void 0?void 0:n.stringValue)===bw}function cf(r){const e=r.mapValue.fields[Aw];return Yp(e)?cf(e):e}function Tu(r){const e=fa(r.mapValue.fields[Rw].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Bh="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="__type__",Sx="__max__",gh={mapValue:{}},Cw="__vector__",qh="value";function ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:Rx(r)?9007199254740991:Ax(r)?10:11:xe(28295,{value:r})}function Ir(r,e){if(r===e)return!0;const n=ma(r);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tu(r).isEqual(Tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fa(o.timestampValue),m=fa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return da(o.bytesValue).isEqual(da(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Wt(o.geoPointValue.latitude)===Wt(u.geoPointValue.latitude)&&Wt(o.geoPointValue.longitude)===Wt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Wt(o.integerValue)===Wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Wt(o.doubleValue),m=Wt(u.doubleValue);return f===m?jh(f)===jh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W0(f)!==W0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ir(f[p],m[p])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function bu(r,e){return(r.values||[]).find((n=>Ir(n,e)))!==void 0}function Ko(r,e){if(r===e)return 0;const n=ma(r),s=ma(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Wt(u.integerValue||u.doubleValue),p=Wt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return eE(r.timestampValue,e.timestampValue);case 4:return eE(Tu(r),Tu(e));case 5:return ap(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=da(u),p=da(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ge(m[g],p[g]);if(E!==0)return E}return Ge(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ge(Wt(u.latitude),Wt(f.latitude));return m!==0?m:Ge(Wt(u.longitude),Wt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return tE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,E;const w=u.fields||{},R=f.fields||{},P=(m=w[qh])===null||m===void 0?void 0:m.arrayValue,K=(p=R[qh])===null||p===void 0?void 0:p.arrayValue,Z=Ge(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=K==null?void 0:K.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:tE(P,K)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===gh.mapValue&&f===gh.mapValue)return 0;if(u===gh.mapValue)return 1;if(f===gh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const R=ap(p[w],E[w]);if(R!==0)return R;const P=Ko(m[p[w]],g[E[w]]);if(P!==0)return P}return Ge(p.length,E.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{le:n})}}function eE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=fa(r),s=fa(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function tE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ko(n[o],s[o]);if(u)return u}return Ge(n.length,s.length)}function $o(r){return op(r)}function op(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fa(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return da(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Re.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=op(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${op(n.fields[f])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Rh(r){switch(ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(r);return e?16+Rh(e):16;case 5:return 2*r.stringValue.length;case 6:return da(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Rh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return va(s.fields,((u,f)=>{o+=u.length+Rh(f)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function nE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function lp(r){return!!r&&"integerValue"in r}function Kp(r){return!!r&&"arrayValue"in r}function iE(r){return!!r&&"nullValue"in r}function rE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ih(r){return!!r&&"mapValue"in r}function Ax(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iw])===null||n===void 0?void 0:n.stringValue)===Cw}function fu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return va(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Rx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=Vn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=fu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){va(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new $n(fu(this.value))}}function xw(r){const e=[];return va(r.fields,((n,s)=>{const o=new Vn([n]);if(Ih(s)){const u=xw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Tn(e,0,Me.min(),Me.min(),Me.min(),$n.empty(),0)}static newFoundDocument(e,n,s,o){return new Tn(e,1,n,Me.min(),s,o,0)}static newNoDocument(e,n){return new Tn(e,2,n,Me.min(),Me.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Me.min(),Me.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function sE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(f.referenceValue),n.key):s=Ko(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function aE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ir(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ix(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{}class ln extends Nw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xx(e,n,s):n==="array-contains"?new Mx(e,s):n==="in"?new Ox(e,s):n==="not-in"?new Vx(e,s):n==="array-contains-any"?new kx(e,s):new ln(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Nx(e,s):new Dx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ko(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends Nw{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ar(e,n)}matches(e){return Dw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Dw(r){return r.op==="and"}function Mw(r){return Cx(r)&&Dw(r)}function Cx(r){for(const e of r.filters)if(e instanceof ar)return!1;return!0}function up(r){if(r instanceof ln)return r.field.canonicalString()+r.op.toString()+$o(r.value);if(Mw(r))return r.filters.map((e=>up(e))).join(",");{const e=r.filters.map((n=>up(n))).join(",");return`${r.op}(${e})`}}function Ow(r,e){return r instanceof ln?(function(s,o){return o instanceof ln&&s.op===o.op&&s.field.isEqual(o.field)&&Ir(s.value,o.value)})(r,e):r instanceof ar?(function(s,o){return o instanceof ar&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Ow(f,o.filters[m])),!0):!1})(r,e):void xe(19439)}function Vw(r){return r instanceof ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`})(r):r instanceof ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(Vw).join(" ,")+"}"})(r):"Filter"}class xx extends ln{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nx extends ln{constructor(e,n){super(e,"in",n),this.keys=kw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Dx extends ln{constructor(e,n){super(e,"not-in",n),this.keys=kw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kw(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Re.fromName(s.referenceValue)))}class Mx extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&bu(n.arrayValue,this.value)}}class Ox extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class Vx extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class kx extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>bu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function oE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Px(r,e,n,s,o,u,f)}function $p(r){const e=ke(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>up(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>$o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>$o(s))).join(",")),e.Pe=n}return e.Pe}function Xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Ix(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Ow(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!aE(r.startAt,e.startAt)&&aE(r.endAt,e.endAt)}function cp(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Lx(r,e,n,s,o,u,f,m){return new Lu(r,e,n,s,o,u,f,m)}function Jp(r){return new Lu(r)}function lE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Pw(r){return r.collectionGroup!==null}function du(r){const e=ke(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new pn(Vn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Fh(u,s))})),n.has(Vn.keyField().canonicalString())||e.Te.push(new Fh(Vn.keyField(),s))}return e.Te}function br(r){const e=ke(r);return e.Ie||(e.Ie=Ux(e,du(r))),e.Ie}function Ux(r,e){if(r.limitType==="F")return oE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Fh(o.field,u)}));const n=r.endAt?new Hh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Hh(r.startAt.position,r.startAt.inclusive):null;return oE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function hp(r,e){const n=r.filters.concat([e]);return new Lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function fp(r,e,n){return new Lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hf(r,e){return Xp(br(r),br(e))&&r.limitType===e.limitType}function Lw(r){return`${$p(br(r))}|lt:${r.limitType}`}function Lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Vw(o))).join(", ")}]`),Pu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>$o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>$o(o))).join(",")),`Target(${s})`})(br(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=sE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,du(s),o)||s.endAt&&!(function(f,m,p){const g=sE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,du(s),o))})(r,e)}function zx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Uw(r){return(e,n)=>{let s=!1;for(const o of du(r)){const u=jx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jx(r,e,n){const s=r.field.isKeyField()?Re.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ko(p,g):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Bt(Re.comparator);function us(){return Bx}const zw=new Bt(Re.comparator);function su(...r){let e=zw;for(const n of r)e=e.insert(n.key,n);return e}function jw(r){let e=zw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qa(){return mu()}function Bw(){return mu()}function mu(){return new Za((r=>r.toString()),((r,e)=>r.isEqual(e)))}const qx=new Bt(Re.comparator),Hx=new pn(Re.comparator);function Ze(...r){let e=Hx;for(const n of r)e=e.add(n);return e}const Fx=new pn(Ge);function Gx(){return Fx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function qw(r){return{integerValue:""+r}}function Hw(r,e){return _x(e)?qw(e):Wp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function Qx(r,e,n){return r instanceof Gh?(function(o,u){const f={fields:{[Sw]:{stringValue:bw},[Rw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=cf(u)),u&&(f.fields[Aw]=u),{mapValue:f}})(n,e):r instanceof Xo?Gw(r,e):r instanceof Su?Qw(r,e):(function(o,u){const f=Fw(o,u),m=uE(f)+uE(o.Ee);return lp(f)&&lp(o.Ee)?qw(m):Wp(o.serializer,m)})(r,e)}function Yx(r,e,n){return r instanceof Xo?Gw(r,e):r instanceof Su?Qw(r,e):n}function Fw(r,e){return r instanceof Au?(function(s){return lp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Gh extends df{}class Xo extends df{constructor(e){super(),this.elements=e}}function Gw(r,e){const n=Yw(e);for(const s of r.elements)n.some((o=>Ir(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Su extends df{constructor(e){super(),this.elements=e}}function Qw(r,e){let n=Yw(e);for(const s of r.elements)n=n.filter((o=>!Ir(o,s)));return{arrayValue:{values:n}}}class Au extends df{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function uE(r){return Wt(r.integerValue||r.doubleValue)}function Yw(r){return Kp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.field=e,this.transform=n}}function Kx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Xo&&o instanceof Xo||s instanceof Su&&o instanceof Su?Yo(s.elements,o.elements,Ir):s instanceof Au&&o instanceof Au?Ir(s.Ee,o.Ee):s instanceof Gh&&o instanceof Gh})(r.transform,e.transform)}class $x{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function $w(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new zu(r.key,mn.none()):new Uu(r.key,r.data,mn.none());{const n=r.data,s=$n.empty();let o=new pn(Vn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _a(r.key,s,new wi(o.toArray()),mn.none())}}function Xx(r,e,n){r instanceof Uu?(function(o,u,f){const m=o.value.clone(),p=hE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof _a?(function(o,u,f){if(!Ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=hE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Xw(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function pu(r,e,n,s){return r instanceof Uu?(function(u,f,m,p){if(!Ch(u.precondition,f))return m;const g=u.value.clone(),E=fE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof _a?(function(u,f,m,p){if(!Ch(u.precondition,f))return m;const g=fE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Xw(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return Ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Jx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Fw(s.transform,o||null);u!=null&&(n===null&&(n=$n.empty()),n.set(s.field,u))}return n||null}function cE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Yo(s,o,((u,f)=>Kx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Uu extends mf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _a extends mf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function hE(r,e,n){const s=new Map;st(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Yx(f,m,n[o]))}return s}function fE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Qx(u,f,e))}return s}class zu extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jw extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Xx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Bw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=$w(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Me.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((n,s)=>cE(n,s)))&&Yo(this.baseMutations,e.baseMutations,((n,s)=>cE(n,s)))}}class Zp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){st(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return qx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Zp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,rt;function Ww(r){switch(r){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function Zw(r){if(r===void 0)return ls("GRPC error has no .code"),re.UNKNOWN;switch(r){case on.OK:return re.OK;case on.CANCELLED:return re.CANCELLED;case on.UNKNOWN:return re.UNKNOWN;case on.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case on.INTERNAL:return re.INTERNAL;case on.UNAVAILABLE:return re.UNAVAILABLE;case on.UNAUTHENTICATED:return re.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case on.NOT_FOUND:return re.NOT_FOUND;case on.ALREADY_EXISTS:return re.ALREADY_EXISTS;case on.PERMISSION_DENIED:return re.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case on.ABORTED:return re.ABORTED;case on.OUT_OF_RANGE:return re.OUT_OF_RANGE;case on.UNIMPLEMENTED:return re.UNIMPLEMENTED;case on.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:r})}}(rt=on||(on={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new aa([4294967295,4294967295],0);function dE(r){const e=yw().encode(r),n=new uw;return n.update(e),new Uint8Array(n.digest())}function mE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new aa([n,s],0),new aa([o,u],0)]}class eg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=aa.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(aa.fromNumber(s)));return o.compare(tN)===1&&(o=new aa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new eg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=dE(e),[s,o]=mE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pf(Me.min(),o,new Bt(Ge),us(),Ze())}}class ju{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ju(s,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class e1{constructor(e,n){this.targetId=e,this.De=n}}class t1{constructor(e,n,s=kn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class pE{constructor(){this.ve=0,this.Ce=gE(),this.Fe=kn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ze(),n=Ze(),s=Ze();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:u})}})),new ju(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=gE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nN{constructor(e){this.We=e,this.Ge=new Map,this.ze=us(),this.je=yh(),this.Je=yh(),this.He=new Bt(Ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(cp(u))if(s===0){const f=new Re(u.path);this.Xe(n,f,Tn.newNoDocument(f,Me.min()))}else st(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=da(s).toUint8Array()}catch(p){if(p instanceof ww)return ca("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new eg(f,o,u)}catch(p){return ca(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&cp(m.target)){const p=new Re(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Tn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Ze();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new pf(e,n,this.He,this.ze,s);return this.ze=us(),this.je=yh(),this.Je=yh(),this.He=new Bt(Ge),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new pE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new pn(Ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new pn(Ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new pE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function yh(){return new Bt(Re.comparator)}function gE(){return new Bt(Re.comparator)}const iN={asc:"ASCENDING",desc:"DESCENDING"},rN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sN={and:"AND",or:"OR"};class aN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(r,e){return r.useProto3Json||Pu(e)?e:{value:e}}function Qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oN(r,e){return Qh(r,e.toTimestamp())}function Si(r){return st(!!r,49232),Me.fromTimestamp((function(n){const s=fa(n);return new kt(s.seconds,s.nanos)})(r))}function tg(r,e){return mp(r,e).canonicalString()}function mp(r,e){const n=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function i1(r){const e=wt.fromString(r);return st(u1(e),10190,{key:e.toString()}),e}function Yh(r,e){return tg(r.databaseId,e.path)}function gu(r,e){const n=i1(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Re(s1(n))}function r1(r,e){return tg(r.databaseId,e)}function lN(r){const e=i1(r);return e.length===4?wt.emptyPath():s1(e)}function pp(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s1(r){return st(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yE(r,e,n){return{name:Yh(r,e),fields:n.value.mapValue.fields}}function uN(r,e){return"found"in e?(function(s,o){st(!!o.found,43571),o.found.name,o.found.updateTime;const u=gu(s,o.found.name),f=Si(o.found.updateTime),m=o.found.createTime?Si(o.found.createTime):Me.min(),p=new $n({mapValue:{fields:o.found.fields}});return Tn.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){st(!!o.missing,3894),st(!!o.readTime,22933);const u=gu(s,o.missing),f=Si(o.readTime);return Tn.newNoDocument(u,f)})(r,e):xe(7234,{result:e})}function cN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(st(E===void 0||typeof E=="string",58123),kn.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),kn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?re.UNKNOWN:Zw(g.code);return new ye(E,g.message||"")})(f);n=new t1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gu(r,s.document.name),u=Si(s.document.updateTime),f=s.document.createTime?Si(s.document.createTime):Me.min(),m=new $n({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new xh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gu(r,s.document),u=s.readTime?Si(s.readTime):Me.min(),f=Tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new xh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gu(r,s.document),u=s.removedTargetIds||[];n=new xh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new eN(o,u),m=s.targetId;n=new e1(m,f)}}return n}function a1(r,e){let n;if(e instanceof Uu)n={update:yE(r,e.key,e.value)};else if(e instanceof zu)n={delete:Yh(r,e.key)};else if(e instanceof _a)n={update:yE(r,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof Jw))return xe(16599,{Rt:e.type});n={verify:Yh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Au)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw xe(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:oN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(r,e.precondition)),n}function hN(r,e){return r&&r.length>0?(st(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Si(o.updateTime):Si(u);return f.isEqual(Me.min())&&(f=Si(u)),new $x(f,o.transformResults||[])})(n,e)))):[]}function fN(r,e){return{documents:[r1(r,e.path)]}}function dN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=r1(r,o);const u=(function(g){if(g.length!==0)return l1(ar.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:Uo(R.field),direction:gN(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=dp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function mN(r){let e=lN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){st(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const R=o1(w);return R instanceof ar&&Mw(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((R=>(function(K){return new Fh(zo(K.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let R;return R=typeof w=="object"?w.value:w,Pu(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(w){const R=!!w.before,P=w.values||[];return new Hh(P,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const R=!w.before,P=w.values||[];return new Hh(P,R)})(n.endAt)),Lx(e,o,f,u,m,"F",p,g)}function pN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=zo(n.unaryFilter.field);return ln.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zo(n.unaryFilter.field);return ln.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zo(n.unaryFilter.field);return ln.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=zo(n.unaryFilter.field);return ln.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return ln.create(zo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ar.create(n.compositeFilter.filters.map((s=>o1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function gN(r){return iN[r]}function yN(r){return rN[r]}function vN(r){return sN[r]}function Uo(r){return{fieldPath:r.canonicalString()}}function zo(r){return Vn.fromServerFormat(r.fieldPath)}function l1(r){return r instanceof ln?(function(n){if(n.op==="=="){if(rE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(iE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(iE(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:yN(n.op),value:n.value}}})(r):r instanceof ar?(function(n){const s=n.getFilters().map((o=>l1(o)));return s.length===1?s[0]:{compositeFilter:{op:vN(n.op),filters:s}}})(r):xe(54877,{filter:r})}function _N(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function u1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,s,o,u=Me.min(),f=Me.min(),m=kn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.gt=e}}function TN(r){const e=mN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Dn=new bN}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ha.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class bN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new pn(wt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new pn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c1=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(c1,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Jo(0)}static ur(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="LruGarbageCollector",SN=1048576;function EE([r,e],[n,s]){const o=Ge(r,n);return o===0?Ge(e,s):o}class AN{constructor(e){this.Tr=e,this.buffer=new pn(EE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();EE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){_e(_E,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sl(n)?_e(_E,"Ignoring IndexedDB error during garbage collection: ",n):await rl(n)}await this.Rr(3e5)}))}}class IN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(uf.ue);const s=new AN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(vE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),Po()<=We.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function CN(r,e){return new IN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.changes=new Za((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&pu(s.mutation,o,wi.empty(),kt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ze()){const o=Qa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=su();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Qa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=us();const f=mu(),m=(function(){return mu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof _a)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),pu(E.mutation,g,E.mutation.getFieldMask(),kt.now())):f.set(g.key,wi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>{var w;return m.set(g,new NN(E,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=mu();let o=new Bt(((f,m)=>f-m)),u=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||wi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Ze()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=Bw();E.forEach((R=>{if(!u.has(R)){const P=$w(n.get(R),s.get(R));P!==null&&w.set(R,P),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return oe.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Re.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Pw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(Qa());let m=Eu,p=u;return f.next((g=>oe.forEach(g,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ze()))).next((E=>({batchId:m,changes:jw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next((m=>oe.forEach(m,(p=>{const g=(function(w,R){return new Lu(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((w,R)=>{f=f.insert(w,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Tn.newInvalidDocument(E)))}));let m=su();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&pu(E.mutation,g,wi.empty(),kt.now()),ff(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:TN(o.bundledQuery),readTime:Si(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.overlays=new Bt(Re.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qa();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=Qa(),u=n.length+1,f=new Re(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Bt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Qa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return oe.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Zx(n,s));let u=this.kr.get(n);u===void 0&&(u=Ze(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.qr=new pn(En.Qr),this.$r=new pn(En.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new En(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new En(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Re(new wt([])),s=new En(n,e),o=new En(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Re(new wt([])),s=new En(n,e),o=new En(n,e+1);let u=Ze();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new En(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class En{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Re.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new pn(En.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Wx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new En(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Qp:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new En(n,0),o=new En(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pn(Ge);return n.forEach((o=>{const u=new En(o,0),f=new En(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const f=new En(new Re(u),0);let m=new pn(Ge);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,(o=>{const u=new En(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new En(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.ni=e,this.docs=(function(){return new Bt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let s=us();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=us();const f=n.path,m=new Re(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||px(mx(E),s)<=0||(o.has(E.key)||ff(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ri(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LN(this)}getSize(e){return oe.resolve(this.size)}}class LN extends xN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.persistence=e,this.ii=new Za((n=>$p(n)),Xp),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.si=0,this.oi=new ng,this.targetCount=0,this._i=Jo.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.ai={},this.overlays={},this.ui=new uf(0),this.ci=!1,this.ci=!0,this.li=new VN,this.referenceDelegate=e(this),this.hi=new UN(this),this.indexManager=new wN,this.remoteDocumentCache=(function(o){return new PN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new EN(n),this.Ti=new MN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ON,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new kN(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){_e("MemoryPersistence","Starting transaction:",e);const o=new zN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return oe.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class zN extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ai=new ng,this.Ri=null}static Vi(e){return new ig(e)}get mi(){if(this.Ri)return this.Ri;throw xe(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(s=>{const o=Re.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Me.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.gi=new Za((s=>Ex(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CN(this,n)}static Vi(e,n){return new Kh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Me.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Ze(),o=Ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return qR()?8:vx(Hn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new jN;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Po()<=We.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Po()<=We.DEBUG&&_e("QueryEngine","Query:",Lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Po()<=We.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):oe.resolve())}ps(e,n){if(lE(n))return oe.resolve(null);let s=br(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fp(n,null,"F"),s=br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ze(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,fp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return lE(n)||o.isEqual(Me.min())?oe.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?oe.resolve(null):(Po()<=We.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(n)),this.vs(e,f,n,dx(o,Eu)).next((m=>m)))}))}bs(e,n){let s=new pn(Uw(e));return n.forEach(((o,u)=>{ff(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Po()<=We.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Lo(n)),this.gs.getDocumentsMatchingQuery(e,n,ha.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",qN=3e8;class HN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Bt(Ge),this.Ms=new Za((u=>$p(u)),Xp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function FN(r,e,n,s){return new HN(r,e,n,s)}async function f1(r,e){const n=ke(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ze();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function GN(r,e){const n=ke(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const w=g.batch,R=w.keys();let P=oe.resolve();return R.forEach((K=>{P=P.next((()=>E.getEntry(p,K))).next((Z=>{const B=g.docVersions.get(K);st(B!==null,48541),Z.version.compareTo(B)<0&&(w.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function d1(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function QN(r,e){const n=ke(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((E,w)=>{const R=o.get(w);if(!R)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,w))));let P=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?P=P.withResumeToken(kn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(w,P),(function(Z,B,ue){return Z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=qN?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(R,P,E)&&m.push(n.hi.updateTargetData(u,P))}));let p=us(),g=Ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(YN(u,f,e.documentUpdates).next((E=>{p=E.Ls,g=E.ks}))),!s.isEqual(Me.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return oe.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function YN(r,e,n){let s=Ze(),o=Ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=us();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):_e(sg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function KN(r,e){const n=ke(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $N(r,e){const n=ke(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new ea(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function gp(r,e,n){const s=ke(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!sl(f))throw f;_e(sg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function TE(r,e,n){const s=ke(r);let o=Me.min(),u=Ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const w=ke(p),R=w.Ms.get(E);return R!==void 0?oe.resolve(w.Fs.get(R)):w.hi.getTargetData(g,E)})(s,f,br(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Me.min(),n?u:Ze()))).next((m=>(XN(s,zx(e),m),{documents:m,qs:u})))))}function XN(r,e,n){let s=r.xs.get(e)||Me.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class wE{constructor(){this.activeTargetIds=Gx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.Fo=new wE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new wE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="ConnectivityMonitor";class SE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){_e(bE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){_e(bE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function yp(){return vh===null?vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=yp(),m=this.Go(e,n.toUriEncodedString());_e(Vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=el(g);return this.jo(e,m,p,s,E).then((w=>(_e(Vm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw ca(Vm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=ZN[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class nD extends eD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=yp();return new Promise(((m,p)=>{const g=new cw;g.setWithCredentials(!0),g.listenOnce(hw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ah.NO_ERROR:const w=g.getResponseJson();_e(Bn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Ah.TIMEOUT:_e(Bn,`RPC '${e}' ${f} timed out`),p(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const R=g.getStatus();if(_e(Bn,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const K=P==null?void 0:P.error;if(K&&K.status&&K.message){const Z=(function(ue){const ce=ue.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ce)>=0?ce:re.UNKNOWN})(K.status);p(new ye(Z,K.message))}else p(new ye(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{_e(Bn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);_e(Bn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}P_(e,n,s){const o=yp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=mw(),m=dw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");_e(Bn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);this.T_(w);let R=!1,P=!1;const K=new tD({Ho:B=>{P?_e(Bn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(R||(_e(Bn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),_e(Bn,`RPC '${e}' stream ${o} sending:`,B),w.send(B))},Yo:()=>w.close()}),Z=(B,ue,ce)=>{B.listen(ue,(se=>{try{ce(se)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return Z(w,ru.EventType.OPEN,(()=>{P||(_e(Bn,`RPC '${e}' stream ${o} transport opened.`),K.s_())})),Z(w,ru.EventType.CLOSE,(()=>{P||(P=!0,_e(Bn,`RPC '${e}' stream ${o} transport closed`),K.__(),this.I_(w))})),Z(w,ru.EventType.ERROR,(B=>{P||(P=!0,ca(Bn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),K.__(new ye(re.UNAVAILABLE,"The operation could not be completed")))})),Z(w,ru.EventType.MESSAGE,(B=>{var ue;if(!P){const ce=B.data[0];st(!!ce,16349);const se=ce,Se=(se==null?void 0:se.error)||((ue=se[0])===null||ue===void 0?void 0:ue.error);if(Se){_e(Bn,`RPC '${e}' stream ${o} received error:`,Se);const Pe=Se.status;let Ne=(function(C){const M=on[C];if(M!==void 0)return Zw(M)})(Pe),N=Se.message;Ne===void 0&&(Ne=re.INTERNAL,N="Unknown error status: "+Pe+" with message "+Se.message),P=!0,K.__(new ye(Ne,N)),w.close()}else _e(Bn,`RPC '${e}' stream ${o} received:`,ce),K.a_(ce)}})),Z(m,fw.STAT_EVENT,(B=>{B.stat===sp.PROXY?_e(Bn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===sp.NOPROXY&&_e(Bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.o_()}),0),K}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return new aN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class m1{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new ag(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ye(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return _e(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(_e(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iD extends m1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=cN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Me.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Me.min():f.readTime?Si(f.readTime):Me.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=pp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=cp(p)?{documents:fN(u,p)}:{query:dN(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=n1(u,f.resumeToken);const g=dp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Me.min())>0){m.readTime=Qh(u,f.snapshotVersion.toTimestamp());const g=dp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=pN(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.k_(n)}}class rD extends m1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hN(e.writeResults,e.commitTime),s=Si(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=pp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>a1(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{}class aD extends sD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,mp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(re.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,mp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(re.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class oD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ls(n),this._a=!1):_e("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class lD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{eo(this)&&(_e(Ja,"Restarting streams for network reachability change."),await(async function(p){const g=ke(p);g.Ia.add(4),await Bu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await yf(g)})(this))}))})),this.Aa=new oD(s,o)}}async function yf(r){if(eo(r))for(const e of r.da)await e(!0)}async function Bu(r){for(const e of r.da)await e(!1)}function p1(r,e){const n=ke(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),cg(n)?ug(n):al(n).x_()&&lg(n,e))}function og(r,e){const n=ke(r),s=al(n);n.Ta.delete(e),s.x_()&&g1(n,e),n.Ta.size===0&&(s.x_()?s.B_():eo(n)&&n.Aa.set("Unknown"))}function lg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(r).H_(e)}function g1(r,e){r.Ra.$e(e),al(r).Y_(e)}function ug(r){r.Ra=new nN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),al(r).start(),r.Aa.aa()}function cg(r){return eo(r)&&!al(r).M_()&&r.Ta.size>0}function eo(r){return ke(r).Ia.size===0}function y1(r){r.Ra=void 0}async function uD(r){r.Aa.set("Online")}async function cD(r){r.Ta.forEach(((e,n)=>{lg(r,e)}))}async function hD(r,e){y1(r),cg(r)?(r.Aa.la(e),ug(r)):r.Aa.set("Unknown")}async function fD(r,e,n){if(r.Aa.set("Online"),e instanceof t1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){_e(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await $h(r,s)}else if(e instanceof xh?r.Ra.Ye(e):e instanceof e1?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Me.min()))try{const s=await d1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(kn.EMPTY_BYTE_STRING,E.snapshotVersion)),g1(u,p);const w=new ea(E.target,p,g,E.sequenceNumber);lg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){_e(Ja,"Failed to raise snapshot:",s),await $h(r,s)}}async function $h(r,e,n){if(!sl(e))throw e;r.Ia.add(1),await Bu(r),r.Aa.set("Offline"),n||(n=()=>d1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{_e(Ja,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await yf(r)}))}function v1(r,e){return e().catch((n=>$h(r,n,e)))}async function vf(r){const e=ke(r),n=pa(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Qp;for(;dD(e);)try{const o=await KN(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,mD(e,o)}catch(o){await $h(e,o)}_1(e)&&E1(e)}function dD(r){return eo(r)&&r.Pa.length<10}function mD(r,e){r.Pa.push(e);const n=pa(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function _1(r){return eo(r)&&!pa(r).M_()&&r.Pa.length>0}function E1(r){pa(r).start()}async function pD(r){pa(r).na()}async function gD(r){const e=pa(r);for(const n of r.Pa)e.X_(n.mutations)}async function yD(r,e,n){const s=r.Pa.shift(),o=Zp.from(s,e,n);await v1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await vf(r)}async function vD(r,e){e&&pa(r).Z_&&await(async function(s,o){if((function(f){return Ww(f)&&f!==re.ABORTED})(o.code)){const u=s.Pa.shift();pa(s).N_(),await v1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vf(s)}})(r,e),_1(r)&&E1(r)}async function RE(r,e){const n=ke(r);n.asyncQueue.verifyOperationInProgress(),_e(Ja,"RemoteStore received new credentials");const s=eo(n);n.Ia.add(3),await Bu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await yf(n)}async function _D(r,e){const n=ke(r);e?(n.Ia.delete(2),await yf(n)):e||(n.Ia.add(2),await Bu(n),n.Aa.set("Unknown"))}function al(r){return r.Va||(r.Va=(function(n,s,o){const u=ke(n);return u.ia(),new iD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:uD.bind(null,r),e_:cD.bind(null,r),n_:hD.bind(null,r),J_:fD.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),cg(r)?ug(r):r.Aa.set("Unknown")):(await r.Va.stop(),y1(r))}))),r.Va}function pa(r){return r.ma||(r.ma=(function(n,s,o){const u=ke(n);return u.ia(),new rD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:pD.bind(null,r),n_:vD.bind(null,r),ea:gD.bind(null,r),ta:yD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await vf(r)):(await r.ma.stop(),r.Pa.length>0&&(_e(Ja,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new hg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(ls("AsyncQueue",`${e}: ${r}`),sl(r))return new ye(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.fa=new Bt(Re.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):xe(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Wo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Wo(e,n,Fo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class TD{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=ke(n),u=o.queries;o.queries=CE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function CE(){return new Za((r=>Lw(r)),hf)}async function T1(r,e){const n=ke(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new ED,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=fg(f,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&dg(n)}async function w1(r,e){const n=ke(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wD(r,e){const n=ke(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&dg(n)}function bD(r,e,n){const s=ke(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function dg(r){r.Da.forEach((e=>{e.next()}))}var vp,xE;(xE=vp||(vp={})).Fa="default",xE.Cache="cache";class b1{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.key=e}}class A1{constructor(e){this.key=e}}class SD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ze(),this.mutatedKeys=Ze(),this.Xa=Uw(e),this.eu=new Fo(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new IE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const R=o.get(E),P=ff(this.query,w)?w:null,K=!!R&&this.mutatedKeys.has(R.key),Z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let B=!1;R&&P?R.data.isEqual(P.data)?K!==Z&&(s.track({type:3,doc:P}),B=!0):this.iu(R,P)||(s.track({type:2,doc:P}),B=!0,(p&&this.Xa(P,p)>0||g&&this.Xa(P,g)<0)&&(m=!0)):!R&&P?(s.track({type:0,doc:P}),B=!0):R&&!P&&(s.track({type:1,doc:R}),B=!0,(p||g)&&(m=!0)),B&&(P?(f=f.add(P),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((E,w)=>(function(P,K){const Z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{At:B})}};return Z(P)-Z(K)})(E.type,w.type)||this.Xa(E.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Wo(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new IE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ze(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new A1(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new S1(s))})),n}uu(e){this.Ha=e.qs,this.Za=Ze();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Wo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const mg="SyncEngine";class AD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class RD{constructor(e){this.key=e,this.lu=!1}}class ID{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Za((m=>Lw(m)),hf),this.Tu=new Map,this.Iu=new Set,this.du=new Bt(Re.comparator),this.Eu=new Map,this.Au=new ng,this.Ru={},this.Vu=new Map,this.mu=Jo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CD(r,e,n=!0){const s=D1(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await R1(s,e,n,!0),o}async function xD(r,e){const n=D1(r);await R1(n,e,!0,!1)}async function R1(r,e,n,s){const o=await $N(r.localStore,br(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ND(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&p1(r.remoteStore,o),m}async function ND(r,e,n,s,o){r.gu=(w,R,P)=>(async function(Z,B,ue,ce){let se=B.view.nu(ue);se.Ds&&(se=await TE(Z.localStore,B.query,!1).then((({documents:N})=>B.view.nu(N,se))));const Se=ce&&ce.targetChanges.get(B.targetId),Pe=ce&&ce.targetMismatches.get(B.targetId)!=null,Ne=B.view.applyChanges(se,Z.isPrimaryClient,Se,Pe);return DE(Z,B.targetId,Ne._u),Ne.snapshot})(r,w,R,P);const u=await TE(r.localStore,e,!0),f=new SD(e,u.qs),m=f.nu(u.documents),p=ju.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);DE(r,n,g._u);const E=new AD(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function DD(r,e,n){const s=ke(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!hf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),_p(s,o.targetId)})).catch(rl)):(_p(s,o.targetId),await gp(s.localStore,o.targetId,!0))}async function MD(r,e){const n=ke(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function OD(r,e,n){const s=jD(r);try{const o=await(function(f,m){const p=ke(f),g=kt.now(),E=m.reduce(((P,K)=>P.add(K.key)),Ze());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let K=us(),Z=Ze();return p.Os.getEntries(P,E).next((B=>{K=B,K.forEach(((ue,ce)=>{ce.isValidDocument()||(Z=Z.add(ue))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,K))).next((B=>{w=B;const ue=[];for(const ce of m){const se=Jx(ce,w.get(ce.key).overlayedDocument);se!=null&&ue.push(new _a(ce.key,se,xw(se.value.mapValue),mn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,ue,m)})).next((B=>{R=B;const ue=B.applyToLocalDocumentSet(w,Z);return p.documentOverlayCache.saveOverlays(P,B.batchId,ue)}))})).then((()=>({batchId:R.batchId,changes:jw(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Bt(Ge)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await qu(s,o.changes),await vf(s.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function I1(r,e){const n=ke(r);try{const s=await QN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?st(f.lu,14607):o.removedDocuments.size>0&&(st(f.lu,42227),f.lu=!1))})),await qu(n,s,e)}catch(s){await rl(s)}}function NE(r,e,n){const s=ke(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=ke(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,w)=>{for(const R of w.wa)R.va(m)&&(g=!0)})),g&&dg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VD(r,e,n){const s=ke(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Bt(Re.comparator);f=f.insert(u,Tn.newNoDocument(u,Me.min()));const m=Ze().add(u),p=new pf(Me.min(),new Map,new Bt(Ge),f,m);await I1(s,p),s.du=s.du.remove(u),s.Eu.delete(e),pg(s)}else await gp(s.localStore,e,!1).then((()=>_p(s,e,n))).catch(rl)}async function kD(r,e){const n=ke(r),s=e.batch.batchId;try{const o=await GN(n.localStore,e);x1(n,s,null),C1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await qu(n,o)}catch(o){await rl(o)}}async function PD(r,e,n){const s=ke(r);try{const o=await(function(f,m){const p=ke(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(st(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);x1(s,e,n),C1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await qu(s,o)}catch(o){await rl(o)}}function C1(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function x1(r,e,n){const s=ke(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function _p(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||N1(r,s)}))}function N1(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(og(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),pg(r))}function DE(r,e,n){for(const s of n)s instanceof S1?(r.Au.addReference(s.key,e),LD(r,s)):s instanceof A1?(_e(mg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||N1(r,s.key)):xe(19791,{yu:s})}function LD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(_e(mg,"New document in limbo: "+n),r.Iu.add(s),pg(r))}function pg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Re(wt.fromString(e)),s=r.mu.next();r.Eu.set(s,new RD(n)),r.du=r.du.insert(n,s),p1(r.remoteStore,new ea(br(Jp(n.path)),s,"TargetPurposeLimboResolution",uf.ue))}}async function qu(r,e,n){const s=ke(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=rg.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const E=ke(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(g,(R=>oe.forEach(R.Is,(P=>E.persistence.referenceDelegate.addReference(w,R.targetId,P))).next((()=>oe.forEach(R.ds,(P=>E.persistence.referenceDelegate.removeReference(w,R.targetId,P)))))))))}catch(w){if(!sl(w))throw w;_e(sg,"Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const P=E.Fs.get(R),K=P.snapshotVersion,Z=P.withLastLimboFreeSnapshotVersion(K);E.Fs=E.Fs.insert(R,Z)}}})(s.localStore,u))}async function UD(r,e){const n=ke(r);if(!n.currentUser.isEqual(e)){_e(mg,"User change. New user:",e.toKey());const s=await f1(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ye(re.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qu(n,s.Bs)}}function zD(r,e){const n=ke(r),s=n.Eu.get(e);if(s&&s.lu)return Ze().add(s.key);{let o=Ze();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function D1(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VD.bind(null,e),e.hu.J_=wD.bind(null,e.eventManager),e.hu.pu=bD.bind(null,e.eventManager),e}function jD(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PD.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return FN(this.persistence,new BN,e.initialUser,this.serializer)}Du(e){return new h1(ig.Vi,this.serializer)}bu(e){return new JN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class BD extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){st(this.persistence.referenceDelegate instanceof Kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RN(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new h1((s=>Kh.Vi(s,n)),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UD.bind(null,this.syncEngine),await _D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TD})()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),s=(function(u){return new nD(u)})(e.databaseInfo);return(function(u,f,m,p){return new aD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new lD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>NE(this.syncEngine,n,0)),(function(){return SE.C()?new SE:new WN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const w=new ID(o,u,f,m,p,g);return E&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=ke(o);_e(Ja,"RemoteStore shutting down."),u.Ia.add(5),await Bu(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ye(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=ke(o),m={documents:u.map((w=>Yh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,wt.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const R=uN(f.serializer,w);g.set(R.key.toString(),R)}));const E=[];return u.forEach((w=>{const R=g.get(w.toString());st(!!R,55234,{key:w}),E.push(R)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new zu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Re.fromPath(s);this.mutations.push(new Jw(o,this.precondition(o)))})),await(async function(s,o){const u=ke(s),f={writes:o.map((m=>a1(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,wt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe(50498,{Wu:e.constructor.name});n=Me.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ye(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Me.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Me.min()))throw new ye(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new ag(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new qD(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Pu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Ww(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="FirestoreClient";class FD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=qn.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{_e(ga,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(_e(ga,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),_e(ga,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await f1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{ca("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{_e("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ca("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function ME(r,e){r.asyncQueue.verifyOperationInProgress();const n=await GD(r);_e(ga,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>RE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>RE(e.remoteStore,o))),r._onlineComponents=e}async function GD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e(ga,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new Xh)}}else _e(ga,"Using default OfflineComponentProvider"),await Pm(r,new BD(void 0));return r._offlineComponents}async function gg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e(ga,"Using user provided OnlineComponentProvider"),await ME(r,r._uninitializedComponentsProvider._online)):(_e(ga,"Using default OnlineComponentProvider"),await ME(r,new Ep))),r._onlineComponents}function QD(r){return gg(r).then((e=>e.syncEngine))}function YD(r){return gg(r).then((e=>e.datastore))}async function Tp(r){const e=await gg(r),n=e.eventManager;return n.onListen=CD.bind(null,e.syncEngine),n.onUnlisten=DD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MD.bind(null,e.syncEngine),n}function KD(r,e,n={}){const s=new rs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new M1({next:R=>{E.Ou(),f.enqueueAndForget((()=>w1(u,w))),R.fromCache&&p.source==="server"?g.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new b1(m,E,{includeMetadataChanges:!0,ka:!0});return T1(u,w)})(await Tp(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firestore.googleapis.com",VE=!0;class kE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V1,this.ssl=VE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:VE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SN)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ix;switch(s.type){case"firstParty":return new ox(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=OE.get(n);s&&(_e("ComponentProvider","Removing Datastore"),OE.delete(n),s.terminate())})(this),Promise.resolve()}}function $D(r,e,n,s={}){var o;r=bi(r,_f);const u=el(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(TT(`https://${p}`),wT("Firestore",!0)),f.host!==V1&&f.host!==p&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!ua(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=qn.MOCK_USER;else{E=OR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new qn(R)}r._authCredentials=new rx(new gw(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ku(n,Yt._jsonSchema))return new Yt(e,s||null,new Re(wt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:un("string",Yt._jsonSchemaVersion),referencePath:un("string")};class oa extends to{constructor(e,n,s){super(e,n,Jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Re(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function tu(r,e,...n){if(r=Kt(r),vw("collection","path",e),r instanceof _f){const s=wt.fromString(e,...n);return K0(s),new oa(r,null,s)}{if(!(r instanceof Yt||r instanceof oa))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wt.fromString(e,...n));return K0(s),new oa(r.firestore,null,s)}}function oi(r,e,...n){if(r=Kt(r),arguments.length===1&&(e=Gp.newId()),vw("doc","path",e),r instanceof _f){const s=wt.fromString(e,...n);return Y0(s),new Yt(r,null,new Re(s))}{if(!(r instanceof Yt||r instanceof oa))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wt.fromString(e,...n));return Y0(s),new Yt(r.firestore,r instanceof oa?r.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ag(this,"async_queue_retry"),this.oc=()=>{const s=km();s&&_e(PE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new rs;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!sl(e))throw e;_e(PE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,ls("INTERNAL UNHANDLED ERROR: ",UE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&xe(47125,{hc:UE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function UE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class cs extends _f{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new LE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function XD(r,e){const n=typeof r=="object"?r:RT(),s=typeof r=="string"?r:Bh,o=Mp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=DR("firestore");u&&$D(o,...u)}return o}function Hu(r){if(r._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JD(r),r._firestoreClient}function JD(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,E){return new bx(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,O1(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new FD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ti(kn.fromBase64String(e))}catch(n){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ti(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Ti._jsonSchema))return Ti.fromBase64String(e.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:un("string",Ti._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:un("string",Sr._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ar(e.vectorValues);throw new ye(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:un("string",Ar._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^__.*__$/;class ZD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class k1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ec:r})}}class Ef{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(P1(this.Ec)&&WD.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class eM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gf(e)}Dc(e,n,s,o=!1){return new Ef({Ec:e,methodName:n,bc:s,path:Vn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(r){const e=r._freezeSettings(),n=gf(r._databaseId);return new eM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function yg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);wg("Data must be an object, but it was:",f,s);const m=L1(s,f);let p,g;if(u.merge)p=new wi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const R=wp(e,w,n);if(!f.contains(R))throw new ye(re.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);z1(E,R)||E.push(R)}p=new wi(E),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new ZD(new $n(m),p,g)}class Qu extends Fu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qu}}function tM(r,e,n){return new Ef({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vg extends Fu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=tM(this,e,!0),s=this.vc.map((u=>ll(u,n))),o=new Xo(s);return new Kw(e.path,o)}isEqual(e){return e instanceof vg&&ua(this.vc,e.vc)}}class _g extends Fu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Au(e.serializer,Hw(e.serializer,this.Cc));return new Kw(e.path,n)}isEqual(e){return e instanceof _g&&this.Cc===e.Cc}}function Eg(r,e,n,s){const o=r.Dc(1,e,n);wg("Data must be an object, but it was:",o,s);const u=[],f=$n.empty();va(s,((p,g)=>{const E=bg(e,p,n);g=Kt(g);const w=o.gc(E);if(g instanceof Qu)u.push(E);else{const R=ll(g,w);R!=null&&(u.push(E),f.set(E,R))}}));const m=new wi(u);return new k1(f,m,o.fieldTransforms)}function Tg(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[wp(e,s,n)],p=[o];if(u.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(wp(e,u[R])),p.push(u[R+1]);const g=[],E=$n.empty();for(let R=m.length-1;R>=0;--R)if(!z1(g,m[R])){const P=m[R];let K=p[R];K=Kt(K);const Z=f.gc(P);if(K instanceof Qu)g.push(P);else{const B=ll(K,Z);B!=null&&(g.push(P),E.set(P,B))}}const w=new wi(g);return new k1(E,w,f.fieldTransforms)}function nM(r,e,n,s=!1){return ll(n,r.Dc(s?4:3,e))}function ll(r,e){if(U1(r=Kt(r)))return wg("Unsupported field value:",e,r),L1(r,e);if(r instanceof Fu)return(function(s,o){if(!P1(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=ll(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Hw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=kt.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof kt){const u=new kt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Sr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ti)return{bytesValue:n1(o.serializer,s._byteString)};if(s instanceof Yt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ar)return(function(f,m){return{mapValue:{fields:{[Iw]:{stringValue:Cw},[qh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Wp(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${lf(s)}`)})(r,e)}function L1(r,e){const n={};return Tw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(r,((s,o)=>{const u=ll(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function U1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof kt||r instanceof Sr||r instanceof Ti||r instanceof Yt||r instanceof Fu||r instanceof Ar)}function wg(r,e,n){if(!U1(n)||!_w(n)){const s=lf(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function wp(r,e,n){if((e=Kt(e))instanceof ol)return e._internalPath;if(typeof e=="string")return bg(r,e);throw Jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const iM=new RegExp("[~\\*/\\[\\]]");function bg(r,e,n){if(e.search(iM)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ol(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(re.INVALID_ARGUMENT,m+r+p)}function z1(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rM extends Wh{data(){return super.data()}}function Sg(r,e){return typeof e=="string"?bg(r,e):e instanceof ol?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class sM extends Ag{}function aM(r,e,...n){let s=[];e instanceof Ag&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Rg)).length,m=u.filter((p=>p instanceof Tf)).length;if(f>1||f>0&&m>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Tf extends sM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tf(e,n,s)}_apply(e){const n=this._parse(e);return B1(e._query,n),new to(e.firestore,e.converter,hp(e._query,n))}_parse(e){const n=Gu(e.firestore);return(function(u,f,m,p,g,E,w){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){BE(w,E);const K=[];for(const Z of w)K.push(jE(p,u,Z));R={arrayValue:{values:K}}}else R=jE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||BE(w,E),R=nM(m,f,w,E==="in"||E==="not-in");return ln.create(g,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oM(r,e,n){const s=e,o=Sg("where",r);return Tf._create(o,s,n)}class Rg extends Ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)B1(f,p),f=hp(f,p)})(e._query,n),new to(e.firestore,e.converter,hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jE(r,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pw(e)&&n.indexOf("/")!==-1)throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(wt.fromString(n));if(!Re.isDocumentKey(s))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nE(r,new Re(s))}if(n instanceof Yt)return nE(r,n._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(n)}.`)}function BE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q1{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return va(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Wt(f.doubleValue)));return new Ar(u)}convertGeoPoint(e){return new Sr(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=fa(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=wt.fromString(e);st(u1(s),9688,{name:e});const o=new wu(s.get(1),s.get(3)),u=new Re(s.popFirst(5));return o.isEqual(n)||ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class lM extends q1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends Wh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Sg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:un("string",la._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class Nh extends la{data(e={}){return super.data(e)}}class Ya{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nh(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:uM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:un("string",Ya._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class wf extends q1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function qE(r){r=bi(r,to);const e=bi(r.firestore,cs),n=Hu(e),s=new wf(e);return j1(r._query),KD(n,r._query).then((o=>new Ya(e,s,r,o)))}function nu(r,e,n){r=bi(r,Yt);const s=bi(r.firestore,cs),o=Ig(r.converter,e,n);return bf(s,[yg(Gu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,mn.none())])}function iu(r,e,n,...s){r=bi(r,Yt);const o=bi(r.firestore,cs),u=Gu(o);let f;return f=typeof(e=Kt(e))=="string"||e instanceof ol?Tg(u,"updateDoc",r._key,e,n,s):Eg(u,"updateDoc",r._key,e),bf(o,[f.toMutation(r._key,mn.exists(!0))])}function Lm(r){return bf(bi(r.firestore,cs),[new zu(r._key,mn.none())])}function Um(r,...e){var n,s,o;r=Kt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||zE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(zE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof Yt)g=bi(r.firestore,cs),E=Jp(r._key.path),p={next:w=>{e[f]&&e[f](cM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=bi(r,to);g=bi(w.firestore,cs),E=w._query;const R=new wf(g);p={next:P=>{e[f]&&e[f](new Ya(g,R,w,P))},error:e[f+1],complete:e[f+2]},j1(r._query)}return(function(R,P,K,Z){const B=new M1(Z),ue=new b1(P,B,K);return R.asyncQueue.enqueueAndForget((async()=>T1(await Tp(R),ue))),()=>{B.Ou(),R.asyncQueue.enqueueAndForget((async()=>w1(await Tp(R),ue)))}})(Hu(g),E,m,p)}function bf(r,e){return(function(s,o){const u=new rs;return s.asyncQueue.enqueueAndForget((async()=>OD(await QD(s),o,u))),u.promise})(Hu(r),e)}function cM(r,e,n){const s=n.docs.get(e._key),o=new wf(r);return new la(r,o,e._key,s,new jo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}set(e,n,s){this._verifyNotCommitted();const o=ta(e,this._firestore),u=Ig(o.converter,n,s),f=yg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,mn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=ta(e,this._firestore);let f;return f=typeof(n=Kt(n))=="string"||n instanceof ol?Tg(this._dataReader,"WriteBatch.update",u._key,n,s,o):Eg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ta(e,this._firestore);return this._mutations=this._mutations.concat(new zu(n._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ta(r,e){if((r=Kt(r)).firestore!==e)throw new ye(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gu(e)}get(e){const n=ta(e,this._firestore),s=new lM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return xe(24041);const u=o[0];if(u.isFoundDocument())return new Wh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Wh(this._firestore,s,n._key,null,n.converter);throw xe(18433,{doc:u})}))}set(e,n,s){const o=ta(e,this._firestore),u=Ig(o.converter,n,s),f=yg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=ta(e,this._firestore);let f;return f=typeof(n=Kt(n))=="string"||n instanceof ol?Tg(this._dataReader,"Transaction.update",u._key,n,s,o):Eg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=ta(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM extends dM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ta(e,this._firestore),s=new wf(this._firestore);return super.get(e).then((o=>new la(this._firestore,s,n._key,o._document,new jo(!1,!1),n.converter)))}}function pM(r,e,n){r=bi(r,cs);const s=Object.assign(Object.assign({},hM),n);return(function(u){if(u.maxAttempts<1)throw new ye(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new rs;return u.asyncQueue.enqueueAndForget((async()=>{const g=await YD(u);new HD(u.asyncQueue,g,m,f,p).zu()})),p.promise})(Hu(r),(o=>e(new mM(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return new Qu("deleteField")}function yM(...r){return new vg("arrayUnion",r)}function vM(r){return new _g("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r){return Hu(r=bi(r,cs)),new fM(r,(e=>bf(r,e)))}(function(e,n=!0){(function(o){il=o})(tl),Go(new Ka("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new cs(new sx(s.getProvider("auth-internal")),new lx(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(g.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ra(q0,H0,e),ra(q0,H0,"esm2017")})();var EM="firebase",TM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ra(EM,TM,"app");const wM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},H1=AT(wM),qi=tx(H1),_n=XD(H1),zm=new es;(async()=>{try{await hu(qi,rw)}catch{try{await hu(qi,sf)}catch{await hu(qi,ip)}}})();var Cg={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var H=new OffscreenCanvas(1,1),T=H.getContext("2d");T.fillRect(0,0,1,1);var q=H.transferToImageBitmap();T.createPattern(q,"no-repeat")}catch{return!1}return!0})();function p(){}function g(H){var T=n.exports.Promise,q=T!==void 0?T:e.Promise;return typeof q=="function"?new q(H):(H(p,p),null)}var E=(function(H,T){return{transform:function(q){if(H)return q;if(T.has(q))return T.get(q);var X=new OffscreenCanvas(q.width,q.height),le=X.getContext("2d");return le.drawImage(q,0,0),T.set(q,X),X},clear:function(){T.clear()}}})(m,new Map),w=(function(){var H=Math.floor(16.666666666666668),T,q,X={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(fe){var pe=Math.random();return X[pe]=requestAnimationFrame(function de(Ae){le===Ae||le+H-1<Ae?(le=Ae,delete X[pe],fe()):X[pe]=requestAnimationFrame(de)}),pe},q=function(fe){X[fe]&&cancelAnimationFrame(X[fe])}):(T=function(fe){return setTimeout(fe,H)},q=function(fe){return clearTimeout(fe)}),{frame:T,cancel:q}})(),R=(function(){var H,T,q={};function X(le){function fe(pe,de){le.postMessage({options:pe||{},callback:de})}le.init=function(de){var Ae=de.transferControlToOffscreen();le.postMessage({canvas:Ae},[Ae])},le.fire=function(de,Ae,Ce){if(T)return fe(de,null),T;var et=Math.random().toString(36).slice(2);return T=g(function(He){function ot(At){At.data.callback===et&&(delete q[et],le.removeEventListener("message",ot),T=null,E.clear(),Ce(),He())}le.addEventListener("message",ot),fe(de,et),q[et]=ot.bind(null,{data:{callback:et}})}),T},le.reset=function(){le.postMessage({reset:!0});for(var de in q)q[de](),delete q[de]}}return function(){if(H)return H;if(!s&&u){var le=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{H=new Worker(URL.createObjectURL(new Blob([le])))}catch(fe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",fe),null}X(H)}return H}})(),P={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function K(H,T){return T?T(H):H}function Z(H){return H!=null}function B(H,T,q){return K(H&&Z(H[T])?H[T]:P[T],q)}function ue(H){return H<0?0:Math.floor(H)}function ce(H,T){return Math.floor(Math.random()*(T-H))+H}function se(H){return parseInt(H,16)}function Se(H){return H.map(Pe)}function Pe(H){var T=String(H).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:se(T.substring(0,2)),g:se(T.substring(2,4)),b:se(T.substring(4,6))}}function Ne(H){var T=B(H,"origin",Object);return T.x=B(T,"x",Number),T.y=B(T,"y",Number),T}function N(H){H.width=document.documentElement.clientWidth,H.height=document.documentElement.clientHeight}function I(H){var T=H.getBoundingClientRect();H.width=T.width,H.height=T.height}function C(H){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=H,T}function M(H,T,q,X,le,fe,pe,de,Ae){H.save(),H.translate(T,q),H.rotate(fe),H.scale(X,le),H.arc(0,0,1,pe,de,Ae),H.restore()}function k(H){var T=H.angle*(Math.PI/180),q=H.spread*(Math.PI/180);return{x:H.x,y:H.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:H.startVelocity*.5+Math.random()*H.startVelocity,angle2D:-T+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:H.color,shape:H.shape,tick:0,totalTicks:H.ticks,decay:H.decay,drift:H.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:H.gravity*3,ovalScalar:.6,scalar:H.scalar,flat:H.flat}}function z(H,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var q=T.tick++/T.totalTicks,X=T.x+T.random*T.tiltCos,le=T.y+T.random*T.tiltSin,fe=T.wobbleX+T.random*T.tiltCos,pe=T.wobbleY+T.random*T.tiltSin;if(H.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-q)+")",H.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))H.fill(he(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(fe-X)*.1,Math.abs(pe-le)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var de=Math.PI/10*T.wobble,Ae=Math.abs(fe-X)*.1,Ce=Math.abs(pe-le)*.1,et=T.shape.bitmap.width*T.scalar,He=T.shape.bitmap.height*T.scalar,ot=new DOMMatrix([Math.cos(de)*Ae,Math.sin(de)*Ae,-Math.sin(de)*Ce,Math.cos(de)*Ce,T.x,T.y]);ot.multiplySelf(new DOMMatrix(T.shape.matrix));var At=H.createPattern(E.transform(T.shape.bitmap),"no-repeat");At.setTransform(ot),H.globalAlpha=1-q,H.fillStyle=At,H.fillRect(T.x-et/2,T.y-He/2,et,He),H.globalAlpha=1}else if(T.shape==="circle")H.ellipse?H.ellipse(T.x,T.y,Math.abs(fe-X)*T.ovalScalar,Math.abs(pe-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):M(H,T.x,T.y,Math.abs(fe-X)*T.ovalScalar,Math.abs(pe-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Oe=Math.PI/2*3,Pt=4*T.scalar,Zt=8*T.scalar,wn=T.x,bn=T.y,cn=5,zt=Math.PI/cn;cn--;)wn=T.x+Math.cos(Oe)*Zt,bn=T.y+Math.sin(Oe)*Zt,H.lineTo(wn,bn),Oe+=zt,wn=T.x+Math.cos(Oe)*Pt,bn=T.y+Math.sin(Oe)*Pt,H.lineTo(wn,bn),Oe+=zt;else H.moveTo(Math.floor(T.x),Math.floor(T.y)),H.lineTo(Math.floor(T.wobbleX),Math.floor(le)),H.lineTo(Math.floor(fe),Math.floor(pe)),H.lineTo(Math.floor(X),Math.floor(T.wobbleY));return H.closePath(),H.fill(),T.tick<T.totalTicks}function x(H,T,q,X,le){var fe=T.slice(),pe=H.getContext("2d"),de,Ae,Ce=g(function(et){function He(){de=Ae=null,pe.clearRect(0,0,X.width,X.height),E.clear(),le(),et()}function ot(){s&&!(X.width===o.width&&X.height===o.height)&&(X.width=H.width=o.width,X.height=H.height=o.height),!X.width&&!X.height&&(q(H),X.width=H.width,X.height=H.height),pe.clearRect(0,0,X.width,X.height),fe=fe.filter(function(At){return z(pe,At)}),fe.length?de=w.frame(ot):He()}de=w.frame(ot),Ae=He});return{addFettis:function(et){return fe=fe.concat(et),Ce},canvas:H,promise:Ce,reset:function(){de&&w.cancel(de),Ae&&Ae()}}}function Ct(H,T){var q=!H,X=!!B(T||{},"resize"),le=!1,fe=B(T,"disableForReducedMotion",Boolean),pe=u&&!!B(T||{},"useWorker"),de=pe?R():null,Ae=q?N:I,Ce=H&&de?!!H.__confetti_initialized:!1,et=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,He;function ot(Oe,Pt,Zt){for(var wn=B(Oe,"particleCount",ue),bn=B(Oe,"angle",Number),cn=B(Oe,"spread",Number),zt=B(Oe,"startVelocity",Number),Cr=B(Oe,"decay",Number),ds=B(Oe,"gravity",Number),or=B(Oe,"drift",Number),xt=B(Oe,"colors",Se),yt=B(Oe,"ticks",Number),mt=B(Oe,"shapes"),at=B(Oe,"scalar"),hn=!!B(Oe,"flat"),ui=Ne(Oe),Xn=wn,Sn=[],fn=H.width*ui.x,An=H.height*ui.y;Xn--;)Sn.push(k({x:fn,y:An,angle:bn,spread:cn,startVelocity:zt,color:xt[Xn%xt.length],shape:mt[ce(0,mt.length)],ticks:yt,decay:Cr,gravity:ds,drift:or,scalar:at,flat:hn}));return He?He.addFettis(Sn):(He=x(H,Sn,Ae,Pt,Zt),He.promise)}function At(Oe){var Pt=fe||B(Oe,"disableForReducedMotion",Boolean),Zt=B(Oe,"zIndex",Number);if(Pt&&et)return g(function(zt){zt()});q&&He?H=He.canvas:q&&!H&&(H=C(Zt),document.body.appendChild(H)),X&&!Ce&&Ae(H);var wn={width:H.width,height:H.height};de&&!Ce&&de.init(H),Ce=!0,de&&(H.__confetti_initialized=!0);function bn(){if(de){var zt={getBoundingClientRect:function(){if(!q)return H.getBoundingClientRect()}};Ae(zt),de.postMessage({resize:{width:zt.width,height:zt.height}});return}wn.width=wn.height=null}function cn(){He=null,X&&(le=!1,e.removeEventListener("resize",bn)),q&&H&&(document.body.contains(H)&&document.body.removeChild(H),H=null,Ce=!1)}return X&&!le&&(le=!0,e.addEventListener("resize",bn,!1)),de?de.fire(Oe,wn,cn):ot(Oe,wn,cn)}return At.reset=function(){de&&de.reset(),He&&He.reset()},At}var ht;function ee(){return ht||(ht=Ct(null,{useWorker:!0,resize:!0})),ht}function he(H,T,q,X,le,fe,pe){var de=new Path2D(H),Ae=new Path2D;Ae.addPath(de,new DOMMatrix(T));var Ce=new Path2D;return Ce.addPath(Ae,new DOMMatrix([Math.cos(pe)*le,Math.sin(pe)*le,-Math.sin(pe)*fe,Math.cos(pe)*fe,q,X])),Ce}function Ee(H){if(!f)throw new Error("path confetti are not supported in this browser");var T,q;typeof H=="string"?T=H:(T=H.path,q=H.matrix);var X=new Path2D(T),le=document.createElement("canvas"),fe=le.getContext("2d");if(!q){for(var pe=1e3,de=pe,Ae=pe,Ce=0,et=0,He,ot,At=0;At<pe;At+=2)for(var Oe=0;Oe<pe;Oe+=2)fe.isPointInPath(X,At,Oe,"nonzero")&&(de=Math.min(de,At),Ae=Math.min(Ae,Oe),Ce=Math.max(Ce,At),et=Math.max(et,Oe));He=Ce-de,ot=et-Ae;var Pt=10,Zt=Math.min(Pt/He,Pt/ot);q=[Zt,0,0,Zt,-Math.round(He/2+de)*Zt,-Math.round(ot/2+Ae)*Zt]}return{type:"path",path:T,matrix:q}}function qe(H){var T,q=1,X="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof H=="string"?T=H:(T=H.text,q="scalar"in H?H.scalar:q,le="fontFamily"in H?H.fontFamily:le,X="color"in H?H.color:X);var fe=10*q,pe=""+fe+"px "+le,de=new OffscreenCanvas(fe,fe),Ae=de.getContext("2d");Ae.font=pe;var Ce=Ae.measureText(T),et=Math.ceil(Ce.actualBoundingBoxRight+Ce.actualBoundingBoxLeft),He=Math.ceil(Ce.actualBoundingBoxAscent+Ce.actualBoundingBoxDescent),ot=2,At=Ce.actualBoundingBoxLeft+ot,Oe=Ce.actualBoundingBoxAscent+ot;et+=ot+ot,He+=ot+ot,de=new OffscreenCanvas(et,He),Ae=de.getContext("2d"),Ae.font=pe,Ae.fillStyle=X,Ae.fillText(T,At,Oe);var Pt=1/q;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[Pt,0,0,Pt,-et*Pt/2,-He*Pt/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=Ct,n.exports.shapeFromPath=Ee,n.exports.shapeFromText=qe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Cg,!1);const bM=Cg.exports;Cg.exports.create;const SM=({className:r})=>L.jsxs("span",{className:"relative inline-block "+(r||""),children:[L.jsx(dT,{className:"w-5 h-5"}),L.jsx("span",{className:"absolute -right-1 -top-1",children:L.jsx(Km,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await hu(qi,sf)}catch{}})();function AM(r,e){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function RM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function ou(){try{try{await hu(qi,sf)}catch{}await cC(qi,zm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await O0(qi,zm);return}await O0(qi,zm)}}function IM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const CM=()=>{const[r]=aR(),e=Ap(),n=r.get("listId"),s=r.get("token"),[o,u]=V.useState(qi.currentUser),[f,m]=V.useState(!0),[p,g]=V.useState(!1),[E,w]=V.useState(null);V.useEffect(()=>$T(qi,K=>{u(K),m(!1)}),[]);const R=async()=>{w(null);try{await ou()}catch(K){w((K==null?void 0:K.message)||" ")}},P=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await R();return}g(!0),w(null);try{await pM(_n,async K=>{var se;const Z=oi(_n,"lists",n),B=await K.get(Z);if(!B.exists())throw new Error("  ");const ce=(se=B.data().pendingInvites)==null?void 0:se[s];if(!ce)throw new Error("  ");if(ce.expiresAt<Date.now())throw new Error("  ");K.update(Z,{sharedWith:yM(o.uid),[`pendingInvites.${s}`]:gM()})}),localStorage.setItem("activeListId",n),e("/")}catch(K){w((K==null?void 0:K.message)||"  ")}finally{g(!1)}};return f?L.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[L.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),L.jsx(lu,{className:"animate-spin text-indigo-600"})]}):L.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:L.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[L.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:L.jsx($m,{className:"w-10 h-10"})}),L.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?L.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?L.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?L.jsx("button",{onClick:P,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?L.jsx(lu,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):L.jsxs("button",{onClick:R,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[L.jsx(mT,{className:"w-4 h-4"}),"   "]})]})})},F1={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},ji=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),G1=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Zh(r){return r?/^\d+$/.test(r)?!0:F1[r]!=null:!1}function xM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=F1[r];return e??null}const NM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function DM(r){return NM.has(r)}const jm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Bm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),qm=new Set(["","","","","","","","","","","","",""]);function MM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Zh(o)&&!Zh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(jm.has(f)||jm.has(p)){e.push(jm.has(f)?f:p),n+=2;continue}if(Bm.has(u)||Bm.has(m)){e.push(Bm.has(u)?f:p),n+=2;continue}if(qm.has(u)||qm.has(m)){e.push(qm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function OM(r){const e=ji(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=MM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const E=Math.max(1,Number(p??o??1));s.push({name:g,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Zh(g)){const w=Math.max(1,xM(g)||1),R=m(p);if(u.length===0){o=w;continue}if(!R){f(w);continue}f(),o=w;continue}u.push(g);const E=m(p);u.length===1&&DM(u[0])||g===""||g===""||E===""||E===""||Zh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function VM(r){const e=G1(r),n=ji(e);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=OM(f);for(const p of m)u.push(p)}return u}const kM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function Tr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const Q1="shopping_list_item_history_v1",Y1="shopping_list_hidden_suggestions_v1",PM=1440*60*1e3;function xg(){try{const r=localStorage.getItem(Y1);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Ng(r){try{localStorage.setItem(Y1,JSON.stringify(r))}catch{}}function HE(){const r=xg(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&Ng(r),n}function LM(r){const e=xg();e[r]=Date.now()+PM,Ng(e)}function Hm(r){try{const e=xg();e[r]&&(delete e[r],Ng(e))}catch{}}function UM(){try{const r=localStorage.getItem(Q1);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function FE(r){try{localStorage.setItem(Q1,JSON.stringify(r))}catch{}}function zM(r){const e=r.query,n=Tr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,E)=>{const w=g.trim();if(!w)return;const R=Tr(w);if(!R||r.hiddenKeys.has(R))return;const P=o.get(R);if(P){P.sources.add(E);return}o.set(R,{name:w,key:R,sources:new Set([E])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,E]of Object.entries(r.history)){u((E==null?void 0:E.name)||g,"history");const w=o.get(g);w&&(w.history=E)}for(const g of kM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const E=Tr(g.name);E&&(m.has(E)||m.set(E,{id:g.id,quantity:g.quantity}))}const p=g=>{const E=g.key,w=E.startsWith(n),R=!w&&E.includes(n);if(!w&&!R)return-1/0;let P=w?120:70;if(g.sources.has("favorite")&&(P+=45),g.sources.has("history")&&(P+=35),g.sources.has("items")&&(P+=20),g.sources.has("static")&&(P+=10),g.history){const K=Math.max(0,g.history.count||0),Z=Math.max(0,g.history.lastUsed||0);P+=Math.min(30,Math.log2(K+1)*8);const B=(Date.now()-Z)/(1e3*60*60*24),ue=Math.max(0,20-B);P+=Math.min(20,ue)}return P};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,E)=>E.s-g.s).slice(0,s).map(g=>{const E=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!E,itemId:E==null?void 0:E.id,currentQty:E==null?void 0:E.quantity}})}const jM=()=>{const[r,e]=V.useState(null),[n,s]=V.useState(null),[o,u]=V.useState([]),[f,m]=V.useState(()=>new Set),[p,g]=V.useState(()=>new Set),[E,w]=V.useState(()=>new Set),[R,P]=V.useState(()=>new Set),[K,Z]=V.useState(()=>new Set),[B,ue]=V.useState(()=>new Set),[ce,se]=V.useState(()=>new Set),Se=V.useRef(new Set),[Pe,Ne]=V.useState({}),[N,I]=V.useState([]),[C,M]=V.useState("list"),[k,z]=V.useState(""),x=V.useRef(null),[Ct,ht]=V.useState(!1),[ee,he]=V.useState(-1),Ee=V.useRef({}),qe=V.useRef(null);V.useEffect(()=>{Ee.current=UM()},[]),V.useEffect(()=>{if(Se.current.size===0)return;const S=Array.from(Se.current);for(const U of S)o.find(ne=>ne.id===U&&!ne.isPurchased)&&(Se.current.delete(U),Ne(ne=>({...ne,[U]:"from"})),requestAnimationFrame(()=>{Ne(ne=>({...ne,[U]:"to"}))}),window.setTimeout(()=>{Ne(ne=>{const ge={...ne};return delete ge[U],ge})},260))},[o]);const[H,T]=V.useState(!1),[q,X]=V.useState(!1),le=V.useRef(null),[fe,pe]=V.useState(!1),[de,Ae]=V.useState(!1),[Ce,et]=V.useState(()=>{const S=new Date,U=new Date(S);U.setMinutes(0,0,0),U.setHours(18),U.getTime()<S.getTime()&&U.setHours(S.getHours()+1);const G=ne=>String(ne).padStart(2,"0");return`${U.getFullYear()}-${G(U.getMonth()+1)}-${G(U.getDate())}T${G(U.getHours())}:${G(U.getMinutes())}`}),[He,ot]=V.useState(60),[At,Oe]=V.useState(!0),[Pt,Zt]=V.useState(!1),[wn,bn]=V.useState(!1),[cn,zt]=V.useState(!1),[Cr]=V.useState("hold_to_talk"),[ds,or]=V.useState(""),[xt,yt]=V.useState(null),mt=V.useRef(null),at=V.useRef(!1),hn=V.useRef([]),ui=V.useRef(""),Xn=V.useRef(!1),Sn=V.useRef(null),fn=V.useRef(null),An=V.useRef(!1),Rt=V.useRef(null),[nt,It]=V.useState({id:null,dx:0}),Ri=V.useRef({}),Jn=70,Fi=110,Gi=S=>{const U=S;return U?!!U.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},Ii=S=>U=>{Gi(U.target)||(An.current=!1,Sn.current={x:U.clientX,y:U.clientY,id:S,pointerId:U.pointerId},fn.current={x:U.clientX,y:U.clientY},It({id:S,dx:0}),Ri.current[S]=!1)},lr=S=>U=>{const G=Sn.current;if(!G||G.id!==S||G.pointerId!==U.pointerId)return;fn.current={x:U.clientX,y:U.clientY};const ne=U.clientX-G.x,ge=Math.max(-Fi,Math.min(Fi,ne)),we=Math.abs(ne)>=Jn;if(we&&!Ri.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Ri.current[S]=!0),we||(Ri.current[S]=!1),!Rt.current&&Math.abs(ne)>10&&Math.abs(ne)>=Math.abs(U.clientY-G.y))try{U.currentTarget.setPointerCapture(U.pointerId),Rt.current={el:U.currentTarget,pointerId:U.pointerId}}catch{}It({id:S,dx:ge})},ci=S=>async U=>{const G=Sn.current,ne=fn.current;Sn.current=null;try{Rt.current&&Rt.current.el.releasePointerCapture(G.pointerId)}catch{}if(Rt.current=null,fn.current=null,!G||G.id!==S){It({id:null,dx:0});return}const ge=(ne==null?void 0:ne.x)??U.clientX,we=(ne==null?void 0:ne.y)??U.clientY,ve=ge-G.x,$e=we-G.y;if(It({id:null,dx:0}),!(Math.abs(ve)<Jn||Math.abs(ve)<Math.abs($e))){An.current=!0;try{ve>0?ei(S):xr.has(S)||await Ni(S)}finally{window.setTimeout(()=>{An.current=!1},0)}}},Wn=S=>U=>{if(Gi(U.target))return;const G=U.touches[0];G&&(An.current=!1,Sn.current={x:G.clientX,y:G.clientY,id:S,pointerId:-1},fn.current={x:G.clientX,y:G.clientY},It({id:S,dx:0}),Ri.current[S]=!1)},ur=S=>U=>{const G=Sn.current;if(!G||G.id!==S)return;const ne=U.touches[0];if(!ne)return;fn.current={x:ne.clientX,y:ne.clientY};const ge=ne.clientX-G.x,we=ne.clientY-G.y,ve=Math.abs(ge)>=Jn;if(ve&&!Ri.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Ri.current[S]=!0),ve||(Ri.current[S]=!1),Math.abs(ge)<6||Math.abs(ge)<Math.abs(we))return;try{U.preventDefault()}catch{}const $e=Math.max(-Fi,Math.min(Fi,ge));It({id:S,dx:$e})},ms=S=>async U=>{const G=Sn.current,ne=fn.current;if(Sn.current=null,fn.current=null,!G||G.id!==S){It({id:null,dx:0});return}const ge=ne?ne.x-G.x:0;if(Math.abs(ge)<Jn){It({id:null,dx:0});return}An.current=!0,ge>0?ei(S):xr.has(S)||await Ni(S),It({id:null,dx:0})},Ea=()=>{Sn.current=null,fn.current=null;try{Rt.current&&Rt.current.el.releasePointerCapture(Rt.current.pointerId)}catch{}Rt.current=null,It({id:null,dx:0})},Zn=V.useRef(null),Qi=V.useRef([]),qt=V.useRef(!1);V.useEffect(()=>{Zn.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),V.useEffect(()=>{Qi.current=o},[o]),V.useEffect(()=>{if(!o||o.length===0){qt.current=!1;return}const S=o.every(U=>U.isPurchased);S&&!qt.current&&(qt.current=!0,bM({particleCount:140,spread:75,origin:{y:.65}})),S||(qt.current=!1)},[o]),V.useEffect(()=>{if(!xt)return;const S=setTimeout(()=>yt(null),2500);return()=>clearTimeout(S)},[xt]),V.useEffect(()=>$T(qi,async S=>{try{if(e(S),Oe(!1),!S){s(null),u([]),I([]);return}bn(!0);const U=aM(tu(_n,"lists"),oM("sharedWith","array-contains",S.uid)),G=await qE(U);if(G.empty){const ne=oi(tu(_n,"lists")),ge={id:ne.id,title:" ",ownerUid:S.uid,sharedWith:[S.uid],createdAt:Date.now(),updatedAt:Date.now()};await nu(ne,ge),s(ge),localStorage.setItem("activeListId",ne.id)}else{const ne=localStorage.getItem("activeListId"),ge=ne?G.docs.find(ve=>ve.id===ne)??G.docs[0]:G.docs[0],we=ge.data();s({...we,id:ge.id}),localStorage.setItem("activeListId",ge.id)}bn(!1)}finally{Zt(!0)}}),[]),V.useEffect(()=>{if(!(n!=null&&n.id))return;const S=oi(_n,"lists",n.id),U=tu(S,"items"),G=tu(S,"favorites"),ne=Um(S,ve=>{ve.exists()&&s({...ve.data(),id:ve.id})}),ge=Um(U,ve=>{const $e=ve.docs.map(Ue=>Ue.data());u($e)}),we=Um(G,ve=>{const $e=ve.docs.map(Ue=>{const Qe=Ue.data();return{id:Ue.id,name:String((Qe==null?void 0:Qe.name)||""),createdAt:Number((Qe==null?void 0:Qe.createdAt)||0)}});$e.sort((Ue,Qe)=>Qe.createdAt-Ue.createdAt),I($e)});return()=>{ne(),ge(),we()}},[n==null?void 0:n.id]);const xr=V.useMemo(()=>{const S=new Set;for(const U of N)S.add(U.id);return S},[N]),Yi=V.useMemo(()=>{const S=new Set,U=[];for(const G of N){const ne=ji(G.name);ne&&(S.has(ne)||(S.add(ne),U.push(G)))}return U},[N]),cr=V.useMemo(()=>o.filter(S=>!S.isPurchased).sort((S,U)=>U.createdAt-S.createdAt),[o]),Nr=V.useMemo(()=>o.filter(S=>S.isPurchased).sort((S,U)=>(U.purchasedAt||0)-(S.purchasedAt||0)),[o]),ps=S=>{const U=S.trim();if(!U)return;const G=Tr(U);if(!G)return;const ne=Ee.current[G],ge={name:U,count:((ne==null?void 0:ne.count)||0)+1,lastUsed:Date.now()};Ee.current={...Ee.current,[G]:ge},FE(Ee.current)},Rn=V.useRef(new Set);V.useEffect(()=>{Rn.current=new Set(HE())},[]);const Fn=V.useMemo(()=>{const S=new Set(HE());return Rn.current=S,zM({query:k,favorites:(N??[]).map(U=>U.name),items:o??[],history:Ee.current,hiddenKeys:S,limit:8})},[k,N,o]),Ci=()=>{qe.current&&window.clearTimeout(qe.current),qe.current=window.setTimeout(()=>{ht(!1),he(-1)},120)},Nt=()=>{qe.current&&window.clearTimeout(qe.current),ht(!0)},$t=async S=>{if(S.isInList&&S.itemId){const U=(S.currentQty??1)+1;await Ln(S.itemId,1);const G=S.key||Tr(S.name);G&&(Hm(G),Rn.current.delete(G)),yt(`  -   -${U}`),z(""),he(-1),ht(!1),window.requestAnimationFrame(()=>{var ne;return(ne=x.current)==null?void 0:ne.focus()});return}z(S.name),he(-1),ht(!1),window.requestAnimationFrame(()=>{var U;return(U=x.current)==null?void 0:U.focus()})},xi=S=>{const U=S.key||Tr(S.name);if(!U)return;const G={...Ee.current};G[U]&&(delete G[U],Ee.current=G,FE(G));const ne=new Set(Rn.current);ne.add(U),Rn.current=ne,LM(U),ht(!1),he(-1),window.requestAnimationFrame(()=>{var ge;return(ge=x.current)==null?void 0:ge.focus()})},hr=async S=>{if(S&&S.preventDefault(),!r){await ou();return}if(!(n!=null&&n.id))return;const U=k.trim();if(!U)return;const G=Tr(U),ne=o.find(ve=>Tr(ve.name)===G);if(ne){await Ln(ne.id,1),G&&(Hm(G),Rn.current.delete(G)),ps(ne.name),z(""),ht(!1),he(-1);return}const ge=crypto.randomUUID(),we={id:ge,name:U,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await nu(oi(_n,"lists",n.id,"items",ge),we),G&&(Hm(G),Rn.current.delete(G)),ps(U),z(""),ht(!1),he(-1)},Gn=async S=>{if(!(n!=null&&n.id))return;const U=o.find(ne=>ne.id===S);if(!U)return;const G=!U.isPurchased;await iu(oi(_n,"lists",n.id,"items",S),{isPurchased:G,purchasedAt:G?Date.now():null})},no=240,Ta=S=>{const U=o.find(G=>G.id===S);if(!U||U.isPurchased){Gn(S);return}m(G=>{const ne=new Set(G);return ne.add(S),ne}),window.setTimeout(()=>{Gn(S).finally(()=>{m(G=>{const ne=new Set(G);return ne.delete(S),ne})})},no)},Ln=async(S,U)=>{if(!(n!=null&&n.id))return;if(U>0){await iu(oi(_n,"lists",n.id,"items",S),{quantity:vM(U)});return}const G=o.find(ne=>ne.id===S);G&&await iu(oi(_n,"lists",n.id,"items",S),{quantity:Math.max(1,G.quantity+U)})},Dr=async S=>{n!=null&&n.id&&await Lm(oi(_n,"lists",n.id,"items",S))},ei=S=>{n!=null&&n.id&&(B.has(S)||(ue(U=>{const G=new Set(U);return G.add(S),G}),window.setTimeout(()=>{Dr(S).finally(()=>{ue(U=>{const G=new Set(U);return G.delete(S),G})})},240)))},Ni=async S=>{if(!(n!=null&&n.id))return;const U=oi(_n,"lists",n.id,"favorites",S);if(xr.has(S)){await Lm(U);return}const G=o.find(we=>we.id===S),ne=String((G==null?void 0:G.name)||""),ge=ji(ne);ge&&N.some(ve=>ji(ve.name)===ge)||(await nu(U,{name:ne,createdAt:Date.now()}),w(we=>{const ve=new Set(we);return ve.add(S),ve}),window.setTimeout(()=>{w(we=>{const ve=new Set(we);return ve.delete(S),ve})},260))},Mr=async S=>{n!=null&&n.id&&await Lm(oi(_n,"lists",n.id,"favorites",S))},hi=S=>{n!=null&&n.id&&(ce.has(S)||(se(U=>{const G=new Set(U);return G.add(S),G}),window.setTimeout(()=>{Mr(S).finally(()=>{se(U=>{const G=new Set(U);return G.delete(S),G})})},240)))},Lt=async()=>{const S=Zn.current||(n==null?void 0:n.id);if(!S)return;const U=tu(_n,"lists",S,"items"),G=await qE(U);if(G.empty){pe(!1);return}const ne=G.docs;let ge=0;for(;ge<ne.length;){const we=_M(_n),ve=ne.slice(ge,ge+450);for(const $e of ve)we.delete($e.ref);await we.commit(),ge+=ve.length}pe(!1)},gs=async()=>{if(!r)return await ou(),null;if(!(n!=null&&n.id))return null;const S=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),U=Date.now()+2880*60*1e3;return await iu(oi(_n,"lists",n.id),{[`pendingInvites.${S}`]:{createdAt:Date.now(),expiresAt:U}}),AM(n.id,S)},fr=async()=>{const S=await gs();if(S){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:S});return}}catch{}await RM(S),T(!0),setTimeout(()=>T(!1),2e3)}},In=(S,U)=>{const[G,ne]=S.split("T"),[ge,we,ve]=G.split("-").map(vt=>parseInt(vt,10)),[$e,Ue]=ne.split(":").map(vt=>parseInt(vt,10)),Qe=new Date(ge,we-1,ve,$e,Ue,0,0),Le=new Date(Qe.getTime()+Math.max(15,U)*6e4),Dt=vt=>String(vt).padStart(2,"0"),Ft=vt=>`${vt.getFullYear()}${Dt(vt.getMonth()+1)}${Dt(vt.getDate())}T${Dt(vt.getHours())}${Dt(vt.getMinutes())}00`,kr=`${Ft(Qe)}/${Ft(Le)}`,Zi=encodeURIComponent("  "),er=encodeURIComponent("   -     "),en=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${Zi}&dates=${encodeURIComponent(kr)}&details=${er}&ctz=${en}`},Di=()=>{const S=In(Ce,He),U=navigator.userAgent||"",G=/Android/i.test(U),ne=/iPhone|iPad|iPod/i.test(U);if(G){const ge=S.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=ge,window.setTimeout(()=>{window.location.href=S},700);return}if(ne){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=S},700);return}window.open(S,"_blank","noopener,noreferrer")},ul=()=>{const S=(n==null?void 0:n.title)||" ",U=o.filter(Le=>!Le.isPurchased),G="",ne="",ge="",we="",ve=U.length>0?U.map(Le=>(Le.quantity||1)<=1?`${G}${Le.name}${ne}`:`${G}${Le.name} X ${ge}${Le.quantity}${we}${ne}`).join(`
`):`${G}(  )${ne}`,Qe=`${`*${S}:*`}

${ve}

   `;IM(Qe)},Ki=V.useRef(null),$i=V.useRef(null),Xi=V.useRef(null),[ft,fi]=V.useState({id:null,dx:0,rawDx:0}),Cn=V.useRef({}),Ht=60,Or=110,cl=async S=>{if(!(n!=null&&n.id))return{targetId:null,created:!1};Z(we=>{const ve=new Set(we);return ve.add(S.id),ve}),window.setTimeout(()=>{Z(we=>{const ve=new Set(we);return ve.delete(S.id),ve})},260);const U=Tr(S.name),G=o.find(we=>!we.isPurchased&&Tr(we.name)===U);if(G)return P(we=>{const ve=new Set(we);return ve.add(G.id),ve}),window.setTimeout(()=>{P(we=>{const ve=new Set(we);return ve.delete(G.id),ve})},260),{targetId:G.id,created:!1};const ne=crypto.randomUUID(),ge={id:ne,name:S.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};return Se.current.add(ne),await nu(oi(_n,"lists",n.id,"items",ne),ge),{targetId:ne,created:!0}},ys=S=>U=>{Gi(U.target)||(Ki.current={x:U.clientX,y:U.clientY,id:S,pointerId:U.pointerId},$i.current={x:U.clientX,y:U.clientY},fi({id:S,dx:0,rawDx:0}),Cn.current[S]=!1)},wa=S=>U=>{const G=Ki.current;if(!G||G.id!==S)return;$i.current={x:U.clientX,y:U.clientY};const ne=U.clientX-G.x,ge=U.clientY-G.y,we=Math.abs(ne)>=Ht;if(we&&!Cn.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),Cn.current[S]=!0),we||(Cn.current[S]=!1),!Xi.current&&Math.abs(ne)>10&&Math.abs(ge)<=Math.abs(ne)*1.2)try{U.currentTarget.setPointerCapture(U.pointerId),Xi.current={el:U.currentTarget,pointerId:U.pointerId}}catch{}if(Math.abs(ge)>Math.abs(ne)*1.6)return;const ve=Math.max(-Or,Math.min(Or,ne));fi({id:S,dx:ve,rawDx:ne})},vs=S=>async U=>{const G=Ki.current,ne=$i.current;Ki.current=null;try{Xi.current&&G&&Xi.current.el.releasePointerCapture(G.pointerId)}catch{}if(Xi.current=null,$i.current=null,fi({id:null,dx:0,rawDx:0}),!G||G.id!==S)return;const ge=(ne==null?void 0:ne.x)??U.clientX,we=(ne==null?void 0:ne.y)??U.clientY,ve=ge-G.x,$e=we-G.y;if(Math.abs(ve)<Ht||Math.abs($e)>Math.abs(ve)*1.6)return;const Ue=N.find(Qe=>Qe.id===S);ve>0?hi(S):Ue&&await cl(Ue)},Ji=()=>{Ki.current=null,$i.current=null,Xi.current=null,fi({id:null,dx:0,rawDx:0})},bt=S=>{const U=ji(S),G=o.find(ge=>ji(ge.name)===U);return G||o.find(ge=>ji(ge.name).includes(U)||U.includes(ji(ge.name)))||null},dr=async(S,U)=>{const G=Zn.current||(n==null?void 0:n.id);if(!G)return;const ne=Qi.current||o,ge=S.trim();if(!ge)return;const we=ne.find(Ue=>!Ue.isPurchased&&ji(Ue.name)===ji(ge));if(we){await iu(oi(_n,"lists",G,"items",we.id),{quantity:U});return}const ve=crypto.randomUUID(),$e={id:ve,name:ge,quantity:U,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await nu(oi(_n,"lists",G,"items",ve),$e)},Vr=S=>/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/.test(S)||/^(||)$/.test(S)||S.includes("")&&S.includes("")&&(S.includes("")||S.includes(""))||S.includes("")&&(S.includes("")||S.includes("")),_s=async S=>{if(!(Zn.current||(n==null?void 0:n.id)))return;const G=ji(S);if(!G)return;if(Vr(G)){await Lt(),yt(" ");return}if(/^(|||)\s+/.test(G)){const Qe=G.replace(/^(|||)\s+/,"").trim(),Le=bt(Qe);if(!Le){yt("   ");return}ei(Le.id),yt(`: ${Le.name}`);return}const ne=G.match(/^(||)\s+(.+)\s+(||)$/);if(ne){const Qe=ne[2].trim(),Le=bt(Qe);if(!Le){yt("   ");return}Le.isPurchased||await Gn(Le.id),yt(` : ${Le.name}`);return}const ge=G.match(/^(||)\s+(.+)$/);if(ge){const Qe=ge[2].trim(),Le=bt(Qe);return Le?(await Ln(Le.id,1),yt(`: ${Le.name}`)):yt("   ")}const we=G.match(/^(||)\s+(.+)$/);if(we){const Qe=we[2].trim(),Le=bt(Qe);return Le?(await Ln(Le.id,-1),yt(`: ${Le.name}`)):yt("   ")}const ve=G.match(/^(|||)(?:\s+)?\s+(.+)$/),$e=ve?ve[2]:G,Ue=VM($e);if(Ue.length!==0)for(const Qe of Ue)await dr(Qe.name,Qe.qty)},it=()=>{const S=window.SpeechRecognition||window.webkitSpeechRecognition;return S||null},Wi=()=>{const S=it();if(!S){alert("    .  Chrome  Edge.");return}if(!r){yt("    "),ou();return}if(hn.current=[],ui.current="",Xn.current=!1,at.current=!0,or(""),zt(!0),yt("  -   "),mt.current){try{mt.current.stop()}catch{}mt.current=null}const U=new S;mt.current=U,U.lang="he-IL",U.interimResults=!0,U.maxAlternatives=1,U.continuous=!0;const G=3e3,ne=9e4;let ge=!1,we=Date.now(),ve=null,$e=null;const Ue=()=>{ve!=null&&window.clearTimeout(ve),$e!=null&&window.clearTimeout($e),ve=null,$e=null},Qe=()=>{at.current&&ge&&(ve!=null&&window.clearTimeout(ve),ve=window.setTimeout(()=>{if(!at.current)return;Date.now()-we>=G&&Un()},G+50))};$e=window.setTimeout(()=>{at.current&&(yt("     - ..."),Un())},ne),U.onstart=()=>{},U.onaudiostart=()=>{},U.onspeechstart=()=>{},U.onresult=Le=>{try{let Dt="";const Ft=Le.results;if(!Ft)return;for(let Zi=Le.resultIndex??0;Zi<((Ft==null?void 0:Ft.length)??0);Zi++){const er=Ft[Zi],en=er==null?void 0:er[0],vt=G1(String((en==null?void 0:en.transcript)||""));vt&&(er.isFinal?(hn.current.push(vt),ui.current=""):(Dt=vt,ui.current=vt))}const kr=Dt||(hn.current.length?hn.current[hn.current.length-1]:"");kr&&or(kr),ge=!0,we=Date.now(),Qe()}catch{}},U.onerror=Le=>{const Dt=String((Le==null?void 0:Le.error)||"");console.warn("Speech error:",Dt,Le),Dt!=="no-speech"&&(Ue(),clearVoiceTimers(),zt(!1),at.current=!1,Dt==="not-allowed"||Dt==="service-not-allowed"?alert("  .     ."):yt(Dt==="audio-capture"?"   (    )":` : ${Dt||"unknown"}`))},U.onend=()=>{if(!at.current){Ue();return}Qe(),!Xn.current&&(Xn.current=!0,setTimeout(()=>{if(!at.current){Xn.current=!1,Ue();return}try{U.start()}catch{}finally{Xn.current=!1}},180))};try{U.start(),Qe()}catch(Le){console.error(Le),Ue(),clearVoiceTimers(),zt(!1),at.current=!1,yt("   ")}},Un=async()=>{var ne,ge;if(!at.current)return;at.current=!1,zt(!1);try{(ge=(ne=mt.current)==null?void 0:ne.stop)==null||ge.call(ne)}catch{}const S=hn.current.join(" ").trim(),U=(ui.current||"").trim(),G=`${S} ${U}`.replace(/\s+/g," ").trim();if(hn.current=[],ui.current="",!G){yt("   -  ");return}yt("...");try{await _s(G)}catch(we){console.error(we),yt(`: ${String((we==null?void 0:we.message)||we||"")}`)}};return V.useEffect(()=>()=>{var S,U;try{at.current=!1,(U=(S=mt.current)==null?void 0:S.stop)==null||U.call(S)}catch{}},[]),V.useEffect(()=>{const S=U=>{if(!q)return;const G=le.current;G&&(U.target&&G.contains(U.target)||X(!1))};return document.addEventListener("pointerdown",S),()=>document.removeEventListener("pointerdown",S)},[q]),Pt?r?At?L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:L.jsx(lu,{className:"animate-spin text-indigo-600"})}):wn||!(n!=null&&n.id)?L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:L.jsx(lu,{className:"animate-spin text-indigo-600"})}):L.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[L.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-4 py-3 border-b border-slate-100",children:L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx("button",{onClick:()=>QI(qi),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"","aria-label":"",children:L.jsx(yR,{className:"w-4 h-4"})}),L.jsx("button",{onClick:()=>pe(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ","aria-label":" ",children:L.jsx(fh,{className:"w-5 h-5"})})]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-lg font-bold text-indigo-600 leading-tight whitespace-nowrap",children:"Shopping-List"}),L.jsxs("div",{className:"relative inline-flex items-center",ref:le,children:[L.jsx("button",{type:"button",onClick:()=>X(S=>!S),className:"p-2 text-slate-400 hover:text-indigo-600",title:"","aria-label":"",children:H?L.jsx(pR,{className:"w-5 h-5 text-emerald-500"}):L.jsx($m,{className:"w-5 h-5"})}),q?L.jsxs("div",{className:"absolute top-11 left-0 z-[80] w-64 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[15px] leading-tight",children:[L.jsxs("button",{type:"button",onClick:async()=>{X(!1),await fr()},className:"w-full text-right px-4 py-3 text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[L.jsx($m,{className:"w-4 h-4 text-slate-500"}),L.jsx("span",{className:"font-semibold text-[15px] leading-none",children:"  "})]}),L.jsxs("button",{type:"button",onClick:()=>{const S=!!(r&&(n!=null&&n.ownerUid)&&r.uid!==n.ownerUid);if(X(!1),!S){yt("       ");return}setShowLeaveConfirm(!0)},className:`w-full text-right px-4 py-3 flex items-center gap-2 ${r&&(n!=null&&n.ownerUid)&&r.uid!==n.ownerUid?"text-rose-700 hover:bg-rose-50":"text-slate-400 cursor-not-allowed"}`,children:[L.jsx(f0,{className:`w-4 h-4 ${r&&(n!=null&&n.ownerUid)&&r.uid!==n.ownerUid?"text-rose-600":"text-slate-400"}`}),L.jsx("span",{className:"font-semibold text-[15px] leading-none",children:"   "})]})]}):null]})]})]})}),L.jsx("div",{className:"px-5 pt-3",children:L.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[L.jsx("div",{className:"text-[11px] font-black text-slate-400",children:cn?"  -    ":" :    ,  "}),ds?L.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",ds]}):null,L.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),L.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:C==="list"?L.jsxs(L.Fragment,{children:[L.jsxs("form",{onSubmit:hr,className:"relative",children:[L.jsx("input",{ref:x,value:k,onFocus:Nt,onBlur:Ci,onKeyDown:S=>{if(Ct){if(S.key==="Escape"){S.preventDefault(),ht(!1),he(-1);return}if(S.key==="ArrowDown"){if(S.preventDefault(),Fn.length===0)return;he(U=>{const G=U+1;return G>=Fn.length?0:G});return}if(S.key==="ArrowUp"){if(S.preventDefault(),Fn.length===0)return;he(U=>{const G=U-1;return G<0?Fn.length-1:G});return}if(S.key==="Tab"){if(Fn.length===0)return;S.preventDefault(),$t(Fn[Math.max(0,ee>=0?ee:0)]);return}if(S.key==="Enter"&&Fn.length>0){S.preventDefault();const U=ee>=0?ee:0;$t(Fn[U]);return}}},onChange:S=>{z(S.target.value),Nt(),he(-1)},placeholder:"  ?",className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),L.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:L.jsx(Km,{className:"w-6 h-6"})}),Ct&&k.trim()&&Fn.length>0?L.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:S=>{S.preventDefault()},onPointerDown:S=>{S.preventDefault()},children:Fn.map((S,U)=>L.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(U===ee?"bg-slate-100":""),children:[L.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:G=>{G.preventDefault(),$t(S)},title:"",children:[L.jsx("span",{className:"font-semibold text-slate-700",children:S.name}),S.isInList?L.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof S.currentQty=="number"?` (${S.currentQty})`:""]}):L.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),S.canHide?L.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:G=>{G.preventDefault(),G.stopPropagation(),xi(S)},title:" ","aria-label":" ",children:""}):null]},S.key+"-"+U))}):null]}),((o==null?void 0:o.length)??0)===0?L.jsxs("div",{className:"text-center py-20 opacity-20",children:[L.jsx(wR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),L.jsx("p",{className:"text-lg font-bold",children:" "})]}):L.jsx("div",{className:"space-y-4",children:L.jsxs("div",{className:"space-y-3",children:[cr.map(S=>L.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-slate-100 shadow-sm select-none transition-all duration-200 ease-out ${f.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":Pe[S.id]==="from"?"opacity-0 translate-y-1 scale-[0.99]":"opacity-100 translate-y-0 scale-100"}`,dir:"rtl",onPointerDown:Ii(S.id),onPointerMove:lr(S.id),onPointerUp:ci(S.id),onPointerCancel:Ea,onTouchStart:Wn(S.id),onTouchMove:ur(S.id),onTouchEnd:ms(S.id),style:{touchAction:"pan-y"},children:[L.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[L.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:nt.id===S.id&&nt.dx>0?Math.min(Math.abs(nt.dx),Fi):0,opacity:.9,zIndex:0}}),L.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:nt.id===S.id&&nt.dx<0?Math.min(Math.abs(nt.dx),Fi):0,opacity:.9,zIndex:0}}),L.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 flex-row-reverse",children:[L.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:nt.id===S.id&&nt.dx>0?Math.abs(nt.dx)>=Jn?1:.65:0,transform:nt.id===S.id&&nt.dx>0&&Math.abs(nt.dx)>=Jn?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:L.jsx(fh,{className:"w-6 h-6"})}),L.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:nt.id===S.id&&nt.dx<0?Math.abs(nt.dx)>=Jn?1:.65:0,transform:nt.id===S.id&&nt.dx<0&&Math.abs(nt.dx)>=Jn?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:L.jsx(hh,{className:"w-6 h-6"})})]})]}),L.jsxs("div",{className:`relative z-10 flex items-center justify-between w-full p-3 rounded-2xl transition-colors ${B.has(S.id)?"bg-rose-50":E.has(S.id)?"bg-emerald-100":R.has(S.id)?"bg-emerald-50":"bg-white"}`,style:{transform:nt.id===S.id?`translateX(${nt.dx}px)`:void 0,transition:nt.id===S.id?"none":"transform 120ms ease-out"},children:[L.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{An.current||B.has(S.id)||Ta(S.id)},children:S.name}),L.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[L.jsx("button",{disabled:f.has(S.id)||B.has(S.id),onClick:()=>Ln(S.id,-1),className:`p-1 text-slate-400 ${f.has(S.id)||B.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:L.jsx(TR,{className:"w-3 h-3"})}),L.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:S.quantity}),L.jsx("button",{disabled:f.has(S.id)||B.has(S.id),onClick:()=>Ln(S.id,1),className:`p-1 text-slate-400 ${f.has(S.id)||B.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:L.jsx(Km,{className:"w-3 h-3"})})]})]})]},S.id)),Nr.length>0?L.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[L.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[" (",Nr.length,")"]}),Nr.map(S=>L.jsx("div",{className:`flex items-center justify-between p-3 ${B.has(S.id)?"bg-rose-50":"bg-slate-100/50"} rounded-2xl opacity-60 grayscale transition-all`,dir:"rtl",children:L.jsxs("div",{className:"flex items-center justify-between w-full",children:[L.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Gn(S.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[L.jsx(gR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),L.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:L.jsxs("span",{className:"flex gap-1",children:[L.jsx("span",{children:S.name}),(S.quantity||1)>1&&L.jsxs(L.Fragment,{children:[L.jsx("span",{children:"x"}),L.jsx("span",{children:S.quantity})]})]})})]}),L.jsx("button",{onClick:()=>ei(S.id),className:"p-2 text-slate-300",title:"",children:L.jsx(fh,{className:"w-4 h-4"})})]})},S.id))]}):null]})})]}):L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"text-right",children:[L.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),L.jsx("p",{className:"text-sm text-slate-400 font-bold",children:L.jsx("span",{className:"font-semibold text-[15px] leading-none",children:"  "})})]}),Yi.length===0?L.jsxs("div",{className:"text-center py-20 opacity-20",children:[L.jsx(hh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),L.jsx("p",{className:"font-bold",children:"  "})]}):L.jsx("div",{className:"grid grid-cols-1 gap-3",children:Yi.map(S=>L.jsxs("div",{className:`relative overflow-hidden rounded-2xl select-none transition-all duration-200 ease-out ${ce.has(S.id)?"pointer-events-none":""} ${p.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":"opacity-100 translate-y-0 scale-100"}`,dir:"ltr",onPointerDown:ys(S.id),onPointerMove:wa(S.id),onPointerUp:vs(S.id),onPointerCancel:Ji,style:{touchAction:"pan-y"},children:[L.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[L.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:ft.id===S.id&&ft.rawDx>0?Math.min(Math.abs(ft.rawDx),Or):0,opacity:.9,zIndex:0}}),L.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:ft.id===S.id&&ft.rawDx<0?Math.min(Math.abs(ft.rawDx),Or):0,opacity:.9,zIndex:0}}),L.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[L.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:ft.id===S.id&&ft.rawDx>0?Math.abs(ft.rawDx)>=Ht?1:.65:0,transform:ft.id===S.id&&ft.rawDx>0&&Math.abs(ft.rawDx)>=Ht?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:L.jsx(fh,{className:"w-6 h-6"})}),L.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:ft.id===S.id&&ft.rawDx<0?Math.abs(ft.rawDx)>=Ht?1:.65:0,transform:ft.id===S.id&&ft.rawDx<0&&Math.abs(ft.rawDx)>=Ht?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:L.jsx(SM,{className:"w-6 h-6"})})]})]}),L.jsxs("div",{className:`relative z-10 flex items-center justify-between p-4 rounded-2xl border border-slate-100 shadow-sm transition-colors ${ce.has(S.id)?"bg-rose-50":K.has(S.id)?"bg-emerald-100":"bg-white"}`,style:{transform:ft.id===S.id?`translateX(${ft.dx}px)`:void 0,transition:ft.id===S.id?"none":"transform 160ms ease-out"},children:[L.jsx("div",{className:"flex items-center gap-2"}),L.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:S.name}),L.jsx(hh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},S.id))})]})}),L.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:L.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:L.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:L.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[L.jsxs("button",{onClick:()=>M("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${C==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[L.jsx(hh,{className:`w-7 h-7 ${C==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),""]}),L.jsxs("button",{onClick:ul,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[L.jsx(vR,{className:"w-7 h-7"}),""]}),L.jsxs("button",{onClick:()=>Ae(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:"",children:[L.jsx(h0,{className:"w-7 h-7"}),""]}),L.jsxs("button",{onClick:()=>M("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${C==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[L.jsx(dT,{className:"w-7 h-7"}),""]}),L.jsx("button",{onPointerDown:S=>{S.preventDefault(),Wi()},onPointerUp:S=>{S.preventDefault(),Un()},onPointerCancel:S=>{S.preventDefault(),Un()},onPointerLeave:S=>{at.current&&(S.preventDefault(),Un())},onTouchStart:S=>{S.preventDefault(),Wi()},onTouchEnd:S=>{S.preventDefault(),Un()},onMouseDown:S=>{S.preventDefault(),Wi()},onMouseUp:S=>{S.preventDefault(),Un()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${cn?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:cn?"  -   ":"   ",children:cn?L.jsx(_R,{className:"w-7 h-7"}):L.jsx(ER,{className:"w-7 h-7"})})]})})})}),de?L.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:L.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:L.jsxs("div",{className:"p-6 space-y-4",children:[L.jsxs("div",{className:"flex items-start justify-between gap-3",children:[L.jsxs("div",{className:"text-right",children:[L.jsx("div",{className:"text-xl font-black text-slate-800",children:" "}),L.jsx("div",{className:"text-sm font-bold text-slate-400",children:"   (  )"})]}),L.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:L.jsx(h0,{className:"w-5 h-5"})})]}),L.jsxs("div",{className:"space-y-3",children:[L.jsx("label",{className:"block text-sm font-black text-slate-600",children:"  ?"}),L.jsx("input",{type:"datetime-local",value:Ce,onChange:S=>et(S.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{className:"text-sm font-black text-slate-600",children:""}),L.jsxs("span",{className:"text-sm font-black text-slate-500",children:[He," "]})]}),L.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(S=>L.jsx("button",{onClick:()=>ot(S),className:`py-2 rounded-2xl font-black text-sm ${He===S?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:S},S))})]}),L.jsxs("div",{className:"flex gap-3 pt-2",children:[L.jsx("button",{onClick:()=>Ae(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),L.jsx("button",{onClick:()=>{Ae(!1),Di()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:" "})]})]})})}):null,fe?L.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:L.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:L.jsx(f0,{className:"w-5 h-5"})}),L.jsxs("div",{className:"text-right",children:[L.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),L.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),L.jsxs("div",{className:"flex gap-3",children:[L.jsx("button",{onClick:()=>pe(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),L.jsx("button",{onClick:Lt,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,xt?L.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:xt}):null]}):L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:L.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[L.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),L.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),L.jsxs("button",{onClick:async()=>{await ou()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[L.jsx(mT,{className:"w-4 h-4"}),"  "]})]})}):L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Heebo", "Rubik", Arial'},children:L.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-70",children:[L.jsx(lu,{className:"w-10 h-10 animate-spin"}),L.jsx("div",{className:"font-bold text-slate-500",children:"..."})]})})},BM=()=>L.jsx(tR,{children:L.jsxs(NA,{children:[L.jsx(Gm,{path:"/",element:L.jsx(jM,{})}),L.jsx(Gm,{path:"/invite",element:L.jsx(CM,{})})]})}),K1=document.getElementById("root");if(!K1)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());OS.createRoot(K1).render(L.jsx(RS.StrictMode,{children:L.jsx(BM,{})}));
