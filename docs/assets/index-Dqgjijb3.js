(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function IS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tm={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function xS(){if(Z_)return cu;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return cu.Fragment=e,cu.jsx=n,cu.jsxs=n,cu}var e0;function NS(){return e0||(e0=1,Tm.exports=xS()),Tm.exports}var O=NS(),wm={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function DS(){if(t0)return Ue;t0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function L(T){return T===null||typeof T!="object"?null:(T=A&&T[A]||T["@@iterator"],typeof T=="function"?T:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,F={};function ce(T,q,X){this.props=T,this.context=q,this.refs=F,this.updater=X||Y}ce.prototype.isReactComponent={},ce.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},ce.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function he(){}he.prototype=ce.prototype;function se(T,q,X){this.props=T,this.context=q,this.refs=F,this.updater=X||Y}var Re=se.prototype=new he;Re.constructor=se,Z(Re,ce.prototype),Re.isPureReactComponent=!0;var Pe=Array.isArray;function De(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(T,q,X){var le=X.ref;return{$$typeof:r,type:T,key:q,ref:le!==void 0?le:null,props:X}}function k(T,q){return I(T.type,q,T.props)}function U(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function z(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return q[X]})}var N=/\/+/g;function St(T,q){return typeof T=="object"&&T!==null&&T.key!=null?z(""+T.key):q.toString(36)}function ft(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(De,De):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function te(T,q,X,le,ue){var me=typeof T;(me==="undefined"||me==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(me){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case r:case e:fe=!0;break;case v:return fe=T._init,te(fe(T._payload),q,X,le,ue)}}if(fe)return ue=ue(T),fe=le===""?"."+St(T,0):le,Pe(ue)?(X="",fe!=null&&(X=fe.replace(N,"$&/")+"/"),te(ue,q,X,"",function($e){return $e})):ue!=null&&(U(ue)&&(ue=k(ue,X+(ue.key==null||T&&T.key===ue.key?"":(""+ue.key).replace(N,"$&/")+"/")+fe)),q.push(ue)),1;fe=0;var Se=le===""?".":le+":";if(Pe(T))for(var Ie=0;Ie<T.length;Ie++)le=T[Ie],me=Se+St(le,Ie),fe+=te(le,q,X,me,ue);else if(Ie=L(T),typeof Ie=="function")for(T=Ie.call(T),Ie=0;!(le=T.next()).done;)le=le.value,me=Se+St(le,Ie++),fe+=te(le,q,X,me,ue);else if(me==="object"){if(typeof T.then=="function")return te(ft(T),q,X,le,ue);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function de(T,q,X){if(T==null)return T;var le=[],ue=0;return te(T,le,"","",function(me){return q.call(X,me,ue++)}),le}function be(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var He=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},H={map:de,forEach:function(T,q,X){de(T,function(){q.apply(this,arguments)},X)},count:function(T){var q=0;return de(T,function(){q++}),q},toArray:function(T){return de(T,function(q){return q})||[]},only:function(T){if(!U(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ue.Activity=w,Ue.Children=H,Ue.Component=ce,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=se,Ue.StrictMode=s,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},Ue.cache=function(T){return function(){return T.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(T,q,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var le=Z({},T.props),ue=T.key;if(q!=null)for(me in q.key!==void 0&&(ue=""+q.key),q)!C.call(q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&q.ref===void 0||(le[me]=q[me]);var me=arguments.length-2;if(me===1)le.children=X;else if(1<me){for(var fe=Array(me),Se=0;Se<me;Se++)fe[Se]=arguments[Se+2];le.children=fe}return I(T.type,ue,le)},Ue.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Ue.createElement=function(T,q,X){var le,ue={},me=null;if(q!=null)for(le in q.key!==void 0&&(me=""+q.key),q)C.call(q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=q[le]);var fe=arguments.length-2;if(fe===1)ue.children=X;else if(1<fe){for(var Se=Array(fe),Ie=0;Ie<fe;Ie++)Se[Ie]=arguments[Ie+2];ue.children=Se}if(T&&T.defaultProps)for(le in fe=T.defaultProps,fe)ue[le]===void 0&&(ue[le]=fe[le]);return I(T,me,ue)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(T){return{$$typeof:m,render:T}},Ue.isValidElement=U,Ue.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:be}},Ue.memo=function(T,q){return{$$typeof:g,type:T,compare:q===void 0?null:q}},Ue.startTransition=function(T){var q=D.T,X={};D.T=X;try{var le=T(),ue=D.S;ue!==null&&ue(X,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(De,He)}catch(me){He(me)}finally{q!==null&&X.types!==null&&(q.types=X.types),D.T=q}},Ue.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ue.use=function(T){return D.H.use(T)},Ue.useActionState=function(T,q,X){return D.H.useActionState(T,q,X)},Ue.useCallback=function(T,q){return D.H.useCallback(T,q)},Ue.useContext=function(T){return D.H.useContext(T)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(T,q){return D.H.useDeferredValue(T,q)},Ue.useEffect=function(T,q){return D.H.useEffect(T,q)},Ue.useEffectEvent=function(T){return D.H.useEffectEvent(T)},Ue.useId=function(){return D.H.useId()},Ue.useImperativeHandle=function(T,q,X){return D.H.useImperativeHandle(T,q,X)},Ue.useInsertionEffect=function(T,q){return D.H.useInsertionEffect(T,q)},Ue.useLayoutEffect=function(T,q){return D.H.useLayoutEffect(T,q)},Ue.useMemo=function(T,q){return D.H.useMemo(T,q)},Ue.useOptimistic=function(T,q){return D.H.useOptimistic(T,q)},Ue.useReducer=function(T,q,X){return D.H.useReducer(T,q,X)},Ue.useRef=function(T){return D.H.useRef(T)},Ue.useState=function(T){return D.H.useState(T)},Ue.useSyncExternalStore=function(T,q,X){return D.H.useSyncExternalStore(T,q,X)},Ue.useTransition=function(){return D.H.useTransition()},Ue.version="19.2.3",Ue}var n0;function Cp(){return n0||(n0=1,wm.exports=DS()),wm.exports}var M=Cp();const MS=IS(M);var bm={exports:{}},hu={},Sm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function OS(){return i0||(i0=1,(function(r){function e(te,de){var be=te.length;te.push(de);e:for(;0<be;){var He=be-1>>>1,H=te[He];if(0<o(H,de))te[He]=de,te[be]=H,be=He;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var de=te[0],be=te.pop();if(be!==de){te[0]=be;e:for(var He=0,H=te.length,T=H>>>1;He<T;){var q=2*(He+1)-1,X=te[q],le=q+1,ue=te[le];if(0>o(X,be))le<H&&0>o(ue,X)?(te[He]=ue,te[le]=be,He=le):(te[He]=X,te[q]=be,He=q);else if(le<H&&0>o(ue,be))te[He]=ue,te[le]=be,He=le;else break e}}return de}function o(te,de){var be=te.sortIndex-de.sortIndex;return be!==0?be:te.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,w=null,A=3,L=!1,Y=!1,Z=!1,F=!1,ce=typeof setTimeout=="function"?setTimeout:null,he=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Re(te){for(var de=n(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=te)s(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function Pe(te){if(Z=!1,Re(te),!Y)if(n(p)!==null)Y=!0,De||(De=!0,z());else{var de=n(g);de!==null&&ft(Pe,de.startTime-te)}}var De=!1,D=-1,C=5,I=-1;function k(){return F?!0:!(r.unstable_now()-I<C)}function U(){if(F=!1,De){var te=r.unstable_now();I=te;var de=!0;try{e:{Y=!1,Z&&(Z=!1,he(D),D=-1),L=!0;var be=A;try{t:{for(Re(te),w=n(p);w!==null&&!(w.expirationTime>te&&k());){var He=w.callback;if(typeof He=="function"){w.callback=null,A=w.priorityLevel;var H=He(w.expirationTime<=te);if(te=r.unstable_now(),typeof H=="function"){w.callback=H,Re(te),de=!0;break t}w===n(p)&&s(p),Re(te)}else s(p);w=n(p)}if(w!==null)de=!0;else{var T=n(g);T!==null&&ft(Pe,T.startTime-te),de=!1}}break e}finally{w=null,A=be,L=!1}de=void 0}}finally{de?z():De=!1}}}var z;if(typeof se=="function")z=function(){se(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,St=N.port2;N.port1.onmessage=U,z=function(){St.postMessage(null)}}else z=function(){ce(U,0)};function ft(te,de){D=ce(function(){te(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(te){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var be=A;A=de;try{return te()}finally{A=be}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var be=A;A=te;try{return de()}finally{A=be}},r.unstable_scheduleCallback=function(te,de,be){var He=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?He+be:He):be=He,te){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=be+H,te={id:v++,callback:de,priorityLevel:te,startTime:be,expirationTime:H,sortIndex:-1},be>He?(te.sortIndex=be,e(g,te),n(p)===null&&te===n(g)&&(Z?(he(D),D=-1):Z=!0,ft(Pe,be-He))):(te.sortIndex=H,e(p,te),Y||L||(Y=!0,De||(De=!0,z()))),te},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(te){var de=A;return function(){var be=A;A=de;try{return te.apply(this,arguments)}finally{A=be}}}})(Am)),Am}var r0;function VS(){return r0||(r0=1,Sm.exports=OS()),Sm.exports}var Rm={exports:{}},Kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function kS(){if(s0)return Kn;s0=1;var r=Cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Kn.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},Kn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:L}):v==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kn.requestFormReset=function(p){s.d.r(p)},Kn.unstable_batchedUpdates=function(p,g){return p(g)},Kn.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Kn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kn.version="19.2.3",Kn}var a0;function PS(){if(a0)return Rm.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=kS(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function LS(){if(o0)return hu;o0=1;var r=VS(),e=Cp(),n=PS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),he=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function St(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ce:return"Profiler";case F:return"StrictMode";case Pe:return"Suspense";case De:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case se:return t.displayName||"Context";case he:return(t._context.displayName||"Context")+".Consumer";case Re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:St(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return St(t(i))}catch{}}return null}var ft=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},He=[],H=-1;function T(t){return{current:t}}function q(t){0>H||(t.current=He[H],He[H]=null,H--)}function X(t,i){H++,He[H]=t.current,t.current=i}var le=T(null),ue=T(null),me=T(null),fe=T(null);function Se(t,i){switch(X(me,i),X(ue,t),X(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?w_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=w_(i),t=b_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}q(le),X(le,t)}function Ie(){q(le),q(ue),q(me)}function $e(t){t.memoizedState!==null&&X(fe,t);var i=le.current,a=b_(i,t.type);i!==a&&(X(ue,t),X(le,a))}function Fe(t){ue.current===t&&(q(le),q(ue)),fe.current===t&&(q(fe),au._currentValue=be)}var st,At;function Me(t){if(st===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);st=i&&i[1]||"",At=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+t+At}var Lt=!1;function Gt(t,i){if(!t||Lt)return"";Lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(W){var K=W}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(W){K=W}t.call(ae.prototype)}}else{try{throw Error()}catch(W){K=W}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var x=_.split(`
`),$=b.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===$.length)for(l=x.length-1,h=$.length-1;1<=l&&0<=h&&x[l]!==$[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==$[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==$[h]){var ne=`
`+x[l].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=l&&0<=h);break}}}finally{Lt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Me(a):""}function Tn(t,i){switch(t.tag){case 26:case 27:case 5:return Me(t.type);case 16:return Me("Lazy");case 13:return t.child!==i&&i!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Gt(t.type,!1);case 11:return Gt(t.type.render,!1);case 1:return Gt(t.type,!0);case 31:return Me("Activity");default:return""}}function Fn(t){try{var i="",a=null;do i+=Tn(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wn=Object.prototype.hasOwnProperty,rn=r.unstable_scheduleCallback,Rr=r.unstable_cancelCallback,Oa=r.unstable_shouldYield,Qr=r.unstable_requestPaint,Qt=r.unstable_now,xs=r.unstable_getCurrentPriorityLevel,Nt=r.unstable_ImmediatePriority,Ut=r.unstable_UserBlockingPriority,Gn=r.unstable_NormalPriority,Ns=r.unstable_LowPriority,Si=r.unstable_IdlePriority,cr=r.log,li=r.unstable_setDisableYieldValue,ut=null,mt=null;function zt(t){if(typeof cr=="function"&&li(t),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(ut,t)}catch{}}var Dn=Math.clz32?Math.clz32:Cr,po=Math.log,Ds=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(po(t)/Ds|0)|0}var ui=256,ei=262144,ji=4194304;function mn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $t(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=mn(l):(_&=b,_!==0?h=mn(_):a||(a=b&~t,a!==0&&(h=mn(a))))):(b=l&~d,b!==0?h=mn(b):_!==0?h=mn(_):a||(a=l&~t,a!==0&&(h=mn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ai(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Va(){var t=ji;return ji<<=1,(ji&62914560)===0&&(ji=4194304),t}function Mn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ci(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bt(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,$=t.hiddenUpdates;for(a=_&~a;0<a;){var ne=31-Dn(a),ae=1<<ne;b[ne]=0,x[ne]=-1;var K=$[ne];if(K!==null)for($[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}a&=~ae}l!==0&&ka(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ka(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Dn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function pn(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Dn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function bn(t,i){var a=i&-i;return a=(a&42)!==0?1:ti(a),(a&(t.suspendedLanes|i))!==0?0:a}function ti(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gn(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function Rt(t,i){var a=de.p;try{return de.p=t,i()}finally{de.p=a}}var Zt=Math.random().toString(36).slice(2),ct="__reactFiber$"+Zt,Ct="__reactProps$"+Zt,On="__reactContainer$"+Zt,Hi="__reactEvents$"+Zt,Fi="__reactListeners$"+Zt,go="__reactHandles$"+Zt,Pa="__reactResources$"+Zt,hr="__reactMarker$"+Zt;function $r(t){delete t[ct],delete t[Ct],delete t[Hi],delete t[Fi],delete t[go]}function fr(t){var i=t[ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[On]||a[ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[ct])return a;t=N_(t)}return i}t=a,a=t.parentNode}return null}function dr(t){if(t=t[ct]||t[On]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Gi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function hi(t){var i=t[Pa];return i||(i=t[Pa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(t){t[hr]=!0}var Ir=new Set,mr={};function Vn(t,i){fi(t,i),fi(t+"Capture",i)}function fi(t,i){for(mr[t]=i,t=0;t<i.length;t++)Ir.add(i[t])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ri={},Qn={};function vo(t){return wn.call(Qn,t)?!0:wn.call(Ri,t)?!1:yo.test(t)?Qn[t]=!0:(Ri[t]=!0,!1)}function pr(t,i,a){if(vo(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Qi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function di(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ms(t){if(!t._valueTracker){var i=Yr(t)?"checked":"value";t._valueTracker=Rl(t,i,""+t[i])}}function $i(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Yr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mi=/[\n"\\]/g;function Dt(t){return t.replace(mi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xr(t,i,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kn(i)):t.value!==""+kn(i)&&(t.value=""+kn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Xr(t,_,kn(i)):a!=null?Xr(t,_,kn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+kn(b):t.removeAttribute("name")}function Kr(t,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ms(t);return}a=a!=null?""+kn(a):"",i=i!=null?""+kn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ms(t)}function Xr(t,i,a){i==="number"&&Os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function nt(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Wr(t,i,a){if(i!=null&&(i=""+kn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kn(a):""}function Nr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ms(t)}function pi(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Cl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gr(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Cl.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Dr(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&gr(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&gr(t,d,i[d])}function Yi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return Vs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ot(){}var yr=null;function ks(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,ii=null;function _o(t){var i=dr(t);if(i&&(t=i.stateNode)){var a=t[Ct]||null;e:switch(t=i.stateNode,i.type){case"input":if(xr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ct]||null;if(!h)throw Error(s(90));xr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$i(l)}break e;case"textarea":Wr(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&nt(t,!!a.multiple,i,!1)}}}var La=!1;function Jr(t,i,a){if(La)return t(i,a);La=!0;try{var l=t(i);return l}finally{if(La=!1,(vr!==null||ii!==null)&&(Fc(),vr&&(i=vr,t=ii,ii=vr=null,_o(i),t)))for(i=0;i<t.length;i++)_o(t[i])}}function $n(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ct]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=!1;if(Ci)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{Ua=!1}var Pn=null,Ps=null,gi=null;function Mr(){if(gi)return gi;var t,i=Ps,a=i.length,l,h="value"in Pn?Pn.value:Pn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return gi=h.slice(t,1<l?1-l:void 0)}function Zr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Or(){return!0}function yt(){return!1}function Sn(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Or:yt,this.isPropagationStopped=yt,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),i}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S=Sn(_r),V=w({},_r,{view:0,detail:0}),B=Sn(V),ee,ye,ge,_e=w({},V,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yt,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ge&&(ge&&t.type==="mousemove"?(ee=t.screenX-ge.screenX,ye=t.screenY-ge.screenY):ye=ee=0,ge=t),ee)},movementY:function(t){return"movementY"in t?t.movementY:ye}}),at=Sn(_e),Ve=w({},_e,{dataTransfer:0}),ze=Sn(Ve),vt=w({},V,{relatedTarget:0}),je=Sn(vt),Ye=w({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),qt=Sn(Ye),xt=w({},_r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ri=Sn(xt),Xi=w({},_r,{data:0}),yn=Sn(Xi),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ls={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Us(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ls[t])?!!i[t]:!1}function Yt(){return Us}var za=w({},V,{key:function(t){if(t.key){var i=Eo[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yt,charCode:function(t){return t.type==="keypress"?Zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),To=Sn(za),Wi=w({},_e,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=Sn(Wi),rc=w({},V,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yt}),sc=Sn(rc),ac=w({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=Sn(ac),si=w({},_e,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oc=Sn(si),lc=w({},_r,{newState:0,oldState:0}),zs=Sn(lc),c=[9,13,27,32],y=Ci&&"CompositionEvent"in window,E=null;Ci&&"documentMode"in document&&(E=document.documentMode);var R=Ci&&"TextEvent"in window&&!E,G=Ci&&(!y||E&&8<E&&11>=E),J=" ",pe=!1;function dt(t,i){switch(t){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function An(t,i){switch(t){case"compositionend":return sn(i);case"keypress":return i.which!==32?null:(pe=!0,J);case"textInput":return t=i.data,t===J&&pe?null:t;default:return null}}function Rn(t,i){if(Ge)return t==="compositionend"||!y&&dt(t,i)?(t=Mr(),gi=Ps=Pn=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return G&&i.locale!=="ko"?null:i.data;default:return null}}var js={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yi(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!js[t.type]:i==="textarea"}function ja(t,i,a,l){vr?ii?ii.push(l):ii=[l]:vr=l,i=Wc(i,"onChange"),0<i.length&&(a=new S("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var es=null,xl=null;function t1(t){g_(t,0)}function uc(t){var i=Gi(t);if($i(i))return t}function kg(t,i){if(t==="change")return i}var Pg=!1;if(Ci){var If;if(Ci){var xf="oninput"in document;if(!xf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),xf=typeof Lg.oninput=="function"}If=xf}else If=!1;Pg=If&&(!document.documentMode||9<document.documentMode)}function Ug(){es&&(es.detachEvent("onpropertychange",zg),xl=es=null)}function zg(t){if(t.propertyName==="value"&&uc(xl)){var i=[];ja(i,xl,t,ks(t)),Jr(t1,i)}}function n1(t,i,a){t==="focusin"?(Ug(),es=i,xl=a,es.attachEvent("onpropertychange",zg)):t==="focusout"&&Ug()}function i1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uc(xl)}function r1(t,i){if(t==="click")return uc(i)}function s1(t,i){if(t==="input"||t==="change")return uc(i)}function a1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ii=typeof Object.is=="function"?Object.is:a1;function Nl(t,i){if(Ii(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!wn.call(i,h)||!Ii(t[h],i[h]))return!1}return!0}function jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,i){var a=jg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jg(a)}}function qg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Os(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Os(t.document)}return i}function Nf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var o1=Ci&&"documentMode"in document&&11>=document.documentMode,bo=null,Df=null,Dl=null,Mf=!1;function Fg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||bo==null||bo!==Os(l)||(l=bo,"selectionStart"in l&&Nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Nl(Dl,l)||(Dl=l,l=Wc(Df,"onSelect"),0<l.length&&(i=new S("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=bo)))}function Ba(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var So={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},Of={},Gg={};Ci&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function qa(t){if(Of[t])return Of[t];if(!So[t])return t;var i=So[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gg)return Of[t]=i[a];return t}var Qg=qa("animationend"),$g=qa("animationiteration"),Yg=qa("animationstart"),l1=qa("transitionrun"),u1=qa("transitionstart"),c1=qa("transitioncancel"),Kg=qa("transitionend"),Xg=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Er(t,i){Xg.set(t,i),Vn(i,[t])}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ji=[],Ao=0,kf=0;function hc(){for(var t=Ao,i=kf=Ao=0;i<t;){var a=Ji[i];Ji[i++]=null;var l=Ji[i];Ji[i++]=null;var h=Ji[i];Ji[i++]=null;var d=Ji[i];if(Ji[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Wg(a,h,d)}}function fc(t,i,a,l){Ji[Ao++]=t,Ji[Ao++]=i,Ji[Ao++]=a,Ji[Ao++]=l,kf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pf(t,i,a,l){return fc(t,i,a,l),dc(t)}function Ha(t,i){return fc(t,null,null,i),dc(t)}function Wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Dn(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function dc(t){if(50<Zl)throw Zl=0,Gd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ro={};function h1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,i,a,l){return new h1(t,i,a,l)}function Lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,i){var a=t.alternate;return a===null?(a=xi(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function mc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Lf(t)&&(_=1);else if(typeof t=="string")_=gS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xi(31,a,i,h),t.elementType=I,t.lanes=d,t;case Z:return Fa(a.children,h,d,i);case F:_=8,h|=24;break;case ce:return t=xi(12,a,i,h|2),t.elementType=ce,t.lanes=d,t;case Pe:return t=xi(13,a,i,h),t.elementType=Pe,t.lanes=d,t;case De:return t=xi(19,a,i,h),t.elementType=De,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:_=10;break e;case he:_=9;break e;case Re:_=11;break e;case D:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xi(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Fa(t,i,a,l){return t=xi(7,t,l,i),t.lanes=a,t}function Uf(t,i,a){return t=xi(6,t,null,i),t.lanes=a,t}function Zg(t){var i=xi(18,null,null,0);return i.stateNode=t,i}function zf(t,i,a){return i=xi(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ey=new WeakMap;function Zi(t,i){if(typeof t=="object"&&t!==null){var a=ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fn(i)},ey.set(t,i),i)}return{value:t,source:i,stack:Fn(i)}}var Co=[],Io=0,pc=null,Ml=0,er=[],tr=0,Bs=null,Vr=1,kr="";function ns(t,i){Co[Io++]=Ml,Co[Io++]=pc,pc=t,Ml=i}function ty(t,i,a){er[tr++]=Vr,er[tr++]=kr,er[tr++]=Bs,Bs=t;var l=Vr;t=kr;var h=32-Dn(l)-1;l&=~(1<<h),a+=1;var d=32-Dn(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Vr=1<<32-Dn(i)+h|a<<h|l,kr=d+t}else Vr=1<<d|a<<h|l,kr=t}function jf(t){t.return!==null&&(ns(t,1),ty(t,1,0))}function Bf(t){for(;t===pc;)pc=Co[--Io],Co[Io]=null,Ml=Co[--Io],Co[Io]=null;for(;t===Bs;)Bs=er[--tr],er[tr]=null,kr=er[--tr],er[tr]=null,Vr=er[--tr],er[tr]=null}function ny(t,i){er[tr++]=Vr,er[tr++]=kr,er[tr++]=Bs,Vr=i.id,kr=i.overflow,Bs=t}var Ln=null,Vt=null,tt=!1,qs=null,nr=!1,qf=Error(s(519));function Hs(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Zi(i,t)),qf}function iy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ct]=t,i[Ct]=l,a){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(a=0;a<tu.length;a++)Xe(tu[a],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),Kr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),Nr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),l.onScroll!=null&&Xe("scroll",i),l.onScrollEnd!=null&&Xe("scrollend",i),l.onClick!=null&&(i.onclick=Ot),i=!0):i=!1,i||Hs(t,!0)}function ry(t){for(Ln=t.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:Ln=Ln.return}}function xo(t){if(t!==Ln)return!1;if(!tt)return ry(t),tt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||am(t.type,t.memoizedProps)),a=!a),a&&Vt&&Hs(t),ry(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Vt=x_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Vt=x_(t)}else i===27?(i=Vt,ia(t.type)?(t=hm,hm=null,Vt=t):Vt=i):Vt=Ln?rr(t.stateNode.nextSibling):null;return!0}function Ga(){Vt=Ln=null,tt=!1}function Hf(){var t=qs;return t!==null&&(Ti===null?Ti=t:Ti.push.apply(Ti,t),qs=null),t}function Ol(t){qs===null?qs=[t]:qs.push(t)}var Ff=T(null),Qa=null,is=null;function Fs(t,i,a){X(Ff,i._currentValue),i._currentValue=a}function rs(t){t._currentValue=Ff.current,q(Ff)}function Gf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Qf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var x=0;x<i.length;x++)if(b.context===i[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Gf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Gf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function No(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;Ii(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===fe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(au):t=[au])}h=h.return}t!==null&&Qf(i,t,a,l),i.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!Ii(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){Qa=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Un(t){return sy(Qa,t)}function yc(t,i){return Qa===null&&$a(t),sy(t,i)}function sy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},is===null){if(t===null)throw Error(s(308));is=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else is=is.next=i;return a}var f1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},d1=r.unstable_scheduleCallback,m1=r.unstable_NormalPriority,an={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new f1,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&d1(m1,function(){t.controller.abort()})}var kl=null,Yf=0,Do=0,Mo=null;function p1(t,i){if(kl===null){var a=kl=[];Yf=0,Do=Wd(),Mo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yf++,i.then(ay,ay),i}function ay(){if(--Yf===0&&kl!==null){Mo!==null&&(Mo.status="fulfilled");var t=kl;kl=null,Do=0,Mo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function g1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var oy=te.S;te.S=function(t,i){Fv=Qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&p1(t,i),oy!==null&&oy(t,i)};var Ya=T(null);function Kf(){var t=Ya.current;return t!==null?t:bt.pooledCache}function vc(t,i){i===null?X(Ya,Ya.current):X(Ya,i.pool)}function ly(){var t=Kf();return t===null?null:{parent:an._currentValue,pool:t}}var Oo=Error(s(460)),Xf=Error(s(474)),_c=Error(s(542)),Ec={then:function(){}};function uy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ot,Ot),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t;default:if(typeof i.status=="string")i.then(Ot,Ot);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t}throw Xa=i,Oo}}function Ka(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xa=a,Oo):a}}var Xa=null;function hy(){if(Xa===null)throw Error(s(459));var t=Xa;return Xa=null,t}function fy(t){if(t===Oo||t===_c)throw Error(s(483))}var Vo=null,Pl=0;function Tc(t){var i=Pl;return Pl+=1,Vo===null&&(Vo=[]),cy(Vo,t,i)}function Ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function wc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){function i(j,P){if(t){var Q=j.deletions;Q===null?(j.deletions=[P],j.flags|=16):Q.push(P)}}function a(j,P){if(!t)return null;for(;P!==null;)i(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function h(j,P){return j=ts(j,P),j.index=0,j.sibling=null,j}function d(j,P,Q){return j.index=Q,t?(Q=j.alternate,Q!==null?(Q=Q.index,Q<P?(j.flags|=67108866,P):Q):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,P,Q,ie){return P===null||P.tag!==6?(P=Uf(Q,j.mode,ie),P.return=j,P):(P=h(P,Q),P.return=j,P)}function x(j,P,Q,ie){var Ce=Q.type;return Ce===Z?ne(j,P,Q.props.children,ie,Q.key):P!==null&&(P.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&Ka(Ce)===P.type)?(P=h(P,Q.props),Ll(P,Q),P.return=j,P):(P=mc(Q.type,Q.key,Q.props,null,j.mode,ie),Ll(P,Q),P.return=j,P)}function $(j,P,Q,ie){return P===null||P.tag!==4||P.stateNode.containerInfo!==Q.containerInfo||P.stateNode.implementation!==Q.implementation?(P=zf(Q,j.mode,ie),P.return=j,P):(P=h(P,Q.children||[]),P.return=j,P)}function ne(j,P,Q,ie,Ce){return P===null||P.tag!==7?(P=Fa(Q,j.mode,ie,Ce),P.return=j,P):(P=h(P,Q),P.return=j,P)}function ae(j,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Uf(""+P,j.mode,Q),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case L:return Q=mc(P.type,P.key,P.props,null,j.mode,Q),Ll(Q,P),Q.return=j,Q;case Y:return P=zf(P,j.mode,Q),P.return=j,P;case C:return P=Ka(P),ae(j,P,Q)}if(ft(P)||z(P))return P=Fa(P,j.mode,Q,null),P.return=j,P;if(typeof P.then=="function")return ae(j,Tc(P),Q);if(P.$$typeof===se)return ae(j,yc(j,P),Q);wc(j,P)}return null}function K(j,P,Q,ie){var Ce=P!==null?P.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:b(j,P,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:return Q.key===Ce?x(j,P,Q,ie):null;case Y:return Q.key===Ce?$(j,P,Q,ie):null;case C:return Q=Ka(Q),K(j,P,Q,ie)}if(ft(Q)||z(Q))return Ce!==null?null:ne(j,P,Q,ie,null);if(typeof Q.then=="function")return K(j,P,Tc(Q),ie);if(Q.$$typeof===se)return K(j,P,yc(j,Q),ie);wc(j,Q)}return null}function W(j,P,Q,ie,Ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(Q)||null,b(P,j,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case L:return j=j.get(ie.key===null?Q:ie.key)||null,x(P,j,ie,Ce);case Y:return j=j.get(ie.key===null?Q:ie.key)||null,$(P,j,ie,Ce);case C:return ie=Ka(ie),W(j,P,Q,ie,Ce)}if(ft(ie)||z(ie))return j=j.get(Q)||null,ne(P,j,ie,Ce,null);if(typeof ie.then=="function")return W(j,P,Q,Tc(ie),Ce);if(ie.$$typeof===se)return W(j,P,Q,yc(P,ie),Ce);wc(P,ie)}return null}function Te(j,P,Q,ie){for(var Ce=null,ot=null,we=P,qe=P=0,Je=null;we!==null&&qe<Q.length;qe++){we.index>qe?(Je=we,we=null):Je=we.sibling;var lt=K(j,we,Q[qe],ie);if(lt===null){we===null&&(we=Je);break}t&&we&&lt.alternate===null&&i(j,we),P=d(lt,P,qe),ot===null?Ce=lt:ot.sibling=lt,ot=lt,we=Je}if(qe===Q.length)return a(j,we),tt&&ns(j,qe),Ce;if(we===null){for(;qe<Q.length;qe++)we=ae(j,Q[qe],ie),we!==null&&(P=d(we,P,qe),ot===null?Ce=we:ot.sibling=we,ot=we);return tt&&ns(j,qe),Ce}for(we=l(we);qe<Q.length;qe++)Je=W(we,j,qe,Q[qe],ie),Je!==null&&(t&&Je.alternate!==null&&we.delete(Je.key===null?qe:Je.key),P=d(Je,P,qe),ot===null?Ce=Je:ot.sibling=Je,ot=Je);return t&&we.forEach(function(la){return i(j,la)}),tt&&ns(j,qe),Ce}function Ne(j,P,Q,ie){if(Q==null)throw Error(s(151));for(var Ce=null,ot=null,we=P,qe=P=0,Je=null,lt=Q.next();we!==null&&!lt.done;qe++,lt=Q.next()){we.index>qe?(Je=we,we=null):Je=we.sibling;var la=K(j,we,lt.value,ie);if(la===null){we===null&&(we=Je);break}t&&we&&la.alternate===null&&i(j,we),P=d(la,P,qe),ot===null?Ce=la:ot.sibling=la,ot=la,we=Je}if(lt.done)return a(j,we),tt&&ns(j,qe),Ce;if(we===null){for(;!lt.done;qe++,lt=Q.next())lt=ae(j,lt.value,ie),lt!==null&&(P=d(lt,P,qe),ot===null?Ce=lt:ot.sibling=lt,ot=lt);return tt&&ns(j,qe),Ce}for(we=l(we);!lt.done;qe++,lt=Q.next())lt=W(we,j,qe,lt.value,ie),lt!==null&&(t&&lt.alternate!==null&&we.delete(lt.key===null?qe:lt.key),P=d(lt,P,qe),ot===null?Ce=lt:ot.sibling=lt,ot=lt);return t&&we.forEach(function(CS){return i(j,CS)}),tt&&ns(j,qe),Ce}function Tt(j,P,Q,ie){if(typeof Q=="object"&&Q!==null&&Q.type===Z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:e:{for(var Ce=Q.key;P!==null;){if(P.key===Ce){if(Ce=Q.type,Ce===Z){if(P.tag===7){a(j,P.sibling),ie=h(P,Q.props.children),ie.return=j,j=ie;break e}}else if(P.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===C&&Ka(Ce)===P.type){a(j,P.sibling),ie=h(P,Q.props),Ll(ie,Q),ie.return=j,j=ie;break e}a(j,P);break}else i(j,P);P=P.sibling}Q.type===Z?(ie=Fa(Q.props.children,j.mode,ie,Q.key),ie.return=j,j=ie):(ie=mc(Q.type,Q.key,Q.props,null,j.mode,ie),Ll(ie,Q),ie.return=j,j=ie)}return _(j);case Y:e:{for(Ce=Q.key;P!==null;){if(P.key===Ce)if(P.tag===4&&P.stateNode.containerInfo===Q.containerInfo&&P.stateNode.implementation===Q.implementation){a(j,P.sibling),ie=h(P,Q.children||[]),ie.return=j,j=ie;break e}else{a(j,P);break}else i(j,P);P=P.sibling}ie=zf(Q,j.mode,ie),ie.return=j,j=ie}return _(j);case C:return Q=Ka(Q),Tt(j,P,Q,ie)}if(ft(Q))return Te(j,P,Q,ie);if(z(Q)){if(Ce=z(Q),typeof Ce!="function")throw Error(s(150));return Q=Ce.call(Q),Ne(j,P,Q,ie)}if(typeof Q.then=="function")return Tt(j,P,Tc(Q),ie);if(Q.$$typeof===se)return Tt(j,P,yc(j,Q),ie);wc(j,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,P!==null&&P.tag===6?(a(j,P.sibling),ie=h(P,Q),ie.return=j,j=ie):(a(j,P),ie=Uf(Q,j.mode,ie),ie.return=j,j=ie),_(j)):a(j,P)}return function(j,P,Q,ie){try{Pl=0;var Ce=Tt(j,P,Q,ie);return Vo=null,Ce}catch(we){if(we===Oo||we===_c)throw we;var ot=xi(29,we,null,j.mode);return ot.lanes=ie,ot.return=j,ot}finally{}}}var Wa=dy(!0),my=dy(!1),Gs=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=dc(t),Wg(t,null,a),i}return fc(t,l,i,a),dc(t)}function Ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pn(t,a)}}function Zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ed=!1;function zl(){if(ed){var t=Mo;if(t!==null)throw t}}function jl(t,i,a,l){ed=!1;var h=t.updateQueue;Gs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var x=b,$=x.next;x.next=null,_===null?d=$:_.next=$,_=x;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==_&&(b===null?ne.firstBaseUpdate=$:b.next=$,ne.lastBaseUpdate=x))}if(d!==null){var ae=h.baseState;_=0,ne=$=x=null,b=d;do{var K=b.lane&-536870913,W=K!==b.lane;if(W?(We&K)===K:(l&K)===K){K!==0&&K===Do&&(ed=!0),ne!==null&&(ne=ne.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,Ne=b;K=i;var Tt=a;switch(Ne.tag){case 1:if(Te=Ne.payload,typeof Te=="function"){ae=Te.call(Tt,ae,K);break e}ae=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ne.payload,K=typeof Te=="function"?Te.call(Tt,ae,K):Te,K==null)break e;ae=w({},ae,K);break e;case 2:Gs=!0}}K=b.callback,K!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?($=ne=W,x=ae):ne=ne.next=W,_|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;W=b,b=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);ne===null&&(x=ae),h.baseState=x,h.firstBaseUpdate=$,h.lastBaseUpdate=ne,d===null&&(h.shared.lanes=0),Js|=_,t.lanes=_,t.memoizedState=ae}}function py(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function gy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)py(a[t],i)}var ko=T(null),bc=T(0);function yy(t,i){t=ds,X(bc,t),X(ko,i),ds=t|i.baseLanes}function td(){X(bc,ds),X(ko,ko.current)}function nd(){ds=bc.current,q(ko),q(bc)}var Ni=T(null),ir=null;function Ys(t){var i=t.alternate;X(en,en.current&1),X(Ni,t),ir===null&&(i===null||ko.current!==null||i.memoizedState!==null)&&(ir=t)}function id(t){X(en,en.current),X(Ni,t),ir===null&&(ir=t)}function vy(t){t.tag===22?(X(en,en.current),X(Ni,t),ir===null&&(ir=t)):Ks()}function Ks(){X(en,en.current),X(Ni,Ni.current)}function Di(t){q(Ni),ir===t&&(ir=null),q(en)}var en=T(0);function Sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||um(a)||cm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ss=0,Be=null,_t=null,on=null,Ac=!1,Po=!1,Ja=!1,Rc=0,Bl=0,Lo=null,y1=0;function Kt(){throw Error(s(321))}function rd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ii(t[a],i[a]))return!1;return!0}function sd(t,i,a,l,h,d){return ss=d,Be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,te.H=t===null||t.memoizedState===null?tv:Ed,Ja=!1,d=a(l,h),Ja=!1,Po&&(d=Ey(i,a,l,h)),_y(t),d}function _y(t){te.H=Fl;var i=_t!==null&&_t.next!==null;if(ss=0,on=_t=Be=null,Ac=!1,Bl=0,Lo=null,i)throw Error(s(300));t===null||ln||(t=t.dependencies,t!==null&&gc(t)&&(ln=!0))}function Ey(t,i,a,l){Be=t;var h=0;do{if(Po&&(Lo=null),Bl=0,Po=!1,25<=h)throw Error(s(301));if(h+=1,on=_t=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}te.H=nv,d=i(a,l)}while(Po);return d}function v1(){var t=te.H,i=t.useState()[0];return i=typeof i.then=="function"?ql(i):i,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(Be.flags|=1024),i}function ad(){var t=Rc!==0;return Rc=0,t}function od(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ld(t){if(Ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ac=!1}ss=0,on=_t=Be=null,Po=!1,Bl=Rc=0,Lo=null}function ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Be.memoizedState=on=t:on=on.next=t,on}function tn(){if(_t===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var i=on===null?Be.memoizedState:on.next;if(i!==null)on=i,_t=t;else{if(t===null)throw Be.alternate===null?Error(s(467)):Error(s(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},on===null?Be.memoizedState=on=t:on=on.next=t}return on}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(t){var i=Bl;return Bl+=1,Lo===null&&(Lo=[]),t=cy(Lo,t,i),i=Be,(on===null?i.memoizedState:on.next)===null&&(i=i.alternate,te.H=i===null||i.memoizedState===null?tv:Ed),t}function Ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ql(t);if(t.$$typeof===se)return Un(t)}throw Error(s(438,String(t)))}function ud(t){var i=null,a=Be.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Cc(),Be.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=k;return i.index++,a}function as(t,i){return typeof i=="function"?i(t):i}function xc(t){var i=tn();return cd(i,_t,t)}function cd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,x=null,$=i,ne=!1;do{var ae=$.lane&-536870913;if(ae!==$.lane?(We&ae)===ae:(ss&ae)===ae){var K=$.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ae===Do&&(ne=!0);else if((ss&K)===K){$=$.next,K===Do&&(ne=!0);continue}else ae={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},x===null?(b=x=ae,_=d):x=x.next=ae,Be.lanes|=K,Js|=K;ae=$.action,Ja&&a(d,ae),d=$.hasEagerState?$.eagerState:a(d,ae)}else K={lane:ae,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},x===null?(b=x=K,_=d):x=x.next=K,Be.lanes|=ae,Js|=ae;$=$.next}while($!==null&&$!==i);if(x===null?_=d:x.next=b,!Ii(d,t.memoizedState)&&(ln=!0,ne&&(a=Mo,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hd(t){var i=tn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Ii(d,i.memoizedState)||(ln=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ty(t,i,a){var l=Be,h=tn(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Ii((_t||h).memoizedState,a);if(_&&(h.memoizedState=a,ln=!0),h=h.queue,md(Sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||on!==null&&on.memoizedState.tag&1){if(l.flags|=2048,Uo(9,{destroy:void 0},by.bind(null,l,h,a,i),null),bt===null)throw Error(s(349));d||(ss&127)!==0||wy(l,i,a)}return a}function wy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Be.updateQueue,i===null?(i=Cc(),Be.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function by(t,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&Ry(t)}function Sy(t,i,a){return a(function(){Ay(i)&&Ry(t)})}function Ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ii(t,a)}catch{return!0}}function Ry(t){var i=Ha(t,2);i!==null&&wi(i,t,2)}function fd(t){var i=ai();if(typeof t=="function"){var a=t;if(t=a(),Ja){zt(!0);try{a()}finally{zt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},i}function Cy(t,i,a,l){return t.baseState=a,cd(t,_t,typeof l=="function"?l:as)}function _1(t,i,a,l,h){if(Mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};te.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=te.T,_={};te.T=_;try{var b=a(h,l),x=te.S;x!==null&&x(_,b),xy(t,i,b)}catch($){dd(t,i,$)}finally{d!==null&&_.types!==null&&(d.types=_.types),te.T=d}}else try{d=a(h,l),xy(t,i,d)}catch($){dd(t,i,$)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ny(t,i,l)},function(l){return dd(t,i,l)}):Ny(t,i,a)}function Ny(t,i,a){i.status="fulfilled",i.value=a,Dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Iy(t,a)))}function dd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dy(i),i=i.next;while(i!==l)}t.action=null}function Dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function My(t,i){return i}function Oy(t,i){if(tt){var a=bt.formState;if(a!==null){e:{var l=Be;if(tt){if(Vt){t:{for(var h=Vt,d=nr;h.nodeType!==8;){if(!d){h=null;break t}if(h=rr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Vt=rr(h.nextSibling),l=h.data==="F!";break e}}Hs(l)}l=!1}l&&(i=a[0])}}return a=ai(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:i},a.queue=l,a=Jy.bind(null,Be,l),l.dispatch=a,l=fd(!1),d=_d.bind(null,Be,!1,l.queue),l=ai(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=_1.bind(null,Be,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Vy(t){var i=tn();return ky(i,_t,t)}function ky(t,i,a){if(i=cd(t,i,My)[0],t=xc(as)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ql(i)}catch(_){throw _===Oo?_c:_}else l=i;i=tn();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Be.flags|=2048,Uo(9,{destroy:void 0},E1.bind(null,h,a),null)),[l,d,t]}function E1(t,i){t.action=i}function Py(t){var i=tn(),a=_t;if(a!==null)return ky(i,a,t);tn(),i=i.memoizedState,a=tn();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Uo(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Be.updateQueue,i===null&&(i=Cc(),Be.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ly(){return tn().memoizedState}function Nc(t,i,a,l){var h=ai();Be.flags|=t,h.memoizedState=Uo(1|i,{destroy:void 0},a,l===void 0?null:l)}function Dc(t,i,a,l){var h=tn();l=l===void 0?null:l;var d=h.memoizedState.inst;_t!==null&&l!==null&&rd(l,_t.memoizedState.deps)?h.memoizedState=Uo(i,d,a,l):(Be.flags|=t,h.memoizedState=Uo(1|i,d,a,l))}function Uy(t,i){Nc(8390656,8,t,i)}function md(t,i){Dc(2048,8,t,i)}function T1(t){Be.flags|=4;var i=Be.updateQueue;if(i===null)i=Cc(),Be.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function zy(t){var i=tn().memoizedState;return T1({ref:i,nextImpl:t}),function(){if((ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function jy(t,i){return Dc(4,2,t,i)}function By(t,i){return Dc(4,4,t,i)}function qy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hy(t,i,a){a=a!=null?a.concat([t]):null,Dc(4,4,qy.bind(null,i,t),a)}function pd(){}function Fy(t,i){var a=tn();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&rd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gy(t,i){var a=tn();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&rd(i,l[1]))return l[0];if(l=t(),Ja){zt(!0);try{t()}finally{zt(!1)}}return a.memoizedState=[l,i],l}function gd(t,i,a){return a===void 0||(ss&1073741824)!==0&&(We&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Qv(),Be.lanes|=t,Js|=t,a)}function Qy(t,i,a,l){return Ii(a,i)?a:ko.current!==null?(t=gd(t,a,l),Ii(t,i)||(ln=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(We&261930)===0?(ln=!0,t.memoizedState=a):(t=Qv(),Be.lanes|=t,Js|=t,i)}function $y(t,i,a,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var _=te.T,b={};te.T=b,_d(t,!1,i,a);try{var x=h(),$=te.S;if($!==null&&$(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var ne=g1(x,l);Hl(t,i,ne,Vi(t))}else Hl(t,i,l,Vi(t))}catch(ae){Hl(t,i,{then:function(){},status:"rejected",reason:ae},Vi())}finally{de.p=d,_!==null&&b.types!==null&&(_.types=b.types),te.T=_}}function w1(){}function yd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Yy(t).queue;$y(t,h,i,be,a===null?w1:function(){return Ky(t),a(l)})}function Yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:be},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ky(t){var i=Yy(t);i.next===null&&(i=t.alternate.memoizedState),Hl(t,i.next.queue,{},Vi())}function vd(){return Un(au)}function Xy(){return tn().memoizedState}function Wy(){return tn().memoizedState}function b1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Vi();t=Qs(a);var l=$s(i,t,a);l!==null&&(wi(l,i,a),Ul(l,i,a)),i={cache:$f()},t.payload=i;return}i=i.return}}function S1(t,i,a){var l=Vi();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(t)?Zy(i,a):(a=Pf(t,i,a,l),a!==null&&(wi(a,t,l),ev(a,i,l)))}function Jy(t,i,a){var l=Vi();Hl(t,i,a,l)}function Hl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(t))Zy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,Ii(b,_))return fc(t,i,h,0),bt===null&&hc(),!1}catch{}finally{}if(a=Pf(t,i,h,l),a!==null)return wi(a,t,l),ev(a,i,l),!0}return!1}function _d(t,i,a,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mc(t)){if(i)throw Error(s(479))}else i=Pf(t,a,l,2),i!==null&&wi(i,t,2)}function Mc(t){var i=t.alternate;return t===Be||i!==null&&i===Be}function Zy(t,i){Po=Ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ev(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pn(t,a)}}var Fl={readContext:Un,use:Ic,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};Fl.useEffectEvent=Kt;var tv={readContext:Un,use:Ic,useCallback:function(t,i){return ai().memoizedState=[t,i===void 0?null:i],t},useContext:Un,useEffect:Uy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,qy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Nc(4194308,4,t,i)},useInsertionEffect:function(t,i){Nc(4,2,t,i)},useMemo:function(t,i){var a=ai();i=i===void 0?null:i;var l=t();if(Ja){zt(!0);try{t()}finally{zt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ai();if(a!==void 0){var h=a(i);if(Ja){zt(!0);try{a(i)}finally{zt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=S1.bind(null,Be,t),[l.memoizedState,t]},useRef:function(t){var i=ai();return t={current:t},i.memoizedState=t},useState:function(t){t=fd(t);var i=t.queue,a=Jy.bind(null,Be,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(t,i){var a=ai();return gd(a,t,i)},useTransition:function(){var t=fd(!1);return t=$y.bind(null,Be,t.queue,!0,!1),ai().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Be,h=ai();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),bt===null)throw Error(s(349));(We&127)!==0||wy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Uy(Sy.bind(null,l,d,t),[t]),l.flags|=2048,Uo(9,{destroy:void 0},by.bind(null,l,d,a,i),null),a},useId:function(){var t=ai(),i=bt.identifierPrefix;if(tt){var a=kr,l=Vr;a=(l&~(1<<32-Dn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Rc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=y1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:vd,useFormState:Oy,useActionState:Oy,useOptimistic:function(t){var i=ai();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=_d.bind(null,Be,!0,a),a.dispatch=i,[t,i]},useMemoCache:ud,useCacheRefresh:function(){return ai().memoizedState=b1.bind(null,Be)},useEffectEvent:function(t){var i=ai(),a={impl:t};return i.memoizedState=a,function(){if((ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ed={readContext:Un,use:Ic,useCallback:Fy,useContext:Un,useEffect:md,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:xc,useRef:Ly,useState:function(){return xc(as)},useDebugValue:pd,useDeferredValue:function(t,i){var a=tn();return Qy(a,_t.memoizedState,t,i)},useTransition:function(){var t=xc(as)[0],i=tn().memoizedState;return[typeof t=="boolean"?t:ql(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:vd,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=tn();return Cy(a,_t,t,i)},useMemoCache:ud,useCacheRefresh:Wy};Ed.useEffectEvent=zy;var nv={readContext:Un,use:Ic,useCallback:Fy,useContext:Un,useEffect:md,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:hd,useRef:Ly,useState:function(){return hd(as)},useDebugValue:pd,useDeferredValue:function(t,i){var a=tn();return _t===null?gd(a,t,i):Qy(a,_t.memoizedState,t,i)},useTransition:function(){var t=hd(as)[0],i=tn().memoizedState;return[typeof t=="boolean"?t:ql(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:vd,useFormState:Py,useActionState:Py,useOptimistic:function(t,i){var a=tn();return _t!==null?Cy(a,_t,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ud,useCacheRefresh:Wy};nv.useEffectEvent=zy;function Td(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Vi(),h=Qs(l);h.payload=i,a!=null&&(h.callback=a),i=$s(t,h,l),i!==null&&(wi(i,t,l),Ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Vi(),h=Qs(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=$s(t,h,l),i!==null&&(wi(i,t,l),Ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Vi(),l=Qs(a);l.tag=2,i!=null&&(l.callback=i),i=$s(t,l,a),i!==null&&(wi(i,t,a),Ul(i,t,a))}};function iv(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Nl(a,l)||!Nl(h,d):!0}function rv(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&wd.enqueueReplaceState(i,i.state,null)}function Za(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function sv(t){cc(t)}function av(t){console.error(t)}function ov(t){cc(t)}function Oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function lv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bd(t,i,a){return a=Qs(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,i)},a}function uv(t){return t=Qs(t),t.tag=3,t}function cv(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){lv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){lv(i,a,l),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function A1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&No(i,a,h,!0),a=Ni.current,a!==null){switch(a.tag){case 31:case 13:return ir===null?Gc():a.alternate===null&&Xt===0&&(Xt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Yd(t,l,h)),!1;case 22:return a.flags|=65536,l===Ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Yd(t,l,h)),!1}throw Error(s(435,a.tag))}return Yd(t,l,h),Gc(),!1}if(tt)return i=Ni.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==qf&&(t=Error(s(422),{cause:l}),Ol(Zi(t,a)))):(l!==qf&&(i=Error(s(423),{cause:l}),Ol(Zi(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Zi(l,a),h=bd(t.stateNode,l,h),Zf(t,h),Xt!==4&&(Xt=2)),!1;var d=Error(s(520),{cause:l});if(d=Zi(d,a),Jl===null?Jl=[d]:Jl.push(d),Xt!==4&&(Xt=2),i===null)return!0;l=Zi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=bd(a.stateNode,l,t),Zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zs===null||!Zs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uv(h),cv(h,t,a,l),Zf(a,h),!1}a=a.return}while(a!==null);return!1}var Sd=Error(s(461)),ln=!1;function zn(t,i,a,l){i.child=t===null?my(i,null,a,l):Wa(i,t.child,a,l)}function hv(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return $a(i),l=sd(t,i,a,_,d,h),b=ad(),t!==null&&!ln?(od(t,i,h),os(t,i,h)):(tt&&b&&jf(i),i.flags|=1,zn(t,i,l,h),i.child)}function fv(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Lf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dv(t,i,d,l,h)):(t=mc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Md(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Nl,a(_,l)&&t.ref===i.ref)return os(t,i,h)}return i.flags|=1,t=ts(d,l),t.ref=i.ref,t.return=i,i.child=t}function dv(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Nl(d,l)&&t.ref===i.ref)if(ln=!1,i.pendingProps=l=d,Md(t,h))(t.flags&131072)!==0&&(ln=!0);else return i.lanes=t.lanes,os(t,i,h)}return Ad(t,i,a,l,h)}function mv(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return pv(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&vc(i,d!==null?d.cachePool:null),d!==null?yy(i,d):td(),vy(i);else return l=i.lanes=536870912,pv(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(vc(i,d.cachePool),yy(i,d),Ks(),i.memoizedState=null):(t!==null&&vc(i,null),td(),Ks());return zn(t,i,h,a),i.child}function Gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function pv(t,i,a,l,h){var d=Kf();return d=d===null?null:{parent:an._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&vc(i,null),td(),vy(i),t!==null&&No(t,i,l,!0),i.childLanes=h,null}function Vc(t,i){return i=Pc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function gv(t,i,a){return Wa(i,t.child,null,a),t=Vc(i,i.pendingProps),t.flags|=2,Di(i),i.memoizedState=null,t}function R1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(tt){if(l.mode==="hidden")return t=Vc(i,l),i.lanes=536870912,Gl(null,t);if(id(i),(t=Vt)?(t=I_(t,nr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:Vr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,Ln=i,Vt=null)):t=null,t===null)throw Hs(i);return i.lanes=536870912,null}return Vc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(id(i),h)if(i.flags&256)i.flags&=-257,i=gv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(ln||No(t,i,a,!1),h=(a&t.childLanes)!==0,ln||h){if(l=bt,l!==null&&(_=bn(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ha(t,_),wi(l,t,_),Sd;Gc(),i=gv(t,i,a)}else t=d.treeContext,Vt=rr(_.nextSibling),Ln=i,tt=!0,qs=null,nr=!1,t!==null&&ny(i,t),i=Vc(i,l),i.flags|=4096;return i}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function kc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Ad(t,i,a,l,h){return $a(i),a=sd(t,i,a,l,void 0,h),l=ad(),t!==null&&!ln?(od(t,i,h),os(t,i,h)):(tt&&l&&jf(i),i.flags|=1,zn(t,i,a,h),i.child)}function yv(t,i,a,l,h,d){return $a(i),i.updateQueue=null,a=Ey(i,l,a,h),_y(t),l=ad(),t!==null&&!ln?(od(t,i,d),os(t,i,d)):(tt&&l&&jf(i),i.flags|=1,zn(t,i,a,d),i.child)}function vv(t,i,a,l,h){if($a(i),i.stateNode===null){var d=Ro,_=a.contextType;typeof _=="object"&&_!==null&&(d=Un(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Un(_):Ro,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Td(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),jl(i,l,d,h),zl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,x=Za(a,b);d.props=x;var $=d.context,ne=a.contextType;_=Ro,typeof ne=="object"&&ne!==null&&(_=Un(ne));var ae=a.getDerivedStateFromProps;ne=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||$!==_)&&rv(i,d,l,_),Gs=!1;var K=i.memoizedState;d.state=K,jl(i,l,d,h),zl(),$=i.memoizedState,b||K!==$||Gs?(typeof ae=="function"&&(Td(i,a,ae,l),$=i.memoizedState),(x=Gs||iv(i,a,x,l,K,$,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Jf(t,i),_=i.memoizedProps,ne=Za(a,_),d.props=ne,ae=i.pendingProps,K=d.context,$=a.contextType,x=Ro,typeof $=="object"&&$!==null&&(x=Un($)),b=a.getDerivedStateFromProps,($=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ae||K!==x)&&rv(i,d,l,x),Gs=!1,K=i.memoizedState,d.state=K,jl(i,l,d,h),zl();var W=i.memoizedState;_!==ae||K!==W||Gs||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof b=="function"&&(Td(i,a,b,l),W=i.memoizedState),(ne=Gs||iv(i,a,ne,l,K,W,x)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,W,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,W,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),d.props=l,d.state=W,d.context=x,l=ne):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,kc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Wa(i,t.child,null,h),i.child=Wa(i,null,a,h)):zn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=os(t,i,h),t}function _v(t,i,a,l){return Ga(),i.flags|=256,zn(t,i,a,l),i.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(t){return{baseLanes:t,cachePool:ly()}}function Id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Oi),t}function Ev(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(en.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(h?Ys(i):Ks(),(t=Vt)?(t=I_(t,nr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:Vr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},a=Zg(t),a.return=i,i.child=a,Ln=i,Vt=null)):t=null,t===null)throw Hs(i);return cm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Ks(),h=i.mode,b=Pc({mode:"hidden",children:b},h),l=Fa(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Cd(a),l.childLanes=Id(t,_,a),i.memoizedState=Rd,Gl(null,l)):(Ys(i),xd(i,b))}var x=t.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)i.flags&256?(Ys(i),i.flags&=-257,i=Nd(t,i,a)):i.memoizedState!==null?(Ks(),i.child=t.child,i.flags|=128,i=null):(Ks(),b=l.fallback,h=i.mode,l=Pc({mode:"visible",children:l.children},h),b=Fa(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Wa(i,t.child,null,a),l=i.child,l.memoizedState=Cd(a),l.childLanes=Id(t,_,a),i.memoizedState=Rd,i=Gl(null,l));else if(Ys(i),cm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var $=_.dgst;_=$,l=Error(s(419)),l.stack="",l.digest=_,Ol({value:l,source:null,stack:null}),i=Nd(t,i,a)}else if(ln||No(t,i,a,!1),_=(a&t.childLanes)!==0,ln||_){if(_=bt,_!==null&&(l=bn(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ha(t,l),wi(_,t,l),Sd;um(b)||Gc(),i=Nd(t,i,a)}else um(b)?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,Vt=rr(b.nextSibling),Ln=i,tt=!0,qs=null,nr=!1,t!==null&&ny(i,t),i=xd(i,l.children),i.flags|=4096);return i}return h?(Ks(),b=l.fallback,h=i.mode,x=t.child,$=x.sibling,l=ts(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,$!==null?b=ts($,b):(b=Fa(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Gl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Cd(a):(h=b.cachePool,h!==null?(x=an._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=ly(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Id(t,_,a),i.memoizedState=Rd,Gl(t.child,l)):(Ys(i),a=t.child,t=a.sibling,a=ts(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function xd(t,i){return i=Pc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Pc(t,i){return t=xi(22,t,null,i),t.lanes=0,t}function Nd(t,i,a){return Wa(i,t.child,null,a),t=xd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Tv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Gf(t.return,i,a)}function Dd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function wv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=en.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,X(en,_),zn(t,i,l,a),l=tt?Ml:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tv(t,a,i);else if(t.tag===19)Tv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Dd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Dd(i,!0,a,null,d,l);break;case"together":Dd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function os(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Js|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(No(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ts(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ts(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Md(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function C1(t,i,a){switch(i.tag){case 3:Se(i,i.stateNode.containerInfo),Fs(i,an,t.memoizedState.cache),Ga();break;case 27:case 5:$e(i);break;case 4:Se(i,i.stateNode.containerInfo);break;case 10:Fs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,id(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ys(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ev(t,i,a):(Ys(i),t=os(t,i,a),t!==null?t.sibling:null);Ys(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(No(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return wv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(en,en.current),l)break;return null;case 22:return i.lanes=0,mv(t,i,a,i.pendingProps);case 24:Fs(i,an,t.memoizedState.cache)}return os(t,i,a)}function bv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ln=!0;else{if(!Md(t,a)&&(i.flags&128)===0)return ln=!1,C1(t,i,a);ln=(t.flags&131072)!==0}else ln=!1,tt&&(i.flags&1048576)!==0&&ty(i,Ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ka(i.elementType),i.type=t,typeof t=="function")Lf(t)?(l=Za(t,l),i.tag=1,i=vv(null,i,t,l,a)):(i.tag=0,i=Ad(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Re){i.tag=11,i=hv(null,i,t,l,a);break e}else if(h===D){i.tag=14,i=fv(null,i,t,l,a);break e}}throw i=St(t)||t,Error(s(306,i,""))}}return i;case 0:return Ad(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Za(l,i.pendingProps),vv(t,i,l,h,a);case 3:e:{if(Se(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Jf(t,i),jl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Fs(i,an,l),l!==d.cache&&Qf(i,[an],a,!0),zl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=_v(t,i,l,a);break e}else if(l!==h){h=Zi(Error(s(424)),i),Ol(h),i=_v(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Vt=rr(t.firstChild),Ln=i,tt=!0,qs=null,nr=!0,a=my(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ga(),l===h){i=os(t,i,a);break e}zn(t,i,l,a)}i=i.child}return i;case 26:return kc(t,i),t===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:tt||(a=i.type,t=i.pendingProps,l=Jc(me.current).createElement(a),l[ct]=i,l[Ct]=t,jn(l,a,t),It(l),i.stateNode=l):i.memoizedState=V_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $e(i),t===null&&tt&&(l=i.stateNode=D_(i.type,i.pendingProps,me.current),Ln=i,nr=!0,h=Vt,ia(i.type)?(hm=h,Vt=rr(l.firstChild)):Vt=h),zn(t,i,i.pendingProps.children,a),kc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((h=l=Vt)&&(l=iS(l,i.type,i.pendingProps,nr),l!==null?(i.stateNode=l,Ln=i,Vt=rr(l.firstChild),nr=!1,h=!0):h=!1),h||Hs(i)),$e(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,am(h,d)?l=null:_!==null&&am(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=sd(t,i,v1,null,null,a),au._currentValue=h),kc(t,i),zn(t,i,l,a),i.child;case 6:return t===null&&tt&&((t=a=Vt)&&(a=rS(a,i.pendingProps,nr),a!==null?(i.stateNode=a,Ln=i,Vt=null,t=!0):t=!1),t||Hs(i)),null;case 13:return Ev(t,i,a);case 4:return Se(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Wa(i,null,l,a):zn(t,i,l,a),i.child;case 11:return hv(t,i,i.type,i.pendingProps,a);case 7:return zn(t,i,i.pendingProps,a),i.child;case 8:return zn(t,i,i.pendingProps.children,a),i.child;case 12:return zn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Fs(i,i.type,l.value),zn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,$a(i),h=Un(h),l=l(h),i.flags|=1,zn(t,i,l,a),i.child;case 14:return fv(t,i,i.type,i.pendingProps,a);case 15:return dv(t,i,i.type,i.pendingProps,a);case 19:return wv(t,i,a);case 31:return R1(t,i,a);case 22:return mv(t,i,a,i.pendingProps);case 24:return $a(i),l=Un(an),t===null?(h=Kf(),h===null&&(h=bt,d=$f(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Wf(i),Fs(i,an,h)):((t.lanes&a)!==0&&(Jf(t,i),jl(i,null,null,a),zl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Fs(i,an,l)):(l=d.cache,Fs(i,an,l),l!==h.cache&&Qf(i,[an],a,!0))),zn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ls(t){t.flags|=4}function Od(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Xv())t.flags|=8192;else throw Xa=Ec,Xf}else t.flags&=-16777217}function Sv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!z_(i))if(Xv())t.flags|=8192;else throw Xa=Ec,Xf}function Lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Va():536870912,t.lanes|=i,qo|=i)}function Ql(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function kt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function I1(t,i,a){var l=i.pendingProps;switch(Bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return kt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),rs(an),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xo(i)?ls(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hf())),kt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ls(i),d!==null?(kt(i),Sv(i,d)):(kt(i),Od(i,h,null,l,a))):d?d!==t.memoizedState?(ls(i),kt(i),Sv(i,d)):(kt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ls(i),kt(i),Od(i,h,t,l,a)),null;case 27:if(Fe(i),a=me.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ls(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return kt(i),null}t=le.current,xo(i)?iy(i):(t=D_(h,l,a),i.stateNode=t,ls(i))}return kt(i),null;case 5:if(Fe(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ls(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return kt(i),null}if(d=le.current,xo(i))iy(i);else{var _=Jc(me.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ct]=i,d[Ct]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(jn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ls(i)}}return kt(i),Od(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ls(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=me.current,xo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ct]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||Hs(i,!0)}else t=Jc(t).createTextNode(l),t[ct]=i,i.stateNode=t}return kt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=xo(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ct]=i}else Ga(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),t=!1}else a=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Di(i),i):(Di(i),null);if((i.flags&128)!==0)throw Error(s(558))}return kt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ct]=i}else Ga(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),h=!1}else h=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}return Di(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Lc(i,i.updateQueue),kt(i),null);case 4:return Ie(),t===null&&tm(i.stateNode.containerInfo),kt(i),null;case 10:return rs(i.type),kt(i),null;case 19:if(q(en),l=i.memoizedState,l===null)return kt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Ql(l,!1);else{if(Xt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Sc(t),d!==null){for(i.flags|=128,Ql(l,!1),t=d.updateQueue,i.updateQueue=t,Lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jg(a,t),a=a.sibling;return X(en,en.current&1|2),tt&&ns(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Qt()>qc&&(i.flags|=128,h=!0,Ql(l,!1),i.lanes=4194304)}else{if(!h)if(t=Sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Lc(i,t),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!tt)return kt(i),null}else 2*Qt()-l.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,h=!0,Ql(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qt(),t.sibling=null,a=en.current,X(en,h?a&1|2:a&1),tt&&ns(i,l.treeForkCount),t):(kt(i),null);case 22:case 23:return Di(i),nd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),a=i.updateQueue,a!==null&&Lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&q(Ya),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),rs(an),kt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function x1(t,i){switch(Bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return rs(an),Ie(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Fe(i),null;case 31:if(i.memoizedState!==null){if(Di(i),i.alternate===null)throw Error(s(340));Ga()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Di(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ga()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return q(en),null;case 4:return Ie(),null;case 10:return rs(i.type),null;case 22:case 23:return Di(i),nd(),t!==null&&q(Ya),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return rs(an),null;case 25:return null;default:return null}}function Av(t,i){switch(Bf(i),i.tag){case 3:rs(an),Ie();break;case 26:case 27:case 5:Fe(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&Di(i);break;case 13:Di(i);break;case 19:q(en);break;case 10:rs(i.type);break;case 22:case 23:Di(i),nd(),t!==null&&q(Ya);break;case 24:rs(an)}}function $l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){gt(i,i.return,b)}}function Xs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var x=a,$=b;try{$()}catch(ne){gt(h,x,ne)}}}l=l.next}while(l!==d)}}catch(ne){gt(i,i.return,ne)}}function Rv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{gy(i,a)}catch(l){gt(t,t.return,l)}}}function Cv(t,i,a){a.props=Za(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){gt(t,i,l)}}function Yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){gt(t,i,h)}}function Pr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){gt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){gt(t,i,h)}else a.current=null}function Iv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){gt(t,t.return,h)}}function Vd(t,i,a){try{var l=t.stateNode;W1(l,t.type,a,i),l[Ct]=i}catch(h){gt(t,t.return,h)}}function xv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ia(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ot));else if(l!==4&&(l===27&&ia(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Pd(t,i,a),t=t.sibling;t!==null;)Pd(t,i,a),t=t.sibling}function Uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ia(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uc(t,i,a),t=t.sibling;t!==null;)Uc(t,i,a),t=t.sibling}function Nv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jn(i,l,a),i[ct]=t,i[Ct]=a}catch(d){gt(t,t.return,d)}}var us=!1,un=!1,Ld=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function N1(t,i){if(t=t.containerInfo,rm=sh,t=Hg(t),Nf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,x=-1,$=0,ne=0,ae=t,K=null;t:for(;;){for(var W;ae!==a||h!==0&&ae.nodeType!==3||(b=_+h),ae!==d||l!==0&&ae.nodeType!==3||(x=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(W=ae.firstChild)!==null;)K=ae,ae=W;for(;;){if(ae===t)break t;if(K===a&&++$===h&&(b=_),K===d&&++ne===l&&(x=_),(W=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=W}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(sm={focusedElem:t,selectionRange:a},sh=!1,Cn=i;Cn!==null;)if(i=Cn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Cn=t;else for(;Cn!==null;){switch(i=Cn,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Za(a.type,h);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){gt(a,a.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)lm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Cn=t;break}Cn=i.return}}function Mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hs(t,a),l&4&&$l(5,a);break;case 1:if(hs(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){gt(a,a.return,_)}else{var h=Za(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){gt(a,a.return,_)}}l&64&&Rv(a),l&512&&Yl(a,a.return);break;case 3:if(hs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gy(t,i)}catch(_){gt(a,a.return,_)}}break;case 27:i===null&&l&4&&Nv(a);case 26:case 5:hs(t,a),i===null&&l&4&&Iv(a),l&512&&Yl(a,a.return);break;case 12:hs(t,a);break;case 31:hs(t,a),l&4&&kv(t,a);break;case 13:hs(t,a),l&4&&Pv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=z1.bind(null,a),sS(t,a))));break;case 22:if(l=a.memoizedState!==null||us,!l){i=i!==null&&i.memoizedState!==null||un,h=us;var d=un;us=l,(un=i)&&!d?fs(t,a,(a.subtreeFlags&8772)!==0):hs(t,a),us=h,un=d}break;case 30:break;default:hs(t,a)}}function Ov(t){var i=t.alternate;i!==null&&(t.alternate=null,Ov(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&$r(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var jt=null,vi=!1;function cs(t,i,a){for(a=a.child;a!==null;)Vv(t,i,a),a=a.sibling}function Vv(t,i,a){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:un||Pr(a,i),cs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:un||Pr(a,i);var l=jt,h=vi;ia(a.type)&&(jt=a.stateNode,vi=!1),cs(t,i,a),iu(a.stateNode),jt=l,vi=h;break;case 5:un||Pr(a,i);case 6:if(l=jt,h=vi,jt=null,cs(t,i,a),jt=l,vi=h,jt!==null)if(vi)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(a.stateNode)}catch(d){gt(a,i,d)}else try{jt.removeChild(a.stateNode)}catch(d){gt(a,i,d)}break;case 18:jt!==null&&(vi?(t=jt,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xo(t)):R_(jt,a.stateNode));break;case 4:l=jt,h=vi,jt=a.stateNode.containerInfo,vi=!0,cs(t,i,a),jt=l,vi=h;break;case 0:case 11:case 14:case 15:Xs(2,a,i),un||Xs(4,a,i),cs(t,i,a);break;case 1:un||(Pr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cv(a,i,l)),cs(t,i,a);break;case 21:cs(t,i,a);break;case 22:un=(l=un)||a.memoizedState!==null,cs(t,i,a),un=l;break;default:cs(t,i,a)}}function kv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xo(t)}catch(a){gt(i,i.return,a)}}}function Pv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xo(t)}catch(a){gt(i,i.return,a)}}function D1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Dv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Dv),i;default:throw Error(s(435,t.tag))}}function zc(t,i){var a=D1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=j1.bind(null,t,l);l.then(h,h)}})}function _i(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(ia(b.type)){jt=b.stateNode,vi=!1;break e}break;case 5:jt=b.stateNode,vi=!1;break e;case 3:case 4:jt=b.stateNode.containerInfo,vi=!0;break e}b=b.return}if(jt===null)throw Error(s(160));Vv(d,_,h),jt=null,vi=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Lv(i,t),i=i.sibling}var Tr=null;function Lv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_i(i,t),Ei(t),l&4&&(Xs(3,t,t.return),$l(3,t),Xs(5,t,t.return));break;case 1:_i(i,t),Ei(t),l&512&&(un||a===null||Pr(a,a.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Tr;if(_i(i,t),Ei(t),l&512&&(un||a===null||Pr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hr]||d[ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jn(d,l,a),d[ct]=t,It(d),l=d;break e;case"link":var _=L_("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),jn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=L_("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),jn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ct]=t,It(d),l=d}t.stateNode=l}else U_(h,t.type,t.stateNode);else t.stateNode=P_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?U_(h,t.type,t.stateNode):P_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_i(i,t),Ei(t),l&512&&(un||a===null||Pr(a,a.return)),a!==null&&l&4&&Vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_i(i,t),Ei(t),l&512&&(un||a===null||Pr(a,a.return)),t.flags&32){h=t.stateNode;try{pi(h,"")}catch(Te){gt(t,t.return,Te)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Vd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ld=!0);break;case 6:if(_i(i,t),Ei(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Te){gt(t,t.return,Te)}}break;case 3:if(th=null,h=Tr,Tr=Zc(i.containerInfo),_i(i,t),Tr=h,Ei(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xo(i.containerInfo)}catch(Te){gt(t,t.return,Te)}Ld&&(Ld=!1,Uv(t));break;case 4:l=Tr,Tr=Zc(t.stateNode.containerInfo),_i(i,t),Ei(t),Tr=l;break;case 12:_i(i,t),Ei(t);break;case 31:_i(i,t),Ei(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 13:_i(i,t),Ei(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bc=Qt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,$=us,ne=un;if(us=$||h,un=ne||x,_i(i,t),un=ne,us=$,Ei(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||us||un||eo(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=x.stateNode;var ae=x.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Te){gt(x,x.return,Te)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(Te){gt(x,x.return,Te)}}}else if(i.tag===18){if(a===null){x=i;try{var W=x.stateNode;h?C_(W,!0):C_(x.stateNode,!1)}catch(Te){gt(x,x.return,Te)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zc(t,a))));break;case 19:_i(i,t),Ei(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zc(t,l)));break;case 30:break;case 21:break;default:_i(i,t),Ei(t)}}function Ei(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(xv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=kd(t);Uc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(pi(_,""),a.flags&=-33);var b=kd(t);Uc(t,b,_);break;case 3:case 4:var x=a.stateNode.containerInfo,$=kd(t);Pd(t,$,x);break;default:throw Error(s(161))}}catch(ne){gt(t,t.return,ne)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function hs(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Mv(t,i.alternate,i),i=i.sibling}function eo(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Xs(4,i,i.return),eo(i);break;case 1:Pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cv(i,i.return,a),eo(i);break;case 27:iu(i.stateNode);case 26:case 5:Pr(i,i.return),eo(i);break;case 22:i.memoizedState===null&&eo(i);break;case 30:eo(i);break;default:eo(i)}t=t.sibling}}function fs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:fs(h,d,a),$l(4,d);break;case 1:if(fs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){gt(l,l.return,$)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)py(x[h],b)}catch($){gt(l,l.return,$)}}a&&_&64&&Rv(d),Yl(d,d.return);break;case 27:Nv(d);case 26:case 5:fs(h,d,a),a&&l===null&&_&4&&Iv(d),Yl(d,d.return);break;case 12:fs(h,d,a);break;case 31:fs(h,d,a),a&&_&4&&kv(h,d);break;case 13:fs(h,d,a),a&&_&4&&Pv(h,d);break;case 22:d.memoizedState===null&&fs(h,d,a),Yl(d,d.return);break;case 30:break;default:fs(h,d,a)}i=i.sibling}}function Ud(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Vl(a))}function zd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Vl(t))}function wr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zv(t,i,a,l),i=i.sibling}function zv(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:wr(t,i,a,l),h&2048&&$l(9,i);break;case 1:wr(t,i,a,l);break;case 3:wr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Vl(t)));break;case 12:if(h&2048){wr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){gt(i,i.return,x)}}else wr(t,i,a,l);break;case 31:wr(t,i,a,l);break;case 13:wr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?wr(t,i,a,l):Kl(t,i):d._visibility&2?wr(t,i,a,l):(d._visibility|=2,zo(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ud(_,i);break;case 24:wr(t,i,a,l),h&2048&&zd(i.alternate,i);break;default:wr(t,i,a,l)}}function zo(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,x=l,$=_.flags;switch(_.tag){case 0:case 11:case 15:zo(d,_,b,x,h),$l(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?zo(d,_,b,x,h):Kl(d,_):(ne._visibility|=2,zo(d,_,b,x,h)),h&&$&2048&&Ud(_.alternate,_);break;case 24:zo(d,_,b,x,h),h&&$&2048&&zd(_.alternate,_);break;default:zo(d,_,b,x,h)}i=i.sibling}}function Kl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Kl(a,l),h&2048&&Ud(l.alternate,l);break;case 24:Kl(a,l),h&2048&&zd(l.alternate,l);break;default:Kl(a,l)}i=i.sibling}}var Xl=8192;function jo(t,i,a){if(t.subtreeFlags&Xl)for(t=t.child;t!==null;)jv(t,i,a),t=t.sibling}function jv(t,i,a){switch(t.tag){case 26:jo(t,i,a),t.flags&Xl&&t.memoizedState!==null&&yS(a,Tr,t.memoizedState,t.memoizedProps);break;case 5:jo(t,i,a);break;case 3:case 4:var l=Tr;Tr=Zc(t.stateNode.containerInfo),jo(t,i,a),Tr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xl,Xl=16777216,jo(t,i,a),Xl=l):jo(t,i,a));break;default:jo(t,i,a)}}function Bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Cn=l,Hv(l,t)}Bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qv(t),t=t.sibling}function qv(t){switch(t.tag){case 0:case 11:case 15:Wl(t),t.flags&2048&&Xs(9,t,t.return);break;case 3:Wl(t);break;case 12:Wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,jc(t)):Wl(t);break;default:Wl(t)}}function jc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Cn=l,Hv(l,t)}Bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Xs(8,i,i.return),jc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,jc(i));break;default:jc(i)}t=t.sibling}}function Hv(t,i){for(;Cn!==null;){var a=Cn;switch(a.tag){case 0:case 11:case 15:Xs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Cn=l;else e:for(a=t;Cn!==null;){l=Cn;var h=l.sibling,d=l.return;if(Ov(l),l===a){Cn=null;break e}if(h!==null){h.return=d,Cn=h;break e}Cn=d}}}var M1={getCacheForType:function(t){var i=Un(an),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Un(an).controller.signal}},O1=typeof WeakMap=="function"?WeakMap:Map,ht=0,bt=null,Ke=null,We=0,pt=0,Mi=null,Ws=!1,Bo=!1,jd=!1,ds=0,Xt=0,Js=0,to=0,Bd=0,Oi=0,qo=0,Jl=null,Ti=null,qd=!1,Bc=0,Fv=0,qc=1/0,Hc=null,Zs=null,vn=0,ea=null,Ho=null,ms=0,Hd=0,Fd=null,Gv=null,Zl=0,Gd=null;function Vi(){return(ht&2)!==0&&We!==0?We&-We:te.T!==null?Wd():gn()}function Qv(){if(Oi===0)if((We&536870912)===0||tt){var t=ei;ei<<=1,(ei&3932160)===0&&(ei=262144),Oi=t}else Oi=536870912;return t=Ni.current,t!==null&&(t.flags|=32),Oi}function wi(t,i,a){(t===bt&&(pt===2||pt===9)||t.cancelPendingCommit!==null)&&(Fo(t,0),ta(t,We,Oi,!1)),ci(t,a),((ht&2)===0||t!==bt)&&(t===bt&&((ht&2)===0&&(to|=a),Xt===4&&ta(t,We,Oi,!1)),Lr(t))}function $v(t,i,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Bi(t,i),h=l?P1(t,i):$d(t,i,!0),d=l;do{if(h===0){Bo&&!l&&ta(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!V1(a)){h=$d(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=Jl;var x=b.current.memoizedState.isDehydrated;if(x&&(Fo(b,_).flags|=256),_=$d(b,_,!1),_!==2){if(jd&&!x){b.errorRecoveryDisabledLanes|=d,to|=d,h=4;break e}d=Ti,Ti=h,d!==null&&(Ti===null?Ti=d:Ti.push.apply(Ti,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fo(t,0),ta(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ta(l,i,Oi,!Ws);break e;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Bc+300-Qt(),10<h)){if(ta(l,i,Oi,!Ws),$t(l,0,!0)!==0)break e;ms=i,l.timeoutHandle=S_(Yv.bind(null,l,a,Ti,Hc,qd,i,Oi,to,qo,Ws,d,"Throttled",-0,0),h);break e}Yv(l,a,Ti,Hc,qd,i,Oi,to,qo,Ws,d,null,-0,0)}}break}while(!0);Lr(t)}function Yv(t,i,a,l,h,d,_,b,x,$,ne,ae,K,W){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot},jv(i,d,ae);var Te=(d&62914560)===d?Bc-Qt():(d&4194048)===d?Fv-Qt():0;if(Te=vS(ae,Te),Te!==null){ms=d,t.cancelPendingCommit=Te(n_.bind(null,t,i,d,a,l,h,_,b,x,ne,ae,null,K,W)),ta(t,d,_,!$);return}}n_(t,i,d,a,l,h,_,b,x)}function V1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Ii(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ta(t,i,a,l){i&=~Bd,i&=~to,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Dn(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ka(t,a,i)}function Fc(){return(ht&6)===0?(eu(0),!1):!0}function Qd(){if(Ke!==null){if(pt===0)var t=Ke.return;else t=Ke,is=Qa=null,ld(t),Vo=null,Pl=0,t=Ke;for(;t!==null;)Av(t.alternate,t),t=t.return;Ke=null}}function Fo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ms=0,Qd(),bt=t,Ke=a=ts(t.current,null),We=i,pt=0,Mi=null,Ws=!1,Bo=Bi(t,i),jd=!1,qo=Oi=Bd=to=Js=Xt=0,Ti=Jl=null,qd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Dn(l),d=1<<h;i|=t[h],l&=~d}return ds=i,hc(),a}function Kv(t,i){Be=null,te.H=Fl,i===Oo||i===_c?(i=hy(),pt=3):i===Xf?(i=hy(),pt=4):pt=i===Sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mi=i,Ke===null&&(Xt=1,Oc(t,Zi(i,t.current)))}function Xv(){var t=Ni.current;return t===null?!0:(We&4194048)===We?ir===null:(We&62914560)===We||(We&536870912)!==0?t===ir:!1}function Wv(){var t=te.H;return te.H=Fl,t===null?Fl:t}function Jv(){var t=te.A;return te.A=M1,t}function Gc(){Xt=4,Ws||(We&4194048)!==We&&Ni.current!==null||(Bo=!0),(Js&134217727)===0&&(to&134217727)===0||bt===null||ta(bt,We,Oi,!1)}function $d(t,i,a){var l=ht;ht|=2;var h=Wv(),d=Jv();(bt!==t||We!==i)&&(Hc=null,Fo(t,i)),i=!1;var _=Xt;e:do try{if(pt!==0&&Ke!==null){var b=Ke,x=Mi;switch(pt){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(i=!0);var $=pt;if(pt=0,Mi=null,Go(t,b,x,$),a&&Bo){_=0;break e}break;default:$=pt,pt=0,Mi=null,Go(t,b,x,$)}}k1(),_=Xt;break}catch(ne){Kv(t,ne)}while(!0);return i&&t.shellSuspendCounter++,is=Qa=null,ht=l,te.H=h,te.A=d,Ke===null&&(bt=null,We=0,hc()),_}function k1(){for(;Ke!==null;)Zv(Ke)}function P1(t,i){var a=ht;ht|=2;var l=Wv(),h=Jv();bt!==t||We!==i?(Hc=null,qc=Qt()+500,Fo(t,i)):Bo=Bi(t,i);e:do try{if(pt!==0&&Ke!==null){i=Ke;var d=Mi;t:switch(pt){case 1:pt=0,Mi=null,Go(t,i,d,1);break;case 2:case 9:if(uy(d)){pt=0,Mi=null,e_(i);break}i=function(){pt!==2&&pt!==9||bt!==t||(pt=7),Lr(t)},d.then(i,i);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:uy(d)?(pt=0,Mi=null,e_(i)):(pt=0,Mi=null,Go(t,i,d,7));break;case 5:var _=null;switch(Ke.tag){case 26:_=Ke.memoizedState;case 5:case 27:var b=Ke;if(_?z_(_):b.stateNode.complete){pt=0,Mi=null;var x=b.sibling;if(x!==null)Ke=x;else{var $=b.return;$!==null?(Ke=$,Qc($)):Ke=null}break t}}pt=0,Mi=null,Go(t,i,d,5);break;case 6:pt=0,Mi=null,Go(t,i,d,6);break;case 8:Qd(),Xt=6;break e;default:throw Error(s(462))}}L1();break}catch(ne){Kv(t,ne)}while(!0);return is=Qa=null,te.H=l,te.A=h,ht=a,Ke!==null?0:(bt=null,We=0,hc(),Xt)}function L1(){for(;Ke!==null&&!Oa();)Zv(Ke)}function Zv(t){var i=bv(t.alternate,t,ds);t.memoizedProps=t.pendingProps,i===null?Qc(t):Ke=i}function e_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yv(a,i,i.pendingProps,i.type,void 0,We);break;case 11:i=yv(a,i,i.pendingProps,i.type.render,i.ref,We);break;case 5:ld(i);default:Av(a,i),i=Ke=Jg(i,ds),i=bv(a,i,ds)}t.memoizedProps=t.pendingProps,i===null?Qc(t):Ke=i}function Go(t,i,a,l){is=Qa=null,ld(i),Vo=null,Pl=0;var h=i.return;try{if(A1(t,h,i,a,We)){Xt=1,Oc(t,Zi(a,t.current)),Ke=null;return}}catch(d){if(h!==null)throw Ke=h,d;Xt=1,Oc(t,Zi(a,t.current)),Ke=null;return}i.flags&32768?(tt||l===1?t=!0:Bo||(We&536870912)!==0?t=!1:(Ws=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ni.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,t)):Qc(i)}function Qc(t){var i=t;do{if((i.flags&32768)!==0){t_(i,Ws);return}t=i.return;var a=I1(i.alternate,i,ds);if(a!==null){Ke=a;return}if(i=i.sibling,i!==null){Ke=i;return}Ke=i=t}while(i!==null);Xt===0&&(Xt=5)}function t_(t,i){do{var a=x1(t.alternate,t);if(a!==null){a.flags&=32767,Ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ke=t;return}Ke=t=a}while(t!==null);Xt=6,Ke=null}function n_(t,i,a,l,h,d,_,b,x){t.cancelPendingCommit=null;do $c();while(vn!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=kf,Bt(t,a,d,_,b,x),t===bt&&(Ke=bt=null,We=0),Ho=i,ea=t,ms=a,Hd=d,Fd=h,Gv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,B1(Gn,function(){return o_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=te.T,te.T=null,h=de.p,de.p=2,_=ht,ht|=4;try{N1(t,i,a)}finally{ht=_,de.p=h,te.T=l}}vn=1,i_(),r_(),s_()}}function i_(){if(vn===1){vn=0;var t=ea,i=Ho,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=te.T,te.T=null;var l=de.p;de.p=2;var h=ht;ht|=4;try{Lv(i,t);var d=sm,_=Hg(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&qg(b.ownerDocument.documentElement,b)){if(x!==null&&Nf(b)){var $=x.start,ne=x.end;if(ne===void 0&&(ne=$),"selectionStart"in b)b.selectionStart=$,b.selectionEnd=Math.min(ne,b.value.length);else{var ae=b.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var W=K.getSelection(),Te=b.textContent.length,Ne=Math.min(x.start,Te),Tt=x.end===void 0?Ne:Math.min(x.end,Te);!W.extend&&Ne>Tt&&(_=Tt,Tt=Ne,Ne=_);var j=Bg(b,Ne),P=Bg(b,Tt);if(j&&P&&(W.rangeCount!==1||W.anchorNode!==j.node||W.anchorOffset!==j.offset||W.focusNode!==P.node||W.focusOffset!==P.offset)){var Q=ae.createRange();Q.setStart(j.node,j.offset),W.removeAllRanges(),Ne>Tt?(W.addRange(Q),W.extend(P.node,P.offset)):(Q.setEnd(P.node,P.offset),W.addRange(Q))}}}}for(ae=[],W=b;W=W.parentNode;)W.nodeType===1&&ae.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}sh=!!rm,sm=rm=null}finally{ht=h,de.p=l,te.T=a}}t.current=i,vn=2}}function r_(){if(vn===2){vn=0;var t=ea,i=Ho,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=te.T,te.T=null;var l=de.p;de.p=2;var h=ht;ht|=4;try{Mv(t,i.alternate,i)}finally{ht=h,de.p=l,te.T=a}}vn=3}}function s_(){if(vn===4||vn===3){vn=0,Qr();var t=ea,i=Ho,a=ms,l=Gv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?vn=5:(vn=0,Ho=ea=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zs=null),qi(a),i=i.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=te.T,h=de.p,de.p=2,te.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{te.T=i,de.p=h}}(ms&3)!==0&&$c(),Lr(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Gd?Zl++:(Zl=0,Gd=t):Zl=0,eu(0)}}function a_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Vl(i)))}function $c(){return i_(),r_(),s_(),o_()}function o_(){if(vn!==5)return!1;var t=ea,i=Hd;Hd=0;var a=qi(ms),l=te.T,h=de.p;try{de.p=32>a?32:a,te.T=null,a=Fd,Fd=null;var d=ea,_=ms;if(vn=0,Ho=ea=null,ms=0,(ht&6)!==0)throw Error(s(331));var b=ht;if(ht|=4,qv(d.current),zv(d,d.current,_,a),ht=b,eu(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{de.p=h,te.T=l,a_(t,i)}}function l_(t,i,a){i=Zi(a,i),i=bd(t.stateNode,i,2),t=$s(t,i,2),t!==null&&(ci(t,2),Lr(t))}function gt(t,i,a){if(t.tag===3)l_(t,t,a);else for(;i!==null;){if(i.tag===3){l_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zs===null||!Zs.has(l))){t=Zi(a,t),a=uv(2),l=$s(i,a,2),l!==null&&(cv(a,l,i,t),ci(l,2),Lr(l));break}}i=i.return}}function Yd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new O1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(jd=!0,h.add(a),t=U1.bind(null,t,i,a),i.then(t,t))}function U1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,bt===t&&(We&a)===a&&(Xt===4||Xt===3&&(We&62914560)===We&&300>Qt()-Bc?(ht&2)===0&&Fo(t,0):Bd|=a,qo===We&&(qo=0)),Lr(t)}function u_(t,i){i===0&&(i=Va()),t=Ha(t,i),t!==null&&(ci(t,i),Lr(t))}function z1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(t,a)}function j1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),u_(t,a)}function B1(t,i){return rn(t,i)}var Yc=null,Qo=null,Kd=!1,Kc=!1,Xd=!1,na=0;function Lr(t){t!==Qo&&t.next===null&&(Qo===null?Yc=Qo=t:Qo=Qo.next=t),Kc=!0,Kd||(Kd=!0,H1())}function eu(t,i){if(!Xd&&Kc){Xd=!0;do for(var a=!1,l=Yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Dn(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=We,d=$t(l,l===bt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bi(l,d)||(a=!0,d_(l,d));l=l.next}while(a);Xd=!1}}function q1(){c_()}function c_(){Kc=Kd=!1;var t=0;na!==0&&Z1()&&(t=na);for(var i=Qt(),a=null,l=Yc;l!==null;){var h=l.next,d=h_(l,i);d===0?(l.next=null,a===null?Yc=h:a.next=h,h===null&&(Qo=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=h}vn!==0&&vn!==5||eu(t),na!==0&&(na=0)}function h_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Dn(d),b=1<<_,x=h[_];x===-1?((b&a)===0||(b&l)!==0)&&(h[_]=Ai(b,i)):x<=i&&(t.expiredLanes|=b),d&=~b}if(i=bt,a=We,a=$t(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(pt===2||pt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Rr(l),qi(a)){case 2:case 8:a=Ut;break;case 32:a=Gn;break;case 268435456:a=Si;break;default:a=Gn}return l=f_.bind(null,t),a=rn(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Rr(l),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,i){if(vn!==0&&vn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=We;return l=$t(t,t===bt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($v(t,l,i),h_(t,Qt()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function d_(t,i){if($c())return null;$v(t,i,!0)}function H1(){tS(function(){(ht&6)!==0?rn(Nt,q1):c_()})}function Wd(){if(na===0){var t=Do;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),na=t}return na}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function p_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function F1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=m_((h[Ct]||null).action),_=l.submitter;_&&(i=(i=_[Ct]||null)?m_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new S("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var x=_?p_(h,_):new FormData(h);yd(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=_?p_(h,_):new FormData(h),yd(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Jd=0;Jd<Vf.length;Jd++){var Zd=Vf[Jd],G1=Zd.toLowerCase(),Q1=Zd[0].toUpperCase()+Zd.slice(1);Er(G1,"on"+Q1)}Er(Qg,"onAnimationEnd"),Er($g,"onAnimationIteration"),Er(Yg,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(l1,"onTransitionRun"),Er(u1,"onTransitionStart"),Er(c1,"onTransitionCancel"),Er(Kg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function g_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],x=b.instance,$=b.currentTarget;if(b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=$;try{d(h)}catch(ne){cc(ne)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(b=l[_],x=b.instance,$=b.currentTarget,b=b.listener,x!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=$;try{d(h)}catch(ne){cc(ne)}h.currentTarget=null,d=x}}}}function Xe(t,i){var a=i[Hi];a===void 0&&(a=i[Hi]=new Set);var l=t+"__bubble";a.has(l)||(y_(i,t,2,!1),a.add(l))}function em(t,i,a){var l=0;i&&(l|=4),y_(a,t,l,i)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function tm(t){if(!t[Xc]){t[Xc]=!0,Ir.forEach(function(a){a!=="selectionchange"&&($1.has(a)||em(a,!1,t),em(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Xc]||(i[Xc]=!0,em("selectionchange",!1,i))}}function y_(t,i,a,l){switch(Q_(i)){case 2:var h=TS;break;case 8:h=wS;break;default:h=gm}a=h.bind(null,i,a,t),h=void 0,!Ua||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function nm(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=fr(b),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Jr(function(){var $=d,ne=ks(a),ae=[];e:{var K=Xg.get(t);if(K!==void 0){var W=S,Te=t;switch(t){case"keypress":if(Zr(a)===0)break e;case"keydown":case"keyup":W=To;break;case"focusin":Te="focus",W=je;break;case"focusout":Te="blur",W=je;break;case"beforeblur":case"afterblur":W=je;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=at;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ze;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=sc;break;case Qg:case $g:case Yg:W=qt;break;case Kg:W=wo;break;case"scroll":case"scrollend":W=B;break;case"wheel":W=oc;break;case"copy":case"cut":case"paste":W=ri;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Il;break;case"toggle":case"beforetoggle":W=zs}var Ne=(i&4)!==0,Tt=!Ne&&(t==="scroll"||t==="scrollend"),j=Ne?K!==null?K+"Capture":null:K;Ne=[];for(var P=$,Q;P!==null;){var ie=P;if(Q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Q===null||j===null||(ie=$n(P,j),ie!=null&&Ne.push(nu(P,ie,Q))),Tt)break;P=P.return}0<Ne.length&&(K=new W(K,Te,null,a,ne),ae.push({event:K,listeners:Ne}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",K&&a!==yr&&(Te=a.relatedTarget||a.fromElement)&&(fr(Te)||Te[On]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(Te=a.relatedTarget||a.toElement,W=$,Te=Te?fr(Te):null,Te!==null&&(Tt=u(Te),Ne=Te.tag,Te!==Tt||Ne!==5&&Ne!==27&&Ne!==6)&&(Te=null)):(W=null,Te=$),W!==Te)){if(Ne=at,ie="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=Il,ie="onPointerLeave",j="onPointerEnter",P="pointer"),Tt=W==null?K:Gi(W),Q=Te==null?K:Gi(Te),K=new Ne(ie,P+"leave",W,a,ne),K.target=Tt,K.relatedTarget=Q,ie=null,fr(ne)===$&&(Ne=new Ne(j,P+"enter",Te,a,ne),Ne.target=Q,Ne.relatedTarget=Tt,ie=Ne),Tt=ie,W&&Te)t:{for(Ne=Y1,j=W,P=Te,Q=0,ie=j;ie;ie=Ne(ie))Q++;ie=0;for(var Ce=P;Ce;Ce=Ne(Ce))ie++;for(;0<Q-ie;)j=Ne(j),Q--;for(;0<ie-Q;)P=Ne(P),ie--;for(;Q--;){if(j===P||P!==null&&j===P.alternate){Ne=j;break t}j=Ne(j),P=Ne(P)}Ne=null}else Ne=null;W!==null&&v_(ae,K,W,Ne,!1),Te!==null&&Tt!==null&&v_(ae,Tt,Te,Ne,!0)}}e:{if(K=$?Gi($):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var ot=kg;else if(yi(K))if(Pg)ot=s1;else{ot=i1;var we=n1}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Yi($.elementType)&&(ot=kg):ot=r1;if(ot&&(ot=ot(t,$))){ja(ae,ot,a,ne);break e}we&&we(t,K,$),t==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Xr(K,"number",K.value)}switch(we=$?Gi($):window,t){case"focusin":(yi(we)||we.contentEditable==="true")&&(bo=we,Df=$,Dl=null);break;case"focusout":Dl=Df=bo=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Fg(ae,a,ne);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Fg(ae,a,ne)}var qe;if(y)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ge?dt(t,a)&&(Je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Je="onCompositionStart");Je&&(G&&a.locale!=="ko"&&(Ge||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ge&&(qe=Mr()):(Pn=ne,Ps="value"in Pn?Pn.value:Pn.textContent,Ge=!0)),we=Wc($,Je),0<we.length&&(Je=new yn(Je,t,null,a,ne),ae.push({event:Je,listeners:we}),qe?Je.data=qe:(qe=sn(a),qe!==null&&(Je.data=qe)))),(qe=R?An(t,a):Rn(t,a))&&(Je=Wc($,"onBeforeInput"),0<Je.length&&(we=new yn("onBeforeInput","beforeinput",null,a,ne),ae.push({event:we,listeners:Je}),we.data=qe)),F1(ae,t,$,a,ne)}g_(ae,i)})}function nu(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=$n(t,a),h!=null&&l.unshift(nu(t,h,d)),h=$n(t,i),h!=null&&l.push(nu(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Y1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,x=b.alternate,$=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||$===null||(x=$,h?($=$n(a,d),$!=null&&_.unshift(nu(a,$,x))):h||($=$n(a,d),$!=null&&_.push(nu(a,$,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var K1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(K1,`
`).replace(X1,"")}function E_(t,i){return i=__(i),__(t)===i}function Et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||pi(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&pi(t,""+l);break;case"className":Qi(t,"class",l);break;case"tabIndex":Qi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(t,a,l);break;case"style":Dr(t,l,d);break;case"data":if(i!=="object"){Qi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Et(t,i,"name",h.name,h,null),Et(t,i,"formEncType",h.formEncType,h,null),Et(t,i,"formMethod",h.formMethod,h,null),Et(t,i,"formTarget",h.formTarget,h,null)):(Et(t,i,"encType",h.encType,h,null),Et(t,i,"method",h.method,h,null),Et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ot);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":di(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":di(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":di(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":di(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":di(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":di(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":di(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":di(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":di(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mt.get(a)||a,pr(t,a,l))}}function im(t,i,a,l,h,d){switch(a){case"style":Dr(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pi(t,l):(typeof l=="number"||typeof l=="bigint")&&pi(t,""+l);break;case"onScroll":l!=null&&Xe("scroll",t);break;case"onScrollEnd":l!=null&&Xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function jn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(t,i,d,_,a,null)}}h&&Et(t,i,"srcSet",a.srcSet,a,null),l&&Et(t,i,"src",a.src,a,null);return;case"input":Xe("invalid",t);var b=d=_=h=null,x=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":h=ne;break;case"type":_=ne;break;case"checked":x=ne;break;case"defaultChecked":$=ne;break;case"value":d=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:Et(t,i,l,ne,a,null)}}Kr(t,d,b,x,$,_,h,!1);return;case"select":Xe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Et(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?nt(t,!!l,i,!1):a!=null&&nt(t,!!l,a,!0);return;case"textarea":Xe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Et(t,i,_,b,a,null)}Nr(t,l,h,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Et(t,i,x,l,a,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(l=0;l<tu.length;l++)Xe(tu[l],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Et(t,i,$,l,a,null)}return;default:if(Yi(i)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&im(t,i,ne,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Et(t,i,b,l,a,null))}function W1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,x=null,$=null,ne=null;for(W in a){var ae=a[W];if(a.hasOwnProperty(W)&&ae!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":x=ae;default:l.hasOwnProperty(W)||Et(t,i,W,null,l,ae)}}for(var K in l){var W=l[K];if(ae=a[K],l.hasOwnProperty(K)&&(W!=null||ae!=null))switch(K){case"type":d=W;break;case"name":h=W;break;case"checked":$=W;break;case"defaultChecked":ne=W;break;case"value":_=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==ae&&Et(t,i,K,W,l,ae)}}xr(t,_,b,x,$,ne,d,h);return;case"select":W=_=b=K=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":W=x;default:l.hasOwnProperty(d)||Et(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==x&&Et(t,i,h,d,l,x)}i=b,a=_,l=W,K!=null?nt(t,!!a,K,!1):!!l!=!!a&&(i!=null?nt(t,!!a,i,!0):nt(t,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Et(t,i,_,h,l,d)}Wr(t,K,W);return;case"option":for(var Te in a)if(K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Et(t,i,Te,null,l,K)}for(x in l)if(K=l[x],W=a[x],l.hasOwnProperty(x)&&K!==W&&(K!=null||W!=null))switch(x){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Et(t,i,x,K,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)K=a[Ne],a.hasOwnProperty(Ne)&&K!=null&&!l.hasOwnProperty(Ne)&&Et(t,i,Ne,null,l,K);for($ in l)if(K=l[$],W=a[$],l.hasOwnProperty($)&&K!==W&&(K!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Et(t,i,$,K,l,W)}return;default:if(Yi(i)){for(var Tt in a)K=a[Tt],a.hasOwnProperty(Tt)&&K!==void 0&&!l.hasOwnProperty(Tt)&&im(t,i,Tt,void 0,l,K);for(ne in l)K=l[ne],W=a[ne],!l.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||im(t,i,ne,K,l,W);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&Et(t,i,j,null,l,K);for(ae in l)K=l[ae],W=a[ae],!l.hasOwnProperty(ae)||K===W||K==null&&W==null||Et(t,i,ae,K,l,W)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&T_(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var x=a[l],$=x.startTime;if($>b)break;var ne=x.transferSize,ae=x.initiatorType;ne&&T_(ae)&&(x=x.responseEnd,_+=ne*(x<b?1:(b-$)/(x-$)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rm=null,sm=null;function Jc(t){return t.nodeType===9?t:t.ownerDocument}function w_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var om=null;function Z1(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(nS)}:S_;function nS(t){setTimeout(function(){throw t})}function ia(t){return t==="head"}function R_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")iu(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,iu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[hr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&iu(t.ownerDocument.body);a=h}while(a);Xo(i)}function C_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function lm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lm(a),$r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function iS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=rr(t.nextSibling),t===null)break}return null}function rS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=rr(t.nextSibling),t===null))return null;return t}function I_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=rr(t.nextSibling),t===null))return null;return t}function um(t){return t.data==="$?"||t.data==="$~"}function cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function rr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var hm=null;function x_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return rr(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function D_(t,i,a){switch(i=Jc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function iu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$r(t)}var sr=new Map,M_=new Set;function Zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ps=de.d;de.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:hS,X:dS,S:fS,M:mS};function aS(){var t=ps.f(),i=Fc();return t||i}function oS(t){var i=dr(t);i!==null&&i.tag===5&&i.type==="form"?Ky(i):ps.r(t)}var $o=typeof document>"u"?null:document;function O_(t,i,a){var l=$o;if(l&&typeof i=="string"&&i){var h=Dt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jn(i,"link",t),It(i),l.head.appendChild(i)))}}function lS(t){ps.D(t),O_("dns-prefetch",t,null)}function uS(t,i){ps.C(t,i),O_("preconnect",t,i)}function cS(t,i,a){ps.L(t,i,a);var l=$o;if(l&&t&&i){var h='link[rel="preload"][as="'+Dt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Dt(a.imageSizes)+'"]')):h+='[href="'+Dt(t)+'"]';var d=h;switch(i){case"style":d=Yo(t);break;case"script":d=Ko(t)}sr.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),sr.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ru(d))||i==="script"&&l.querySelector(su(d))||(i=l.createElement("link"),jn(i,"link",t),It(i),l.head.appendChild(i)))}}function hS(t,i){ps.m(t,i);var a=$o;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ko(t)}if(!sr.has(d)&&(t=w({rel:"modulepreload",href:t},i),sr.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(d)))return}l=a.createElement("link"),jn(l,"link",t),It(l),a.head.appendChild(l)}}}function fS(t,i,a){ps.S(t,i,a);var l=$o;if(l&&t){var h=hi(l).hoistableStyles,d=Yo(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(ru(d)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=sr.get(d))&&fm(t,a);var x=_=l.createElement("link");It(x),jn(x,"link",t),x._p=new Promise(function($,ne){x.onload=$,x.onerror=ne}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,eh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function dS(t,i){ps.X(t,i);var a=$o;if(a&&t){var l=hi(a).hoistableScripts,h=Ko(t),d=l.get(h);d||(d=a.querySelector(su(h)),d||(t=w({src:t,async:!0},i),(i=sr.get(h))&&dm(t,i),d=a.createElement("script"),It(d),jn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mS(t,i){ps.M(t,i);var a=$o;if(a&&t){var l=hi(a).hoistableScripts,h=Ko(t),d=l.get(h);d||(d=a.querySelector(su(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=sr.get(h))&&dm(t,i),d=a.createElement("script"),It(d),jn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V_(t,i,a,l){var h=(h=me.current)?Zc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Yo(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Yo(a.href);var d=hi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(ru(t)))&&!d._p&&(_.instance=d,_.state.loading=5),sr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sr.set(t,a),d||pS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ko(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Yo(t){return'href="'+Dt(t)+'"'}function ru(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function pS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jn(i,"link",a),It(i),t.head.appendChild(i))}function Ko(t){return'[src="'+Dt(t)+'"]'}function su(t){return"script[async]"+t}function P_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return i.instance=l,It(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),jn(l,"style",h),eh(l,a.precedence,t),i.instance=l;case"stylesheet":h=Yo(a.href);var d=t.querySelector(ru(h));if(d)return i.state.loading|=4,i.instance=d,It(d),d;l=k_(a),(h=sr.get(h))&&fm(l,h),d=(t.ownerDocument||t).createElement("link"),It(d);var _=d;return _._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),jn(d,"link",l),i.state.loading|=4,eh(d,a.precedence,t),i.instance=d;case"script":return d=Ko(a.src),(h=t.querySelector(su(d)))?(i.instance=h,It(h),h):(l=a,(h=sr.get(d))&&(l=w({},a),dm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),jn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eh(l,a.precedence,t));return i.instance}function eh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function fm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var th=null;function L_(t,i,a){if(th===null){var l=new Map,h=th=new Map;h.set(a,l)}else h=th,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hr]||d[ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function U_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Yo(l.href),d=i.querySelector(ru(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=nh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,It(d);return}d=i.ownerDocument||i,l=k_(l),(h=sr.get(h))&&fm(l,h),d=d.createElement("link"),It(d);var _=d;_._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),jn(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var mm=0;function vS(t,i){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&mm===0&&(mm=62500*J1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>mm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function nh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ih=null;function rh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ih=new Map,i.forEach(_S,t),ih=null,nh.call(t))}function _S(t,i){if(!(i.state.loading&4)){var a=ih.get(t);if(a)var l=a.get(null);else{a=new Map,ih.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=nh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var au={$$typeof:se,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function ES(t,i,a,l,h,d,_,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function j_(t,i,a,l,h,d,_,b,x,$,ne,ae){return t=new ES(t,i,a,_,x,$,ne,ae,b),i=1,d===!0&&(i|=24),d=xi(3,null,null,i),t.current=d,d.stateNode=t,i=$f(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Wf(d),t}function B_(t){return t?(t=Ro,t):Ro}function q_(t,i,a,l,h,d){h=B_(h),l.context===null?l.context=h:l.pendingContext=h,l=Qs(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$s(t,l,i),a!==null&&(wi(a,t,i),Ul(a,t,i))}function H_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function pm(t,i){H_(t,i),(t=t.alternate)&&H_(t,i)}function F_(t){if(t.tag===13||t.tag===31){var i=Ha(t,67108864);i!==null&&wi(i,t,67108864),pm(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var i=Vi();i=ti(i);var a=Ha(t,i);a!==null&&wi(a,t,i),pm(t,i)}}var sh=!0;function TS(t,i,a,l){var h=te.T;te.T=null;var d=de.p;try{de.p=2,gm(t,i,a,l)}finally{de.p=d,te.T=h}}function wS(t,i,a,l){var h=te.T;te.T=null;var d=de.p;try{de.p=8,gm(t,i,a,l)}finally{de.p=d,te.T=h}}function gm(t,i,a,l){if(sh){var h=ym(l);if(h===null)nm(t,i,l,ah,a),$_(t,l);else if(SS(h,t,i,a,l))l.stopPropagation();else if($_(t,l),i&4&&-1<bS.indexOf(t)){for(;h!==null;){var d=dr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var x=1<<31-Dn(_);b.entanglements[1]|=x,_&=~x}Lr(d),(ht&6)===0&&(qc=Qt()+500,eu(0))}}break;case 31:case 13:b=Ha(d,2),b!==null&&wi(b,d,2),Fc(),pm(d,2)}if(d=ym(l),d===null&&nm(t,i,l,ah,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else nm(t,i,l,null,a)}}function ym(t){return t=ks(t),vm(t)}var ah=null;function vm(t){if(ah=null,t=fr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ah=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Nt:return 2;case Ut:return 8;case Gn:case Ns:return 32;case Si:return 268435456;default:return 32}default:return 32}}var _m=!1,ra=null,sa=null,aa=null,ou=new Map,lu=new Map,oa=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(t,i){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":ou.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(i.pointerId)}}function uu(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=dr(i),i!==null&&F_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function SS(t,i,a,l,h){switch(i){case"focusin":return ra=uu(ra,t,i,a,l,h),!0;case"dragenter":return sa=uu(sa,t,i,a,l,h),!0;case"mouseover":return aa=uu(aa,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ou.set(d,uu(ou.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,lu.set(d,uu(lu.get(d)||null,t,i,a,l,h)),!0}return!1}function Y_(t){var i=fr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Rt(t.priority,function(){G_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Rt(t.priority,function(){G_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ym(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yr=l,a.target.dispatchEvent(l),yr=null}else return i=dr(a),i!==null&&F_(i),t.blockedOn=a,!1;i.shift()}return!0}function K_(t,i,a){oh(t)&&a.delete(i)}function AS(){_m=!1,ra!==null&&oh(ra)&&(ra=null),sa!==null&&oh(sa)&&(sa=null),aa!==null&&oh(aa)&&(aa=null),ou.forEach(K_),lu.forEach(K_)}function lh(t,i){t.blockedOn===i&&(t.blockedOn=null,_m||(_m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AS)))}var uh=null;function X_(t){uh!==t&&(uh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uh===t&&(uh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var d=dr(a);d!==null&&(t.splice(i,3),i-=3,yd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xo(t){function i(x){return lh(x,t)}ra!==null&&lh(ra,t),sa!==null&&lh(sa,t),aa!==null&&lh(aa,t),ou.forEach(i),lu.forEach(i);for(var a=0;a<oa.length;a++){var l=oa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oa.length&&(a=oa[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&oa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ct]||null;if(typeof d=="function")_||X_(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ct]||null)b=_.formAction;else if(vm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),X_(a)}}}function W_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Em(t){this._internalRoot=t}ch.prototype.render=Em.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Vi();q_(a,l,t,i,null,null)},ch.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;q_(t.current,2,null,t,null,null),Fc(),i[On]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var i=gn();t={blockedOn:null,target:t,priority:i};for(var a=0;a<oa.length&&i!==0&&i<oa[a].priority;a++);oa.splice(a,0,t),a===0&&Y_(t)}};var J_=e.version;if(J_!=="19.2.3")throw Error(s(527,J_,"19.2.3"));de.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var RS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{ut=hh.inject(RS),mt=hh}catch{}}return hu.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=sv,d=av,_=ov;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=j_(t,1,!1,null,null,a,l,null,h,d,_,W_),t[On]=i.current,tm(t),new Em(i)},hu.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=sv,_=av,b=ov,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=j_(t,1,!0,i,a??null,l,h,x,d,_,b,W_),i.context=B_(null),a=i.current,l=Vi(),l=ti(l),h=Qs(l),h.callback=null,$s(a,h,l),a=l,i.current.lanes=a,ci(i,a),Lr(i),t[On]=i.current,tm(t),new ch(i)},hu.version="19.2.3",hu}var l0;function US(){if(l0)return bm.exports;l0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=LS(),bm.exports}var zS=US();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var u0="popstate";function jS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=co(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),$m("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Iu(u))}function s(o,u){zi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return qS(e,n,s,r)}function Ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BS(){return Math.random().toString(36).substring(2,10)}function c0(r,e){return{usr:r.state,key:r.key,idx:e}}function $m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||BS()}}function Iu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function qS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function w(){m="POP";let F=v(),ce=F==null?null:F-g;g=F,p&&p({action:m,location:Z.location,delta:ce})}function A(F,ce){m="PUSH";let he=$m(Z.location,F,ce);n&&n(he,F),g=v()+1;let se=c0(he,g),Re=Z.createHref(he);try{f.pushState(se,"",Re)}catch(Pe){if(Pe instanceof DOMException&&Pe.name==="DataCloneError")throw Pe;o.location.assign(Re)}u&&p&&p({action:m,location:Z.location,delta:1})}function L(F,ce){m="REPLACE";let he=$m(Z.location,F,ce);n&&n(he,F),g=v();let se=c0(he,g),Re=Z.createHref(he);f.replaceState(se,"",Re),u&&p&&p({action:m,location:Z.location,delta:0})}function Y(F){return HS(F)}let Z={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(u0,w),p=F,()=>{o.removeEventListener(u0,w),p=null}},createHref(F){return e(o,F)},createURL:Y,encodeLocation(F){let ce=Y(F);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:A,replace:L,go(F){return f.go(F)}};return Z}function HS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Iu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function JE(r,e,n="/"){return FS(r,e,n,!1)}function FS(r,e,n,s){let o=typeof e=="string"?co(e):e,u=Ts(o.pathname||"/",n);if(u==null)return null;let f=ZE(r);GS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=nA(u);m=eA(f[p],g,s)}return m}function ZE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let w=_s([s,v.relativePath]),A=n.concat(v);f.children&&f.children.length>0&&(Ht(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),ZE(f.children,e,A,w,p)),!(f.path==null&&!f.index)&&e.push({path:w,score:JS(w,f.index),routesMeta:A})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of eT(f.path))u(f,m,!0,g)}),e}function eT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=eT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function GS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ZS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QS=/^:[\w-]+$/,$S=3,YS=2,KS=1,XS=10,WS=-2,h0=r=>r==="*";function JS(r,e){let n=r.split("/"),s=n.length;return n.some(h0)&&(s+=WS),e&&(s+=YS),n.filter(o=>!h0(o)).reduce((o,u)=>o+(QS.test(u)?$S:u===""?KS:XS),s)}function ZS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function eA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",w=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:_s([u,w.pathname]),pathnameBase:aA(_s([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=_s([u,w.pathnameBase]))}return f}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:w},A)=>{if(v==="*"){let Y=m[A]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const L=m[A];return w&&!L?g[v]=void 0:g[v]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function tA(r,e=!1,n=!0){zi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iA=r=>tT.test(r);function rA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?co(r):r,u;if(n)if(iA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=f0(n.substring(1),"/"):u=f0(n,e)}else u=e;return{pathname:u,search:oA(s),hash:lA(o)}}function f0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nT(r){let e=sA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function iT(r,e,n,s=!1){let o;typeof r=="string"?o=co(r):(o={...r},Ht(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),Ht(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),Ht(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=rA(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var _s=r=>r.join("/").replace(/\/\/+/g,"/"),aA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,uA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function hA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sT(r,e){let n=r;if(typeof n!="string"||!tT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(rT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Ts(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{zi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aT=["POST","PUT","PATCH","DELETE"];new Set(aT);var fA=["GET",...aT];new Set(fA);var gl=M.createContext(null);gl.displayName="DataRouter";var sf=M.createContext(null);sf.displayName="DataRouterState";var dA=M.createContext(!1),oT=M.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var mA=M.createContext(new Map);mA.displayName="Fetchers";var pA=M.createContext(null);pA.displayName="Await";var ur=M.createContext(null);ur.displayName="Navigation";var Lu=M.createContext(null);Lu.displayName="Location";var Cs=M.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var Ip=M.createContext(null);Ip.displayName="RouteError";var lT="REACT_ROUTER_ERROR",gA="REDIRECT",yA="ROUTE_ERROR_RESPONSE";function vA(r){if(r.startsWith(`${lT}:${gA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _A(r){if(r.startsWith(`${lT}:${yA}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uA(e.status,e.statusText,e.data)}catch{}}function EA(r,{relative:e}={}){Ht(Uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(ur),{hash:o,pathname:u,search:f}=zu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:_s([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Uu(){return M.useContext(Lu)!=null}function Na(){return Ht(Uu(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Lu).location}var uT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cT(r){M.useContext(ur).static||M.useLayoutEffect(r)}function xp(){let{isDataRoute:r}=M.useContext(Cs);return r?OA():TA()}function TA(){Ht(Uu(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(gl),{basename:e,navigator:n}=M.useContext(ur),{matches:s}=M.useContext(Cs),{pathname:o}=Na(),u=JSON.stringify(nT(s)),f=M.useRef(!1);return cT(()=>{f.current=!0}),M.useCallback((p,g={})=>{if(zi(f.current,uT),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=iT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_s([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}M.createContext(null);function zu(r,{relative:e}={}){let{matches:n}=M.useContext(Cs),{pathname:s}=Na(),o=JSON.stringify(nT(n));return M.useMemo(()=>iT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function wA(r,e){return hT(r,e)}function hT(r,e,n,s,o){var he;Ht(Uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=M.useContext(ur),{matches:f}=M.useContext(Cs),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",w=m&&m.route;{let se=w&&w.path||"";dT(g,!w||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let A=Na(),L;if(e){let se=typeof e=="string"?co(e):e;Ht(v==="/"||((he=se.pathname)==null?void 0:he.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${se.pathname}" was given in the \`location\` prop.`),L=se}else L=A;let Y=L.pathname||"/",Z=Y;if(v!=="/"){let se=v.replace(/^\//,"").split("/");Z="/"+Y.replace(/^\//,"").split("/").slice(se.length).join("/")}let F=JE(r,{pathname:Z});zi(w||F!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),zi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=CA(F&&F.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:_s([v,u.encodeLocation?u.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?v:_s([v,u.encodeLocation?u.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),f,n,s,o);return e&&ce?M.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},ce):ce}function bA(){let r=MA(),e=cA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,f)}var SA=M.createElement(bA,null),fT=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=_A(r.digest);n&&(r=n)}let e=r!==void 0?M.createElement(Cs.Provider,{value:this.props.routeContext},M.createElement(Ip.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?M.createElement(AA,{error:r},e):e}};fT.contextType=dA;var Im=new WeakMap;function AA({children:r,error:e}){let{basename:n}=M.useContext(ur);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=vA(e.digest);if(s){let o=Im.get(e);if(o)throw o;let u=sT(s.location,n);if(rT&&!Im.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Im.set(e,f),f}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function RA({routeContext:r,match:e,children:n}){let s=M.useContext(gl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Cs.Provider,{value:r},n)}function CA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let v=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);Ht(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(n)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:A,errors:L}=n,Y=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!L||L[w.route.id]===void 0);if(w.route.lazy||Y){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(v,w)=>{var A,L;s(v,{location:n.location,params:((L=(A=n.matches)==null?void 0:A[0])==null?void 0:L.params)??{},unstable_pattern:hA(n.matches),errorInfo:w})}:void 0;return u.reduceRight((v,w,A)=>{let L,Y=!1,Z=null,F=null;n&&(L=f&&w.route.id?f[w.route.id]:void 0,Z=w.route.errorElement||SA,m&&(p<0&&A===0?(dT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,F=null):p===A&&(Y=!0,F=w.route.hydrateFallbackElement||null)));let ce=e.concat(u.slice(0,A+1)),he=()=>{let se;return L?se=Z:Y?se=F:w.route.Component?se=M.createElement(w.route.Component,null):w.route.element?se=w.route.element:se=v,M.createElement(RA,{match:w,routeContext:{outlet:v,matches:ce,isDataRoute:n!=null},children:se})};return n&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?M.createElement(fT,{location:n.location,revalidation:n.revalidation,component:Z,error:L,children:he(),routeContext:{outlet:null,matches:ce,isDataRoute:!0},onError:g}):he()},null)}function Np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(r){let e=M.useContext(gl);return Ht(e,Np(r)),e}function xA(r){let e=M.useContext(sf);return Ht(e,Np(r)),e}function NA(r){let e=M.useContext(Cs);return Ht(e,Np(r)),e}function Dp(r){let e=NA(r),n=e.matches[e.matches.length-1];return Ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function DA(){return Dp("useRouteId")}function MA(){var s;let r=M.useContext(Ip),e=xA("useRouteError"),n=Dp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function OA(){let{router:r}=IA("useNavigate"),e=Dp("useNavigate"),n=M.useRef(!1);return cT(()=>{n.current=!0}),M.useCallback(async(o,u={})=>{zi(n.current,uT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var d0={};function dT(r,e,n){!e&&!d0[r]&&(d0[r]=!0,zi(!1,n))}M.memo(VA);function VA({routes:r,future:e,state:n,onError:s}){return hT(r,void 0,n,s,e)}function Ym(r){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ht(!Uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=co(n));let{pathname:g="/",search:v="",hash:w="",state:A=null,key:L="default"}=n,Y=M.useMemo(()=>{let Z=Ts(g,m);return Z==null?null:{location:{pathname:Z,search:v,hash:w,state:A,key:L},navigationType:s}},[m,g,v,w,A,L,s]);return zi(Y!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:M.createElement(ur.Provider,{value:p},M.createElement(Lu.Provider,{children:e,value:Y}))}function PA({children:r,location:e}){return wA(Km(r),e)}function Km(r,e=[]){let n=[];return M.Children.forEach(r,(s,o)=>{if(!M.isValidElement(s))return;let u=[...e,o];if(s.type===M.Fragment){n.push.apply(n,Km(s.props.children,u));return}Ht(s.type===Ym,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Km(s.props.children,u)),n.push(f)}),n}var Sh="get",Ah="application/x-www-form-urlencoded";function af(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function LA(r){return af(r)&&r.tagName.toLowerCase()==="button"}function UA(r){return af(r)&&r.tagName.toLowerCase()==="form"}function zA(r){return af(r)&&r.tagName.toLowerCase()==="input"}function jA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BA(r,e){return r.button===0&&(!e||e==="_self")&&!jA(r)}function Xm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function qA(r,e){let n=Xm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var fh=null;function HA(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var FA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(r){return r!=null&&!FA.has(r)?(zi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):r}function GA(r,e){let n,s,o,u,f;if(UA(r)){let m=r.getAttribute("action");s=m?Ts(m,e):null,n=r.getAttribute("method")||Sh,o=xm(r.getAttribute("enctype"))||Ah,u=new FormData(r)}else if(LA(r)||zA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ts(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Sh,o=xm(r.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||Ah,u=new FormData(m,r),!HA()){let{name:g,type:v,value:w}=r;if(v==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(af(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sh,s=null,o=Ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function QA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Ts(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function $A(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function KA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await $A(u,n);return f.links?f.links():[]}return[]}));return ZA(s.flat(1).filter(YA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function m0(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function XA(r,e,{includeHydrateFallback:n}={}){return WA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function WA(r){return[...new Set(r)]}function JA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function ZA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(JA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function mT(){let r=M.useContext(gl);return Mp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function eR(){let r=M.useContext(sf);return Mp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Op=M.createContext(void 0);Op.displayName="FrameworkContext";function pT(){let r=M.useContext(Op);return Mp(r,"You must render this element inside a <HydratedRouter> element"),r}function tR(r,e){let n=M.useContext(Op),[s,o]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=e,A=M.useRef(null);M.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=ce=>{ce.forEach(he=>{f(he.isIntersecting)})},F=new IntersectionObserver(Z,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),M.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let L=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:fu(m,L),onBlur:fu(p,Y),onMouseEnter:fu(g,L),onMouseLeave:fu(v,Y),onTouchStart:fu(w,L)}]:[!1,A,{}]}function fu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function nR({page:r,...e}){let{router:n}=mT(),s=M.useMemo(()=>JE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?M.createElement(rR,{page:r,matches:s,...e}):null}function iR(r){let{manifest:e,routeModules:n}=pT(),[s,o]=M.useState([]);return M.useEffect(()=>{let u=!1;return KA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function rR({page:r,matches:e,...n}){let s=Na(),{future:o,manifest:u,routeModules:f}=pT(),{basename:m}=mT(),{loaderData:p,matches:g}=eR(),v=M.useMemo(()=>m0(r,e,g,u,s,"data"),[r,e,g,u,s]),w=M.useMemo(()=>m0(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=M.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Z=new Set,F=!1;if(e.forEach(he=>{var Re;let se=u.routes[he.route.id];!se||!se.hasLoader||(!v.some(Pe=>Pe.route.id===he.route.id)&&he.route.id in p&&((Re=f[he.route.id])!=null&&Re.shouldRevalidate)||se.hasClientLoader?F=!0:Z.add(he.route.id))}),Z.size===0)return[];let ce=QA(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&Z.size>0&&ce.searchParams.set("_routes",e.filter(he=>Z.has(he.route.id)).map(he=>he.route.id).join(",")),[ce.pathname+ce.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,v,e,r,f]),L=M.useMemo(()=>XA(w,u),[w,u]),Y=iR(w);return M.createElement(M.Fragment,null,A.map(Z=>M.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...n})),L.map(Z=>M.createElement("link",{key:Z,rel:"modulepreload",href:Z,...n})),Y.map(({key:Z,link:F})=>M.createElement("link",{key:Z,nonce:n.nonce,...F})))}function sR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aR&&(window.__reactRouterVersion="7.12.0")}catch{}function oR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=M.useRef();o.current==null&&(o.current=jS({window:s,v5Compat:!0}));let u=o.current,[f,m]=M.useState({action:u.action,location:u.location}),p=M.useCallback(g=>{n===!1?m(g):M.startTransition(()=>m(g))},[n]);return M.useLayoutEffect(()=>u.listen(p),[u,p]),M.createElement(kA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yT=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:A,...L},Y){let{basename:Z,unstable_useTransitions:F}=M.useContext(ur),ce=typeof g=="string"&&gT.test(g),he=sT(g,Z);g=he.to;let se=EA(g,{relative:o}),[Re,Pe,De]=tR(s,L),D=hR(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:F});function C(k){e&&e(k),k.defaultPrevented||D(k)}let I=M.createElement("a",{...L,...De,href:he.absoluteURL||se,onClick:he.isExternal||u?e:C,ref:sR(Y,Pe),target:p,"data-discover":!ce&&n==="render"?"true":void 0});return Re&&!ce?M.createElement(M.Fragment,null,I,M.createElement(nR,{page:se})):I});yT.displayName="Link";var lR=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let w=zu(f,{relative:g.relative}),A=Na(),L=M.useContext(sf),{navigator:Y,basename:Z}=M.useContext(ur),F=L!=null&&yR(w)&&m===!0,ce=Y.encodeLocation?Y.encodeLocation(w).pathname:w.pathname,he=A.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(he=he.toLowerCase(),se=se?se.toLowerCase():null,ce=ce.toLowerCase()),se&&Z&&(se=Ts(se,Z)||se);const Re=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let Pe=he===ce||!o&&he.startsWith(ce)&&he.charAt(Re)==="/",De=se!=null&&(se===ce||!o&&se.startsWith(ce)&&se.charAt(ce.length)==="/"),D={isActive:Pe,isPending:De,isTransitioning:F},C=Pe?e:void 0,I;typeof s=="function"?I=s(D):I=[s,Pe?"active":null,De?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(D):u;return M.createElement(yT,{...g,"aria-current":C,className:I,ref:v,style:k,to:f,viewTransition:m},typeof p=="function"?p(D):p)});lR.displayName="NavLink";var uR=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Sh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:A,...L},Y)=>{let{unstable_useTransitions:Z}=M.useContext(ur),F=pR(),ce=gR(m,{relative:g}),he=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&gT.test(m),Re=Pe=>{if(p&&p(Pe),Pe.defaultPrevented)return;Pe.preventDefault();let De=Pe.nativeEvent.submitter,D=(De==null?void 0:De.getAttribute("formmethod"))||f,C=()=>F(De||Pe.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:A});Z&&n!==!1?M.startTransition(()=>C()):C()};return M.createElement("form",{ref:Y,method:he,action:ce,onSubmit:s?p:Re,...L,"data-discover":!se&&r==="render"?"true":void 0})});uR.displayName="Form";function cR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(r){let e=M.useContext(gl);return Ht(e,cR(r)),e}function hR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=xp(),v=Na(),w=zu(r,{relative:u});return M.useCallback(A=>{if(BA(A,e)){A.preventDefault();let L=n!==void 0?n:Iu(v)===Iu(w),Y=()=>g(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?M.startTransition(()=>Y()):Y()}},[v,g,w,n,s,e,r,o,u,f,m,p])}function fR(r){zi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Xm(r)),n=M.useRef(!1),s=Na(),o=M.useMemo(()=>qA(s.search,n.current?null:e.current),[s.search]),u=xp(),f=M.useCallback((m,p)=>{const g=Xm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var dR=0,mR=()=>`__${String(++dR)}__`;function pR(){let{router:r}=vT("useSubmit"),{basename:e}=M.useContext(ur),n=DA(),s=r.fetch,o=r.navigate;return M.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:v,body:w}=GA(u,e);if(f.navigate===!1){let A=f.fetcherKey||mR();await s(A,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:w,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:w,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function gR(r,{relative:e}={}){let{basename:n}=M.useContext(ur),s=M.useContext(Cs);Ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...zu(r||".",{relative:e})},f=Na();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:_s([n,u.pathname])),Iu(u)}function yR(r,{relative:e}={}){let n=M.useContext(oT);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vT("useViewTransitionState"),o=zu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Ts(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ts(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,f)!=null||Ph(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_T=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=M.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>M.createElement("svg",{ref:p,..._R,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:_T("lucide",o),...m},[...f.map(([g,v])=>M.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=(r,e)=>{const n=M.forwardRef(({className:s,...o},u)=>M.createElement(ER,{ref:u,iconNode:e,className:_T(`lucide-${vR(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Nn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Nn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Nn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Nn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Nn("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Nn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Nn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Nn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Nn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Nn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Nn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Nn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Nn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Nn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Nn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Nn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Nn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),IR=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},bT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(A=64)),s.push(n[v],n[w],n[A],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new NR;const A=u<<2|m>>4;if(s.push(A),g!==64){const L=m<<4&240|g>>2;if(s.push(L),w!==64){const Y=g<<6&192|w;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DR=function(r){const e=wT(r);return bT.encodeByteArray(e,!0)},Lh=function(r){return DR(r).replace(/\./g,"")},ST=function(r){try{return bT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=()=>MR().__FIREBASE_DEFAULTS__,VR=()=>{if(typeof process>"u"||typeof _0>"u")return;const r=_0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ST(r[1]);return e&&JSON.parse(e)},of=()=>{try{return IR()||OR()||VR()||kR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},AT=r=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},PR=r=>{const e=AT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},RT=()=>{var r;return(r=of())===null||r===void 0?void 0:r.config},CT=r=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lh(JSON.stringify(n)),Lh(JSON.stringify(f)),""].join(".")}const _u={};function zR(){const r={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?r.emulator.push(e):r.prod.push(e);return r}function jR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let E0=!1;function xT(r,e){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||_u[r]===e||_u[r]||E0)return;_u[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=zR().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,L){A.setAttribute("width","24"),A.setAttribute("id",L),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{E0=!0,f()},A}function v(A,L){A.setAttribute("id",L),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=jR(s),L=n("text"),Y=document.getElementById(L)||document.createElement("span"),Z=n("learnmore"),F=document.getElementById(Z)||document.createElement("a"),ce=n("preprendIcon"),he=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const se=A.element;m(se),v(F,Z);const Re=g();p(he,ce),se.append(he,Y,F,Re),document.body.appendChild(se)}u?(Y.innerText="Preview backend disconnected.",he.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(he.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function qR(){var r;const e=(r=of())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const r=Zn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $R(){return!qR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YR(){try{return typeof indexedDB=="object"}catch{return!1}}function KR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="FirebaseError";class Is extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=XR,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?WR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Is(o,m,s)}}function WR(r,e){return r.replace(JR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JR=/\{\$([^}]+)}/g;function ZR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function wa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(T0(u)&&T0(f)){if(!wa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function T0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function e2(r,e){const n=new t2(r,e);return n.subscribe.bind(n)}class t2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");n2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r){return r&&r._delegate?r._delegate:r}class ao{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new LR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s2(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:r2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r2(r){return r===no?void 0:r}function s2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const o2={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},l2=Ze.INFO,u2={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},c2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=u2[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=c2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const h2=(r,e)=>e.some(n=>r instanceof n);let w0,b0;function f2(){return w0||(w0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d2(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,Zm=new WeakMap,DT=new WeakMap,Dm=new WeakMap,kp=new WeakMap;function m2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(pa(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&NT.set(n,r)}).catch(()=>{}),kp.set(e,r),e}function p2(r){if(Zm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Zm.set(r,e)}let ep={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||DT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function g2(r){ep=r(ep)}function y2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Mm(this),e,...n);return DT.set(s,e.sort?e.sort():[e]),pa(s)}:d2().includes(r)?function(...e){return r.apply(Mm(this),e),pa(NT.get(this))}:function(...e){return pa(r.apply(Mm(this),e))}}function v2(r){return typeof r=="function"?y2(r):(r instanceof IDBTransaction&&p2(r),h2(r,f2())?new Proxy(r,ep):r)}function pa(r){if(r instanceof IDBRequest)return m2(r);if(Dm.has(r))return Dm.get(r);const e=v2(r);return e!==r&&(Dm.set(r,e),kp.set(e,r)),e}const Mm=r=>kp.get(r);function _2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=pa(f);return s&&f.addEventListener("upgradeneeded",p=>{s(pa(f.result),p.oldVersion,p.newVersion,pa(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const E2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],Om=new Map;function S0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=T2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||E2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Om.set(e,u),u}g2(r=>({...r,get:(e,n,s)=>S0(e,n)||r.get(e,n,s),has:(e,n)=>!!S0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function b2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",A0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Vp("@firebase/app"),S2="@firebase/app-compat",A2="@firebase/analytics-compat",R2="@firebase/analytics",C2="@firebase/app-check-compat",I2="@firebase/app-check",x2="@firebase/auth",N2="@firebase/auth-compat",D2="@firebase/database",M2="@firebase/data-connect",O2="@firebase/database-compat",V2="@firebase/functions",k2="@firebase/functions-compat",P2="@firebase/installations",L2="@firebase/installations-compat",U2="@firebase/messaging",z2="@firebase/messaging-compat",j2="@firebase/performance",B2="@firebase/performance-compat",q2="@firebase/remote-config",H2="@firebase/remote-config-compat",F2="@firebase/storage",G2="@firebase/storage-compat",Q2="@firebase/firestore",$2="@firebase/ai",Y2="@firebase/firestore-compat",K2="firebase",X2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",W2={[tp]:"fire-core",[S2]:"fire-core-compat",[R2]:"fire-analytics",[A2]:"fire-analytics-compat",[I2]:"fire-app-check",[C2]:"fire-app-check-compat",[x2]:"fire-auth",[N2]:"fire-auth-compat",[D2]:"fire-rtdb",[M2]:"fire-data-connect",[O2]:"fire-rtdb-compat",[V2]:"fire-fn",[k2]:"fire-fn-compat",[P2]:"fire-iid",[L2]:"fire-iid-compat",[U2]:"fire-fcm",[z2]:"fire-fcm-compat",[j2]:"fire-perf",[B2]:"fire-perf-compat",[q2]:"fire-rc",[H2]:"fire-rc-compat",[F2]:"fire-gcs",[G2]:"fire-gcs-compat",[Q2]:"fire-fst",[Y2]:"fire-fst-compat",[$2]:"fire-vertex","fire-js":"fire-js",[K2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,J2=new Map,ip=new Map;function R0(r,e){try{r.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ll(r){const e=r.name;if(ip.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,r);for(const n of Uh.values())R0(n,r);for(const n of J2.values())R0(n,r);return!0}function Pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function or(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ga=new ju("app","Firebase",Z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=X2;function MT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:np,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ga.create("bad-app-name",{appName:String(o)});if(n||(n=RT()),!n)throw ga.create("no-options");const u=Uh.get(o);if(u){if(wa(n,u.options)&&wa(s,u.config))return u;throw ga.create("duplicate-app",{appName:o})}const f=new a2(o);for(const p of ip.values())f.addComponent(p);const m=new eC(n,s,f);return Uh.set(o,m),m}function OT(r=np){const e=Uh.get(r);if(!e&&r===np&&RT())return MT();if(!e)throw ga.create("no-app",{appName:r});return e}function ya(r,e,n){var s;let o=(s=W2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(m.join(" "));return}ll(new ao(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebase-heartbeat-database",nC=1,xu="firebase-heartbeat-store";let Vm=null;function VT(){return Vm||(Vm=_2(tC,nC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(xu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ga.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function iC(r){try{const n=(await VT()).transaction(xu),s=await n.objectStore(xu).get(kT(r));return await n.done,s}catch(e){if(e instanceof Is)ws.warn(e.message);else{const n=ga.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(n.message)}}}async function C0(r,e){try{const s=(await VT()).transaction(xu,"readwrite");await s.objectStore(xu).put(e,kT(r)),await s.done}catch(n){if(n instanceof Is)ws.warn(n.message);else{const s=ga.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ws.warn(s.message)}}}function kT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,sC=30;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=I0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>sC){const f=uC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ws.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=I0(),{heartbeatsToSend:s,unsentEntries:o}=oC(this._heartbeatsCache.heartbeats),u=Lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ws.warn(n),""}}}function I0(){return new Date().toISOString().substring(0,10)}function oC(r,e=rC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),x0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),x0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YR()?KR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function x0(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function uC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(r){ll(new ao("platform-logger",e=>new w2(e),"PRIVATE")),ll(new ao("heartbeat",e=>new aC(e),"PRIVATE")),ya(tp,A0,r),ya(tp,A0,"esm2017"),ya("fire-js","")}cC("");function Lp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=PT,LT=new ju("auth","Firebase",PT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Vp("@firebase/auth");function fC(r,...e){zh.logLevel<=Ze.WARN&&zh.warn(`Auth (${vl}): ${r}`,...e)}function Rh(r,...e){zh.logLevel<=Ze.ERROR&&zh.error(`Auth (${vl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,...e){throw zp(r,...e)}function Sr(r,...e){return zp(r,...e)}function Up(r,e,n){const s=Object.assign(Object.assign({},hC()),{[e]:n});return new ju("auth","Firebase",s).create(e,{appName:r.name})}function va(r){return Up(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UT(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Fr(r,"argument-error"),Up(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return LT.create(r,...e)}function ke(r,e,...n){if(!r)throw zp(e,...n)}function ys(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Rh(e),new Error(e)}function bs(r,e){r||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function dC(){return N0()==="http:"||N0()==="https:"}function N0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dC()||FR()||"connection"in navigator)?navigator.onLine:!0}function pC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=BR()||GR()}get(){return mC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r,e){bs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vC=new qu(3e4,6e4);function Bp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _l(r,e,n,s,o={}){return jT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Bu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return HR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&yl(r.emulatorConfig.host)&&(g.credentials="include"),zT.fetch()(await BT(r,r.config.apiHost,n,m),g)})}async function jT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},gC),e);try{const o=new EC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ph(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ph(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ph(r,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Up(r,v,g);Fr(r,v)}}catch(o){if(o instanceof Is)throw o;Fr(r,"network-request-failed",{message:String(o)})}}async function _C(r,e,n,s,o={}){const u=await _l(r,e,n,s,o);return"mfaPendingCredential"in u&&Fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function BT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?jp(r.config,o):`${r.config.apiScheme}://${o}`;return yC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class EC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Sr(this.auth,"network-request-failed")),vC.get())})}}function ph(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Sr(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e){return _l(r,"POST","/v1/accounts:delete",e)}async function jh(r,e){return _l(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wC(r,e=!1){const n=Jt(r),s=await n.getIdToken(e),o=qp(s);ke(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Eu(km(o.auth_time)),issuedAtTime:Eu(km(o.iat)),expirationTime:Eu(km(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function km(r){return Number(r)*1e3}function qp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ST(n);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function D0(r){const e=qp(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Is&&bC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Nu(r,jh(n,{idToken:s}));ke(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?qT(u.providerUserInfo):[],m=RC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new sp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,w)}async function AC(r){const e=Jt(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qT(r){return r.map(e=>{var{providerId:n}=e,s=Lp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e){const n=await jT(r,{},async()=>{const s=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await BT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&yl(r.emulatorConfig.host)&&(p.credentials="include"),zT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IC(r,e){return _l(r,"POST","/v2/accounts:revokeToken",Bp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=D0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await CC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new rl;return s&&(ke(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ke(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ke(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new sp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wC(this,e)}reload(){return AC(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(va(this.auth));const e=await this.getIdToken();return await Nu(this,TC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,v;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,Y=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ce=(g=n.createdAt)!==null&&g!==void 0?g:void 0,he=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:se,emailVerified:Re,isAnonymous:Pe,providerData:De,stsTokenManager:D}=n;ke(se&&D,e,"internal-error");const C=rl.fromJSON(this.name,D);ke(typeof se=="string",e,"internal-error"),ua(w,e.name),ua(A,e.name),ke(typeof Re=="boolean",e,"internal-error"),ke(typeof Pe=="boolean",e,"internal-error"),ua(L,e.name),ua(Y,e.name),ua(Z,e.name),ua(F,e.name),ua(ce,e.name),ua(he,e.name);const I=new br({uid:se,auth:e,email:A,emailVerified:Re,displayName:w,isAnonymous:Pe,photoURL:Y,phoneNumber:L,tenantId:Z,stsTokenManager:C,createdAt:ce,lastLoginAt:he});return De&&Array.isArray(De)&&(I.providerData=De.map(k=>Object.assign({},k))),F&&(I._redirectEventId=F),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new rl;o.updateFromServerResponse(n);const u=new br({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ke(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new rl;m.updateFromIdToken(s);const p=new br({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;function vs(r){bs(r instanceof Function,"Expected a class definition");let e=M0.get(r);return e?(bs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,M0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HT.type="NONE";const ap=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r,e,n){return`firebase:${r}:${e}:${n}`}class sl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jh(this.auth,{idToken:e}).catch(()=>{});return n?br._fromGetAccountInfoResponse(this.auth,n,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new sl(vs(ap),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||vs(ap);const f=Ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let w;if(typeof v=="string"){const A=await jh(e,{idToken:v}).catch(()=>{});if(!A)break;w=await br._fromGetAccountInfoResponse(e,A,v)}else w=br._fromJSON(e,v);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new sl(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new sl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(XT(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function FT(r=Zn()){return/firefox\//i.test(r)}function GT(r=Zn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(r=Zn()){return/crios\//i.test(r)}function $T(r=Zn()){return/iemobile/i.test(r)}function YT(r=Zn()){return/android/i.test(r)}function KT(r=Zn()){return/blackberry/i.test(r)}function XT(r=Zn()){return/webos/i.test(r)}function Hp(r=Zn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xC(r=Zn()){var e;return Hp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NC(){return QR()&&document.documentMode===10}function WT(r=Zn()){return Hp(r)||YT(r)||XT(r)||KT(r)||/windows phone/i.test(r)||$T(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r,e=[]){let n;switch(r){case"Browser":n=O0(Zn());break;case"Worker":n=`${O0(Zn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r,e={}){return _l(r,"GET","/v2/passwordPolicy",Bp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=6;class VC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:OC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new DC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vs(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jh(this,{idToken:e}),s=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(va(this));const n=e?Jt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MC(this),n=new VC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await IC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vs(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hu(r){return Jt(r)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=e2(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PC(r){Fp=r}function LC(r){return Fp.loadJS(r)}function UC(){return Fp.gapiScript}function zC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r,e){const n=Pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(wa(u,e??{}))return o;Fr(o,"already-initialized")}return n.initialize({options:e})}function BC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(vs);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function qC(r,e,n){const s=Hu(r);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ZT(e),{host:f,port:m}=HC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(wa(g,s.config.emulator)&&wa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,yl(f)?(IT(`${u}//${f}${p}`),xT("Auth",!0)):FC()}function ZT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function HC(r){const e=ZT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:k0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:k0(f)}}}function k0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function FC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(r,e){return _C(r,"POST","/v1/accounts:signInWithIdp",Bp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="http://localhost";class oo extends ew{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Lp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new oo(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,al(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:GC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends lf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Fu{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ca.credential(e.oauthAccessToken)}catch{return null}}}ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Fu{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.GITHUB_SIGN_IN_METHOD="github.com";ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Fu{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return fa.credential(n,s)}catch{return null}}}fa.TWITTER_SIGN_IN_METHOD="twitter.com";fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await br._fromIdTokenResponse(e,s,o),f=P0(s);return new ul({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=P0(s);return new ul({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function P0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Is{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qh(e,n,s,o)}}function tw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function QC(r,e,n=!1){const s=await Nu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ul._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(r,e,n=!1){const{auth:s}=r;if(or(s.app))return Promise.reject(va(s));const o="reauthenticate";try{const u=await Nu(r,tw(s,o,e,r),n);ke(u.idToken,s,"internal-error");const f=qp(u.idToken);ke(f,s,"internal-error");const{sub:m}=f;return ke(r.uid===m,s,"user-mismatch"),ul._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Fr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(r,e,n=!1){if(or(r.app))return Promise.reject(va(r));const s="signIn",o=await tw(r,s,e),u=await ul._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r,e){return Jt(r).setPersistence(e)}function KC(r,e,n,s){return Jt(r).onIdTokenChanged(e,n,s)}function XC(r,e,n){return Jt(r).beforeAuthStateChanged(e,n)}function nw(r,e,n,s){return Jt(r).onAuthStateChanged(e,n,s)}function WC(r){return Jt(r).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1e3,ZC=10;class rw extends iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);NC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rw.type="LOCAL";const uf=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sw.type="SESSION";const aw=sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await eI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function nI(r){jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function iI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function sI(){return ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebaseLocalStorageDb",aI=1,Fh="firebaseLocalStorage",uw="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function oI(){const r=indexedDB.deleteDatabase(lw);return new Gu(r).toPromise()}function op(){const r=indexedDB.open(lw,aI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:uw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await oI(),e(await op()))})})}async function L0(r,e,n){const s=hf(r,!0).put({[uw]:e,value:n});return new Gu(s).toPromise()}async function lI(r,e){const n=hf(r,!1).get(e),s=await new Gu(n).toPromise();return s===void 0?null:s.value}function U0(r,e){const n=hf(r,!0).delete(e);return new Gu(n).toPromise()}const uI=800,cI=3;class cw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(sI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iI(),!this.activeServiceWorker)return;this.sender=new tI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await L0(e,Hh,"1"),await U0(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>L0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>lI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new Gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cw.type="LOCAL";const hw=cw;new qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,e){return e?vs(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends ew{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hI(r){return YC(r.auth,new $p(r),r.bypassAuthState)}function fI(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),$C(n,new $p(r),r.bypassAuthState)}async function dI(r){const{auth:e,user:n}=r;return ke(n,e,"internal-error"),QC(n,new $p(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hI;case"linkViaPopup":case"linkViaRedirect":return dI;case"reauthViaPopup":case"reauthViaRedirect":return fI;default:Fr(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new qu(2e3,1e4);async function pI(r,e,n){if(or(r.app))return Promise.reject(Sr(r,"operation-not-supported-in-this-environment"));const s=Hu(r);UT(r,e,lf);const o=Qp(s,n);return new io(s,"signInViaPopup",e,o).executeNotNull()}class io extends fw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mI.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="pendingRedirect",Ih=new Map;class yI extends fw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const s=await vI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vI(r,e){const n=mw(e),s=dw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function _I(r,e){return dw(r)._set(mw(e),"true")}function EI(r,e){Ih.set(r._key(),e)}function dw(r){return vs(r._redirectPersistence)}function mw(r){return Ch(gI,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e,n){return TI(r,e,n)}async function TI(r,e,n){if(or(r.app))return Promise.reject(va(r));const s=Hu(r);UT(r,e,lf),await s._initializationPromise;const o=Qp(s,n);return await _I(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function wI(r,e,n=!1){if(or(r.app))return Promise.reject(va(r));const s=Hu(r),o=Qp(s,e),f=await new yI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=600*1e3;class SI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!pw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bI&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,e={}){return _l(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,II=/^https?/;async function xI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RI(r);for(const n of e)try{if(NI(n))return}catch{}Fr(r,"unauthorized-domain")}function NI(r){const e=rp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!II.test(n))return!1;if(CI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new qu(3e4,6e4);function B0(){const r=jr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MI(r){return new Promise((e,n)=>{var s,o,u;function f(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(Sr(r,"network-request-failed"))},timeout:DI.get()})}if(!((o=(s=jr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=jr().gapi)===null||u===void 0)&&u.load)f();else{const m=zC("iframefcb");return jr()[m]=()=>{gapi.load?f():n(Sr(r,"network-request-failed"))},LC(`${UC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw xh=null,e})}let xh=null;function OI(r){return xh=xh||MI(r),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new qu(5e3,15e3),kI="__/auth/iframe",PI="emulator/auth/iframe",LI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?jp(e,PI):`https://${r.config.authDomain}/${kI}`,s={apiKey:e.apiKey,appName:r.name,v:vl},o=UI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bu(s).slice(1)}`}async function jI(r){const e=await OI(r),n=jr().gapi;return ke(n,r,"internal-error"),e.open({where:document.body,url:zI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Sr(r,"network-request-failed"),m=jr().setTimeout(()=>{u(f)},VI.get());function p(){jr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qI=500,HI=600,FI="_blank",GI="http://localhost";class q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QI(r,e,n,s=qI,o=HI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},BI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Zn().toLowerCase();n&&(m=QT(g)?FI:n),FT(g)&&(e=e||GI,p.scrollbars="yes");const v=Object.entries(p).reduce((A,[L,Y])=>`${A}${L}=${Y},`,"");if(xC(g)&&m!=="_self")return $I(e||"",m),new q0(null);const w=window.open(e||"",m,v);ke(w,r,"popup-blocked");try{w.focus()}catch{}return new q0(w)}function $I(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="__/auth/handler",KI="emulator/auth/handler",XI=encodeURIComponent("fac");async function H0(r,e,n,s,o,u){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:vl,eventId:o};if(e instanceof lf){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",ZR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))f[v]=w}if(e instanceof Fu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${XI}=${encodeURIComponent(p)}`:"";return`${WI(r)}?${Bu(m).slice(1)}${g}`}function WI({config:r}){return r.emulator?jp(r,KI):`https://${r.authDomain}/${YI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class JI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=wI,this._overrideRedirectResult=EI}async _openPopup(e,n,s,o){var u;bs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await H0(e,n,s,rp(),o);return QI(e,f,Gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await H0(e,n,s,rp(),o);return nI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jI(e),s=new SI(e);return n.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Pm];f!==void 0&&n(!!f),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WT()||GT()||Hp()}}const ZI=JI;var F0="@firebase/auth",G0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nx(r){ll(new ao("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ke(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JT(r)},g=new kC(s,o,u,p);return BC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ll(new ao("auth-internal",e=>{const n=Hu(e.getProvider("auth").getImmediate());return(s=>new ex(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ya(F0,G0,tx(r)),ya(F0,G0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=300,rx=CT("authIdTokenMaxAge")||ix;let Q0=null;const sx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rx)return;const o=n==null?void 0:n.token;Q0!==o&&(Q0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ax(r=OT()){const e=Pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=jC(r,{popupRedirectResolver:ZI,persistence:[hw,uf,aw]}),s=CT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=sx(u.toString());XC(n,f,()=>f(n.currentUser)),KC(n,m=>f(m))}}const o=AT("auth");return o&&qC(n,`http://${o}`),n}function ox(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}PC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Sr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ox().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nx("Browser");var $0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,gw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function I(){}I.prototype=C.prototype,D.D=C.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(k,U,z){for(var N=Array(arguments.length-2),St=2;St<arguments.length;St++)N[St-2]=arguments[St];return C.prototype[U].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,I){I||(I=0);var k=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)k[U]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(U=0;16>U;++U)k[U]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=D.g[0],I=D.g[1],U=D.g[2];var z=D.g[3],N=C+(z^I&(U^z))+k[0]+3614090360&4294967295;C=I+(N<<7&4294967295|N>>>25),N=z+(U^C&(I^U))+k[1]+3905402710&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(I^z&(C^I))+k[2]+606105819&4294967295,U=z+(N<<17&4294967295|N>>>15),N=I+(C^U&(z^C))+k[3]+3250441966&4294967295,I=U+(N<<22&4294967295|N>>>10),N=C+(z^I&(U^z))+k[4]+4118548399&4294967295,C=I+(N<<7&4294967295|N>>>25),N=z+(U^C&(I^U))+k[5]+1200080426&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(I^z&(C^I))+k[6]+2821735955&4294967295,U=z+(N<<17&4294967295|N>>>15),N=I+(C^U&(z^C))+k[7]+4249261313&4294967295,I=U+(N<<22&4294967295|N>>>10),N=C+(z^I&(U^z))+k[8]+1770035416&4294967295,C=I+(N<<7&4294967295|N>>>25),N=z+(U^C&(I^U))+k[9]+2336552879&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(I^z&(C^I))+k[10]+4294925233&4294967295,U=z+(N<<17&4294967295|N>>>15),N=I+(C^U&(z^C))+k[11]+2304563134&4294967295,I=U+(N<<22&4294967295|N>>>10),N=C+(z^I&(U^z))+k[12]+1804603682&4294967295,C=I+(N<<7&4294967295|N>>>25),N=z+(U^C&(I^U))+k[13]+4254626195&4294967295,z=C+(N<<12&4294967295|N>>>20),N=U+(I^z&(C^I))+k[14]+2792965006&4294967295,U=z+(N<<17&4294967295|N>>>15),N=I+(C^U&(z^C))+k[15]+1236535329&4294967295,I=U+(N<<22&4294967295|N>>>10),N=C+(U^z&(I^U))+k[1]+4129170786&4294967295,C=I+(N<<5&4294967295|N>>>27),N=z+(I^U&(C^I))+k[6]+3225465664&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^I&(z^C))+k[11]+643717713&4294967295,U=z+(N<<14&4294967295|N>>>18),N=I+(z^C&(U^z))+k[0]+3921069994&4294967295,I=U+(N<<20&4294967295|N>>>12),N=C+(U^z&(I^U))+k[5]+3593408605&4294967295,C=I+(N<<5&4294967295|N>>>27),N=z+(I^U&(C^I))+k[10]+38016083&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^I&(z^C))+k[15]+3634488961&4294967295,U=z+(N<<14&4294967295|N>>>18),N=I+(z^C&(U^z))+k[4]+3889429448&4294967295,I=U+(N<<20&4294967295|N>>>12),N=C+(U^z&(I^U))+k[9]+568446438&4294967295,C=I+(N<<5&4294967295|N>>>27),N=z+(I^U&(C^I))+k[14]+3275163606&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^I&(z^C))+k[3]+4107603335&4294967295,U=z+(N<<14&4294967295|N>>>18),N=I+(z^C&(U^z))+k[8]+1163531501&4294967295,I=U+(N<<20&4294967295|N>>>12),N=C+(U^z&(I^U))+k[13]+2850285829&4294967295,C=I+(N<<5&4294967295|N>>>27),N=z+(I^U&(C^I))+k[2]+4243563512&4294967295,z=C+(N<<9&4294967295|N>>>23),N=U+(C^I&(z^C))+k[7]+1735328473&4294967295,U=z+(N<<14&4294967295|N>>>18),N=I+(z^C&(U^z))+k[12]+2368359562&4294967295,I=U+(N<<20&4294967295|N>>>12),N=C+(I^U^z)+k[5]+4294588738&4294967295,C=I+(N<<4&4294967295|N>>>28),N=z+(C^I^U)+k[8]+2272392833&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^I)+k[11]+1839030562&4294967295,U=z+(N<<16&4294967295|N>>>16),N=I+(U^z^C)+k[14]+4259657740&4294967295,I=U+(N<<23&4294967295|N>>>9),N=C+(I^U^z)+k[1]+2763975236&4294967295,C=I+(N<<4&4294967295|N>>>28),N=z+(C^I^U)+k[4]+1272893353&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^I)+k[7]+4139469664&4294967295,U=z+(N<<16&4294967295|N>>>16),N=I+(U^z^C)+k[10]+3200236656&4294967295,I=U+(N<<23&4294967295|N>>>9),N=C+(I^U^z)+k[13]+681279174&4294967295,C=I+(N<<4&4294967295|N>>>28),N=z+(C^I^U)+k[0]+3936430074&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^I)+k[3]+3572445317&4294967295,U=z+(N<<16&4294967295|N>>>16),N=I+(U^z^C)+k[6]+76029189&4294967295,I=U+(N<<23&4294967295|N>>>9),N=C+(I^U^z)+k[9]+3654602809&4294967295,C=I+(N<<4&4294967295|N>>>28),N=z+(C^I^U)+k[12]+3873151461&4294967295,z=C+(N<<11&4294967295|N>>>21),N=U+(z^C^I)+k[15]+530742520&4294967295,U=z+(N<<16&4294967295|N>>>16),N=I+(U^z^C)+k[2]+3299628645&4294967295,I=U+(N<<23&4294967295|N>>>9),N=C+(U^(I|~z))+k[0]+4096336452&4294967295,C=I+(N<<6&4294967295|N>>>26),N=z+(I^(C|~U))+k[7]+1126891415&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~I))+k[14]+2878612391&4294967295,U=z+(N<<15&4294967295|N>>>17),N=I+(z^(U|~C))+k[5]+4237533241&4294967295,I=U+(N<<21&4294967295|N>>>11),N=C+(U^(I|~z))+k[12]+1700485571&4294967295,C=I+(N<<6&4294967295|N>>>26),N=z+(I^(C|~U))+k[3]+2399980690&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~I))+k[10]+4293915773&4294967295,U=z+(N<<15&4294967295|N>>>17),N=I+(z^(U|~C))+k[1]+2240044497&4294967295,I=U+(N<<21&4294967295|N>>>11),N=C+(U^(I|~z))+k[8]+1873313359&4294967295,C=I+(N<<6&4294967295|N>>>26),N=z+(I^(C|~U))+k[15]+4264355552&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~I))+k[6]+2734768916&4294967295,U=z+(N<<15&4294967295|N>>>17),N=I+(z^(U|~C))+k[13]+1309151649&4294967295,I=U+(N<<21&4294967295|N>>>11),N=C+(U^(I|~z))+k[4]+4149444226&4294967295,C=I+(N<<6&4294967295|N>>>26),N=z+(I^(C|~U))+k[11]+3174756917&4294967295,z=C+(N<<10&4294967295|N>>>22),N=U+(C^(z|~I))+k[2]+718787259&4294967295,U=z+(N<<15&4294967295|N>>>17),N=I+(z^(U|~C))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var I=C-this.blockSize,k=this.B,U=this.h,z=0;z<C;){if(U==0)for(;z<=I;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<C;)if(k[U++]=D.charCodeAt(z++),U==this.blockSize){o(this,k),U=0;break}}else for(;z<C;)if(k[U++]=D[z++],U==this.blockSize){o(this,k),U=0;break}}this.h=U,this.o+=C},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var I=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=I&255,I/=256;for(this.u(D),D=Array(16),C=I=0;4>C;++C)for(var k=0;32>k;k+=8)D[I++]=this.g[C]>>>k&255;return D};function u(D,C){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=C(D)}function f(D,C){this.h=C;for(var I=[],k=!0,U=D.length-1;0<=U;U--){var z=D[U]|0;k&&z==C||(I[U]=z,k=!1)}this.g=I}var m={};function p(D){return-128<=D&&128>D?u(D,function(C){return new f([C|0],0>C?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return F(g(-D));for(var C=[],I=1,k=0;D>=I;k++)C[k]=D/I|0,I*=4294967296;return new f(C,0)}function v(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return F(v(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(C,8)),k=w,U=0;U<D.length;U+=8){var z=Math.min(8,D.length-U),N=parseInt(D.substring(U,U+z),C);8>z?(z=g(Math.pow(C,z)),k=k.j(z).add(g(N))):(k=k.j(I),k=k.add(g(N)))}return k}var w=p(0),A=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(Z(this))return-F(this).m();for(var D=0,C=1,I=0;I<this.g.length;I++){var k=this.i(I);D+=(0<=k?k:4294967296+k)*C,C*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(Y(this))return"0";if(Z(this))return"-"+F(this).toString(D);for(var C=g(Math.pow(D,6)),I=this,k="";;){var U=Re(I,C).g;I=ce(I,U.j(C));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=U,Y(I))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function Y(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function Z(D){return D.h==-1}r.l=function(D){return D=ce(this,D),Z(D)?-1:Y(D)?0:1};function F(D){for(var C=D.g.length,I=[],k=0;k<C;k++)I[k]=~D.g[k];return new f(I,~D.h).add(A)}r.abs=function(){return Z(this)?F(this):this},r.add=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],k=0,U=0;U<=C;U++){var z=k+(this.i(U)&65535)+(D.i(U)&65535),N=(z>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);k=N>>>16,z&=65535,N&=65535,I[U]=N<<16|z}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ce(D,C){return D.add(F(C))}r.j=function(D){if(Y(this)||Y(D))return w;if(Z(this))return Z(D)?F(this).j(F(D)):F(F(this).j(D));if(Z(D))return F(this.j(F(D)));if(0>this.l(L)&&0>D.l(L))return g(this.m()*D.m());for(var C=this.g.length+D.g.length,I=[],k=0;k<2*C;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var U=0;U<D.g.length;U++){var z=this.i(k)>>>16,N=this.i(k)&65535,St=D.i(U)>>>16,ft=D.i(U)&65535;I[2*k+2*U]+=N*ft,he(I,2*k+2*U),I[2*k+2*U+1]+=z*ft,he(I,2*k+2*U+1),I[2*k+2*U+1]+=N*St,he(I,2*k+2*U+1),I[2*k+2*U+2]+=z*St,he(I,2*k+2*U+2)}for(k=0;k<C;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=C;k<2*C;k++)I[k]=0;return new f(I,0)};function he(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function se(D,C){this.g=D,this.h=C}function Re(D,C){if(Y(C))throw Error("division by zero");if(Y(D))return new se(w,w);if(Z(D))return C=Re(F(D),C),new se(F(C.g),F(C.h));if(Z(C))return C=Re(D,F(C)),new se(F(C.g),C.h);if(30<D.g.length){if(Z(D)||Z(C))throw Error("slowDivide_ only works with positive integers.");for(var I=A,k=C;0>=k.l(D);)I=Pe(I),k=Pe(k);var U=De(I,1),z=De(k,1);for(k=De(k,2),I=De(I,2);!Y(k);){var N=z.add(k);0>=N.l(D)&&(U=U.add(I),z=N),k=De(k,1),I=De(I,1)}return C=ce(D,U.j(C)),new se(U,C)}for(U=w;0<=D.l(C);){for(I=Math.max(1,Math.floor(D.m()/C.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=g(I),N=z.j(C);Z(N)||0<N.l(D);)I-=k,z=g(I),N=z.j(C);Y(z)&&(z=A),U=U.add(z),D=ce(D,N)}return new se(U,D)}r.A=function(D){return Re(this,D).h},r.and=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)&D.i(k);return new f(I,this.h&D.h)},r.or=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)|D.i(k);return new f(I,this.h|D.h)},r.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),I=[],k=0;k<C;k++)I[k]=this.i(k)^D.i(k);return new f(I,this.h^D.h)};function Pe(D){for(var C=D.g.length+1,I=[],k=0;k<C;k++)I[k]=D.i(k)<<1|D.i(k-1)>>>31;return new f(I,D.h)}function De(D,C){var I=C>>5;C%=32;for(var k=D.g.length-I,U=[],z=0;z<k;z++)U[z]=0<C?D.i(z+I)>>>C|D.i(z+I+1)<<32-C:D.i(z+I);return new f(U,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,_a=f}).apply(typeof $0<"u"?$0:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,pu,vw,Nh,lp,_w,Ew,Tw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,E){return c==Array.prototype||c==Object.prototype||(c[y]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var G=c[R];if(!(G in E))break e;E=E[G]}c=c[c.length-1],R=E[c],y=y(R),y!=R&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var E=0,R=!1,G={next:function(){if(!R&&E<c.length){var J=E++;return{value:y(J,c[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,E){return c.call.apply(c.bind,arguments)}function w(c,y,E){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,R),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function A(c,y,E){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,A.apply(null,arguments)}function L(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function Y(c,y){function E(){}E.prototype=y.prototype,c.aa=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(R,G,J){for(var pe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)pe[dt-2]=arguments[dt];return y.prototype[G].apply(R,pe)}}function Z(c){const y=c.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=c[R];return E}return[]}function F(c,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(p(R)){const G=c.length||0,J=R.length||0;c.length=G+J;for(let pe=0;pe<J;pe++)c[G+pe]=R[pe]}else c.push(R)}}class ce{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function he(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Re(c){return Re[" "](c),c}Re[" "]=function(){};var Pe=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function De(c,y,E){for(const R in c)y.call(E,c[R],R,c)}function D(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function C(c){const y={};for(const E in c)y[E]=c[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let E,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(E in R)c[E]=R[E];for(let J=0;J<I.length;J++)E=I[J],Object.prototype.hasOwnProperty.call(R,E)&&(c[E]=R[E])}}function U(c){var y=1;c=c.split(":");const E=[];for(;0<y&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function z(c){m.setTimeout(()=>{throw c},0)}function N(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class St{constructor(){this.h=this.g=null}add(y,E){const R=ft.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var ft=new ce(()=>new te,c=>c.reset());class te{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,be=!1,He=new St,H=()=>{const c=m.Promise.resolve(void 0);de=()=>{c.then(T)}};var T=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(E){z(E)}var y=ft;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}be=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var le=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,y),m.removeEventListener("test",E,y)}catch{}return c})();function ue(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Pe){e:{try{Re(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ue.aa.h.call(this)}}Y(ue,X);var me={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ie(c,y,E,R,G){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=G,this.key=++Se,this.da=this.fa=!1}function $e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fe(c){this.src=c,this.g={},this.h=0}Fe.prototype.add=function(c,y,E,R,G){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var pe=At(c,y,R,G);return-1<pe?(y=c[pe],E||(y.fa=!1)):(y=new Ie(y,this.src,J,!!R,G),y.fa=E,c.push(y)),y};function st(c,y){var E=y.type;if(E in c.g){var R=c.g[E],G=Array.prototype.indexOf.call(R,y,void 0),J;(J=0<=G)&&Array.prototype.splice.call(R,G,1),J&&($e(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function At(c,y,E,R){for(var G=0;G<c.length;++G){var J=c[G];if(!J.da&&J.listener==y&&J.capture==!!E&&J.ha==R)return G}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Lt={};function Gt(c,y,E,R,G){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Gt(c,y[J],E,R,G);return null}return E=xs(E),c&&c[fe]?c.K(y,E,g(R)?!!R.capture:!1,G):Tn(c,y,E,!1,R,G)}function Tn(c,y,E,R,G,J){if(!y)throw Error("Invalid event type");var pe=g(G)?!!G.capture:!!G,dt=Qr(c);if(dt||(c[Me]=dt=new Fe(c)),E=dt.add(y,E,R,pe,J),E.proxy)return E;if(R=Fn(),E.proxy=R,R.src=c,R.listener=E,c.addEventListener)le||(G=pe),G===void 0&&(G=!1),c.addEventListener(y.toString(),R,G);else if(c.attachEvent)c.attachEvent(Rr(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Fn(){function c(E){return y.call(c.src,c.listener,E)}const y=Oa;return c}function wn(c,y,E,R,G){if(Array.isArray(y))for(var J=0;J<y.length;J++)wn(c,y[J],E,R,G);else R=g(R)?!!R.capture:!!R,E=xs(E),c&&c[fe]?(c=c.i,y=String(y).toString(),y in c.g&&(J=c.g[y],E=At(J,E,R,G),-1<E&&($e(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete c.g[y],c.h--)))):c&&(c=Qr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=At(y,E,R,G)),(E=-1<c?y[c]:null)&&rn(E))}function rn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[fe])st(y.i,c);else{var E=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(E,R,c.capture):y.detachEvent?y.detachEvent(Rr(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Qr(y))?(st(E,c),E.h==0&&(E.src=null,y[Me]=null)):$e(c)}}}function Rr(c){return c in Lt?Lt[c]:Lt[c]="on"+c}function Oa(c,y){if(c.da)c=!0;else{y=new ue(y,this);var E=c.listener,R=c.ha||c.src;c.fa&&rn(c),c=E.call(R,y)}return c}function Qr(c){return c=c[Me],c instanceof Fe?c:null}var Qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xs(c){return typeof c=="function"?c:(c[Qt]||(c[Qt]=function(y){return c.handleEvent(y)}),c[Qt])}function Nt(){q.call(this),this.i=new Fe(this),this.M=this,this.F=null}Y(Nt,q),Nt.prototype[fe]=!0,Nt.prototype.removeEventListener=function(c,y,E,R){wn(this,c,y,E,R)};function Ut(c,y){var E,R=c.F;if(R)for(E=[];R;R=R.F)E.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var G=y;y=new X(R,c),k(y,G)}if(G=!0,E)for(var J=E.length-1;0<=J;J--){var pe=y.g=E[J];G=Gn(pe,R,!0,y)&&G}if(pe=y.g=c,G=Gn(pe,R,!0,y)&&G,G=Gn(pe,R,!1,y)&&G,E)for(J=0;J<E.length;J++)pe=y.g=E[J],G=Gn(pe,R,!1,y)&&G}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var E=c.g[y],R=0;R<E.length;R++)$e(E[R]);delete c.g[y],c.h--}}this.F=null},Nt.prototype.K=function(c,y,E,R){return this.i.add(String(c),y,!1,E,R)},Nt.prototype.L=function(c,y,E,R){return this.i.add(String(c),y,!0,E,R)};function Gn(c,y,E,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,J=0;J<y.length;++J){var pe=y[J];if(pe&&!pe.da&&pe.capture==E){var dt=pe.listener,sn=pe.ha||pe.src;pe.fa&&st(c.i,pe),G=dt.call(sn,R)!==!1&&G}}return G&&!R.defaultPrevented}function Ns(c,y,E){if(typeof c=="function")E&&(c=A(c,E));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Si(c){c.g=Ns(()=>{c.g=null,c.i&&(c.i=!1,Si(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cr extends q{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Si(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(c){q.call(this),this.h=c,this.g={}}Y(li,q);var ut=[];function mt(c){De(c.g,function(y,E){this.g.hasOwnProperty(E)&&rn(y)},c),c.g={}}li.prototype.N=function(){li.aa.N.call(this),mt(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=m.JSON.stringify,Dn=m.JSON.parse,po=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ds(){}Ds.prototype.h=null;function Cr(c){return c.h||(c.h=c.i())}function ui(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){X.call(this,"d")}Y(ji,X);function mn(){X.call(this,"c")}Y(mn,X);var $t={},Bi=null;function Ai(){return Bi=Bi||new Nt}$t.La="serverreachability";function Va(c){X.call(this,$t.La,c)}Y(Va,X);function Mn(c){const y=Ai();Ut(y,new Va(y))}$t.STAT_EVENT="statevent";function ci(c,y){X.call(this,$t.STAT_EVENT,c),this.stat=y}Y(ci,X);function Bt(c){const y=Ai();Ut(y,new ci(y,c))}$t.Ma="timingevent";function ka(c,y){X.call(this,$t.Ma,c),this.size=y}Y(ka,X);function pn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function ti(c,y,E,R,G,J){c.info(function(){if(c.g)if(J)for(var pe="",dt=J.split("&"),sn=0;sn<dt.length;sn++){var Ge=dt[sn].split("=");if(1<Ge.length){var An=Ge[0];Ge=Ge[1];var Rn=An.split("_");pe=2<=Rn.length&&Rn[1]=="type"?pe+(An+"="+Ge+"&"):pe+(An+"=redacted&")}}else pe=null;else pe=J;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+y+`
`+E+`
`+pe})}function qi(c,y,E,R,G,J,pe){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+y+`
`+E+`
`+J+" "+pe})}function gn(c,y,E,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Zt(c,E)+(R?" "+R:"")})}function Rt(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function Zt(c,y){if(!c.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var R=E[c];if(!(2>R.length)){var G=R[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var pe=1;pe<G.length;pe++)G[pe]=""}}}}return zt(E)}catch{return y}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ct={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Hi(){}Y(Hi,Ds),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},On=new Hi;function Fi(c,y,E,R){this.j=c,this.i=y,this.l=E,this.R=R||1,this.U=new li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new go}function go(){this.i=null,this.g="",this.h=!1}var Pa={},hr={};function $r(c,y,E){c.L=1,c.v=Wr(Dt(y)),c.m=E,c.P=!0,fr(c,null)}function fr(c,y){c.F=Date.now(),hi(c),c.A=Dt(c.v);var E=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),vr(E.i,"t",R),c.C=0,E=c.j.J,c.h=new go,c.g=sc(c.j,E?y:null,!c.m),0<c.O&&(c.M=new cr(A(c.Y,c,c.g),c.O)),y=c.U,E=c.g,R=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(ut[0]=G.toString()),G=ut);for(var J=0;J<G.length;J++){var pe=Gt(E,G[J],R||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mn(),ti(c.i,c.u,c.A,c.l,c.R,c.m)}Fi.prototype.ca=function(c){c=c.target;const y=this.M;y&&ge(c)==3?y.j():this.Y(c)},Fi.prototype.Y=function(c){try{if(c==this.g)e:{const Rn=ge(this.g);var y=this.g.Ba();const js=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||_e(this.g)))){this.J||Rn!=4||y==7||(y==8||0>=js?Mn(3):Mn(2)),Ir(this);var E=this.g.Z();this.X=E;t:if(dr(this)){var R=_e(this.g);c="";var G=R.length,J=ge(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),mr(this);var pe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(J&&y==G-1)});R.length=0,this.h.g+=c,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=E==200,qi(this.i,this.u,this.A,this.l,this.R,Rn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,sn=this.g;if((dt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!he(dt)){var Ge=dt;break t}}Ge=null}if(E=Ge)gn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fi(this,E);else{this.o=!1,this.s=3,Bt(12),Vn(this),mr(this);break e}}if(this.P){E=!0;let yi;for(;!this.J&&this.C<pe.length;)if(yi=Gi(this,pe),yi==hr){Rn==4&&(this.s=4,Bt(14),E=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==Pa){this.s=4,Bt(15),gn(this.i,this.l,pe,"[Invalid Chunk]"),E=!1;break}else gn(this.i,this.l,yi,null),fi(this,yi);if(dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||pe.length!=0||this.h.h||(this.s=1,Bt(16),E=!1),this.o=this.o&&E,!E)gn(this.i,this.l,pe,"[Invalid Chunked Response]"),Vn(this),mr(this);else if(0<pe.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ls(An),An.M=!0,Bt(11))}}else gn(this.i,this.l,pe,null),fi(this,pe);Rn==4&&Vn(this),this.o&&!this.J&&(Rn==4?za(this.j,this):(this.o=!1,hi(this)))}else at(this.g),E==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Vn(this),mr(this)}}}catch{}finally{}};function dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gi(c,y){var E=c.C,R=y.indexOf(`
`,E);return R==-1?hr:(E=Number(y.substring(E,R)),isNaN(E)?Pa:(R+=1,R+E>y.length?hr:(y=y.slice(R,R+E),c.C=R+E,y)))}Fi.prototype.cancel=function(){this.J=!0,Vn(this)};function hi(c){c.S=Date.now()+c.I,It(c,c.I)}function It(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pn(A(c.ba,c),y)}function Ir(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Fi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Rt(this.i,this.A),this.L!=2&&(Mn(),Bt(17)),Vn(this),this.s=2,mr(this)):It(this,this.S-c)};function mr(c){c.j.G==0||c.J||za(c.j,c)}function Vn(c){Ir(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,mt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fi(c,y){try{var E=c.j;if(E.G!=0&&(E.g==c||pr(E.h,c))){if(!c.K&&pr(E.h,c)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)Yt(E),je(E);else break e;Yn(E),Bt(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=pn(A(E.Za,E),6e3));if(1>=vo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Wi(E,11)}else if((c.K||E.g==c)&&Yt(E),!he(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let Ge=G[y];if(E.T=Ge[0],Ge=Ge[1],E.G==2)if(Ge[0]=="c"){E.K=Ge[1],E.ia=Ge[2];const An=Ge[3];An!=null&&(E.la=An,E.j.info("VER="+E.la));const Rn=Ge[4];Rn!=null&&(E.Aa=Rn,E.j.info("SVER="+E.Aa));const js=Ge[5];js!=null&&typeof js=="number"&&0<js&&(R=1.5*js,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const yi=c.g;if(yi){const ja=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var J=R.h;J.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Qi(J,J.h),J.h=null))}if(R.D){const es=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;es&&(R.ya=es,nt(R.I,R.D,es))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var pe=c;if(R.qa=rc(R,R.J?R.ia:null,R.W),pe.K){di(R.h,pe);var dt=pe,sn=R.L;sn&&(dt.I=sn),dt.B&&(Ir(dt),hi(dt)),R.g=pe}else Eo(R);0<E.i.length&&qt(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Wi(E,7);else E.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Wi(E,7):vt(E):Ge[0]!="noop"&&E.l&&E.l.ta(Ge),E.v=0)}}Mn(4)}catch{}}var yo=class{constructor(c,y){this.g=c,this.map=y}};function Ri(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vo(c){return c.h?1:c.g?c.g.size:0}function pr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Qi(c,y){c.g?c.g.add(y):c.h=y}function di(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ri.prototype.cancel=function(){if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function kn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.D);return y}return Z(c.i)}function Yr(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],E=c.length,R=0;R<E;R++)y.push(c[R]);return y}y=[],E=0;for(R in c)y[E++]=c[R];return y}function Rl(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var E=0;E<c;E++)y.push(E);return y}y=[],E=0;for(const R in c)y[E++]=R;return y}}}function Ms(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var E=Rl(c),R=Yr(c),G=R.length,J=0;J<G;J++)y.call(void 0,R[J],E&&E[J],c)}var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(c,y){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var R=c[E].indexOf("="),G=null;if(0<=R){var J=c[E].substring(0,R);G=c[E].substring(R+1)}else J=c[E];y(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof mi){this.h=c.h,xr(this,c.j),this.o=c.o,this.g=c.g,Kr(this,c.s),this.l=c.l;var y=c.i,E=new ni;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Xr(this,E),this.m=c.m}else c&&(y=String(c).match($i))?(this.h=!1,xr(this,y[1]||"",!0),this.o=Nr(y[2]||""),this.g=Nr(y[3]||"",!0),Kr(this,y[4]),this.l=Nr(y[5]||"",!0),Xr(this,y[6]||"",!0),this.m=Nr(y[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}mi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(pi(y,gr,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(pi(y,gr,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(pi(E,E.charAt(0)=="/"?Yi:Dr,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",pi(E,Vs)),c.join("")};function Dt(c){return new mi(c)}function xr(c,y,E){c.j=E?Nr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Kr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Xr(c,y,E){y instanceof ni?(c.i=y,_o(c.i,c.h)):(E||(y=pi(y,Mt)),c.i=new ni(y,c.h))}function nt(c,y,E){c.i.set(y,E)}function Wr(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pi(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Cl),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gr=/[#\/\?@]/g,Dr=/[#\?:]/g,Yi=/[#\?]/g,Mt=/[#\?@]/g,Vs=/#/g;function ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ot(c){c.g||(c.g=new Map,c.h=0,c.i&&Os(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=ni.prototype,r.add=function(c,y){Ot(this),this.i=null,c=ii(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function yr(c,y){Ot(c),y=ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ks(c,y){return Ot(c),y=ii(c,y),c.g.has(y)}r.forEach=function(c,y){Ot(this),this.g.forEach(function(E,R){E.forEach(function(G){c.call(y,G,R,this)},this)},this)},r.na=function(){Ot(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const G=c[R];for(let J=0;J<G.length;J++)E.push(y[R])}return E},r.V=function(c){Ot(this);let y=[];if(typeof c=="string")ks(this,c)&&(y=y.concat(this.g.get(ii(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)y=y.concat(c[E])}return y},r.set=function(c,y){return Ot(this),this.i=null,c=ii(this,c),ks(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function vr(c,y,E){yr(c,y),0<E.length&&(c.i=null,c.g.set(ii(c,y),Z(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const J=encodeURIComponent(String(R)),pe=this.V(R);for(R=0;R<pe.length;R++){var G=J;pe[R]!==""&&(G+="="+encodeURIComponent(String(pe[R]))),c.push(G)}}return this.i=c.join("&")};function ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _o(c,y){y&&!c.j&&(Ot(c),c.i=null,c.g.forEach(function(E,R){var G=R.toLowerCase();R!=G&&(yr(this,R),vr(this,G,E))},c)),c.j=y}function La(c,y){const E=new bn;if(m.Image){const R=new Image;R.onload=L($n,E,"TestLoadImage: loaded",!0,y,R),R.onerror=L($n,E,"TestLoadImage: error",!1,y,R),R.onabort=L($n,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=L($n,E,"TestLoadImage: timeout",!1,y,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function Jr(c,y){const E=new bn,R=new AbortController,G=setTimeout(()=>{R.abort(),$n(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(J=>{clearTimeout(G),J.ok?$n(E,"TestPingServer: ok",!0,y):$n(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),$n(E,"TestPingServer: error",!1,y)})}function $n(c,y,E,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(E)}catch{}}function Ci(){this.g=new po}function Ua(c,y,E){const R=E||"";try{Ms(c,function(G,J){let pe=G;g(G)&&(pe=zt(G)),y.push(R+J+"="+encodeURIComponent(pe))})}catch(G){throw y.push(R+"type="+encodeURIComponent("_badmap")),G}}function Ki(c){this.l=c.Ub||null,this.j=c.eb||!1}Y(Ki,Ds),Ki.prototype.g=function(){return new Pn(this.l,this.j)},Ki.prototype.i=(function(c){return function(){return c}})({});function Pn(c,y){Nt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Pn,Nt),r=Pn.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Mr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gi(this):Mr(this),this.readyState==3&&Ps(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,gi(this))},r.Qa=function(c){this.g&&(this.response=c,gi(this))},r.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zr(c){let y="";return De(c,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Or(c,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Zr(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):nt(c,y,E))}function yt(c){Nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(yt,Nt);var Sn=/^https?$/i,_r=["POST","PUT"];r=yt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Cr(this.o):Cr(On),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(J){S(this,J);return}if(c=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)E.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),G=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_r,y,void 0))||R||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pe]of E)this.g.setRequestHeader(J,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ye(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){S(this,J)}};function S(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,V(c),ee(c)}function V(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),ee(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ee(this,!0)),yt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?B(this):this.bb())},r.bb=function(){B(this)};function B(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ge(c)!=4||c.Z()!=2)){if(c.u&&ge(c)==4)Ns(c.Ea,0,c);else if(Ut(c,"readystatechange"),ge(c)==4){c.h=!1;try{const pe=c.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=pe===0){var G=String(c.D).match($i)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),R=!Sn.test(G?G.toLowerCase():"")}E=R}if(E)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var J=2<ge(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",V(c)}}finally{ee(c)}}}}function ee(c,y){if(c.g){ye(c);const E=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ut(c,"ready");try{E.onreadystatechange=R}catch{}}}function ye(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ge(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ge(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Dn(y)}};function _e(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function at(c){const y={};c=(c.g&&2<=ge(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(he(c[R]))continue;var E=U(c[R]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=y[G]||[];y[G]=J,J.push(E)}D(y,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ve(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function ze(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ve("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ve("baseRetryDelayMs",5e3,c),this.cb=Ve("retryDelaySeedMs",1e4,c),this.Wa=Ve("forwardChannelMaxRetries",2,c),this.wa=Ve("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(c&&c.concurrentRequestLimit),this.Da=new Ci,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ze.prototype,r.la=8,r.G=1,r.connect=function(c,y,E,R){Bt(0),this.W=c,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=rc(this,null,this.W),qt(this)};function vt(c){if(Ye(c),c.G==3){var y=c.U++,E=Dt(c.I);if(nt(E,"SID",c.K),nt(E,"RID",y),nt(E,"TYPE","terminate"),Xi(c,E),y=new Fi(c,c.j,y),y.L=2,y.v=Wr(Dt(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=y.v,E=!0),E||(y.g=sc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hi(y)}Il(c)}function je(c){c.g&&(Ls(c),c.g.cancel(),c.g=null)}function Ye(c){je(c),c.u&&(m.clearTimeout(c.u),c.u=null),Yt(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function qt(c){if(!Qn(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||H(),be||(de(),be=!0),He.add(y,c),c.B=0}}function xt(c,y){return vo(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pn(A(c.Ga,c,y),To(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Fi(this,this.j,c);let J=this.o;if(this.S&&(J?(J=C(J),k(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=yn(this,G,y),E=Dt(this.I),nt(E,"RID",c),nt(E,"CVER",22),this.D&&nt(E,"X-HTTP-Session-Id",this.D),Xi(this,E),J&&(this.O?y="headers="+encodeURIComponent(String(Zr(J)))+"&"+y:this.m&&Or(E,this.m,J)),Qi(this.h,G),this.Ua&&nt(E,"TYPE","init"),this.P?(nt(E,"$req",y),nt(E,"SID","null"),G.T=!0,$r(G,E,null)):$r(G,E,y),this.G=2}}else this.G==3&&(c?ri(this,c):this.i.length==0||Qn(this.h)||ri(this))};function ri(c,y){var E;y?E=y.l:E=c.U++;const R=Dt(c.I);nt(R,"SID",c.K),nt(R,"RID",E),nt(R,"AID",c.T),Xi(c,R),c.m&&c.o&&Or(R,c.m,c.o),E=new Fi(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),y&&(c.i=y.D.concat(c.i)),y=yn(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qi(c.h,E),$r(E,R,y)}function Xi(c,y){c.H&&De(c.H,function(E,R){nt(y,R,E)}),c.l&&Ms({},function(E,R){nt(y,R,E)})}function yn(c,y,E){E=Math.min(c.i.length,E);var R=c.l?A(c.l.Na,c.l,c):null;e:{var G=c.i;let J=-1;for(;;){const pe=["count="+E];J==-1?0<E?(J=G[0].g,pe.push("ofs="+J)):J=0:pe.push("ofs="+J);let dt=!0;for(let sn=0;sn<E;sn++){let Ge=G[sn].g;const An=G[sn].map;if(Ge-=J,0>Ge)J=Math.max(0,G[sn].g-100),dt=!1;else try{Ua(An,pe,"req"+Ge+"_")}catch{R&&R(An)}}if(dt){R=pe.join("&");break e}}}return c=c.i.splice(0,E),y.D=c,R}function Eo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||H(),be||(de(),be=!0),He.add(y,c),c.v=0}}function Yn(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pn(A(c.Fa,c),To(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Us(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pn(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),je(this),Us(this))};function Ls(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Us(c){c.g=new Fi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Dt(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),Xi(c,y),c.m&&c.o&&Or(y,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=Wr(Dt(y)),E.m=null,E.P=!0,fr(E,c)}r.Za=function(){this.C!=null&&(this.C=null,je(this),Yn(this),Bt(19))};function Yt(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function za(c,y){var E=null;if(c.g==y){Yt(c),Ls(c),c.g=null;var R=2}else if(pr(c.h,y))E=y.D,di(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;R=Ai(),Ut(R,new ka(R,E)),qt(c)}else Eo(c);else if(G=y.s,G==3||G==0&&0<y.X||!(R==1&&xt(c,y)||R==2&&Yn(c)))switch(E&&0<E.length&&(y=c.h,y.i=y.i.concat(E)),G){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function To(c,y){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*y}function Wi(c,y){if(c.j.info("Error code "+y),y==2){var E=A(c.fb,c),R=c.Xa;const G=!R;R=new mi(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||xr(R,"https"),Wr(R),G?La(R.toString(),E):Jr(R.toString(),E)}else Bt(2);c.G=0,c.l&&c.l.sa(y),Il(c),Ye(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Il(c){if(c.G=0,c.ka=[],c.l){const y=kn(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function rc(c,y,E){var R=E instanceof mi?Dt(E):new mi(E);if(R.g!="")y&&(R.g=y+"."+R.g),Kr(R,R.s);else{var G=m.location;R=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var J=new mi(null);R&&xr(J,R),y&&(J.g=y),G&&Kr(J,G),E&&(J.l=E),R=J}return E=c.D,y=c.ya,E&&y&&nt(R,E,y),nt(R,"VER",c.la),Xi(c,R),R}function sc(c,y,E){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new yt(new Ki({eb:E})):new yt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}r=ac.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function wo(){}wo.prototype.g=function(c,y){return new si(c,y)};function si(c,y){Nt.call(this),this.g=new ze(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!he(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!he(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new zs(this)}Y(si,Nt),si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){vt(this.g)},si.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=zt(c),c=E);y.i.push(new yo(y.Ya++,c)),y.G==3&&qt(y)},si.prototype.N=function(){this.g.l=null,delete this.j,vt(this.g),delete this.g,si.aa.N.call(this)};function oc(c){ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}Y(oc,ji);function lc(){mn.call(this),this.status=1}Y(lc,mn);function zs(c){this.g=c}Y(zs,ac),zs.prototype.ua=function(){Ut(this.g,"a")},zs.prototype.ta=function(c){Ut(this.g,new oc(c))},zs.prototype.sa=function(c){Ut(this.g,new lc)},zs.prototype.ra=function(){Ut(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,Tw=function(){return new wo},Ew=function(){return Ai()},_w=$t,lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Nh=ct,Ct.COMPLETE="complete",vw=Ct,ui.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,pu=ui,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,yw=yt}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",K0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Vp("@firebase/firestore");function Jo(){return lo.logLevel}function Ee(r,...e){if(lo.logLevel<=Ze.DEBUG){const n=e.map(Yp);lo.debug(`Firestore (${El}): ${r}`,...n)}}function Ss(r,...e){if(lo.logLevel<=Ze.ERROR){const n=e.map(Yp);lo.error(`Firestore (${El}): ${r}`,...n)}}function ba(r,...e){if(lo.logLevel<=Ze.WARN){const n=e.map(Yp);lo.warn(`Firestore (${El}): ${r}`,...n)}}function Yp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ww(r,s,n)}function ww(r,e,n){let s=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ss(s),new Error(s)}function rt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ww(e,o,s)}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jn.UNAUTHENTICATED)))}shutdown(){}}class ux{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class cx{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Es,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Es)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new bw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class hx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new hx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new X0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=mx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Qe(r,e){return r<e?-1:r>e?1:0}function up(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Qe(s,o);{const u=Sw(),f=px(u.encode(W0(r,n)),u.encode(W0(e,n)));return f!==0?f:Qe(s,o)}}n+=s>65535?2:1}return Qe(r.length,e.length)}function W0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function px(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Qe(r[n],e[n]);return Qe(r.length,e.length)}function cl(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__name__";class Ur{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ur.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const s=Ur.isNumericId(e),o=Ur.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ur.extractNumericId(e).compare(Ur.extractNumericId(n)):up(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class wt extends Ur{construct(e,n,s){return new wt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const gx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Ur{construct(e,n,s){return new qn(e,n,s)}static isValidIdentifier(e){return gx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new qn([J0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(wt.fromString(e))}static fromName(e){return new Ae(wt.fromString(e).popFirst(5))}static empty(){return new Ae(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r,e,n){if(!n)throw new ve(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yx(r,e,n,s){if(e===!0&&s===!0)throw new ve(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Z0(r){if(!Ae.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function eE(r){if(Ae.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ff(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function Li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ff(r);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r,e){const n={typeString:r};return e&&(n.value=e),n}function Qu(r,e){if(!Rw(r))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ve(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-62135596800,nE=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*nE);return new Pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tE)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qu(e,Pt._jsonSchema))return new Pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pt._jsonSchemaVersion="firestore/timestamp/1.0",Pt._jsonSchema={type:dn("string",Pt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Pt(0,0))}static max(){return new Oe(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function vx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new Pt(n+1,0):new Pt(n,s));return new Sa(o,Ae.empty(),e)}function _x(r){return new Sa(r.readTime,r.key,Du)}class Sa{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Sa(Oe.min(),Ae.empty(),Du)}static max(){return new Sa(Oe.max(),Ae.empty(),Du)}}function Ex(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==Tx)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,s)=>{n(e)}))}static reject(e){return new oe(((n,s)=>{s(e)}))}static waitFor(e){return new oe(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=oe.resolve(!1);for(const s of e)n=n.next((o=>o?oe.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new oe(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((v=>{f[g]=v,++m,m===u&&s(f)}),(v=>o(v)))}}))}static doWhile(e,n){return new oe(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function bx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}df.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=-1;function $u(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function Sx(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="";function Ax(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=iE(e)),e=Rx(r.get(n),e);return iE(e)}function Rx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Cw:n+="";break;default:n+=u}}return n}function iE(r){return r+Cw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Da(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Iw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bn.RED,this.left=o??Bn.EMPTY,this.right=u??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new En(this.comparator);return n.data=e,n}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Pi([])}unionWith(e){let n=new En(qn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xw("Invalid base64 string: "+u):u}})(e);return new Hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const Cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(r){if(rt(!!r,39018),typeof r=="string"){let e=0;const n=Cx.exec(r);if(rt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nn(r.seconds),nanos:nn(r.nanos)}}function nn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ra(r){return typeof r=="string"?Hn.fromBase64String(r):Hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="server_timestamp",Dw="__type__",Mw="__previous_value__",Ow="__local_write_time__";function Wp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dw])===null||n===void 0?void 0:n.stringValue)===Nw}function mf(r){const e=r.mapValue.fields[Mw];return Wp(e)?mf(e):e}function Mu(r){const e=Aa(r.mapValue.fields[Ow].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,s,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Qh="(default)";class Ou{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__type__",xx="__max__",vh={mapValue:{}},kw="__vector__",$h="value";function Ca(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wp(r)?4:Dx(r)?9007199254740991:Nx(r)?10:11:xe(28295,{value:r})}function Gr(r,e){if(r===e)return!0;const n=Ca(r);if(n!==Ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Mu(r).isEqual(Mu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Aa(o.timestampValue),m=Aa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Ra(o.bytesValue).isEqual(Ra(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return nn(o.geoPointValue.latitude)===nn(u.geoPointValue.latitude)&&nn(o.geoPointValue.longitude)===nn(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return nn(o.integerValue)===nn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=nn(o.doubleValue),m=nn(u.doubleValue);return f===m?Gh(f)===Gh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return cl(r.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(rE(f)!==rE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Gr(f[p],m[p])))return!1;return!0})(r,e);default:return xe(52216,{left:r})}}function Vu(r,e){return(r.values||[]).find((n=>Gr(n,e)))!==void 0}function hl(r,e){if(r===e)return 0;const n=Ca(r),s=Ca(e);if(n!==s)return Qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=nn(u.integerValue||u.doubleValue),p=nn(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return aE(r.timestampValue,e.timestampValue);case 4:return aE(Mu(r),Mu(e));case 5:return up(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ra(u),p=Ra(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Qe(m[g],p[g]);if(v!==0)return v}return Qe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Qe(nn(u.latitude),nn(f.latitude));return m!==0?m:Qe(nn(u.longitude),nn(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return oE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var m,p,g,v;const w=u.fields||{},A=f.fields||{},L=(m=w[$h])===null||m===void 0?void 0:m.arrayValue,Y=(p=A[$h])===null||p===void 0?void 0:p.arrayValue,Z=Qe(((g=L==null?void 0:L.values)===null||g===void 0?void 0:g.length)||0,((v=Y==null?void 0:Y.values)===null||v===void 0?void 0:v.length)||0);return Z!==0?Z:oE(L,Y)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===vh.mapValue&&f===vh.mapValue)return 0;if(u===vh.mapValue)return 1;if(f===vh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const A=up(p[w],v[w]);if(A!==0)return A;const L=hl(m[p[w]],g[v[w]]);if(L!==0)return L}return Qe(p.length,v.length)})(r.mapValue,e.mapValue);default:throw xe(23264,{le:n})}}function aE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=Aa(r),s=Aa(e),o=Qe(n.seconds,s.seconds);return o!==0?o:Qe(n.nanos,s.nanos)}function oE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=hl(n[o],s[o]);if(u)return u}return Qe(n.length,s.length)}function fl(r){return cp(r)}function cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Aa(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ra(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ae.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=cp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${cp(n.fields[f])}`;return o+"}"})(r.mapValue):xe(61005,{value:r})}function Dh(r){switch(Ca(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(r);return e?16+Dh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ra(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Da(s.fields,((u,f)=>{o+=u.length+Dh(f)})),o})(r.mapValue);default:throw xe(13486,{value:r})}}function lE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function hp(r){return!!r&&"integerValue"in r}function Jp(r){return!!r&&"arrayValue"in r}function uE(r){return!!r&&"nullValue"in r}function cE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mh(r){return!!r&&"mapValue"in r}function Nx(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vw])===null||n===void 0?void 0:n.stringValue)===kw}function wu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Da(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=wu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Dx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(n)}setAll(e){let n=qn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=wu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Da(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new oi(wu(this.value))}}function Pw(r){const e=[];return Da(r.fields,((n,s)=>{const o=new qn([n]);if(Mh(s)){const u=Pw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new xn(e,0,Oe.min(),Oe.min(),Oe.min(),oi.empty(),0)}static newFoundDocument(e,n,s,o){return new xn(e,1,n,Oe.min(),s,o,0)}static newNoDocument(e,n){return new xn(e,2,n,Oe.min(),Oe.min(),oi.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Oe.min(),Oe.min(),oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function hE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=hl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function fE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Gr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class fn extends Lw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Vx(e,n,s):n==="array-contains"?new Lx(e,s):n==="in"?new Ux(e,s):n==="not-in"?new zx(e,s):n==="array-contains-any"?new jx(e,s):new fn(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new kx(e,s):new Px(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hl(n,this.value)):n!==null&&Ca(this.value)===Ca(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends Lw{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ar(e,n)}matches(e){return Uw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Uw(r){return r.op==="and"}function zw(r){return Ox(r)&&Uw(r)}function Ox(r){for(const e of r.filters)if(e instanceof Ar)return!1;return!0}function fp(r){if(r instanceof fn)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(zw(r))return r.filters.map((e=>fp(e))).join(",");{const e=r.filters.map((n=>fp(n))).join(",");return`${r.op}(${e})`}}function jw(r,e){return r instanceof fn?(function(s,o){return o instanceof fn&&s.op===o.op&&s.field.isEqual(o.field)&&Gr(s.value,o.value)})(r,e):r instanceof Ar?(function(s,o){return o instanceof Ar&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&jw(f,o.filters[m])),!0):!1})(r,e):void xe(19439)}function Bw(r){return r instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`})(r):r instanceof Ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(Bw).join(" ,")+"}"})(r):"Filter"}class Vx extends fn{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class kx extends fn{constructor(e,n){super(e,"in",n),this.keys=qw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Px extends fn{constructor(e,n){super(e,"not-in",n),this.keys=qw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qw(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Ae.fromName(s.referenceValue)))}class Lx extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&Vu(n.arrayValue,this.value)}}class Ux extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class zx extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vu(this.value.arrayValue,n)}}class jx extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Vu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function dE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Bx(r,e,n,s,o,u,f)}function Zp(r){const e=Le(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>fp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),$u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fl(s))).join(",")),e.Pe=n}return e.Pe}function eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Mx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!jw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!fE(r.startAt,e.startAt)&&fE(r.endAt,e.endAt)}function dp(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function qx(r,e,n,s,o,u,f,m){return new Yu(r,e,n,s,o,u,f,m)}function tg(r){return new Yu(r)}function mE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Hw(r){return r.collectionGroup!==null}function bu(r){const e=Le(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new En(qn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Kh(u,s))})),n.has(qn.keyField().canonicalString())||e.Te.push(new Kh(qn.keyField(),s))}return e.Te}function Br(r){const e=Le(r);return e.Ie||(e.Ie=Hx(e,bu(r))),e.Ie}function Hx(r,e){if(r.limitType==="F")return dE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Kh(o.field,u)}));const n=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return dE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function mp(r,e){const n=r.filters.concat([e]);return new Yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function pp(r,e,n){return new Yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function pf(r,e){return eg(Br(r),Br(e))&&r.limitType===e.limitType}function Fw(r){return`${Zp(Br(r))}|lt:${r.limitType}`}function Zo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Bw(o))).join(", ")}]`),$u(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fl(o))).join(",")),`Target(${s})`})(Br(r))}; limitType=${r.limitType})`}function gf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of bu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=hE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,bu(s),o)||s.endAt&&!(function(f,m,p){const g=hE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,bu(s),o))})(r,e)}function Fx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gw(r){return(e,n)=>{let s=!1;for(const o of bu(r)){const u=Gx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Gx(r,e,n){const s=r.field.isKeyField()?Ae.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?hl(p,g):xe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Ft(Ae.comparator);function As(){return Qx}const Qw=new Ft(Ae.comparator);function gu(...r){let e=Qw;for(const n of r)e=e.insert(n.key,n);return e}function $w(r){let e=Qw;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ro(){return Su()}function Yw(){return Su()}function Su(){return new ho((r=>r.toString()),((r,e)=>r.isEqual(e)))}const $x=new Ft(Ae.comparator),Yx=new En(Ae.comparator);function et(...r){let e=Yx;for(const n of r)e=e.add(n);return e}const Kx=new En(Qe);function Xx(){return Kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function Kw(r){return{integerValue:""+r}}function Xw(r,e){return Sx(e)?Kw(e):ng(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function Wx(r,e,n){return r instanceof Xh?(function(o,u){const f={fields:{[Dw]:{stringValue:Nw},[Ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wp(u)&&(u=mf(u)),u&&(f.fields[Mw]=u),{mapValue:f}})(n,e):r instanceof dl?Jw(r,e):r instanceof ku?Zw(r,e):(function(o,u){const f=Ww(o,u),m=pE(f)+pE(o.Ee);return hp(f)&&hp(o.Ee)?Kw(m):ng(o.serializer,m)})(r,e)}function Jx(r,e,n){return r instanceof dl?Jw(r,e):r instanceof ku?Zw(r,e):n}function Ww(r,e){return r instanceof Pu?(function(s){return hp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Xh extends yf{}class dl extends yf{constructor(e){super(),this.elements=e}}function Jw(r,e){const n=eb(e);for(const s of r.elements)n.some((o=>Gr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ku extends yf{constructor(e){super(),this.elements=e}}function Zw(r,e){let n=eb(e);for(const s of r.elements)n=n.filter((o=>!Gr(o,s)));return{arrayValue:{values:n}}}class Pu extends yf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function pE(r){return nn(r.integerValue||r.doubleValue)}function eb(r){return Jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.field=e,this.transform=n}}function Zx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof dl&&o instanceof dl||s instanceof ku&&o instanceof ku?cl(s.elements,o.elements,Gr):s instanceof Pu&&o instanceof Pu?Gr(s.Ee,o.Ee):s instanceof Xh&&o instanceof Xh})(r.transform,e.transform)}class eN{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vf{}function nb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xu(r.key,_n.none()):new Ku(r.key,r.data,_n.none());{const n=r.data,s=oi.empty();let o=new En(qn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ma(r.key,s,new Pi(o.toArray()),_n.none())}}function tN(r,e,n){r instanceof Ku?(function(o,u,f){const m=o.value.clone(),p=yE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ma?(function(o,u,f){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=yE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ib(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Au(r,e,n,s){return r instanceof Ku?(function(u,f,m,p){if(!Oh(u.precondition,f))return m;const g=u.value.clone(),v=vE(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ma?(function(u,f,m,p){if(!Oh(u.precondition,f))return m;const g=vE(u.fieldTransforms,p,f),v=f.data;return v.setAll(ib(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return Oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function nN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ww(s.transform,o||null);u!=null&&(n===null&&(n=oi.empty()),n.set(s.field,u))}return n||null}function gE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&cl(s,o,((u,f)=>Zx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ku extends vf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ma extends vf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ib(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function yE(r,e,n){const s=new Map;rt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Jx(f,m,n[o]))}return s}function vE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Wx(u,f,e))}return s}class Xu extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rb extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&tN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Yw();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=nb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,s)=>gE(n,s)))&&cl(this.baseMutations,e.baseMutations,((n,s)=>gE(n,s)))}}class ig{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){rt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return $x})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ig(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,it;function sb(r){switch(r){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function ab(r){if(r===void 0)return Ss("GRPC error has no .code"),re.UNKNOWN;switch(r){case hn.OK:return re.OK;case hn.CANCELLED:return re.CANCELLED;case hn.UNKNOWN:return re.UNKNOWN;case hn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case hn.INTERNAL:return re.INTERNAL;case hn.UNAVAILABLE:return re.UNAVAILABLE;case hn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case hn.NOT_FOUND:return re.NOT_FOUND;case hn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case hn.ABORTED:return re.ABORTED;case hn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case hn.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:r})}}(it=hn||(hn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new _a([4294967295,4294967295],0);function _E(r){const e=Sw().encode(r),n=new gw;return n.update(e),new Uint8Array(n.digest())}function EE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _a([n,s],0),new _a([o,u],0)]}class rg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=_a.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(_a.fromNumber(s)));return o.compare(aN)===1&&(o=new _a([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=_E(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new rg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.fe===0)return;const n=_E(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _f(Oe.min(),o,new Ft(Qe),As(),et())}}class Wu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Wu(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class ob{constructor(e,n){this.targetId=e,this.De=n}}class lb{constructor(e,n,s=Hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class TE{constructor(){this.ve=0,this.Ce=wE(),this.Fe=Hn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=et(),n=et(),s=et();return this.Ce.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:xe(38017,{changeType:u})}})),new Wu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=wE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class oN{constructor(e){this.We=e,this.Ge=new Map,this.ze=As(),this.je=_h(),this.Je=_h(),this.He=new Ft(Qe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(dp(u))if(s===0){const f=new Ae(u.path);this.Xe(n,f,xn.newNoDocument(f,Oe.min()))}else rt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ra(s).toUint8Array()}catch(p){if(p instanceof xw)return ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rg(f,o,u)}catch(p){return ba(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(e){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&dp(m.target)){const p=new Ae(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,xn.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=et();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(e)));const o=new _f(e,n,this.He,this.ze,s);return this.ze=As(),this.je=_h(),this.Je=_h(),this.He=new Ft(Qe),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new TE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new En(Qe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new En(Qe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new TE),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function _h(){return new Ft(Ae.comparator)}function wE(){return new Ft(Ae.comparator)}const lN={asc:"ASCENDING",desc:"DESCENDING"},uN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cN={and:"AND",or:"OR"};class hN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(r,e){return r.useProto3Json||$u(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fN(r,e){return Wh(r,e.toTimestamp())}function Ui(r){return rt(!!r,49232),Oe.fromTimestamp((function(n){const s=Aa(n);return new Pt(s.seconds,s.nanos)})(r))}function sg(r,e){return yp(r,e).canonicalString()}function yp(r,e){const n=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function cb(r){const e=wt.fromString(r);return rt(gb(e),10190,{key:e.toString()}),e}function Jh(r,e){return sg(r.databaseId,e.path)}function Ru(r,e){const n=cb(e);if(n.get(1)!==r.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ae(fb(n))}function hb(r,e){return sg(r.databaseId,e)}function dN(r){const e=cb(r);return e.length===4?wt.emptyPath():fb(e)}function vp(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fb(r){return rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,n){return{name:Jh(r,e),fields:n.value.mapValue.fields}}function mN(r,e){return"found"in e?(function(s,o){rt(!!o.found,43571),o.found.name,o.found.updateTime;const u=Ru(s,o.found.name),f=Ui(o.found.updateTime),m=o.found.createTime?Ui(o.found.createTime):Oe.min(),p=new oi({mapValue:{fields:o.found.fields}});return xn.newFoundDocument(u,f,m,p)})(r,e):"missing"in e?(function(s,o){rt(!!o.missing,3894),rt(!!o.readTime,22933);const u=Ru(s,o.missing),f=Ui(o.readTime);return xn.newNoDocument(u,f)})(r,e):xe(7234,{result:e})}function pN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(rt(v===void 0||typeof v=="string",58123),Hn.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Hn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const v=g.code===void 0?re.UNKNOWN:ab(g.code);return new ve(v,g.message||"")})(f);n=new lb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ru(r,s.document.name),u=Ui(s.document.updateTime),f=s.document.createTime?Ui(s.document.createTime):Oe.min(),m=new oi({mapValue:{fields:s.document.fields}}),p=xn.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new Vh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ru(r,s.document),u=s.readTime?Ui(s.readTime):Oe.min(),f=xn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Vh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ru(r,s.document),u=s.removedTargetIds||[];n=new Vh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new sN(o,u),m=s.targetId;n=new ob(m,f)}}return n}function db(r,e){let n;if(e instanceof Ku)n={update:bE(r,e.key,e.value)};else if(e instanceof Xu)n={delete:Jh(r,e.key)};else if(e instanceof Ma)n={update:bE(r,e.key,e.data),updateMask:SN(e.fieldMask)};else{if(!(e instanceof rb))return xe(16599,{Rt:e.type});n={verify:Jh(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof dl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ku)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pu)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw xe(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:fN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(r,e.precondition)),n}function gN(r,e){return r&&r.length>0?(rt(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ui(o.updateTime):Ui(u);return f.isEqual(Oe.min())&&(f=Ui(u)),new eN(f,o.transformResults||[])})(n,e)))):[]}function yN(r,e){return{documents:[hb(r,e.path)]}}function vN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hb(r,o);const u=(function(g){if(g.length!==0)return pb(Ar.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((v=>(function(A){return{field:el(A.field),direction:TN(A.dir)}})(v)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=gp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:n,parent:o}}function _N(r){let e=dN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){rt(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(w){const A=mb(w);return A instanceof Ar&&zw(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((A=>(function(Y){return new Kh(tl(Y.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,$u(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(w){const A=!!w.before,L=w.values||[];return new Yh(L,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const A=!w.before,L=w.values||[];return new Yh(L,A)})(n.endAt)),qx(e,o,f,u,m,"F",p,g)}function EN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=tl(n.unaryFilter.field);return fn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=tl(n.unaryFilter.field);return fn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=tl(n.unaryFilter.field);return fn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=tl(n.unaryFilter.field);return fn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return fn.create(tl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ar.create(n.compositeFilter.filters.map((s=>mb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(r):xe(30097,{filter:r})}function TN(r){return lN[r]}function wN(r){return uN[r]}function bN(r){return cN[r]}function el(r){return{fieldPath:r.canonicalString()}}function tl(r){return qn.fromServerFormat(r.fieldPath)}function pb(r){return r instanceof fn?(function(n){if(n.op==="=="){if(cE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(uE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(uE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:wN(n.op),value:n.value}}})(r):r instanceof Ar?(function(n){const s=n.getFilters().map((o=>pb(o)));return s.length===1?s[0]:{compositeFilter:{op:bN(n.op),filters:s}}})(r):xe(54877,{filter:r})}function SN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,s,o,u=Oe.min(),f=Oe.min(),m=Hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.gt=e}}function RN(r){const e=_N({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Dn=new IN}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(Sa.min())}updateCollectionGroup(e,n,s){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class IN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new En(wt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new En(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yb=41943040;class bi{static withCacheSize(e){return new bi(e,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(yb,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ml(0)}static ur(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="LruGarbageCollector",xN=1048576;function RE([r,e],[n,s]){const o=Qe(r,n);return o===0?Qe(e,s):o}class NN{constructor(e){this.Tr=e,this.buffer=new En(RE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();RE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ee(AE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?Ee(AE,"Ignoring IndexedDB error during garbage collection: ",n):await Tl(n)}await this.Rr(3e5)}))}}class MN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(df.ue);const s=new NN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(SE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(g=Date.now(),Jo()<=Ze.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function ON(r,e){return new MN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.changes=new ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?oe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Au(s.mutation,o,Pi.empty(),Pt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=et()){const o=ro();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=gu();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ro();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,et())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=As();const f=Su(),m=(function(){return Su()})();return n.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ma)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Au(v.mutation,g,v.mutation.getFieldMask(),Pt.now())):f.set(g.key,Pi.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>f.set(g,v))),n.forEach(((g,v)=>{var w;return m.set(g,new kN(v,(w=f.get(g))!==null&&w!==void 0?w:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=Su();let o=new Ft(((f,m)=>f-m)),u=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Pi.empty();v=m.applyToLocalView(g,v),s.set(p,v);const w=(o.get(m.batchId)||et()).add(p);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,w=Yw();v.forEach((A=>{if(!u.has(A)){const L=nb(n.get(A),s.get(A));L!==null&&w.set(A,L),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return oe.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):oe.resolve(ro());let m=Du,p=u;return f.next((g=>oe.forEach(g,((v,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(v)?oe.resolve():this.remoteDocumentCache.getEntry(e,v).next((A=>{p=p.insert(v,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,et()))).next((v=>({batchId:m,changes:$w(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((s=>{let o=gu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=gu();return this.indexManager.getCollectionParents(e,u).next((m=>oe.forEach(m,(p=>{const g=(function(w,A){return new Yu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((w,A)=>{f=f.insert(w,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,xn.newInvalidDocument(v)))}));let m=gu();return f.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Au(v.mutation,g,Pi.empty(),Pt.now()),gf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:RN(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.overlays=new Ft(Ae.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ro();return oe.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.wt(e,n,u)})),oe.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),oe.resolve()}getOverlaysForCollection(e,n,s){const o=ro(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return oe.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Ft(((g,v)=>g-v));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ro(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ro(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return oe.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new rN(n,s));let u=this.kr.get(n);u===void 0&&(u=et(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.qr=new En(In.Qr),this.$r=new En(In.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new In(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new In(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new Ae(new wt([])),s=new In(n,e),o=new In(n,e+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ae(new wt([])),s=new In(n,e),o=new In(n,e+1);let u=et();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new In(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class In{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ae.comparator(e.key,n.key)||Qe(e.Hr,n.Hr)}static Ur(e,n){return Qe(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new En(In.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new iN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new In(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return oe.resolve(f)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Xp:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new In(n,0),o=new In(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new En(Qe);return n.forEach((o=>{const u=new In(o,0),f=new In(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),oe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new In(new Ae(u),0);let m=new En(Qe);return this.Yr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),oe.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){rt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return oe.forEach(n.mutations,(o=>{const u=new In(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new In(n,0),o=this.Yr.firstAfterOrEqual(s);return oe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.ni=e,this.docs=(function(){return new Ft(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return oe.resolve(s?s.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let s=As();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():xn.newInvalidDocument(o))})),oe.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=As();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Ex(_x(v),s)<=0||(o.has(v.key)||gf(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ri(e,n){return oe.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new qN(this)}getSize(e){return oe.resolve(this.size)}}class qN extends VN{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.persistence=e,this.ii=new ho((n=>Zp(n)),eg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.si=0,this.oi=new ag,this.targetCount=0,this._i=ml.ar()}forEachTarget(e,n){return this.ii.forEach(((s,o)=>n(o))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),oe.waitFor(u).next((()=>o))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return oe.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),oe.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),oe.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return oe.resolve(s)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.ai={},this.overlays={},this.ui=new df(0),this.ci=!1,this.ci=!0,this.li=new zN,this.referenceDelegate=e(this),this.hi=new HN(this),this.indexManager=new CN,this.remoteDocumentCache=(function(o){return new BN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new AN(n),this.Ti=new LN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new jN(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){Ee("MemoryPersistence","Starting transaction:",e);const o=new FN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return oe.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class FN extends wx{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ai=new ag,this.Ri=null}static Vi(e){return new og(e)}get mi(){if(this.Ri)return this.Ri;throw xe(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),oe.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(s=>{const o=Ae.fromPath(s);return this.fi(e,o).next((u=>{u||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.gi=new ho((s=>Ax(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ON(this,n)}static Vi(e,n){return new Zh(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((u=>u?oe.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,(f=>this.Sr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Oe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}Sr(e,n,s){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return oe.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=et(),o=et();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new lg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $R()?8:bx(Zn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new GN;return this.ws(e,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)}))})).next((()=>u.result))}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Jo()<=Ze.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Jo()<=Ze.DEBUG&&Ee("QueryEngine","Query:",Zo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Jo()<=Ze.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):oe.resolve())}ps(e,n){if(mE(n))return oe.resolve(null);let s=Br(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=pp(n,null,"F"),s=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=et(...u);return this.gs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(e,pp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ys(e,n,s,o){return mE(n)||o.isEqual(Oe.min())?oe.resolve(null):this.gs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?oe.resolve(null):(Jo()<=Ze.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(n)),this.vs(e,f,n,vx(o,Du)).next((m=>m)))}))}bs(e,n){let s=new En(Gw(e));return n.forEach(((o,u)=>{gf(e,u)&&(s=s.add(u))})),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Jo()<=Ze.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.gs.getDocumentsMatchingQuery(e,n,Sa.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",$N=3e8;class YN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new Ft(Qe),this.Ms=new ho((u=>Zp(u)),eg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function KN(r,e,n,s){return new YN(r,e,n,s)}async function _b(r,e){const n=Le(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=et();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Bs:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function XN(r,e){const n=Le(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const w=g.batch,A=w.keys();let L=oe.resolve();return A.forEach((Y=>{L=L.next((()=>v.getEntry(p,Y))).next((Z=>{const F=g.docVersions.get(Y);rt(F!==null,48541),Z.version.compareTo(F)<0&&(w.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),v.addEntry(Z)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=et();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Eb(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function WN(r,e){const n=Le(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach(((v,w)=>{const A=o.get(w);if(!A)return;m.push(n.hi.removeMatchingKeys(u,v.removedDocuments,w).next((()=>n.hi.addMatchingKeys(u,v.addedDocuments,w))));let L=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(Hn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(v.resumeToken,s)),o=o.insert(w,L),(function(Z,F,ce){return Z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=$N?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(A,L,v)&&m.push(n.hi.updateTargetData(u,L))}));let p=As(),g=et();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(JN(u,f,e.documentUpdates).next((v=>{p=v.Ls,g=v.ks}))),!s.isEqual(Oe.min())){const v=n.hi.getLastRemoteSnapshotVersion(u).next((w=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return oe.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function JN(r,e,n){let s=et(),o=et();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=As();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):Ee(ug,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function ZN(r,e){const n=Le(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eD(r,e){const n=Le(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,e).next((u=>u?(o=u,oe.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new da(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function _p(r,e,n){const s=Le(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wl(f))throw f;Ee(ug,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function CE(r,e,n){const s=Le(r);let o=Oe.min(),u=et();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,v){const w=Le(p),A=w.Ms.get(v);return A!==void 0?oe.resolve(w.Fs.get(A)):w.hi.getTargetData(g,v)})(s,f,Br(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Oe.min(),n?u:et()))).next((m=>(tD(s,Fx(e),m),{documents:m,qs:u})))))}function tD(r,e,n){let s=r.xs.get(e)||Oe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(e,s)}class IE{constructor(){this.activeTargetIds=Xx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nD{constructor(){this.Fo=new IE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new IE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class NE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ee(xE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ee(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Ep(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",rD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=Ep(),m=this.Go(e,n.toUriEncodedString());Ee(Lm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),v=yl(g);return this.jo(e,m,p,s,v).then((w=>(Ee(Lm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw ba(Lm,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Go(e,n){const s=rD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class oD extends sD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=Ep();return new Promise(((m,p)=>{const g=new yw;g.setWithCredentials(!0),g.listenOnce(vw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nh.NO_ERROR:const w=g.getResponseJson();Ee(Xn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Nh.TIMEOUT:Ee(Xn,`RPC '${e}' ${f} timed out`),p(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const A=g.getStatus();if(Ee(Xn,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L==null?void 0:L.error;if(Y&&Y.status&&Y.message){const Z=(function(ce){const he=ce.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(he)>=0?he:re.UNKNOWN})(Y.status);p(new ve(Z,Y.message))}else p(new ve(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Ee(Xn,`RPC '${e}' ${f} completed.`)}}));const v=JSON.stringify(o);Ee(Xn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,s,15)}))}P_(e,n,s){const o=Ep(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Tw(),m=Ew(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");Ee(Xn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=f.createWebChannel(v,p);this.T_(w);let A=!1,L=!1;const Y=new aD({Ho:F=>{L?Ee(Xn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(Ee(Xn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),Ee(Xn,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Yo:()=>w.close()}),Z=(F,ce,he)=>{F.listen(ce,(se=>{try{he(se)}catch(Re){setTimeout((()=>{throw Re}),0)}}))};return Z(w,pu.EventType.OPEN,(()=>{L||(Ee(Xn,`RPC '${e}' stream ${o} transport opened.`),Y.s_())})),Z(w,pu.EventType.CLOSE,(()=>{L||(L=!0,Ee(Xn,`RPC '${e}' stream ${o} transport closed`),Y.__(),this.I_(w))})),Z(w,pu.EventType.ERROR,(F=>{L||(L=!0,ba(Xn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),Y.__(new ve(re.UNAVAILABLE,"The operation could not be completed")))})),Z(w,pu.EventType.MESSAGE,(F=>{var ce;if(!L){const he=F.data[0];rt(!!he,16349);const se=he,Re=(se==null?void 0:se.error)||((ce=se[0])===null||ce===void 0?void 0:ce.error);if(Re){Ee(Xn,`RPC '${e}' stream ${o} received error:`,Re);const Pe=Re.status;let De=(function(I){const k=hn[I];if(k!==void 0)return ab(k)})(Pe),D=Re.message;De===void 0&&(De=re.INTERNAL,D="Unknown error status: "+Pe+" with message "+Re.message),L=!0,Y.__(new ve(De,D)),w.close()}else Ee(Xn,`RPC '${e}' stream ${o} received:`,he),Y.a_(he)}})),Z(m,_w.STAT_EVENT,(F=>{F.stat===lp.PROXY?Ee(Xn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===lp.NOPROXY&&Ee(Xn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.o_()}),0),Y}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(r){return new hN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="PersistentStream";class Tb{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cg(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{e((()=>{const o=new ve(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ee(DE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(Ee(DE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lD extends Tb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=pN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Oe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Oe.min():f.readTime?Ui(f.readTime):Oe.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=vp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=dp(p)?{documents:yN(u,p)}:{query:vN(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ub(u,f.resumeToken);const g=gp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Oe.min())>0){m.readTime=Wh(u,f.snapshotVersion.toTimestamp());const g=gp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=EN(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=vp(this.serializer),n.removeTarget=e,this.k_(n)}}class uD extends Tb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=gN(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=vp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>db(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class hD extends cD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,yp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(re.UNKNOWN,u.toString())}))}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(e,yp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ve(re.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class fD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ss(n),this._a=!1):Ee("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class dD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{fo(this)&&(Ee(uo,"Restarting streams for network reachability change."),await(async function(p){const g=Le(p);g.Ia.add(4),await Ju(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Tf(g)})(this))}))})),this.Aa=new fD(s,o)}}async function Tf(r){if(fo(r))for(const e of r.da)await e(!0)}async function Ju(r){for(const e of r.da)await e(!1)}function wb(r,e){const n=Le(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),mg(n)?dg(n):bl(n).x_()&&fg(n,e))}function hg(r,e){const n=Le(r),s=bl(n);n.Ta.delete(e),s.x_()&&bb(n,e),n.Ta.size===0&&(s.x_()?s.B_():fo(n)&&n.Aa.set("Unknown"))}function fg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(r).H_(e)}function bb(r,e){r.Ra.$e(e),bl(r).Y_(e)}function dg(r){r.Ra=new oN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),bl(r).start(),r.Aa.aa()}function mg(r){return fo(r)&&!bl(r).M_()&&r.Ta.size>0}function fo(r){return Le(r).Ia.size===0}function Sb(r){r.Ra=void 0}async function mD(r){r.Aa.set("Online")}async function pD(r){r.Ta.forEach(((e,n)=>{fg(r,e)}))}async function gD(r,e){Sb(r),mg(r)?(r.Aa.la(e),dg(r)):r.Aa.set("Unknown")}async function yD(r,e,n){if(r.Aa.set("Online"),e instanceof lb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,e)}catch(s){Ee(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(r,s)}else if(e instanceof Vh?r.Ra.Ye(e):e instanceof ob?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Oe.min()))try{const s=await Eb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ta.get(g);v&&u.Ta.set(g,v.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ta.get(p);if(!v)return;u.Ta.set(p,v.withResumeToken(Hn.EMPTY_BYTE_STRING,v.snapshotVersion)),bb(u,p);const w=new da(v.target,p,g,v.sequenceNumber);fg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){Ee(uo,"Failed to raise snapshot:",s),await ef(r,s)}}async function ef(r,e,n){if(!wl(e))throw e;r.Ia.add(1),await Ju(r),r.Aa.set("Offline"),n||(n=()=>Eb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ee(uo,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Tf(r)}))}function Ab(r,e){return e().catch((n=>ef(r,n,e)))}async function wf(r){const e=Le(r),n=Ia(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Xp;for(;vD(e);)try{const o=await ZN(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,_D(e,o)}catch(o){await ef(e,o)}Rb(e)&&Cb(e)}function vD(r){return fo(r)&&r.Pa.length<10}function _D(r,e){r.Pa.push(e);const n=Ia(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function Rb(r){return fo(r)&&!Ia(r).M_()&&r.Pa.length>0}function Cb(r){Ia(r).start()}async function ED(r){Ia(r).na()}async function TD(r){const e=Ia(r);for(const n of r.Pa)e.X_(n.mutations)}async function wD(r,e,n){const s=r.Pa.shift(),o=ig.from(s,e,n);await Ab(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await wf(r)}async function bD(r,e){e&&Ia(r).Z_&&await(async function(s,o){if((function(f){return sb(f)&&f!==re.ABORTED})(o.code)){const u=s.Pa.shift();Ia(s).N_(),await Ab(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await wf(s)}})(r,e),Rb(r)&&Cb(r)}async function ME(r,e){const n=Le(r);n.asyncQueue.verifyOperationInProgress(),Ee(uo,"RemoteStore received new credentials");const s=fo(n);n.Ia.add(3),await Ju(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Tf(n)}async function SD(r,e){const n=Le(r);e?(n.Ia.delete(2),await Tf(n)):e||(n.Ia.add(2),await Ju(n),n.Aa.set("Unknown"))}function bl(r){return r.Va||(r.Va=(function(n,s,o){const u=Le(n);return u.ia(),new lD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:mD.bind(null,r),e_:pD.bind(null,r),n_:gD.bind(null,r),J_:yD.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),mg(r)?dg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Sb(r))}))),r.Va}function Ia(r){return r.ma||(r.ma=(function(n,s,o){const u=Le(n);return u.ia(),new uD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:ED.bind(null,r),n_:bD.bind(null,r),ea:TD.bind(null,r),ta:wD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await wf(r)):(await r.ma.stop(),r.Pa.length>0&&(Ee(uo,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new pg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(r,e){if(Ss("AsyncQueue",`${e}: ${r}`),wl(r))return new ve(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=gu(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ol;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.fa=new Ft(Ae.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):xe(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class pl{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new pl(e,n,ol.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class RD{constructor(){this.queries=VE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Le(n),u=o.queries;o.queries=VE(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function VE(){return new ho((r=>Fw(r)),pf)}async function Ib(r,e){const n=Le(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new AD,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gg(f,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&yg(n)}async function xb(r,e){const n=Le(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CD(r,e){const n=Le(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&yg(n)}function ID(r,e,n){const s=Le(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function yg(r){r.Da.forEach((e=>{e.next()}))}var Tp,kE;(kE=Tp||(Tp={})).Fa="default",kE.Cache="cache";class Nb{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new pl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class xD{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=et(),this.mutatedKeys=et(),this.Xa=Gw(e),this.eu=new ol(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new OE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const A=o.get(v),L=gf(this.query,w)?w:null,Y=!!A&&this.mutatedKeys.has(A.key),Z=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let F=!1;A&&L?A.data.isEqual(L.data)?Y!==Z&&(s.track({type:3,doc:L}),F=!0):this.iu(A,L)||(s.track({type:2,doc:L}),F=!0,(p&&this.Xa(L,p)>0||g&&this.Xa(L,g)<0)&&(m=!0)):!A&&L?(s.track({type:0,doc:L}),F=!0):A&&!L&&(s.track({type:1,doc:A}),F=!0,(p||g)&&(m=!0)),F&&(L?(f=f.add(L),u=Z?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort(((v,w)=>(function(L,Y){const Z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{At:F})}};return Z(L)-Z(Y)})(v.type,w.type)||this.Xa(v.doc,w.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new pl(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new OE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=et(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new Mb(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new Db(s))})),n}uu(e){this.Ha=e.qs,this.Za=et();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return pl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const vg="SyncEngine";class ND{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class DD{constructor(e){this.key=e,this.lu=!1}}class MD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ho((m=>Fw(m)),pf),this.Tu=new Map,this.Iu=new Set,this.du=new Ft(Ae.comparator),this.Eu=new Map,this.Au=new ag,this.Ru={},this.Vu=new Map,this.mu=ml.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function OD(r,e,n=!0){const s=Ub(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await Ob(s,e,n,!0),o}async function VD(r,e){const n=Ub(r);await Ob(n,e,!0,!1)}async function Ob(r,e,n,s){const o=await eD(r.localStore,Br(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await kD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wb(r.remoteStore,o),m}async function kD(r,e,n,s,o){r.gu=(w,A,L)=>(async function(Z,F,ce,he){let se=F.view.nu(ce);se.Ds&&(se=await CE(Z.localStore,F.query,!1).then((({documents:D})=>F.view.nu(D,se))));const Re=he&&he.targetChanges.get(F.targetId),Pe=he&&he.targetMismatches.get(F.targetId)!=null,De=F.view.applyChanges(se,Z.isPrimaryClient,Re,Pe);return LE(Z,F.targetId,De._u),De.snapshot})(r,w,A,L);const u=await CE(r.localStore,e,!0),f=new xD(e,u.qs),m=f.nu(u.documents),p=Wu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);LE(r,n,g._u);const v=new ND(e,n,f);return r.Pu.set(e,v),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function PD(r,e,n){const s=Le(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!pf(f,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await _p(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),wp(s,o.targetId)})).catch(Tl)):(wp(s,o.targetId),await _p(s.localStore,o.targetId,!0))}async function LD(r,e){const n=Le(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function UD(r,e,n){const s=GD(r);try{const o=await(function(f,m){const p=Le(f),g=Pt.now(),v=m.reduce(((L,Y)=>L.add(Y.key)),et());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=As(),Z=et();return p.Os.getEntries(L,v).next((F=>{Y=F,Y.forEach(((ce,he)=>{he.isValidDocument()||(Z=Z.add(ce))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,Y))).next((F=>{w=F;const ce=[];for(const he of m){const se=nN(he,w.get(he.key).overlayedDocument);se!=null&&ce.push(new Ma(he.key,se,Pw(se.value.mapValue),_n.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,ce,m)})).next((F=>{A=F;const ce=F.applyToLocalDocumentSet(w,Z);return p.documentOverlayCache.saveOverlays(L,F.batchId,ce)}))})).then((()=>({batchId:A.batchId,changes:$w(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new Ft(Qe)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g})(s,o.batchId,n),await Zu(s,o.changes),await wf(s.remoteStore)}catch(o){const u=gg(o,"Failed to persist write");n.reject(u)}}async function Vb(r,e){const n=Le(r);try{const s=await WN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?rt(f.lu,14607):o.removedDocuments.size>0&&(rt(f.lu,42227),f.lu=!1))})),await Zu(n,s,e)}catch(s){await Tl(s)}}function PE(r,e,n){const s=Le(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Le(f);p.onlineState=m;let g=!1;p.queries.forEach(((v,w)=>{for(const A of w.wa)A.va(m)&&(g=!0)})),g&&yg(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function zD(r,e,n){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new Ft(Ae.comparator);f=f.insert(u,xn.newNoDocument(u,Oe.min()));const m=et().add(u),p=new _f(Oe.min(),new Map,new Ft(Qe),f,m);await Vb(s,p),s.du=s.du.remove(u),s.Eu.delete(e),_g(s)}else await _p(s.localStore,e,!1).then((()=>wp(s,e,n))).catch(Tl)}async function jD(r,e){const n=Le(r),s=e.batch.batchId;try{const o=await XN(n.localStore,e);Pb(n,s,null),kb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(n,o)}catch(o){await Tl(o)}}async function BD(r,e,n){const s=Le(r);try{const o=await(function(f,m){const p=Le(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((w=>(rt(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);Pb(s,e,n),kb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Zu(s,o)}catch(o){await Tl(o)}}function kb(r,e){(r.Vu.get(e)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(e)}function Pb(r,e,n){const s=Le(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function wp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||Lb(r,s)}))}function Lb(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(hg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),_g(r))}function LE(r,e,n){for(const s of n)s instanceof Db?(r.Au.addReference(s.key,e),qD(r,s)):s instanceof Mb?(Ee(vg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Lb(r,s.key)):xe(19791,{yu:s})}function qD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(Ee(vg,"New document in limbo: "+n),r.Iu.add(s),_g(r))}function _g(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new Ae(wt.fromString(e)),s=r.mu.next();r.Eu.set(s,new DD(n)),r.du=r.du.insert(n,s),wb(r.remoteStore,new da(Br(tg(n.path)),s,"TargetPurposeLimboResolution",df.ue))}}async function Zu(r,e,n){const s=Le(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,e,n).then((g=>{var v;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=lg.Es(p.targetId,g);u.push(w)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,g){const v=Le(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>oe.forEach(g,(A=>oe.forEach(A.Is,(L=>v.persistence.referenceDelegate.addReference(w,A.targetId,L))).next((()=>oe.forEach(A.ds,(L=>v.persistence.referenceDelegate.removeReference(w,A.targetId,L)))))))))}catch(w){if(!wl(w))throw w;Ee(ug,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const L=v.Fs.get(A),Y=L.snapshotVersion,Z=L.withLastLimboFreeSnapshotVersion(Y);v.Fs=v.Fs.insert(A,Z)}}})(s.localStore,u))}async function HD(r,e){const n=Le(r);if(!n.currentUser.isEqual(e)){Ee(vg,"User change. New user:",e.toKey());const s=await _b(n.localStore,e);n.currentUser=e,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new ve(re.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zu(n,s.Bs)}}function FD(r,e){const n=Le(r),s=n.Eu.get(e);if(s&&s.lu)return et().add(s.key);{let o=et();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function Ub(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zD.bind(null,e),e.hu.J_=CD.bind(null,e.eventManager),e.hu.pu=ID.bind(null,e.eventManager),e}function GD(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BD.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return KN(this.persistence,new QN,e.initialUser,this.serializer)}Du(e){return new vb(og.Vi,this.serializer)}bu(e){return new nD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class QD extends tf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){rt(this.persistence.referenceDelegate instanceof Zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DN(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new vb((s=>Zh.Vi(s,n)),this.serializer)}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>PE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),await SD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RD})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),s=(function(u){return new oD(u)})(e.databaseInfo);return(function(u,f,m,p){return new hD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new dD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>PE(this.syncEngine,n,0)),(function(){return NE.C()?new NE:new iD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,v){const w=new MD(o,u,f,m,p,g);return v&&(w.fu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Le(o);Ee(uo,"RemoteStore shutting down."),u.Ia.add(5),await Ju(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ve(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Le(o),m={documents:u.map((w=>Jh(f.serializer,w)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,wt.emptyPath(),m,u.length),g=new Map;p.forEach((w=>{const A=mN(f.serializer,w);g.set(A.key.toString(),A)}));const v=[];return u.forEach((w=>{const A=g.get(w.toString());rt(!!A,55234,{key:w}),v.push(A)})),v})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=Ae.fromPath(s);this.mutations.push(new rb(o,this.precondition(o)))})),await(async function(s,o){const u=Le(s),f={writes:o.map((m=>db(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,wt.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe(50498,{Wu:e.constructor.name});n=Oe.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new ve(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Oe.min())?_n.exists(!1):_n.updateTime(n):_n.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Oe.min()))throw new ve(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(n)}return _n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new cg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const e=new $D(this.datastore),n=this.Ju(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(e){try{const n=this.updateFunction(e);return!$u(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!sb(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class KD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jn.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{Ee(xa,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(Ee(xa,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=gg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zm(r,e){r.asyncQueue.verifyOperationInProgress(),Ee(xa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _b(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{ba("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{Ee("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{ba("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function UE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await XD(r);Ee(xa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ME(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ME(e.remoteStore,o))),r._onlineComponents=e}async function XD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee(xa,"Using user provided OfflineComponentProvider");try{await zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ba("Error using user provided cache. Falling back to memory cache: "+n),await zm(r,new tf)}}else Ee(xa,"Using default OfflineComponentProvider"),await zm(r,new QD(void 0));return r._offlineComponents}async function Eg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee(xa,"Using user provided OnlineComponentProvider"),await UE(r,r._uninitializedComponentsProvider._online)):(Ee(xa,"Using default OnlineComponentProvider"),await UE(r,new bp))),r._onlineComponents}function WD(r){return Eg(r).then((e=>e.syncEngine))}function JD(r){return Eg(r).then((e=>e.datastore))}async function Sp(r){const e=await Eg(r),n=e.eventManager;return n.onListen=OD.bind(null,e.syncEngine),n.onUnlisten=PD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LD.bind(null,e.syncEngine),n}function ZD(r,e,n={}){const s=new Es;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const v=new zb({next:A=>{v.Ou(),f.enqueueAndForget((()=>xb(u,w))),A.fromCache&&p.source==="server"?g.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new Nb(m,v,{includeMetadataChanges:!0,ka:!0});return Ib(u,w)})(await Sp(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firestore.googleapis.com",jE=!0;class BE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=jE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xN)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new lx;switch(s.type){case"firstParty":return new fx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zE.get(n);s&&(Ee("ComponentProvider","Removing Datastore"),zE.delete(n),s.terminate())})(this),Promise.resolve()}}function eM(r,e,n,s={}){var o;r=Li(r,bf);const u=yl(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(IT(`https://${p}`),xT("Firestore",!0)),f.host!==Bb&&f.host!==p&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!wa(g,m)&&(r._setSettings(g),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=Jn.MOCK_USER;else{v=UR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Jn(A)}r._authCredentials=new ux(new bw(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Wt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Qu(n,Wt._jsonSchema))return new Wt(e,s||null,new Ae(wt.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:dn("string",Wt._jsonSchemaVersion),referencePath:dn("string")};class Ea extends mo{constructor(e,n,s){super(e,n,tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ae(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function du(r,e,...n){if(r=Jt(r),Aw("collection","path",e),r instanceof bf){const s=wt.fromString(e,...n);return eE(s),new Ea(r,null,s)}{if(!(r instanceof Wt||r instanceof Ea))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wt.fromString(e,...n));return eE(s),new Ea(r.firestore,null,s)}}function Wn(r,e,...n){if(r=Jt(r),arguments.length===1&&(e=Kp.newId()),Aw("doc","path",e),r instanceof bf){const s=wt.fromString(e,...n);return Z0(s),new Wt(r,null,new Ae(s))}{if(!(r instanceof Wt||r instanceof Ea))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(wt.fromString(e,...n));return Z0(s),new Wt(r.firestore,r instanceof Ea?r.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="AsyncQueue";class HE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cg(this,"async_queue_retry"),this.oc=()=>{const s=Um();s&&Ee(qE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Es;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!wl(e))throw e;Ee(qE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Ss("INTERNAL UNHANDLED ERROR: ",FE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=pg.createAndSchedule(this,e,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&xe(47125,{hc:FE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function FE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Rs extends bf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new HE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function tM(r,e){const n=typeof r=="object"?r:OT(),s=typeof r=="string"?r:Qh,o=Pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PR("firestore");u&&eM(o,...u)}return o}function ec(r){if(r._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nM(r),r._firestoreClient}function nM(r){var e,n,s;const o=r._freezeSettings(),u=(function(m,p,g,v){return new Ix(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,jb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new KD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(Hn.fromBase64String(e))}catch(n){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qu(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:dn("string",ki._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(Qu(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:dn("string",qr._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qu(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hr(e.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:dn("string",Hr._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^__.*__$/;class rM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(e,this.data,n,this.fieldTransforms)}}class qb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ec:r})}}class Sf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return nf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Hb(this.Ec)&&iM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class sM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ef(e)}Dc(e,n,s,o=!1){return new Sf({Ec:e,methodName:n,bc:s,path:qn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nc(r){const e=r._freezeSettings(),n=Ef(r._databaseId);return new sM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Tg(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);Rg("Data must be an object, but it was:",f,s);const m=Fb(s,f);let p,g;if(u.merge)p=new Pi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const w of u.mergeFields){const A=Ap(e,w,n);if(!f.contains(A))throw new ve(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Qb(v,A)||v.push(A)}p=new Pi(v),g=f.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=f.fieldTransforms;return new rM(new oi(m),p,g)}class ic extends tc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ic}}function aM(r,e,n){return new Sf({Ec:3,bc:e.settings.bc,methodName:r._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wg extends tc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=aM(this,e,!0),s=this.vc.map((u=>Al(u,n))),o=new dl(s);return new tb(e.path,o)}isEqual(e){return e instanceof wg&&wa(this.vc,e.vc)}}class bg extends tc{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Pu(e.serializer,Xw(e.serializer,this.Cc));return new tb(e.path,n)}isEqual(e){return e instanceof bg&&this.Cc===e.Cc}}function Sg(r,e,n,s){const o=r.Dc(1,e,n);Rg("Data must be an object, but it was:",o,s);const u=[],f=oi.empty();Da(s,((p,g)=>{const v=Cg(e,p,n);g=Jt(g);const w=o.gc(v);if(g instanceof ic)u.push(v);else{const A=Al(g,w);A!=null&&(u.push(v),f.set(v,A))}}));const m=new Pi(u);return new qb(f,m,o.fieldTransforms)}function Ag(r,e,n,s,o,u){const f=r.Dc(1,e,n),m=[Ap(e,s,n)],p=[o];if(u.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Ap(e,u[A])),p.push(u[A+1]);const g=[],v=oi.empty();for(let A=m.length-1;A>=0;--A)if(!Qb(g,m[A])){const L=m[A];let Y=p[A];Y=Jt(Y);const Z=f.gc(L);if(Y instanceof ic)g.push(L);else{const F=Al(Y,Z);F!=null&&(g.push(L),v.set(L,F))}}const w=new Pi(g);return new qb(v,w,f.fieldTransforms)}function oM(r,e,n,s=!1){return Al(n,r.Dc(s?4:3,e))}function Al(r,e){if(Gb(r=Jt(r)))return Rg("Unsupported field value:",e,r),Fb(r,e);if(r instanceof tc)return(function(s,o){if(!Hb(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Al(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Xw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Pt.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof Pt){const u=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof qr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ki)return{bytesValue:ub(o.serializer,s._byteString)};if(s instanceof Wt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hr)return(function(f,m){return{mapValue:{fields:{[Vw]:{stringValue:kw},[$h]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return ng(m.serializer,g)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${ff(s)}`)})(r,e)}function Fb(r,e){const n={};return Iw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(r,((s,o)=>{const u=Al(o,e.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Gb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Pt||r instanceof qr||r instanceof ki||r instanceof Wt||r instanceof tc||r instanceof Hr)}function Rg(r,e,n){if(!Gb(n)||!Rw(n)){const s=ff(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Ap(r,e,n){if((e=Jt(e))instanceof Sl)return e._internalPath;if(typeof e=="string")return Cg(r,e);throw nf("Field path arguments must be of type string or ",r,!1,void 0,n)}const lM=new RegExp("[~\\*/\\[\\]]");function Cg(r,e,n){if(e.search(lM)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sl(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function nf(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ve(re.INVALID_ARGUMENT,m+r+p)}function Qb(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uM extends rf{data(){return super.data()}}function Ig(r,e){return typeof e=="string"?Cg(r,e):e instanceof Sl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class cM extends xg{}function hM(r,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Ng)).length,m=u.filter((p=>p instanceof Af)).length;if(f>1||f>0&&m>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Af extends cM{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Af(e,n,s)}_apply(e){const n=this._parse(e);return Yb(e._query,n),new mo(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=nc(e.firestore);return(function(u,f,m,p,g,v,w){let A;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){$E(w,v);const Y=[];for(const Z of w)Y.push(QE(p,u,Z));A={arrayValue:{values:Y}}}else A=QE(p,u,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||$E(w,v),A=oM(m,f,w,v==="in"||v==="not-in");return fn.create(g,v,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fM(r,e,n){const s=e,o=Ig("where",r);return Af._create(o,s,n)}class Ng extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Yb(f,p),f=mp(f,p)})(e._query,n),new mo(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function QE(r,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hw(e)&&n.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(wt.fromString(n));if(!Ae.isDocumentKey(s))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lE(r,new Ae(s))}if(n instanceof Wt)return lE(r,n._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(n)}.`)}function $E(r,e){if(!Array.isArray(r)||r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yb(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kb{convertValue(e,n="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Da(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[$h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>nn(f.doubleValue)));return new Hr(u)}convertGeoPoint(e){return new qr(nn(e.latitude),nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=wt.fromString(e);rt(gb(s),9688,{name:e});const o=new Ou(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return o.isEqual(n)||Ss(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class dM extends Kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends rf{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ig("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:dn("string",Ta._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class kh extends Ta{data(e={}){return super.data(e)}}class so{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new il(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kh(this._firestore,this._userDataWriter,s.key,s,new il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:mM(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:dn("string",so._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Rf extends Kb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function YE(r){r=Li(r,mo);const e=Li(r.firestore,Rs),n=ec(e),s=new Rf(e);return $b(r._query),ZD(n,r._query).then((o=>new so(e,s,r,o)))}function mu(r,e,n){r=Li(r,Wt);const s=Li(r.firestore,Rs),o=Dg(r.converter,e,n);return Cf(s,[Tg(nc(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,_n.none())])}function Wo(r,e,n,...s){r=Li(r,Wt);const o=Li(r.firestore,Rs),u=nc(o);let f;return f=typeof(e=Jt(e))=="string"||e instanceof Sl?Ag(u,"updateDoc",r._key,e,n,s):Sg(u,"updateDoc",r._key,e),Cf(o,[f.toMutation(r._key,_n.exists(!0))])}function Th(r){return Cf(Li(r.firestore,Rs),[new Xu(r._key,_n.none())])}function jm(r,...e){var n,s,o;r=Jt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||GE(e[f])||(u=e[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(GE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,v;if(r instanceof Wt)g=Li(r.firestore,Rs),v=tg(r._key.path),p={next:w=>{e[f]&&e[f](pM(g,r,w))},error:e[f+1],complete:e[f+2]};else{const w=Li(r,mo);g=Li(w.firestore,Rs),v=w._query;const A=new Rf(g);p={next:L=>{e[f]&&e[f](new so(g,A,w,L))},error:e[f+1],complete:e[f+2]},$b(r._query)}return(function(A,L,Y,Z){const F=new zb(Z),ce=new Nb(L,F,Y);return A.asyncQueue.enqueueAndForget((async()=>Ib(await Sp(A),ce))),()=>{F.Ou(),A.asyncQueue.enqueueAndForget((async()=>xb(await Sp(A),ce)))}})(ec(g),v,m,p)}function Cf(r,e){return(function(s,o){const u=new Es;return s.asyncQueue.enqueueAndForget((async()=>UD(await WD(s),o,u))),u.promise})(ec(r),e)}function pM(r,e,n){const s=n.docs.get(e._key),o=new Rf(r);return new Ta(r,o,e._key,s,new il(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nc(e)}set(e,n,s){this._verifyNotCommitted();const o=ma(e,this._firestore),u=Dg(o.converter,n,s),f=Tg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,_n.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=ma(e,this._firestore);let f;return f=typeof(n=Jt(n))=="string"||n instanceof Sl?Ag(this._dataReader,"WriteBatch.update",u._key,n,s,o):Sg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ma(e,this._firestore);return this._mutations=this._mutations.concat(new Xu(n._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ma(r,e){if((r=Jt(r)).firestore!==e)throw new ve(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=nc(e)}get(e){const n=ma(e,this._firestore),s=new dM(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return xe(24041);const u=o[0];if(u.isFoundDocument())return new rf(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new rf(this._firestore,s,n._key,null,n.converter);throw xe(18433,{doc:u})}))}set(e,n,s){const o=ma(e,this._firestore),u=Dg(o.converter,n,s),f=Tg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=ma(e,this._firestore);let f;return f=typeof(n=Jt(n))=="string"||n instanceof Sl?Ag(this._dataReader,"Transaction.update",u._key,n,s,o):Sg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=ma(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M extends vM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ma(e,this._firestore),s=new Rf(this._firestore);return super.get(e).then((o=>new Ta(this._firestore,s,n._key,o._document,new il(!1,!1),n.converter)))}}function EM(r,e,n){r=Li(r,Rs);const s=Object.assign(Object.assign({},gM),n);return(function(u){if(u.maxAttempts<1)throw new ve(re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Es;return u.asyncQueue.enqueueAndForget((async()=>{const g=await JD(u);new YD(u.asyncQueue,g,m,f,p).zu()})),p.promise})(ec(r),(o=>e(new _M(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){return new ic("deleteField")}function wM(...r){return new wg("arrayUnion",r)}function bM(r){return new bg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(r){return ec(r=Li(r,Rs)),new yM(r,(e=>Cf(r,e)))}(function(e,n=!0){(function(o){El=o})(vl),ll(new ao("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Rs(new cx(s.getProvider("auth-internal")),new dx(f,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(g.options.projectId,v)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ya(Y0,K0,e),ya(Y0,K0,"esm2017")})();var AM="firebase",RM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ya(AM,RM,"app");const CM={apiKey:"AIzaSyA6gk3B0uFG3y7v4jhCWb9zzlPSmX0CjdU",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.appspot.com",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},Xb=MT(CM),lr=ax(Xb),cn=tM(Xb),Bm=new gs;(async()=>{try{await Tu(lr,hw)}catch{try{await Tu(lr,uf)}catch{await Tu(lr,ap)}}})();var Mg={};(function r(e,n,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var H=new OffscreenCanvas(1,1),T=H.getContext("2d");T.fillRect(0,0,1,1);var q=H.transferToImageBitmap();T.createPattern(q,"no-repeat")}catch{return!1}return!0})();function p(){}function g(H){var T=n.exports.Promise,q=T!==void 0?T:e.Promise;return typeof q=="function"?new q(H):(H(p,p),null)}var v=(function(H,T){return{transform:function(q){if(H)return q;if(T.has(q))return T.get(q);var X=new OffscreenCanvas(q.width,q.height),le=X.getContext("2d");return le.drawImage(q,0,0),T.set(q,X),X},clear:function(){T.clear()}}})(m,new Map),w=(function(){var H=Math.floor(16.666666666666668),T,q,X={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(ue){var me=Math.random();return X[me]=requestAnimationFrame(function fe(Se){le===Se||le+H-1<Se?(le=Se,delete X[me],ue()):X[me]=requestAnimationFrame(fe)}),me},q=function(ue){X[ue]&&cancelAnimationFrame(X[ue])}):(T=function(ue){return setTimeout(ue,H)},q=function(ue){return clearTimeout(ue)}),{frame:T,cancel:q}})(),A=(function(){var H,T,q={};function X(le){function ue(me,fe){le.postMessage({options:me||{},callback:fe})}le.init=function(fe){var Se=fe.transferControlToOffscreen();le.postMessage({canvas:Se},[Se])},le.fire=function(fe,Se,Ie){if(T)return ue(fe,null),T;var $e=Math.random().toString(36).slice(2);return T=g(function(Fe){function st(At){At.data.callback===$e&&(delete q[$e],le.removeEventListener("message",st),T=null,v.clear(),Ie(),Fe())}le.addEventListener("message",st),ue(fe,$e),q[$e]=st.bind(null,{data:{callback:$e}})}),T},le.reset=function(){le.postMessage({reset:!0});for(var fe in q)q[fe](),delete q[fe]}}return function(){if(H)return H;if(!s&&u){var le=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{H=new Worker(URL.createObjectURL(new Blob([le])))}catch(ue){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ue),null}X(H)}return H}})(),L={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Y(H,T){return T?T(H):H}function Z(H){return H!=null}function F(H,T,q){return Y(H&&Z(H[T])?H[T]:L[T],q)}function ce(H){return H<0?0:Math.floor(H)}function he(H,T){return Math.floor(Math.random()*(T-H))+H}function se(H){return parseInt(H,16)}function Re(H){return H.map(Pe)}function Pe(H){var T=String(H).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:se(T.substring(0,2)),g:se(T.substring(2,4)),b:se(T.substring(4,6))}}function De(H){var T=F(H,"origin",Object);return T.x=F(T,"x",Number),T.y=F(T,"y",Number),T}function D(H){H.width=document.documentElement.clientWidth,H.height=document.documentElement.clientHeight}function C(H){var T=H.getBoundingClientRect();H.width=T.width,H.height=T.height}function I(H){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=H,T}function k(H,T,q,X,le,ue,me,fe,Se){H.save(),H.translate(T,q),H.rotate(ue),H.scale(X,le),H.arc(0,0,1,me,fe,Se),H.restore()}function U(H){var T=H.angle*(Math.PI/180),q=H.spread*(Math.PI/180);return{x:H.x,y:H.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:H.startVelocity*.5+Math.random()*H.startVelocity,angle2D:-T+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:H.color,shape:H.shape,tick:0,totalTicks:H.ticks,decay:H.decay,drift:H.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:H.gravity*3,ovalScalar:.6,scalar:H.scalar,flat:H.flat}}function z(H,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var q=T.tick++/T.totalTicks,X=T.x+T.random*T.tiltCos,le=T.y+T.random*T.tiltSin,ue=T.wobbleX+T.random*T.tiltCos,me=T.wobbleY+T.random*T.tiltSin;if(H.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-q)+")",H.beginPath(),f&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))H.fill(de(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(ue-X)*.1,Math.abs(me-le)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var fe=Math.PI/10*T.wobble,Se=Math.abs(ue-X)*.1,Ie=Math.abs(me-le)*.1,$e=T.shape.bitmap.width*T.scalar,Fe=T.shape.bitmap.height*T.scalar,st=new DOMMatrix([Math.cos(fe)*Se,Math.sin(fe)*Se,-Math.sin(fe)*Ie,Math.cos(fe)*Ie,T.x,T.y]);st.multiplySelf(new DOMMatrix(T.shape.matrix));var At=H.createPattern(v.transform(T.shape.bitmap),"no-repeat");At.setTransform(st),H.globalAlpha=1-q,H.fillStyle=At,H.fillRect(T.x-$e/2,T.y-Fe/2,$e,Fe),H.globalAlpha=1}else if(T.shape==="circle")H.ellipse?H.ellipse(T.x,T.y,Math.abs(ue-X)*T.ovalScalar,Math.abs(me-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):k(H,T.x,T.y,Math.abs(ue-X)*T.ovalScalar,Math.abs(me-le)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var Me=Math.PI/2*3,Lt=4*T.scalar,Gt=8*T.scalar,Tn=T.x,Fn=T.y,wn=5,rn=Math.PI/wn;wn--;)Tn=T.x+Math.cos(Me)*Gt,Fn=T.y+Math.sin(Me)*Gt,H.lineTo(Tn,Fn),Me+=rn,Tn=T.x+Math.cos(Me)*Lt,Fn=T.y+Math.sin(Me)*Lt,H.lineTo(Tn,Fn),Me+=rn;else H.moveTo(Math.floor(T.x),Math.floor(T.y)),H.lineTo(Math.floor(T.wobbleX),Math.floor(le)),H.lineTo(Math.floor(ue),Math.floor(me)),H.lineTo(Math.floor(X),Math.floor(T.wobbleY));return H.closePath(),H.fill(),T.tick<T.totalTicks}function N(H,T,q,X,le){var ue=T.slice(),me=H.getContext("2d"),fe,Se,Ie=g(function($e){function Fe(){fe=Se=null,me.clearRect(0,0,X.width,X.height),v.clear(),le(),$e()}function st(){s&&!(X.width===o.width&&X.height===o.height)&&(X.width=H.width=o.width,X.height=H.height=o.height),!X.width&&!X.height&&(q(H),X.width=H.width,X.height=H.height),me.clearRect(0,0,X.width,X.height),ue=ue.filter(function(At){return z(me,At)}),ue.length?fe=w.frame(st):Fe()}fe=w.frame(st),Se=Fe});return{addFettis:function($e){return ue=ue.concat($e),Ie},canvas:H,promise:Ie,reset:function(){fe&&w.cancel(fe),Se&&Se()}}}function St(H,T){var q=!H,X=!!F(T||{},"resize"),le=!1,ue=F(T,"disableForReducedMotion",Boolean),me=u&&!!F(T||{},"useWorker"),fe=me?A():null,Se=q?D:C,Ie=H&&fe?!!H.__confetti_initialized:!1,$e=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Fe;function st(Me,Lt,Gt){for(var Tn=F(Me,"particleCount",ce),Fn=F(Me,"angle",Number),wn=F(Me,"spread",Number),rn=F(Me,"startVelocity",Number),Rr=F(Me,"decay",Number),Oa=F(Me,"gravity",Number),Qr=F(Me,"drift",Number),Qt=F(Me,"colors",Re),xs=F(Me,"ticks",Number),Nt=F(Me,"shapes"),Ut=F(Me,"scalar"),Gn=!!F(Me,"flat"),Ns=De(Me),Si=Tn,cr=[],li=H.width*Ns.x,ut=H.height*Ns.y;Si--;)cr.push(U({x:li,y:ut,angle:Fn,spread:wn,startVelocity:rn,color:Qt[Si%Qt.length],shape:Nt[he(0,Nt.length)],ticks:xs,decay:Rr,gravity:Oa,drift:Qr,scalar:Ut,flat:Gn}));return Fe?Fe.addFettis(cr):(Fe=N(H,cr,Se,Lt,Gt),Fe.promise)}function At(Me){var Lt=ue||F(Me,"disableForReducedMotion",Boolean),Gt=F(Me,"zIndex",Number);if(Lt&&$e)return g(function(rn){rn()});q&&Fe?H=Fe.canvas:q&&!H&&(H=I(Gt),document.body.appendChild(H)),X&&!Ie&&Se(H);var Tn={width:H.width,height:H.height};fe&&!Ie&&fe.init(H),Ie=!0,fe&&(H.__confetti_initialized=!0);function Fn(){if(fe){var rn={getBoundingClientRect:function(){if(!q)return H.getBoundingClientRect()}};Se(rn),fe.postMessage({resize:{width:rn.width,height:rn.height}});return}Tn.width=Tn.height=null}function wn(){Fe=null,X&&(le=!1,e.removeEventListener("resize",Fn)),q&&H&&(document.body.contains(H)&&document.body.removeChild(H),H=null,Ie=!1)}return X&&!le&&(le=!0,e.addEventListener("resize",Fn,!1)),fe?fe.fire(Me,Tn,wn):st(Me,Tn,wn)}return At.reset=function(){fe&&fe.reset(),Fe&&Fe.reset()},At}var ft;function te(){return ft||(ft=St(null,{useWorker:!0,resize:!0})),ft}function de(H,T,q,X,le,ue,me){var fe=new Path2D(H),Se=new Path2D;Se.addPath(fe,new DOMMatrix(T));var Ie=new Path2D;return Ie.addPath(Se,new DOMMatrix([Math.cos(me)*le,Math.sin(me)*le,-Math.sin(me)*ue,Math.cos(me)*ue,q,X])),Ie}function be(H){if(!f)throw new Error("path confetti are not supported in this browser");var T,q;typeof H=="string"?T=H:(T=H.path,q=H.matrix);var X=new Path2D(T),le=document.createElement("canvas"),ue=le.getContext("2d");if(!q){for(var me=1e3,fe=me,Se=me,Ie=0,$e=0,Fe,st,At=0;At<me;At+=2)for(var Me=0;Me<me;Me+=2)ue.isPointInPath(X,At,Me,"nonzero")&&(fe=Math.min(fe,At),Se=Math.min(Se,Me),Ie=Math.max(Ie,At),$e=Math.max($e,Me));Fe=Ie-fe,st=$e-Se;var Lt=10,Gt=Math.min(Lt/Fe,Lt/st);q=[Gt,0,0,Gt,-Math.round(Fe/2+fe)*Gt,-Math.round(st/2+Se)*Gt]}return{type:"path",path:T,matrix:q}}function He(H){var T,q=1,X="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof H=="string"?T=H:(T=H.text,q="scalar"in H?H.scalar:q,le="fontFamily"in H?H.fontFamily:le,X="color"in H?H.color:X);var ue=10*q,me=""+ue+"px "+le,fe=new OffscreenCanvas(ue,ue),Se=fe.getContext("2d");Se.font=me;var Ie=Se.measureText(T),$e=Math.ceil(Ie.actualBoundingBoxRight+Ie.actualBoundingBoxLeft),Fe=Math.ceil(Ie.actualBoundingBoxAscent+Ie.actualBoundingBoxDescent),st=2,At=Ie.actualBoundingBoxLeft+st,Me=Ie.actualBoundingBoxAscent+st;$e+=st+st,Fe+=st+st,fe=new OffscreenCanvas($e,Fe),Se=fe.getContext("2d"),Se.font=me,Se.fillStyle=X,Se.fillText(T,At,Me);var Lt=1/q;return{type:"bitmap",bitmap:fe.transferToImageBitmap(),matrix:[Lt,0,0,Lt,-$e*Lt/2,-Fe*Lt/2]}}n.exports=function(){return te().apply(this,arguments)},n.exports.reset=function(){te().reset()},n.exports.create=St,n.exports.shapeFromPath=be,n.exports.shapeFromText=He})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Mg,!1);const IM=Mg.exports;Mg.exports.create;const xM=({className:r})=>O.jsxs("span",{className:"relative inline-block "+(r||""),children:[O.jsx(ET,{className:"w-5 h-5"}),O.jsx("span",{className:"absolute -right-1 -top-1",children:O.jsx(Wm,{className:"w-3.5 h-3.5"})})]});(async()=>{try{await Tu(lr,uf)}catch{}})();function NM(r,e){return`${window.location.origin}/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(e)}`}async function DM(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function vu(){try{try{await Tu(lr,uf)}catch{}await pI(lr,Bm)}catch(r){const e=r==null?void 0:r.code;if(e==="auth/popup-blocked"||e==="auth/cancelled-popup-request"||e==="auth/popup-closed-by-user"){await z0(lr,Bm);return}await z0(lr,Bm)}}function MM(r){const e=encodeURIComponent(r);window.open(`https://wa.me/?text=${e}`,"_blank")}const OM=()=>{const[r]=fR(),e=xp(),n=r.get("listId"),s=r.get("token"),[o,u]=M.useState(lr.currentUser),[f,m]=M.useState(!0),[p,g]=M.useState(!1),[v,w]=M.useState(null);M.useEffect(()=>nw(lr,Y=>{u(Y),m(!1)}),[]);const A=async()=>{w(null);try{await vu()}catch(Y){w((Y==null?void 0:Y.message)||" ")}},L=async()=>{if(!n||!s){w("    (listId  token)");return}if(!o){await A();return}g(!0),w(null);try{await EM(cn,async Y=>{var se;const Z=Wn(cn,"lists",n),F=await Y.get(Z);if(!F.exists())throw new Error("  ");const he=(se=F.data().pendingInvites)==null?void 0:se[s];if(!he)throw new Error("  ");if(he.expiresAt<Date.now())throw new Error("  ");Y.update(Z,{sharedWith:wM(o.uid),[`pendingInvites.${s}`]:TM()})}),localStorage.setItem("activeListId",n),e("/")}catch(Y){w((Y==null?void 0:Y.message)||"  ")}finally{g(!1)}};return f?O.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[O.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),O.jsx(nl,{className:"animate-spin text-indigo-600"})]}):O.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:O.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[O.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:O.jsx(Jm,{className:"w-10 h-10"})}),O.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?O.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,v?O.jsx("p",{className:"text-rose-500 font-bold break-words",children:v}):null,o?O.jsx("button",{onClick:L,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?O.jsx(nl,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):O.jsxs("button",{onClick:A,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[O.jsx(TT,{className:"w-4 h-4"}),"   "]})]})})},Wb={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},ar=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),Rp=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Cu(r){return r?/^\d+$/.test(r)?!0:Wb[r]!=null:!1}function VM(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const e=Wb[r];return e??null}const kM=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function PM(r){return kM.has(r)}const qm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Hm=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),Fm=new Set(["","","","","","","","","","","","",""]);function LM(r){const e=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Cu(o)&&!Cu(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(qm.has(f)||qm.has(p)){e.push(qm.has(f)?f:p),n+=2;continue}if(Hm.has(u)||Hm.has(m)){e.push(Hm.has(u)?f:p),n+=2;continue}if(Fm.has(u)||Fm.has(m)){e.push(Fm.has(u)?f:p),n+=2;continue}}e.push(o),n+=1}return e}function UM(r){const e=ar(r);if(!e)return[];let n=e.split(" ").filter(Boolean);if(n=LM(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const g=u.join(" ").trim();if(g){const v=Math.max(1,Number(p??o??1));s.push({name:g,qty:v})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const g=n[p];if(Cu(g)){const A=Math.max(1,VM(g)||1),L=m(p);if(u.length===0){o=A;continue}if(!L){f(A);continue}f(),o=A;continue}u.push(g);const v=m(p);if(u.length===1&&PM(u[0]))continue;const w=normalizeToken(g);u.length===1&&COMMON_ADJ.has(w)&&v&&!Cu(v)||PHRASE_CONNECTORS.has(g)||PHRASE_CONNECTORS.has(normalizeToken(g))||PHRASE_CONNECTORS.has(v)||PHRASE_CONNECTORS.has(normalizeToken(v))||Cu(v)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function zM(r){const e=Rp(r),n=ar(e);if(!n)return[];const o=applyConjunctionDelimiters(n).split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=UM(f);for(const p of m)u.push(p)}return u}const jM=["","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","'"," "," "," ","","","","","","",""," "," ","",""," ","","","","","",""," ",""," "," "," "," "," "," ","",""," "];function zr(r){return r.trim().replace(/\s+/g," ").replace(/[]/g,'"').replace(/[]/g,"'").toLowerCase()}const Jb="shopping_list_item_history_v1",Zb="shopping_list_hidden_suggestions_v1",BM=1440*60*1e3;function Og(){try{const r=localStorage.getItem(Zb);if(!r)return{};const e=JSON.parse(r);if(!e||typeof e!="object"||Array.isArray(e))return{};const n={};for(const[s,o]of Object.entries(e))typeof s=="string"&&typeof o=="number"&&Number.isFinite(o)&&(n[s]=o);return n}catch{return{}}}function Vg(r){try{localStorage.setItem(Zb,JSON.stringify(r))}catch{}}function KE(){const r=Og(),e=Date.now(),n=[];let s=!1;for(const[o,u]of Object.entries(r)){if(typeof u!="number"||!Number.isFinite(u)){delete r[o],s=!0;continue}u>e?n.push(o):(delete r[o],s=!0)}return s&&Vg(r),n}function qM(r){const e=Og();e[r]=Date.now()+BM,Vg(e)}function Gm(r){try{const e=Og();e[r]&&(delete e[r],Vg(e))}catch{}}function HM(){try{const r=localStorage.getItem(Jb);if(!r)return{};const e=JSON.parse(r);return!e||typeof e!="object"?{}:e}catch{return{}}}function XE(r){try{localStorage.setItem(Jb,JSON.stringify(r))}catch{}}function FM(r){const e=r.query,n=zr(e),s=r.limit??8;if(!n)return[];const o=new Map,u=(g,v)=>{const w=g.trim();if(!w)return;const A=zr(w);if(!A||r.hiddenKeys.has(A))return;const L=o.get(A);if(L){L.sources.add(v);return}o.set(A,{name:w,key:A,sources:new Set([v])})};for(const g of r.favorites)u(g,"favorite");for(const g of r.items)u(g.name,"items");for(const[g,v]of Object.entries(r.history)){u((v==null?void 0:v.name)||g,"history");const w=o.get(g);w&&(w.history=v)}for(const g of jM)u(g,"static");const f=Array.from(o.values()),m=new Map;for(const g of r.items){const v=zr(g.name);v&&(m.has(v)||m.set(v,{id:g.id,quantity:g.quantity}))}const p=g=>{const v=g.key,w=v.startsWith(n),A=!w&&v.includes(n);if(!w&&!A)return-1/0;let L=w?120:70;if(g.sources.has("favorite")&&(L+=45),g.sources.has("history")&&(L+=35),g.sources.has("items")&&(L+=20),g.sources.has("static")&&(L+=10),g.history){const Y=Math.max(0,g.history.count||0),Z=Math.max(0,g.history.lastUsed||0);L+=Math.min(30,Math.log2(Y+1)*8);const F=(Date.now()-Z)/(1e3*60*60*24),ce=Math.max(0,20-F);L+=Math.min(20,ce)}return L};return f.map(g=>({c:g,s:p(g)})).filter(g=>Number.isFinite(g.s)).sort((g,v)=>v.s-g.s).slice(0,s).map(g=>{const v=m.get(g.c.key);return{name:g.c.name,key:g.c.key,canHide:g.c.sources.has("history")&&!g.c.sources.has("favorite"),isInList:!!v,itemId:v==null?void 0:v.id,currentQty:v==null?void 0:v.quantity}})}const wh="shoppingListLang",bh={he:{reminderTitle:"  ",scheduleTitle:" ",addToCalendar:"   (  )",whenConvenient:"  ?",duration:"",minutes:"",openCalendar:" ",cancel:"",eventTitle:"  ",eventDetails:"   -     "},en:{reminderTitle:"Shopping Reminder",scheduleTitle:"Schedule Shopping",addToCalendar:"We'll add a calendar reminder (without list items)",whenConvenient:"When is it convenient?",duration:"Duration",minutes:"min",openCalendar:"Open in Calendar",cancel:"Cancel",eventTitle:"Shopping Reminder",eventDetails:"Shopping reminder - open your shopping list app"},ru:{reminderTitle:"  ",scheduleTitle:" ",addToCalendar:"    (  )",whenConvenient:"  ?",duration:"",minutes:"",openCalendar:"  ",cancel:"",eventTitle:"  ",eventDetails:"   -    "},ar:{reminderTitle:" ",scheduleTitle:" ",addToCalendar:"    (  )",whenConvenient:" ",duration:"",minutes:"",openCalendar:"  ",cancel:"",eventTitle:" ",eventDetails:"  -    "}},WE=()=>{try{const r=(navigator.language||"").toLowerCase();return r.startsWith("he")||r.startsWith("iw")?"he":r.startsWith("ru")?"ru":r.startsWith("ar")?"ar":"en"}catch{return"he"}},GM={he:"he-IL",en:"en-US",ru:"ru-RU",ar:"ar-SA"},Qm={he:{" ":" ","  ":"  ","    ,    .":"    ,    .","  ":"  ","   ":"   ",:"",:"",:""," ":" ",:"","  ":"  ","  ":"  "," :    ,  ":" :    ,  ","  -    ":"  -    ",":":":",":":":","  -   ":"  -   ","    ":"    ","    .  Chrome  Edge.":"    .  Chrome  Edge.","  ?":"  ?",:"",:"",:"",:"","  ":"  "," ":" ","   ":"   ","   ?":"   ?","     .":"     .",:""," ":" ",:""," ":" ","  ":"  ",:"","  ":"  ","   ":"   "," ?":" ?",".    3 ":".    3 "},en:{" ":"The list is empty","  ":"Sign in with Google","    ,    .":"To use the list and invite friends, please sign in with Google.","  ":"My Easy List","   ":"Leave shared list",:"WhatsApp",:"Language",:"Sign out"," ":"Clear list",:"Favorites","  ":"Items that return to the cart","  ":"No favorites yet"," :    ,  ":"Voice commands: hold the mic, release to run","  -    ":"Listening now - speak and release to run",":":"Heard:",":":"Examples:","  -   ":"Speak now - release to run","    ":"Please sign in before voice commands","    .  Chrome  Edge.":"Your browser does not support speech recognition. Try Chrome or Edge.","  ?":"What to add to the list?",:"List",:"Bought",:"Calendar",:"Share","  ":"Share shopping list"," ":"List link","   ":"Join link to my list","   ?":"Clear the entire list?","     .":"This will delete all items from the list.",:"Cancel"," ":"Delete all"," ":"List cleared","   ":"Could not find an item to delete","   ":"Could not find an item to mark","   ":"Could not find an item to increase","   ":"Could not find an item to decrease","     - ...":"Stopping due to a very long phrase - running...","   (    )":"Microphone is unavailable (another app may be using it)","   ":"Could not start listening","   -  ":"No audio captured - try again","...":"Running...","       ":"You can disconnect only from a shared list you do not own",:"Error",:"Recording"," ":"Tap to stop","  ":"Tap to speak",:"Processing","  ":"Review before sending","   ":"You can edit or cancel"," ?":"What did you say?",:"Send",".    3 ":"Done. You can undo for 3 seconds",:"Undo",:"Undone",:"Done"},ru:{" ":" ","  ":"  Google","    ,    .":"     ,   Google.","  ":"My Easy List","   ":"   ",:"WhatsApp",:"",:""," ":" ",:"","  ":"   ","  ":"  "," :    ,  ":" :  ,   ","  -    ":" -     ",":":":",":":":","  -   ":" -   ","    ":"     ","    .  Chrome  Edge.":"     .  Chrome  Edge.","  ?":"   ?",:"",:"",:"",:"","  ":"  "," ":"  ","   ":"     ","   ?":"  ?","     .":"     .",:""," ":" "," ":" ","   ":"    ","   ":"    ","   ":"    ","   ":"    ","     - ...":" -    - ...","   (    )":"  (,    )","   ":"   ","   -  ":"   -   ","...":"...","       ":"     ,     ",:"",:""," ":",  ","  ":",  ",:"","  ":"  ","   ":"   "," ?":"  ?",:"",".    3 ":".     3 ",:"",:"",:""},ar:{" ":" ","  ":"   Google","    ,    .":"        Google.","  ":"My Easy List","   ":"  ",:"",:"",:" "," ":" ",:"","  ":"   ","  ":"   "," :    ,  ":" :       ","  -    ":"  -   ",":":":",":":":","  -   ":"  -  ","    ":"     ","    .  Chrome  Edge.":"     .  Chrome  Edge.","  ?":"     ",:"",:" ",:"",:"","  ":"  "," ":" ","   ":"   ","   ?":"  ","     .":"     .",:""," ":" "," ":"  ","   ":"   ","   ":"   ","   ":"   ","   ":"   ","     - ...":"     -  ...","   (    )":"   (    )","   ":"   ","   -  ":"    -   ","...":" ...","       ":"        ",:"",:" "," ":" ","  ":" ",:" ","  ":"  ","   ":"   "," ?":" ",:"",".    3 ":".    3 ",:"",:" ",:""}},QM=r=>{switch(r){case"en":return'"eggs tomato bell pepper two cucumbers" | "two cucumbers" | "clear list"';case"ru":return'"    " | " " | " "';case"ar":return'"   " | "" | " "';case"he":default:return'"    " | " " | " "'}},$M=()=>{const[r,e]=M.useState(null),[n,s]=M.useState(()=>{try{const S=localStorage.getItem(wh);return S==="he"||S==="en"||S==="ru"||S==="ar"?S:WE()}catch{return WE()}}),o=M.useMemo(()=>bh[n]??bh.he,[n]);M.useEffect(()=>{try{localStorage.setItem(wh,n)}catch{}},[n]);const u=M.useMemo(()=>{const S=Qm[n]||Qm.he;return V=>S[V]??Qm.he[V]??V},[n]),f=M.useMemo(()=>GM[n]??"he-IL",[n]),[m,p]=M.useState(!1),g=M.useRef(null),[v,w]=M.useState(null),[A,L]=M.useState([]),[Y,Z]=M.useState(()=>new Set),[F,ce]=M.useState(()=>new Set),[he,se]=M.useState(()=>new Set),[Re,Pe]=M.useState(()=>new Set),[De,D]=M.useState(()=>new Set),[C,I]=M.useState(()=>new Set),[k,U]=M.useState(()=>new Set),z=M.useRef(new Set),[N,St]=M.useState({}),[ft,te]=M.useState([]),[de,be]=M.useState("list"),[He,H]=M.useState(""),T=M.useRef(null),[q,X]=M.useState(!1),[le,ue]=M.useState(-1),me=M.useRef({}),fe=M.useRef(null);M.useEffect(()=>{me.current=HM()},[]),M.useEffect(()=>{if(z.current.size===0)return;const S=Array.from(z.current);for(const V of S)A.find(ee=>ee.id===V&&!ee.isPurchased)&&(z.current.delete(V),St(ee=>({...ee,[V]:"from"})),requestAnimationFrame(()=>{St(ee=>({...ee,[V]:"to"}))}),window.setTimeout(()=>{St(ee=>{const ye={...ee};return delete ye[V],ye})},260))},[A]);const[Se,Ie]=M.useState(!1),[$e,Fe]=M.useState(!1),st=M.useRef(null),[At,Me]=M.useState(!1),[Lt,Gt]=M.useState(!1),[Tn,Fn]=M.useState(()=>{const S=new Date,V=new Date(S);V.setMinutes(0,0,0),V.setHours(18),V.getTime()<S.getTime()&&V.setHours(S.getHours()+1);const B=ee=>String(ee).padStart(2,"0");return`${V.getFullYear()}-${B(V.getMonth()+1)}-${B(V.getDate())}T${B(V.getHours())}:${B(V.getMinutes())}`}),[wn,rn]=M.useState(60),[Rr,Oa]=M.useState(!0),[Qr,Qt]=M.useState(!1),[xs,Nt]=M.useState(!1),[Ut,Gn]=M.useState(!1),[Ns]=M.useState("hold_to_talk"),[Si,cr]=M.useState(""),[li,ut]=M.useState(null),[mt,zt]=M.useState("idle"),[Dn,po]=M.useState(0),[Ds,Cr]=M.useState(""),ui=M.useRef(null),[ei,ji]=M.useState(null),mn=M.useRef(null),$t=M.useRef(!1),Bi=M.useRef(null),Ai=M.useRef(null),Va=M.useRef(!1),Mn=M.useRef([]),ci=M.useRef(""),Bt=M.useRef(!1),ka=1800,pn=M.useRef(null);M.useEffect(()=>{if(Si){if(Ut){pn.current&&(window.clearTimeout(pn.current),pn.current=null);return}return pn.current&&window.clearTimeout(pn.current),pn.current=window.setTimeout(()=>{cr(""),pn.current=null},ka),()=>{pn.current&&(window.clearTimeout(pn.current),pn.current=null)}}},[Si,Ut]);const bn=M.useRef(null),ti=M.useRef(null),qi=M.useRef(!1),gn=M.useRef(null),[Rt,Zt]=M.useState({id:null,dx:0}),ct=M.useRef({}),Ct=70,On=110,Hi=S=>{const V=S;return V?!!V.closest("button, input, textarea, select, a, [data-noswipe='true']"):!1},Fi=S=>V=>{Hi(V.target)||(qi.current=!1,bn.current={x:V.clientX,y:V.clientY,id:S,pointerId:V.pointerId},ti.current={x:V.clientX,y:V.clientY},Zt({id:S,dx:0}),ct.current[S]=!1)},go=S=>V=>{const B=bn.current;if(!B||B.id!==S||B.pointerId!==V.pointerId)return;ti.current={x:V.clientX,y:V.clientY};const ee=V.clientX-B.x,ye=Math.max(-On,Math.min(On,ee)),ge=Math.abs(ee)>=Ct;if(ge&&!ct.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),ct.current[S]=!0),ge||(ct.current[S]=!1),!gn.current&&Math.abs(ee)>10&&Math.abs(ee)>=Math.abs(V.clientY-B.y))try{V.currentTarget.setPointerCapture(V.pointerId),gn.current={el:V.currentTarget,pointerId:V.pointerId}}catch{}Zt({id:S,dx:ye})},Pa=S=>async V=>{const B=bn.current,ee=ti.current;bn.current=null;try{gn.current&&gn.current.el.releasePointerCapture(B.pointerId)}catch{}if(gn.current=null,ti.current=null,!B||B.id!==S){Zt({id:null,dx:0});return}const ye=(ee==null?void 0:ee.x)??V.clientX,ge=(ee==null?void 0:ee.y)??V.clientY,_e=ye-B.x,at=ge-B.y;if(Zt({id:null,dx:0}),!(Math.abs(_e)<Ct||Math.abs(_e)<Math.abs(at))){qi.current=!0;try{_e>0?mi(S):Ir.has(S)||await Dt(S)}finally{window.setTimeout(()=>{qi.current=!1},0)}}},hr=S=>V=>{if(Hi(V.target))return;const B=V.touches[0];B&&(qi.current=!1,bn.current={x:B.clientX,y:B.clientY,id:S,pointerId:-1},ti.current={x:B.clientX,y:B.clientY},Zt({id:S,dx:0}),ct.current[S]=!1)},$r=S=>V=>{const B=bn.current;if(!B||B.id!==S)return;const ee=V.touches[0];if(!ee)return;ti.current={x:ee.clientX,y:ee.clientY};const ye=ee.clientX-B.x,ge=ee.clientY-B.y,_e=Math.abs(ye)>=Ct;if(_e&&!ct.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),ct.current[S]=!0),_e||(ct.current[S]=!1),Math.abs(ye)<6||Math.abs(ye)<Math.abs(ge))return;try{V.preventDefault()}catch{}const at=Math.max(-On,Math.min(On,ye));Zt({id:S,dx:at})},fr=S=>async V=>{const B=bn.current,ee=ti.current;if(bn.current=null,ti.current=null,!B||B.id!==S){Zt({id:null,dx:0});return}const ye=ee?ee.x-B.x:0;if(Math.abs(ye)<Ct){Zt({id:null,dx:0});return}qi.current=!0,ye>0?mi(S):Ir.has(S)||await Dt(S),Zt({id:null,dx:0})},dr=()=>{bn.current=null,ti.current=null;try{gn.current&&gn.current.el.releasePointerCapture(gn.current.pointerId)}catch{}gn.current=null,Zt({id:null,dx:0})},Gi=M.useRef(null),hi=M.useRef([]),It=M.useRef(!1);M.useEffect(()=>{Gi.current=(v==null?void 0:v.id)??null},[v==null?void 0:v.id]),M.useEffect(()=>{hi.current=A},[A]),M.useEffect(()=>{if(!A||A.length===0){It.current=!1;return}const S=A.every(V=>V.isPurchased);S&&!It.current&&(It.current=!0,IM({particleCount:140,spread:75,origin:{y:.65}})),S||(It.current=!1)},[A]),M.useEffect(()=>{if(!li)return;const S=setTimeout(()=>ut(null),2500);return()=>clearTimeout(S)},[li]),M.useEffect(()=>nw(lr,async S=>{try{if(e(S),Oa(!1),!S){w(null),L([]),te([]);return}Nt(!0);const V=hM(du(cn,"lists"),fM("sharedWith","array-contains",S.uid)),B=await YE(V);if(B.empty){const ee=Wn(du(cn,"lists")),ye={id:ee.id,title:" ",ownerUid:S.uid,sharedWith:[S.uid],createdAt:Date.now(),updatedAt:Date.now()};await mu(ee,ye),w(ye),localStorage.setItem("activeListId",ee.id)}else{const ee=localStorage.getItem("activeListId"),ye=ee?B.docs.find(_e=>_e.id===ee)??B.docs[0]:B.docs[0],ge=ye.data();w({...ge,id:ye.id}),localStorage.setItem("activeListId",ye.id)}Nt(!1)}finally{Qt(!0)}}),[]),M.useEffect(()=>{if(!(v!=null&&v.id))return;const S=Wn(cn,"lists",v.id),V=du(S,"items"),B=du(S,"favorites"),ee=jm(S,_e=>{_e.exists()&&w({..._e.data(),id:_e.id})}),ye=jm(V,_e=>{const at=_e.docs.map(Ve=>Ve.data());L(at)}),ge=jm(B,_e=>{const at=_e.docs.map(Ve=>{const ze=Ve.data();return{id:Ve.id,name:String((ze==null?void 0:ze.name)||""),createdAt:Number((ze==null?void 0:ze.createdAt)||0)}});at.sort((Ve,ze)=>ze.createdAt-Ve.createdAt),te(at)});return()=>{ee(),ye(),ge()}},[v==null?void 0:v.id]);const Ir=M.useMemo(()=>{const S=new Set;for(const V of ft)S.add(V.id);return S},[ft]),mr=M.useMemo(()=>{const S=new Set,V=[];for(const B of ft){const ee=ar(B.name);ee&&(S.has(ee)||(S.add(ee),V.push(B)))}return V},[ft]),Vn=M.useMemo(()=>A.filter(S=>!S.isPurchased).sort((S,V)=>V.createdAt-S.createdAt),[A]),fi=M.useMemo(()=>A.filter(S=>S.isPurchased).sort((S,V)=>(V.purchasedAt||0)-(S.purchasedAt||0)),[A]),yo=S=>{const V=S.trim();if(!V)return;const B=zr(V);if(!B)return;const ee=me.current[B],ye={name:V,count:((ee==null?void 0:ee.count)||0)+1,lastUsed:Date.now()};me.current={...me.current,[B]:ye},XE(me.current)},Ri=M.useRef(new Set);M.useEffect(()=>{Ri.current=new Set(KE())},[]);const Qn=M.useMemo(()=>{const S=new Set(KE());return Ri.current=S,FM({query:He,favorites:(ft??[]).map(V=>V.name),items:A??[],history:me.current,hiddenKeys:S,limit:8})},[He,ft,A]),vo=()=>{fe.current&&window.clearTimeout(fe.current),fe.current=window.setTimeout(()=>{X(!1),ue(-1)},120)},pr=()=>{fe.current&&window.clearTimeout(fe.current),X(!0)},Qi=async S=>{if(S.isInList&&S.itemId){const V=(S.currentQty??1)+1;await $i(S.itemId,1);const B=S.key||zr(S.name);B&&(Gm(B),Ri.current.delete(B)),ut(`  -   -${V}`),H(""),ue(-1),X(!1),window.requestAnimationFrame(()=>{var ee;return(ee=T.current)==null?void 0:ee.focus()});return}H(S.name),ue(-1),X(!1),window.requestAnimationFrame(()=>{var V;return(V=T.current)==null?void 0:V.focus()})},di=S=>{const V=S.key||zr(S.name);if(!V)return;const B={...me.current};B[V]&&(delete B[V],me.current=B,XE(B));const ee=new Set(Ri.current);ee.add(V),Ri.current=ee,qM(V),X(!1),ue(-1),window.requestAnimationFrame(()=>{var ye;return(ye=T.current)==null?void 0:ye.focus()})},kn=async S=>{if(S&&S.preventDefault(),!r){await vu();return}if(!(v!=null&&v.id))return;const V=He.trim();if(!V)return;const B=zr(V),ee=A.find(_e=>zr(_e.name)===B);if(ee){await $i(ee.id,1),B&&(Gm(B),Ri.current.delete(B)),yo(ee.name),H(""),X(!1),ue(-1);return}const ye=crypto.randomUUID(),ge={id:ye,name:V,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await mu(Wn(cn,"lists",v.id,"items",ye),ge),B&&(Gm(B),Ri.current.delete(B)),yo(V),H(""),X(!1),ue(-1)},Yr=async S=>{if(!(v!=null&&v.id))return;const V=A.find(ee=>ee.id===S);if(!V)return;const B=!V.isPurchased;await Wo(Wn(cn,"lists",v.id,"items",S),{isPurchased:B,purchasedAt:B?Date.now():null})},Rl=240,Ms=S=>{const V=A.find(B=>B.id===S);if(!V||V.isPurchased){Yr(S);return}Z(B=>{const ee=new Set(B);return ee.add(S),ee}),window.setTimeout(()=>{Yr(S).finally(()=>{Z(B=>{const ee=new Set(B);return ee.delete(S),ee})})},Rl)},$i=async(S,V)=>{if(!(v!=null&&v.id))return;if(V>0){await Wo(Wn(cn,"lists",v.id,"items",S),{quantity:bM(V)});return}const B=A.find(ee=>ee.id===S);B&&await Wo(Wn(cn,"lists",v.id,"items",S),{quantity:Math.max(1,B.quantity+V)})},Os=async S=>{v!=null&&v.id&&await Th(Wn(cn,"lists",v.id,"items",S))},mi=S=>{v!=null&&v.id&&(C.has(S)||(I(V=>{const B=new Set(V);return B.add(S),B}),window.setTimeout(()=>{Os(S).finally(()=>{I(V=>{const B=new Set(V);return B.delete(S),B})})},240)))},Dt=async S=>{if(!(v!=null&&v.id))return;const V=Wn(cn,"lists",v.id,"favorites",S);if(Ir.has(S)){await Th(V);return}const B=A.find(ge=>ge.id===S),ee=String((B==null?void 0:B.name)||""),ye=ar(ee);ye&&ft.some(_e=>ar(_e.name)===ye)||(await mu(V,{name:ee,createdAt:Date.now()}),se(ge=>{const _e=new Set(ge);return _e.add(S),_e}),window.setTimeout(()=>{se(ge=>{const _e=new Set(ge);return _e.delete(S),_e})},260))},xr=async S=>{v!=null&&v.id&&await Th(Wn(cn,"lists",v.id,"favorites",S))},Kr=S=>{v!=null&&v.id&&(k.has(S)||(U(V=>{const B=new Set(V);return B.add(S),B}),window.setTimeout(()=>{xr(S).finally(()=>{U(V=>{const B=new Set(V);return B.delete(S),B})})},240)))},Xr=async()=>{const S=Gi.current||(v==null?void 0:v.id);if(!S)return;const V=du(cn,"lists",S,"items"),B=await YE(V);if(B.empty){Me(!1);return}const ee=B.docs;let ye=0;for(;ye<ee.length;){const ge=SM(cn),_e=ee.slice(ye,ye+450);for(const at of _e)ge.delete(at.ref);await ge.commit(),ye+=_e.length}Me(!1)},nt=async()=>{if(!r)return await vu(),null;if(!(v!=null&&v.id))return null;const S=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),V=Date.now()+2880*60*1e3;return await Wo(Wn(cn,"lists",v.id),{[`pendingInvites.${S}`]:{createdAt:Date.now(),expiresAt:V}}),NM(v.id,S)},Wr=async()=>{const S=await nt();if(S){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:u(" "),text:u("   "),url:S});return}}catch{}await DM(S),Ie(!0),setTimeout(()=>Ie(!1),2e3)}},Nr=(S,V)=>{const[B,ee]=S.split("T"),[ye,ge,_e]=B.split("-").map(yn=>parseInt(yn,10)),[at,Ve]=ee.split(":").map(yn=>parseInt(yn,10)),ze=new Date(ye,ge-1,_e,at,Ve,0,0),vt=new Date(ze.getTime()+Math.max(15,V)*6e4),je=yn=>String(yn).padStart(2,"0"),Ye=yn=>`${yn.getFullYear()}${je(yn.getMonth()+1)}${je(yn.getDate())}T${je(yn.getHours())}${je(yn.getMinutes())}00`,qt=`${Ye(ze)}/${Ye(vt)}`,xt=encodeURIComponent(o.eventTitle),ri=encodeURIComponent(o.eventDetails),Xi=encodeURIComponent("Asia/Jerusalem");return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${xt}&dates=${encodeURIComponent(qt)}&details=${ri}&ctz=${Xi}`},pi=()=>{const S=Nr(Tn,wn),V=navigator.userAgent||"",B=/Android/i.test(V),ee=/iPhone|iPad|iPod/i.test(V);if(B){const ye=S.replace(/^https:\/\//i,"intent://")+"#Intent;scheme=https;package=com.google.android.calendar;end";window.location.href=ye,window.setTimeout(()=>{window.location.href=S},700);return}if(ee){window.location.href="googlecalendar://",window.setTimeout(()=>{window.location.href=S},700);return}window.open(S,"_blank","noopener,noreferrer")},Cl=()=>{const S=A.filter(Yn=>!Yn.isPurchased),V="",B="",ee="",ye="",_e=(()=>{var Ls;const Yn=Us=>{const Yt=String(Us||"").toLowerCase();return Yt?Yt==="he"||Yt.startsWith("he")||Yt.startsWith("iw")?"he":Yt==="en"||Yt.startsWith("en")?"en":Yt==="ru"||Yt.startsWith("ru")?"ru":Yt==="ar"||Yt.startsWith("ar")?"ar":null:null};try{const Us=["shoppingListLang",wh,"appLang","appLanguage","uiLang","lang","language","selectedLanguage"];for(const To of Us){const Wi=Yn(localStorage.getItem(To));if(Wi)return Wi}const Yt=Yn(n);if(Yt)return Yt;const za=Yn((Ls=document==null?void 0:document.documentElement)==null?void 0:Ls.lang);if(za)return za}catch{}return"he"})(),at=localStorage.getItem(wh)||_e,Ve=bh[at]??bh.he;globalThis.Treminder=Ve;const ze={he:" ",en:"My list",ru:" ",ar:""},vt={he:"  ",en:"The list is currently empty",ru:"  ",ar:"  "},je=((v==null?void 0:v.title)||"").trim(),Ye=je===ze.he||je===ze.en||je===ze.ru||je===ze.ar,qt=je?Ye?ze[_e]:je:ze[_e],xt=S.length>0?S.map(Yn=>(Yn.quantity||1)<=1?`${V}${Yn.name}${B}`:`${V}${Yn.name} X ${ee}${Yn.quantity}${ye}${B}`).join(`
`):`${V}(${vt[_e]||vt.he})${B}`,ri=`*${qt}:*`,Xi={he:"    ",en:"Sent from My Easy List ",ru:"   My Easy List ",ar:"     "},yn=Xi[_e]||Xi.he,Eo=`${ri}

${xt}

${yn}`;MM(Eo)},gr=M.useRef(null),Dr=M.useRef(null),Yi=M.useRef(null),[Mt,Vs]=M.useState({id:null,dx:0,rawDx:0}),ni=M.useRef({}),Ot=60,yr=110,ks=async S=>{if(!(v!=null&&v.id))return{targetId:null,created:!1};const V=zr(S.name),B=A.find(ge=>!ge.isPurchased&&zr(ge.name)===V);if(B)return Pe(ge=>{const _e=new Set(ge);return _e.add(B.id),_e}),window.setTimeout(()=>{Pe(ge=>{const _e=new Set(ge);return _e.delete(B.id),_e})},260),{targetId:B.id,created:!1};D(ge=>{const _e=new Set(ge);return _e.add(S.id),_e}),window.setTimeout(()=>{D(ge=>{const _e=new Set(ge);return _e.delete(S.id),_e})},260);const ee=crypto.randomUUID(),ye={id:ee,name:S.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};return z.current.add(ee),await mu(Wn(cn,"lists",v.id,"items",ee),ye),{targetId:ee,created:!0}},vr=S=>V=>{Hi(V.target)||(gr.current={x:V.clientX,y:V.clientY,id:S,pointerId:V.pointerId},Dr.current={x:V.clientX,y:V.clientY},Vs({id:S,dx:0,rawDx:0}),ni.current[S]=!1)},ii=S=>V=>{const B=gr.current;if(!B||B.id!==S)return;Dr.current={x:V.clientX,y:V.clientY};const ee=V.clientX-B.x,ye=V.clientY-B.y,ge=Math.abs(ee)>=Ot;if(ge&&!ni.current[S]&&(typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(15),ni.current[S]=!0),ge||(ni.current[S]=!1),!Yi.current&&Math.abs(ee)>10&&Math.abs(ye)<=Math.abs(ee)*1.2)try{V.currentTarget.setPointerCapture(V.pointerId),Yi.current={el:V.currentTarget,pointerId:V.pointerId}}catch{}if(Math.abs(ye)>Math.abs(ee)*1.6)return;const _e=Math.max(-yr,Math.min(yr,ee));Vs({id:S,dx:_e,rawDx:ee})},_o=S=>async V=>{const B=gr.current,ee=Dr.current;gr.current=null;try{Yi.current&&B&&Yi.current.el.releasePointerCapture(B.pointerId)}catch{}if(Yi.current=null,Dr.current=null,Vs({id:null,dx:0,rawDx:0}),!B||B.id!==S)return;const ye=(ee==null?void 0:ee.x)??V.clientX,ge=(ee==null?void 0:ee.y)??V.clientY,_e=ye-B.x,at=ge-B.y;if(Math.abs(_e)<Ot||Math.abs(at)>Math.abs(_e)*1.6)return;const Ve=ft.find(ze=>ze.id===S);_e>0?Kr(S):Ve&&await ks(Ve)},La=()=>{gr.current=null,Dr.current=null,Yi.current=null,Vs({id:null,dx:0,rawDx:0})},Jr=S=>{const V=ar(S),B=A.find(ye=>ar(ye.name)===V);return B||A.find(ye=>ar(ye.name).includes(V)||V.includes(ar(ye.name)))||null},$n=(S,V)=>{const ee=(S||"").trim().toLowerCase().replace(/[^\p{L}\p{N}\s]/gu," ").replace(/\s+/g," ").trim();switch(V){case"en":return[/^clear( the)? list$/,/^empty( the)? list$/,/\b(clear|empty)\b.*\b(list)\b/,/\b(delete|remove)\b.*\b(all|everything|all items|items)\b/,/\b(delete|remove)\b.*\b(list)\b/].some(ge=>ge.test(ee));case"ru":return[/^()?\s+(|)$/,/^()?\s+(|)$/,/^()?\s+$/,/^()?\s+$/,/\b(()?|()?|()?|(|))\b.*\b((|))\b/,/\b(()?|()?)\b.*\b()\b/].some(ge=>ge.test(ee));case"ar":return[/^(|)\s+()$/,/^(|)\s+()$/,/\b(||)\b.*\b()\b/,/\b(|)\b.*\b()\b/].some(ge=>ge.test(ee));case"he":default:return[/(|||||||||)\s*(\s*)?(\s*)?(\s*)?(|)?/,/^(||)$/].some(ge=>ge.test(ee))||ee.includes("")&&ee.includes("")&&(ee.includes("")||ee.includes(""))||ee.includes("")&&(ee.includes("")||ee.includes(""))}},Ci=()=>{const S=window.SpeechRecognition||window.webkitSpeechRecognition;return S||null},Ua=S=>{const V=String(Math.floor(S/60)).padStart(2,"0"),B=String(Math.floor(S%60)).padStart(2,"0");return`${V}:${B}`},Ki=()=>{ui.current!=null&&window.clearInterval(ui.current),po(0),ui.current=window.setInterval(()=>{po(S=>S+1)},1e3)},Pn=()=>{ui.current!=null&&window.clearInterval(ui.current),ui.current=null},Ps=async()=>{var S,V;try{if(!((S=navigator==null?void 0:navigator.mediaDevices)!=null&&S.getUserMedia))return;const B=await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:!0,echoCancellation:!0,autoGainControl:!0}});try{(V=B.getTracks)==null||V.call(B).forEach(ee=>ee.stop())}catch{}Bi.current=null}catch{}},gi=()=>{var S,V;try{(V=(S=Bi.current)==null?void 0:S.getTracks)==null||V.call(S).forEach(B=>B.stop())}catch{}Bi.current=null},Mr=async S=>{const V=Gi.current||(v==null?void 0:v.id);if(V)for(const B of S)try{B.type==="delete_item"?await Th(Wn(cn,"lists",V,"items",B.id)):B.type==="restore_qty"&&await Wo(Wn(cn,"lists",V,"items",B.id),{quantity:B.prevQty})}catch{}},Zr=async S=>{const V=Gi.current||(v==null?void 0:v.id);if(!V)return[];const B=ar(Rp(S));if(!B)return[];if($n(B,n))return await Xr(),ut(u(" ")),[];if(/^(|||)\s+/.test(B)){const je=B.replace(/^(|||)\s+/,"").trim(),Ye=Jr(je);return Ye?(mi(Ye.id),ut(`: ${Ye.name}`),[]):(ut(u("   ")),[])}const ee=B.match(/^(||)\s+(.+)\s+(||)$/);if(ee){const je=ee[2].trim(),Ye=Jr(je);return Ye?(Ye.isPurchased||await Yr(Ye.id),ut(` : ${Ye.name}`),[]):(ut(u("   ")),[])}const ye=B.match(/^(||)\s+(.+)$/);if(ye){const je=ye[2].trim(),Ye=Jr(je);return Ye?(await $i(Ye.id,1),ut(`: ${Ye.name}`),[]):(ut(u("   ")),[])}const ge=B.match(/^(||)\s+(.+)$/);if(ge){const je=ge[2].trim(),Ye=Jr(je);return Ye?(await $i(Ye.id,-1),ut(`: ${Ye.name}`),[]):(ut(u("   ")),[])}const _e=B.match(/^(|||)(?:\s+)?\s+(.+)$/),at=_e?_e[2]:B,Ve=zM(at);if(Ve.length===0)return[];const ze=[],vt=hi.current||A;for(const je of Ve){const Ye=(je.name||"").trim();if(!Ye)continue;const qt=vt.find(xt=>!xt.isPurchased&&ar(xt.name)===ar(Ye));if(qt){const xt=qt.quantity;await Wo(Wn(cn,"lists",V,"items",qt.id),{quantity:je.qty}),ze.push({type:"restore_qty",id:qt.id,prevQty:xt})}else{const xt=crypto.randomUUID(),ri={id:xt,name:Ye,quantity:je.qty,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await mu(Wn(cn,"lists",V,"items",xt),ri),ze.push({type:"delete_item",id:xt})}}return ze},Or=async()=>{const S=Ci();if(!S){alert(u("    .  Chrome  Edge."));return}if(!r){ut(u("    ")),vu();return}if(await Ps(),Mn.current=[],ci.current="",Bt.current=!1,$t.current=!0,Cr(""),cr(""),Gn(!0),zt("recording"),Ki(),typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(10),Ai.current){try{Ai.current.stop()}catch{}Ai.current=null}const V=new S;Ai.current=V,V.lang=f,V.interimResults=!0,V.maxAlternatives=1,V.continuous=!0;let B=!1,ee=Date.now();const ye=3e3;let ge=null;const _e=()=>{ge!=null&&window.clearTimeout(ge),ge=null},at=()=>{$t.current&&B&&(ge!=null&&window.clearTimeout(ge),ge=window.setTimeout(()=>{if(!$t.current)return;Date.now()-ee>=ye&&yt()},ye+50))};V.onresult=Ve=>{try{let ze="";const vt=Ve.results;if(!vt)return;for(let Ye=Ve.resultIndex??0;Ye<((vt==null?void 0:vt.length)??0);Ye++){const qt=vt[Ye],xt=qt==null?void 0:qt[0],ri=Rp(String((xt==null?void 0:xt.transcript)||""));ri&&(qt.isFinal?(Mn.current[Ye]=ri,ci.current=""):(ze=ri,ci.current=ri))}const je=ze||(Mn.current.length?Mn.current[Mn.current.length-1]:"");je&&cr(je),B=!0,ee=Date.now(),at()}catch{}},V.onerror=Ve=>{const ze=String((Ve==null?void 0:Ve.error)||"");console.warn("Speech error:",ze,Ve),ze!=="no-speech"&&(_e(),Pn(),gi(),Gn(!1),zt("idle"),$t.current=!1,ze==="not-allowed"||ze==="service-not-allowed"?alert("  .     ."):ut(ze==="audio-capture"?u("   (    )"):` : ${ze||"unknown"}`))},V.onend=()=>{_e(),$t.current&&(Bt.current||(Bt.current=!0,setTimeout(()=>{if(!$t.current){Bt.current=!1;return}try{V.start()}catch{}finally{Bt.current=!1}},180)))};try{V.start(),at()}catch(Ve){console.error(Ve),_e(),Pn(),gi(),Gn(!1),zt("idle"),$t.current=!1,ut(u("   "))}},yt=async()=>{var ge,_e;if(!$t.current)return;$t.current=!1,Gn(!1),zt("processing"),Pn(),typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(20);try{(_e=(ge=Ai.current)==null?void 0:ge.stop)==null||_e.call(ge)}catch{}gi(),await new Promise(at=>setTimeout(at,220));const S=Mn.current.filter(Boolean),B=(at=>{let Ve="";for(const ze of at){const vt=String(ze||"").trim();if(!vt)continue;if(!Ve){Ve=vt;continue}const je=Ve.trim();if(vt.startsWith(je)){Ve=vt;continue}if(je.startsWith(vt))continue;const Ye=Math.min(je.length,vt.length,60);let qt=!1;for(let xt=Ye;xt>=10;xt--)if(je.slice(-xt)===vt.slice(0,xt)){Ve=je+vt.slice(xt),qt=!0;break}qt||(Ve=je+" "+vt)}return Ve.replace(/\s+/g," ").trim()})(S),ee=(ci.current||"").trim(),ye=`${B} ${ee}`.replace(/\s+/g," ").trim();if(Mn.current=[],ci.current="",!ye){zt("idle"),ut(u("   -  "));return}Cr(ye),zt("review")},Sn=async()=>{const S=Ds.trim();if(!S){zt("idle");return}zt("processing");try{const V=await Zr(S);zt("idle"),Cr(""),V.length>0?(mn.current!=null&&window.clearTimeout(mn.current),ji({msg:u(u(".    3 ")),undoLabel:u(""),onUndo:async()=>{await Mr(V),ji(null),mn.current!=null&&window.clearTimeout(mn.current),mn.current=null,ut(u(""))}}),mn.current=window.setTimeout(()=>{ji(null),mn.current=null},3e3)):ut(u(""))}catch(V){console.error(V),zt("idle"),ut(`${u("")}: ${String((V==null?void 0:V.message)||V||"")}`)}},_r=()=>{Cr(""),zt("idle")};return M.useEffect(()=>()=>{var S,V;try{Va.current=!1,(V=(S=Ai.current)==null?void 0:S.stop)==null||V.call(S)}catch{}},[]),M.useEffect(()=>{const S=V=>{if(!$e)return;const B=st.current;B&&(V.target&&B.contains(V.target)||Fe(!1))};return document.addEventListener("pointerdown",S),()=>document.removeEventListener("pointerdown",S)},[$e]),M.useEffect(()=>{const S=V=>{if(!m)return;const B=g.current;B&&(V.target&&B.contains(V.target)||p(!1))};return document.addEventListener("pointerdown",S),()=>document.removeEventListener("pointerdown",S)},[m]),Qr?r?Rr?O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:O.jsx(nl,{className:"animate-spin text-indigo-600"})}):xs||!(v!=null&&v.id)?O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:O.jsx(nl,{className:"animate-spin text-indigo-600"})}):O.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[O.jsx("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-4 py-3 border-b border-slate-100",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("button",{onClick:()=>WC(lr),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:u(""),"aria-label":u(""),children:O.jsx(bR,{className:"w-4 h-4"})}),O.jsxs("div",{className:"relative",ref:g,children:[O.jsx("button",{type:"button",onClick:()=>p(S=>!S),className:"w-9 h-9 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:u(""),"aria-label":u(""),children:O.jsx(wR,{className:"w-4 h-4"})}),m?O.jsx("div",{className:"absolute right-0 mt-2 w-44 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[14px] leading-tight z-[80]",children:[{code:"he",label:""},{code:"en",label:"English"},{code:"ru",label:""},{code:"ar",label:""}].map(S=>O.jsxs("button",{type:"button",onClick:()=>{s(S.code),p(!1)},className:`w-full px-4 py-2 flex items-center justify-between hover:bg-slate-50 ${n===S.code?"font-black text-slate-900":"font-bold text-slate-600"}`,children:[O.jsx("span",{children:S.label}),n===S.code?O.jsx(g0,{className:"w-4 h-4 text-emerald-500"}):null]},S.code))}):null]}),O.jsx("button",{onClick:()=>Me(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:u(" "),"aria-label":u(" "),children:O.jsx(mh,{className:"w-5 h-5"})})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("span",{className:"text-lg font-bold text-indigo-600 leading-tight whitespace-nowrap",children:"My Easy List"}),O.jsxs("div",{className:"relative inline-flex items-center",ref:st,children:[O.jsx("button",{type:"button",onClick:()=>Fe(S=>!S),className:"p-2 text-slate-400 hover:text-indigo-600",title:u(""),"aria-label":u(""),children:Se?O.jsx(g0,{className:"w-5 h-5 text-emerald-500"}):O.jsx(Jm,{className:"w-5 h-5"})}),$e?O.jsxs("div",{className:"absolute top-11 left-0 z-[80] w-64 rounded-2xl border border-slate-200 bg-white shadow-lg overflow-hidden text-[15px] leading-tight",children:[O.jsxs("button",{type:"button",onClick:async()=>{Fe(!1),await Wr()},className:"w-full text-right px-4 py-3 text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[O.jsx(Jm,{className:"w-4 h-4 text-slate-500"}),O.jsx("span",{className:"font-semibold text-[15px] leading-none",children:u("  ")})]}),O.jsxs("button",{type:"button",onClick:()=>{const S=!!(r&&(v!=null&&v.ownerUid)&&r.uid!==v.ownerUid);if(Fe(!1),!S){ut(u("       "));return}setShowLeaveConfirm(!0)},className:`w-full text-right px-4 py-3 flex items-center gap-2 ${r&&(v!=null&&v.ownerUid)&&r.uid!==v.ownerUid?"text-rose-700 hover:bg-rose-50":"text-slate-400 cursor-not-allowed"}`,children:[O.jsx(y0,{className:`w-4 h-4 ${r&&(v!=null&&v.ownerUid)&&r.uid!==v.ownerUid?"text-rose-600":"text-slate-400"}`}),O.jsx("span",{className:"font-semibold text-[15px] leading-none",children:u("   ")})]})]}):null]})]})]})}),O.jsx("div",{className:"px-5 pt-3",children:O.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[O.jsx("div",{className:"text-[11px] font-black text-slate-400",children:u(Ut?"  -    ":" :    ,  ")}),Si?O.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[u(":")," ",Si]}):null,O.jsxs("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:[u(":")," ",QM(n)]})]})}),O.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:de==="list"?O.jsxs(O.Fragment,{children:[O.jsxs("form",{onSubmit:kn,className:"relative",children:[O.jsx("input",{ref:T,value:He,onFocus:pr,onBlur:vo,onKeyDown:S=>{if(q){if(S.key==="Escape"){S.preventDefault(),X(!1),ue(-1);return}if(S.key==="ArrowDown"){if(S.preventDefault(),Qn.length===0)return;ue(V=>{const B=V+1;return B>=Qn.length?0:B});return}if(S.key==="ArrowUp"){if(S.preventDefault(),Qn.length===0)return;ue(V=>{const B=V-1;return B<0?Qn.length-1:B});return}if(S.key==="Tab"){if(Qn.length===0)return;S.preventDefault(),Qi(Qn[Math.max(0,le>=0?le:0)]);return}if(S.key==="Enter"&&Qn.length>0){S.preventDefault();const V=le>=0?le:0;Qi(Qn[V]);return}}},onChange:S=>{H(S.target.value),pr(),ue(-1)},placeholder:u("  ?"),className:"w-full p-4 pr-12 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),O.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:O.jsx(Wm,{className:"w-6 h-6"})}),q&&He.trim()&&Qn.length>0?O.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 z-50 bg-white border border-slate-200 rounded-2xl shadow-lg overflow-hidden",dir:"rtl",onMouseDown:S=>{S.preventDefault()},onPointerDown:S=>{S.preventDefault()},children:Qn.map((S,V)=>O.jsxs("div",{className:"w-full flex items-stretch justify-between gap-2 hover:bg-slate-50 transition-colors "+(V===le?"bg-slate-100":""),children:[O.jsxs("button",{type:"button",className:"flex-1 text-right px-4 py-3 flex items-center justify-between",onPointerDown:B=>{B.preventDefault(),Qi(S)},title:"",children:[O.jsx("span",{className:"font-semibold text-slate-700",children:S.name}),S.isInList?O.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-600",children:["",typeof S.currentQty=="number"?` (${S.currentQty})`:""]}):O.jsx("span",{className:"text-xs text-slate-400",children:"Tab"})]}),S.canHide?O.jsx("button",{type:"button",className:"px-3 text-slate-400 hover:text-slate-700",onPointerDown:B=>{B.preventDefault(),B.stopPropagation(),di(S)},title:" ","aria-label":" ",children:""}):null]},S.key+"-"+V))}):null]}),((A==null?void 0:A.length)??0)===0?O.jsxs("div",{className:"text-center py-20 opacity-20",children:[O.jsx(CR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),O.jsx("p",{className:"text-lg font-bold",children:u(" ")})]}):O.jsx("div",{className:"space-y-4",children:O.jsxs("div",{className:"space-y-3",children:[Vn.map(S=>O.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-slate-100 shadow-sm select-none transition-all duration-200 ease-out ${Y.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":N[S.id]==="from"?"opacity-0 translate-y-1 scale-[0.99]":"opacity-100 translate-y-0 scale-100"}`,dir:"rtl",onPointerDown:Fi(S.id),onPointerMove:go(S.id),onPointerUp:Pa(S.id),onPointerCancel:dr,onTouchStart:hr(S.id),onTouchMove:$r(S.id),onTouchEnd:fr(S.id),style:{touchAction:"pan-y"},children:[O.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[O.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:Rt.id===S.id&&Rt.dx>0?Math.min(Math.abs(Rt.dx),On):0,opacity:.9,zIndex:0}}),O.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:Rt.id===S.id&&Rt.dx<0?Math.min(Math.abs(Rt.dx),On):0,opacity:.9,zIndex:0}}),O.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4 flex-row-reverse",children:[O.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:Rt.id===S.id&&Rt.dx>0?Math.abs(Rt.dx)>=Ct?1:.65:0,transform:Rt.id===S.id&&Rt.dx>0&&Math.abs(Rt.dx)>=Ct?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(mh,{className:"w-6 h-6"})}),O.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:Rt.id===S.id&&Rt.dx<0?Math.abs(Rt.dx)>=Ct?1:.65:0,transform:Rt.id===S.id&&Rt.dx<0&&Math.abs(Rt.dx)>=Ct?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(dh,{className:"w-6 h-6"})})]})]}),O.jsxs("div",{className:`relative z-10 flex items-center justify-between w-full p-3 rounded-2xl transition-colors ${C.has(S.id)?"bg-rose-50":he.has(S.id)?"bg-emerald-100":Re.has(S.id)?"bg-emerald-50":"bg-white"}`,style:{transform:Rt.id===S.id?`translateX(${Rt.dx}px)`:void 0,transition:Rt.id===S.id?"none":"transform 120ms ease-out"},children:[O.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>{qi.current||C.has(S.id)||Ms(S.id)},children:S.name}),O.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100","data-noswipe":"true",children:[O.jsx("button",{disabled:Y.has(S.id)||C.has(S.id),onClick:()=>$i(S.id,-1),className:`p-1 text-slate-400 ${Y.has(S.id)||C.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:O.jsx(RR,{className:"w-3 h-3"})}),O.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:S.quantity}),O.jsx("button",{disabled:Y.has(S.id)||C.has(S.id),onClick:()=>$i(S.id,1),className:`p-1 text-slate-400 ${Y.has(S.id)||C.has(S.id)?"opacity-40 cursor-not-allowed":""}`,title:"","data-noswipe":"true",children:O.jsx(Wm,{className:"w-3 h-3"})})]})]})]},S.id)),fi.length>0?O.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-700 text-right mb-2",children:[u("")," (",fi.length,")"]}),fi.map(S=>O.jsx("div",{className:`flex items-center justify-between p-3 ${C.has(S.id)?"bg-rose-50":"bg-slate-100/50"} rounded-2xl opacity-60 grayscale transition-all`,dir:"rtl",children:O.jsxs("div",{className:"flex items-center justify-between w-full",children:[O.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-start cursor-pointer",onClick:()=>Yr(S.id),style:{direction:"rtl",unicodeBidi:"plaintext"},children:[O.jsx(TR,{className:"w-6 h-6 text-emerald-500 flex-shrink-0"}),O.jsx("span",{className:"text-base font-bold text-slate-500 line-through truncate text-left",children:O.jsxs("span",{className:"flex gap-1",children:[O.jsx("span",{children:S.name}),(S.quantity||1)>1&&O.jsxs(O.Fragment,{children:[O.jsx("span",{children:"x"}),O.jsx("span",{children:S.quantity})]})]})})]}),O.jsx("button",{onClick:()=>mi(S.id),className:"p-2 text-slate-300",title:"",children:O.jsx(mh,{className:"w-4 h-4"})})]})},S.id))]}):null]})})]}):O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:u("")}),O.jsx("p",{className:"text-sm text-slate-400 font-bold",children:O.jsx("span",{className:"font-semibold text-[15px] leading-none",children:u("  ")})})]}),mr.length===0?O.jsxs("div",{className:"text-center py-20 opacity-20",children:[O.jsx(dh,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),O.jsx("p",{className:"font-bold",children:u("  ")})]}):O.jsx("div",{className:"grid grid-cols-1 gap-3",children:mr.map(S=>O.jsxs("div",{className:`relative overflow-hidden rounded-2xl select-none transition-all duration-200 ease-out ${k.has(S.id)?"pointer-events-none":""} ${F.has(S.id)?"opacity-0 translate-y-1 scale-[0.99] pointer-events-none":"opacity-100 translate-y-0 scale-100"}`,dir:"ltr",onPointerDown:vr(S.id),onPointerMove:ii(S.id),onPointerUp:_o(S.id),onPointerCancel:La,style:{touchAction:"pan-y"},children:[O.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-2xl",children:[O.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-rose-50",style:{width:Mt.id===S.id&&Mt.rawDx>0?Math.min(Math.abs(Mt.rawDx),yr):0,opacity:.9,zIndex:0}}),O.jsx("div",{className:"absolute right-0 top-0 bottom-0 bg-emerald-50",style:{width:Mt.id===S.id&&Mt.rawDx<0?Math.min(Math.abs(Mt.rawDx),yr):0,opacity:.9,zIndex:0}}),O.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-4",children:[O.jsx("div",{className:"text-rose-600",style:{zIndex:2,opacity:Mt.id===S.id&&Mt.rawDx>0?Math.abs(Mt.rawDx)>=Ot?1:.65:0,transform:Mt.id===S.id&&Mt.rawDx>0&&Math.abs(Mt.rawDx)>=Ot?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(mh,{className:"w-6 h-6"})}),O.jsx("div",{className:"text-emerald-600",style:{zIndex:2,opacity:Mt.id===S.id&&Mt.rawDx<0?Math.abs(Mt.rawDx)>=Ot?1:.65:0,transform:Mt.id===S.id&&Mt.rawDx<0&&Math.abs(Mt.rawDx)>=Ot?"scale(1.15)":"scale(1)",transition:"transform 120ms ease, opacity 120ms ease"},children:O.jsx(xM,{className:"w-6 h-6"})})]})]}),O.jsxs("div",{className:`relative z-10 flex items-center justify-between p-4 rounded-2xl border border-slate-100 shadow-sm transition-colors ${k.has(S.id)?"bg-rose-50":De.has(S.id)?"bg-emerald-100":"bg-white"}`,style:{transform:Mt.id===S.id?`translateX(${Mt.dx}px)`:void 0,transition:Mt.id===S.id?"none":"transform 160ms ease-out"},children:[O.jsx("div",{className:"flex items-center gap-2"}),O.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate px-3 text-base",style:{direction:"rtl",unicodeBidi:"plaintext"},children:S.name}),O.jsx(dh,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]})]},S.id))})]})}),O.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:O.jsx("div",{className:"max-w-md mx-auto px-4 pb-3",children:O.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:O.jsxs("div",{className:"relative flex items-center justify-between px-8 pt-9 pb-3",children:[O.jsxs("button",{onClick:()=>be("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${de==="favorites"?"text-indigo-600":"text-slate-300"}`,title:u(""),children:[O.jsx(dh,{className:`w-7 h-7 ${de==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),u("")]}),O.jsxs("button",{onClick:Cl,className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:u(""),children:[O.jsx(SR,{className:"w-7 h-7"}),u("")]}),O.jsxs("button",{onClick:()=>Gt(!0),className:"flex flex-col items-center gap-1 text-[11px] font-black text-slate-300",title:u(""),children:[O.jsx(p0,{className:"w-7 h-7"}),u("")]}),O.jsxs("button",{onClick:()=>be("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${de==="list"?"text-indigo-600":"text-slate-300"}`,title:u(""),children:[O.jsx(ET,{className:"w-7 h-7"}),u("")]}),O.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 -top-10 flex flex-col items-center gap-2",children:[mt==="recording"?O.jsxs("div",{className:"px-3 py-1 rounded-full bg-black/80 text-white text-[12px] font-black flex items-center gap-2",children:[O.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-rose-500 animate-pulse"}),u(u(""))," ",Ua(Dn)]}):null,O.jsx("button",{onClick:S=>{S.preventDefault(),!(mt==="processing"||mt==="review")&&(mt==="idle"?Or():mt==="recording"&&yt())},className:`w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${mt==="recording"?"bg-rose-500 text-white":"bg-indigo-600 text-white hover:bg-indigo-700"} ${mt==="processing"?"opacity-60 pointer-events-none":""}`,title:u(u(mt==="recording"?" ":mt==="processing"?"":"  ")),children:mt==="processing"?O.jsx(nl,{className:"w-7 h-7 animate-spin"}):mt==="recording"?O.jsx(AR,{className:"w-7 h-7"}):O.jsx(v0,{className:"w-7 h-7"})})]})]})})})}),Lt?O.jsx("div",{className:"fixed inset-0 z-[70] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:O.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:O.jsxs("div",{className:"p-6 space-y-4",children:[O.jsxs("div",{className:"flex items-start justify-between gap-3",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-xl font-black text-slate-800",children:o.scheduleTitle}),O.jsx("div",{className:"text-sm font-bold text-slate-400",children:o.addToCalendar})]}),O.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center",children:O.jsx(p0,{className:"w-5 h-5"})})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("label",{className:"block text-sm font-black text-slate-600",children:o.whenConvenient}),O.jsx("input",{type:"datetime-local",value:Tn,onChange:S=>Fn(S.target.value),className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-sm font-black text-slate-600",children:o.duration}),O.jsxs("span",{className:"text-sm font-black text-slate-500",children:[wn," ",o.minutes]})]}),O.jsx("div",{className:"grid grid-cols-4 gap-2",dir:"ltr",children:[30,45,60,90].map(S=>O.jsx("button",{onClick:()=>rn(S),className:`py-2 rounded-2xl font-black text-sm ${wn===S?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700"}`,children:S},S))})]}),O.jsxs("div",{className:"flex gap-3 pt-2",children:[O.jsx("button",{onClick:()=>Gt(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:o.cancel}),O.jsx("button",{onClick:()=>{Gt(!1),pi()},className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:o.openCalendar})]})]})})}):null,At?O.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:O.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:O.jsx(y0,{className:"w-5 h-5"})}),O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-lg font-black text-slate-800",children:u("   ?")}),O.jsx("div",{className:"text-sm font-bold text-slate-400",children:u("     .")})]})]}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("button",{onClick:()=>Me(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:u("")}),O.jsx("button",{onClick:Xr,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:u(" ")})]})]})}):null,mt==="review"?O.jsx("div",{className:"fixed inset-0 z-[80] bg-black/50 flex items-center justify-center p-6",dir:"rtl",children:O.jsx("div",{className:"w-full max-w-sm rounded-3xl bg-white shadow-2xl border border-slate-100 overflow-hidden",children:O.jsxs("div",{className:"p-6 space-y-4",children:[O.jsxs("div",{className:"flex items-start justify-between gap-3",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-xl font-black text-slate-800",children:u(u("  "))}),O.jsx("div",{className:"text-sm font-bold text-slate-400",children:u(u("   "))})]}),O.jsx("div",{className:"w-10 h-10 rounded-2xl bg-rose-50 text-rose-600 flex items-center justify-center",children:O.jsx(v0,{className:"w-5 h-5"})})]}),O.jsx("textarea",{value:Ds,onChange:S=>Cr(S.target.value),rows:3,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 font-bold text-slate-700 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:u(u(" ?"))}),O.jsxs("div",{className:"flex gap-3 pt-2",children:[O.jsx("button",{onClick:()=>_r(),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:u("")}),O.jsx("button",{onClick:()=>Sn(),className:"flex-1 py-3 rounded-2xl font-black bg-indigo-600 text-white shadow-lg shadow-indigo-100",children:u("")})]})]})})}):null,ei?O.jsxs("div",{className:"fixed bottom-14 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50 flex items-center gap-3",children:[O.jsx("span",{className:"font-bold text-[13px]",children:ei.msg}),O.jsx("button",{onClick:ei.onUndo,className:"px-3 py-1 rounded-xl bg-white/15 hover:bg-white/25 font-black text-[13px]",children:ei.undoLabel})]}):null,li?O.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50",children:li}):null]}):O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:O.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[O.jsx("h1",{className:"text-2xl font-black text-slate-800",children:u("  ")}),O.jsx("p",{className:"text-slate-500 font-bold",children:u("    ,    .")}),O.jsxs("button",{onClick:async()=>{await vu()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[O.jsx(TT,{className:"w-4 h-4"}),u("  ")]})]})}):O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Heebo", "Rubik", Arial'},children:O.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-70",children:[O.jsx(nl,{className:"w-10 h-10 animate-spin"}),O.jsx("div",{className:"font-bold text-slate-500",children:"..."})]})})},YM=()=>O.jsx(oR,{children:O.jsxs(PA,{children:[O.jsx(Ym,{path:"/",element:O.jsx($M,{})}),O.jsx(Ym,{path:"/invite",element:O.jsx(OM,{})})]})}),e1=document.getElementById("root");if(!e1)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const e=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",e,n),alert("WINDOW_ERROR: "+e)});window.addEventListener("unhandledrejection",r=>{const e=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",e);let n="";try{typeof e=="string"?n=e:e!=null&&e.message?n=e.message:n=JSON.stringify(e)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());zS.createRoot(e1).render(O.jsx(MS.StrictMode,{children:O.jsx(YM,{})}));
