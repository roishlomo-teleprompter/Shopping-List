(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ab(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function ob(){if(zv)return Pl;zv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=t,Pl.jsx=n,Pl.jsxs=n,Pl}var jv;function lb(){return jv||(jv=1,pm.exports=ob()),pm.exports}var X=lb(),gm={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function ub(){if(Bv)return Dt;Bv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,H={};function rt(O,$,it){this.props=O,this.context=$,this.refs=H,this.updater=it||q}rt.prototype.isReactComponent={},rt.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},rt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function st(){}st.prototype=rt.prototype;function et(O,$,it){this.props=O,this.context=$,this.refs=H,this.updater=it||q}var gt=et.prototype=new st;gt.constructor=et,Q(gt,rt.prototype),gt.isPureReactComponent=!0;var wt=Array.isArray;function At(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,$,it){var ht=it.ref;return{$$typeof:r,type:O,key:$,ref:ht!==void 0?ht:null,props:it}}function D(O,$){return R(O.type,$,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return $[it]})}var C=/\/+/g;function fe(O,$){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):$.toString(36)}function ve(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(At,At):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function K(O,$,it,ht,Tt){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(xt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case E:return kt=O._init,K(kt(O._payload),$,it,ht,Tt)}}if(kt)return Tt=Tt(O),kt=ht===""?"."+fe(O,0):ht,wt(Tt)?(it="",kt!=null&&(it=kt.replace(C,"$&/")+"/"),K(Tt,$,it,"",function(Kn){return Kn})):Tt!=null&&(M(Tt)&&(Tt=D(Tt,it+(Tt.key==null||O&&O.key===Tt.key?"":(""+Tt.key).replace(C,"$&/")+"/")+kt)),$.push(Tt)),1;kt=0;var qe=ht===""?".":ht+":";if(wt(O))for(var de=0;de<O.length;de++)ht=O[de],xt=qe+fe(ht,de),kt+=K(ht,$,it,xt,Tt);else if(de=k(O),typeof de=="function")for(O=de.call(O),de=0;!(ht=O.next()).done;)ht=ht.value,xt=qe+fe(ht,de++),kt+=K(ht,$,it,xt,Tt);else if(xt==="object"){if(typeof O.then=="function")return K(ve(O),$,it,ht,Tt);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return kt}function ot(O,$,it){if(O==null)return O;var ht=[],Tt=0;return K(O,ht,"","",function(xt){return $.call(it,xt,Tt++)}),ht}function pt(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var Kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Yt={map:ot,forEach:function(O,$,it){ot(O,function(){$.apply(this,arguments)},it)},count:function(O){var $=0;return ot(O,function(){$++}),$},toArray:function(O){return ot(O,function($){return $})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Dt.Activity=T,Dt.Children=Yt,Dt.Component=rt,Dt.Fragment=n,Dt.Profiler=o,Dt.PureComponent=et,Dt.StrictMode=s,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Dt.cache=function(O){return function(){return O.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(O,$,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ht=Q({},O.props),Tt=O.key;if($!=null)for(xt in $.key!==void 0&&(Tt=""+$.key),$)!w.call($,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&$.ref===void 0||(ht[xt]=$[xt]);var xt=arguments.length-2;if(xt===1)ht.children=it;else if(1<xt){for(var kt=Array(xt),qe=0;qe<xt;qe++)kt[qe]=arguments[qe+2];ht.children=kt}return R(O.type,Tt,ht)},Dt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Dt.createElement=function(O,$,it){var ht,Tt={},xt=null;if($!=null)for(ht in $.key!==void 0&&(xt=""+$.key),$)w.call($,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(Tt[ht]=$[ht]);var kt=arguments.length-2;if(kt===1)Tt.children=it;else if(1<kt){for(var qe=Array(kt),de=0;de<kt;de++)qe[de]=arguments[de+2];Tt.children=qe}if(O&&O.defaultProps)for(ht in kt=O.defaultProps,kt)Tt[ht]===void 0&&(Tt[ht]=kt[ht]);return R(O,xt,Tt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(O){return{$$typeof:m,render:O}},Dt.isValidElement=M,Dt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:pt}},Dt.memo=function(O,$){return{$$typeof:y,type:O,compare:$===void 0?null:$}},Dt.startTransition=function(O){var $=N.T,it={};N.T=it;try{var ht=O(),Tt=N.S;Tt!==null&&Tt(it,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(At,Kt)}catch(xt){Kt(xt)}finally{$!==null&&it.types!==null&&($.types=it.types),N.T=$}},Dt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Dt.use=function(O){return N.H.use(O)},Dt.useActionState=function(O,$,it){return N.H.useActionState(O,$,it)},Dt.useCallback=function(O,$){return N.H.useCallback(O,$)},Dt.useContext=function(O){return N.H.useContext(O)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(O,$){return N.H.useDeferredValue(O,$)},Dt.useEffect=function(O,$){return N.H.useEffect(O,$)},Dt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Dt.useId=function(){return N.H.useId()},Dt.useImperativeHandle=function(O,$,it){return N.H.useImperativeHandle(O,$,it)},Dt.useInsertionEffect=function(O,$){return N.H.useInsertionEffect(O,$)},Dt.useLayoutEffect=function(O,$){return N.H.useLayoutEffect(O,$)},Dt.useMemo=function(O,$){return N.H.useMemo(O,$)},Dt.useOptimistic=function(O,$){return N.H.useOptimistic(O,$)},Dt.useReducer=function(O,$,it){return N.H.useReducer(O,$,it)},Dt.useRef=function(O){return N.H.useRef(O)},Dt.useState=function(O){return N.H.useState(O)},Dt.useSyncExternalStore=function(O,$,it){return N.H.useSyncExternalStore(O,$,it)},Dt.useTransition=function(){return N.H.useTransition()},Dt.version="19.2.3",Dt}var qv;function gp(){return qv||(qv=1,gm.exports=ub()),gm.exports}var U=gp();const cb=ab(U);var ym={exports:{}},Ul={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function hb(){return Hv||(Hv=1,(function(r){function t(K,ot){var pt=K.length;K.push(ot);t:for(;0<pt;){var Kt=pt-1>>>1,Yt=K[Kt];if(0<o(Yt,ot))K[Kt]=ot,K[pt]=Yt,pt=Kt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ot=K[0],pt=K.pop();if(pt!==ot){K[0]=pt;t:for(var Kt=0,Yt=K.length,O=Yt>>>1;Kt<O;){var $=2*(Kt+1)-1,it=K[$],ht=$+1,Tt=K[ht];if(0>o(it,pt))ht<Yt&&0>o(Tt,it)?(K[Kt]=Tt,K[ht]=pt,Kt=ht):(K[Kt]=it,K[$]=pt,Kt=$);else if(ht<Yt&&0>o(Tt,pt))K[Kt]=Tt,K[ht]=pt,Kt=ht;else break t}}return ot}function o(K,ot){var pt=K.sortIndex-ot.sortIndex;return pt!==0?pt:K.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,b=3,k=!1,q=!1,Q=!1,H=!1,rt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function gt(K){for(var ot=n(y);ot!==null;){if(ot.callback===null)s(y);else if(ot.startTime<=K)s(y),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(y)}}function wt(K){if(Q=!1,gt(K),!q)if(n(p)!==null)q=!0,At||(At=!0,V());else{var ot=n(y);ot!==null&&ve(wt,ot.startTime-K)}}var At=!1,N=-1,w=5,R=-1;function D(){return H?!0:!(r.unstable_now()-R<w)}function M(){if(H=!1,At){var K=r.unstable_now();R=K;var ot=!0;try{t:{q=!1,Q&&(Q=!1,st(N),N=-1),k=!0;var pt=b;try{e:{for(gt(K),T=n(p);T!==null&&!(T.expirationTime>K&&D());){var Kt=T.callback;if(typeof Kt=="function"){T.callback=null,b=T.priorityLevel;var Yt=Kt(T.expirationTime<=K);if(K=r.unstable_now(),typeof Yt=="function"){T.callback=Yt,gt(K),ot=!0;break e}T===n(p)&&s(p),gt(K)}else s(p);T=n(p)}if(T!==null)ot=!0;else{var O=n(y);O!==null&&ve(wt,O.startTime-K),ot=!1}}break t}finally{T=null,b=pt,k=!1}ot=void 0}}finally{ot?V():At=!1}}}var V;if(typeof et=="function")V=function(){et(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,fe=C.port2;C.port1.onmessage=M,V=function(){fe.postMessage(null)}}else V=function(){rt(M,0)};function ve(K,ot){N=rt(function(){K(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var pt=b;b=ot;try{return K()}finally{b=pt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pt=b;b=K;try{return ot()}finally{b=pt}},r.unstable_scheduleCallback=function(K,ot,pt){var Kt=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Kt+pt:Kt):pt=Kt,K){case 1:var Yt=-1;break;case 2:Yt=250;break;case 5:Yt=1073741823;break;case 4:Yt=1e4;break;default:Yt=5e3}return Yt=pt+Yt,K={id:E++,callback:ot,priorityLevel:K,startTime:pt,expirationTime:Yt,sortIndex:-1},pt>Kt?(K.sortIndex=pt,t(y,K),n(p)===null&&K===n(y)&&(Q?(st(N),N=-1):Q=!0,ve(wt,pt-Kt))):(K.sortIndex=Yt,t(p,K),q||k||(q=!0,At||(At=!0,V()))),K},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(K){var ot=b;return function(){var pt=b;b=ot;try{return K.apply(this,arguments)}finally{b=pt}}}})(vm)),vm}var Fv;function fb(){return Fv||(Fv=1,_m.exports=hb()),_m.exports}var Em={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function db(){if(Gv)return cn;Gv=1;var r=gp();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},cn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},cn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},cn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},cn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},cn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},cn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},cn.requestFormReset=function(p){s.d.r(p)},cn.unstable_batchedUpdates=function(p,y){return p(y)},cn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},cn.useFormStatus=function(){return f.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var Qv;function mb(){if(Qv)return Em.exports;Qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Em.exports=db(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function pb(){if(Kv)return Ul;Kv=1;var r=fb(),t=gp(),n=mb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),et=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case rt:return"Profiler";case H:return"StrictMode";case wt:return"Suspense";case At:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case et:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case gt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:fe(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return fe(e(i))}catch{}}return null}var ve=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Kt=[],Yt=-1;function O(e){return{current:e}}function $(e){0>Yt||(e.current=Kt[Yt],Kt[Yt]=null,Yt--)}function it(e,i){Yt++,Kt[Yt]=e.current,e.current=i}var ht=O(null),Tt=O(null),xt=O(null),kt=O(null);function qe(e,i){switch(it(xt,i),it(Tt,e),it(ht,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?lv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=lv(i),e=uv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ht),it(ht,e)}function de(){$(ht),$(Tt),$(xt)}function Kn(e){e.memoizedState!==null&&it(kt,e);var i=ht.current,a=uv(i,e.type);i!==a&&(it(Tt,e),it(ht,a))}function Sn(e){Tt.current===e&&($(ht),$(Tt)),kt.current===e&&($(kt),Ml._currentValue=pt)}var qi,Dr;function xn(e){if(qi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);qi=i&&i[1]||"",Dr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qi+e+Dr}var Hi=!1;function Ei(e,i){if(!e||Hi)return"";Hi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var B=F}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(F){B=F}e.call(tt.prototype)}}else{try{throw Error()}catch(F){B=F}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var I=_.split(`
`),j=S.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var Y=`
`+I[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Hi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?xn(a):""}function ci(e,i){switch(e.tag){case 26:case 27:case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return e.child!==i&&i!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return Ei(e.type,!1);case 11:return Ei(e.type.render,!1);case 1:return Ei(e.type,!0);case 31:return xn("Activity");default:return""}}function W(e){try{var i="",a=null;do i+=ci(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ut=Object.prototype.hasOwnProperty,dt=r.unstable_scheduleCallback,Ct=r.unstable_cancelCallback,Lt=r.unstable_shouldYield,re=r.unstable_requestPaint,It=r.unstable_now,Ie=r.unstable_getCurrentPriorityLevel,Pt=r.unstable_ImmediatePriority,Ut=r.unstable_UserBlockingPriority,$t=r.unstable_NormalPriority,Gt=r.unstable_LowPriority,ne=r.unstable_IdlePriority,Ti=r.log,Yn=r.unstable_setDisableYieldValue,$n=null,De=null;function Xn(e){if(typeof Ti=="function"&&Yn(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode($n,e)}catch{}}var pn=Math.clz32?Math.clz32:Cu,pf=Math.log,Uo=Math.LN2;function Cu(e){return e>>>=0,e===0?32:31-(pf(e)/Uo|0)|0}var Bs=256,Si=262144,Nr=4194304;function hi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jn(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=hi(l):(_&=S,_!==0?h=hi(_):a||(a=S&~e,a!==0&&(h=hi(a))))):(S=l&~d,S!==0?h=hi(S):_!==0?h=hi(_):a||(a=l&~e,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function xr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function wa(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var e=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),e}function Fi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Or(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ze(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pn(a),tt=1<<Y;S[Y]=0,I[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var F=B[Y];F!==null&&(F.lane&=-536870913)}a&=~tt}l!==0&&jo(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function jo(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-pn(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Mr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-pn(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Vr(e,i){var a=i&-i;return a=(a&42)!==0?1:Bo(a),(a&(e.suspendedLanes|i))!==0?0:a}function Bo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gi(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Ov(e.type))}function Iu(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var Ai=Math.random().toString(36).slice(2),Se="__reactFiber$"+Ai,We="__reactProps$"+Ai,bi="__reactContainer$"+Ai,kr="__reactEvents$"+Ai,wi="__reactListeners$"+Ai,Du="__reactHandles$"+Ai,Ho="__reactResources$"+Ai,Qi="__reactMarker$"+Ai;function qs(e){delete e[Se],delete e[We],delete e[kr],delete e[wi],delete e[Du]}function Ki(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[bi]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=gv(e);e!==null;){if(a=e[Se])return a;e=gv(e)}return i}e=a,a=e.parentNode}return null}function Yi(e){if(e=e[Se]||e[bi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Hs(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function fi(e){var i=e[Ho];return i||(i=e[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ne(e){e[Qi]=!0}var Ra=new Set,Lr={};function gn(e,i){Ri(e,i),Ri(e+"Capture",i)}function Ri(e,i){for(Lr[e]=i,e=0;e<i.length;e++)Ra.add(i[e])}var gf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Nu(e){return ut.call(Go,e)?!0:ut.call(Fo,e)?!1:gf.test(e)?Go[e]=!0:(Fo[e]=!0,!1)}function Pr(e,i,a){if(Nu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Ur(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Zn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yf(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ca(e){if(!e._valueTracker){var i=xu(e)?"checked":"value";e._valueTracker=yf(e,i,""+e[i])}}function Qo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=xu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $i=/[\n"\\]/g;function Ae(e){return e.replace($i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zr(e,i,a,l,h,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+yn(i)):e.value!==""+yn(i)&&(e.value=""+yn(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Da(e,_,yn(i)):a!=null?Da(e,_,yn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+yn(S):e.removeAttribute("name")}function Fs(e,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ca(e);return}a=a!=null?""+yn(a):"",i=i!=null?""+yn(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ca(e)}function Da(e,i,a){i==="number"&&Ia(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+yn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Gs(e,i,a){if(i!=null&&(i=""+yn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+yn(a):""}function jr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=yn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ca(e)}function Wn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var _f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||_f.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ou(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ko(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ko(e,d,i[d])}function Yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ci(e){return Ef.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qe(){}var Na=null;function xa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,On=null;function Mu(e){var i=Yi(e);if(i&&(e=i.stateNode)){var a=e[We]||null;t:switch(e=i.stateNode,i.type){case"input":if(zr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[We]||null;if(!h)throw Error(s(90));zr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Qo(l)}break t;case"textarea":Gs(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Zt(e,!!a.multiple,i,!1)}}}var $o=!1;function Vu(e,i,a){if($o)return e(i,a);$o=!0;try{var l=e(i);return l}finally{if($o=!1,(Xi!==null||On!==null)&&(Nc(),Xi&&(i=Xi,e=On,On=Xi=null,Mu(i),e)))for(i=0;i<e.length;i++)Mu(e[i])}}function An(e,i){var a=e.stateNode;if(a===null)return null;var l=a[We]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(di)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Xo=!1}var Mn=null,Oa=null,Di=null;function Br(){if(Di)return Di;var e,i=Oa,a=i.length,l,h="value"in Mn?Mn.value:Mn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Di=h.slice(e,1<l?1-l:void 0)}function Qs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function qr(){return!0}function me(){return!1}function un(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qr:me,this.isPropagationStopped=me,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),i}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=un(Ji),Hr=T({},Ji,{view:0,detail:0}),ku=un(Hr),Fr,Ma,_n,Ys=T({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_n&&(_n&&e.type==="mousemove"?(Fr=e.screenX-_n.screenX,Ma=e.screenY-_n.screenY):Ma=Fr=0,_n=e),Fr)},movementY:function(e){return"movementY"in e?e.movementY:Ma}}),Lu=un(Ys),$s=T({},Ys,{dataTransfer:0}),Pu=un($s),Jo=T({},Hr,{relatedTarget:0}),Gr=un(Jo),Uu=T({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=un(Uu),Tf=T({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zu=un(Tf),Xs=T({},Ji,{data:0}),Zo=un(Xs),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=tl[e])?!!i[e]:!1}function Qr(){return Bu}var qu=T({},Hr,{key:function(e){if(e.key){var i=ju[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=un(qu),Zi=T({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=un(Zi),Fu=T({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Gu=un(Fu),Qu=T({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),ka=un(Qu),vn=T({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ku=un(vn),Yu=T({},Ji,{newState:0,oldState:0}),Kr=un(Yu),c=[9,13,27,32],g=di&&"CompositionEvent"in window,v=null;di&&"documentMode"in document&&(v=document.documentMode);var A=di&&"TextEvent"in window&&!v,P=di&&(!g||v&&8<v&&11>=v),G=" ",at=!1;function ie(e,i){switch(e){case"keyup":return c.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ke(e,i){switch(e){case"compositionend":return Ve(i);case"keypress":return i.which!==32?null:(at=!0,G);case"textInput":return e=i.data,e===G&&at?null:e;default:return null}}function Ye(e,i){if(Mt)return e==="compositionend"||!g&&ie(e,i)?(e=Br(),Di=Oa=Mn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return P&&i.locale!=="ko"?null:i.data;default:return null}}var Yr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bn(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Yr[e.type]:i==="textarea"}function Js(e,i,a,l){Xi?On?On.push(l):On=[l]:Xi=l,i=Pc(i,"onChange"),0<i.length&&(a=new Ks("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Wi=null,nl=null;function MS(e){nv(e,0)}function $u(e){var i=Hs(e);if(Qo(i))return e}function Tg(e,i){if(e==="change")return i}var Sg=!1;if(di){var Sf;if(di){var Af="oninput"in document;if(!Af){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Af=typeof Ag.oninput=="function"}Sf=Af}else Sf=!1;Sg=Sf&&(!document.documentMode||9<document.documentMode)}function bg(){Wi&&(Wi.detachEvent("onpropertychange",wg),nl=Wi=null)}function wg(e){if(e.propertyName==="value"&&$u(nl)){var i=[];Js(i,nl,e,xa(e)),Vu(MS,i)}}function VS(e,i,a){e==="focusin"?(bg(),Wi=i,nl=a,Wi.attachEvent("onpropertychange",wg)):e==="focusout"&&bg()}function kS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(nl)}function LS(e,i){if(e==="click")return $u(i)}function PS(e,i){if(e==="input"||e==="change")return $u(i)}function US(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Vn=typeof Object.is=="function"?Object.is:US;function il(e,i){if(Vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ut.call(i,h)||!Vn(e[h],i[h]))return!1}return!0}function Rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cg(e,i){var a=Rg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Rg(a)}}function Ig(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ig(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ia(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ia(e.document)}return i}function bf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var zS=di&&"documentMode"in document&&11>=document.documentMode,La=null,wf=null,rl=null,Rf=!1;function Ng(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||La==null||La!==Ia(l)||(l=La,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Pc(wf,"onSelect"),0<l.length&&(i=new Ks("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=La)))}function Zs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Pa={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Cf={},xg={};di&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ws(e){if(Cf[e])return Cf[e];if(!Pa[e])return e;var i=Pa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in xg)return Cf[e]=i[a];return e}var Og=Ws("animationend"),Mg=Ws("animationiteration"),Vg=Ws("animationstart"),jS=Ws("transitionrun"),BS=Ws("transitionstart"),qS=Ws("transitioncancel"),kg=Ws("transitionend"),Lg=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function mi(e,i){Lg.set(e,i),gn(i,[e])}var Xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ti=[],Ua=0,Df=0;function Ju(){for(var e=Ua,i=Df=Ua=0;i<e;){var a=ti[i];ti[i++]=null;var l=ti[i];ti[i++]=null;var h=ti[i];ti[i++]=null;var d=ti[i];if(ti[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Pg(a,h,d)}}function Zu(e,i,a,l){ti[Ua++]=e,ti[Ua++]=i,ti[Ua++]=a,ti[Ua++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return Zu(e,i,a,l),Wu(e)}function ta(e,i){return Zu(e,null,null,i),Wu(e)}function Pg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-pn(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(e){if(50<Rl)throw Rl=0,zd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var za={};function HS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,i,a,l){return new HS(e,i,a,l)}function xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tr(e,i){var a=e.alternate;return a===null?(a=kn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ug(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function tc(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")xf(e)&&(_=1);else if(typeof e=="string")_=YA(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=kn(31,a,i,h),e.elementType=R,e.lanes=d,e;case Q:return ea(a.children,h,d,i);case H:_=8,h|=24;break;case rt:return e=kn(12,a,i,h|2),e.elementType=rt,e.lanes=d,e;case wt:return e=kn(13,a,i,h),e.elementType=wt,e.lanes=d,e;case At:return e=kn(19,a,i,h),e.elementType=At,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:_=10;break t;case st:_=9;break t;case gt:_=11;break t;case N:_=14;break t;case w:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=kn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ea(e,i,a,l){return e=kn(7,e,l,i),e.lanes=a,e}function Of(e,i,a){return e=kn(6,e,null,i),e.lanes=a,e}function zg(e){var i=kn(18,null,null,0);return i.stateNode=e,i}function Mf(e,i,a){return i=kn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var jg=new WeakMap;function ei(e,i){if(typeof e=="object"&&e!==null){var a=jg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:W(i)},jg.set(e,i),i)}return{value:e,source:i,stack:W(i)}}var ja=[],Ba=0,ec=null,sl=0,ni=[],ii=0,$r=null,Ni=1,xi="";function er(e,i){ja[Ba++]=sl,ja[Ba++]=ec,ec=e,sl=i}function Bg(e,i,a){ni[ii++]=Ni,ni[ii++]=xi,ni[ii++]=$r,$r=e;var l=Ni;e=xi;var h=32-pn(l)-1;l&=~(1<<h),a+=1;var d=32-pn(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ni=1<<32-pn(i)+h|a<<h|l,xi=d+e}else Ni=1<<d|a<<h|l,xi=e}function Vf(e){e.return!==null&&(er(e,1),Bg(e,1,0))}function kf(e){for(;e===ec;)ec=ja[--Ba],ja[Ba]=null,sl=ja[--Ba],ja[Ba]=null;for(;e===$r;)$r=ni[--ii],ni[ii]=null,xi=ni[--ii],ni[ii]=null,Ni=ni[--ii],ni[ii]=null}function qg(e,i){ni[ii++]=Ni,ni[ii++]=xi,ni[ii++]=$r,Ni=i.id,xi=i.overflow,$r=e}var tn=null,pe=null,Qt=!1,Xr=null,ri=!1,Lf=Error(s(519));function Jr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(ei(i,e)),Lf}function Hg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[We]=l,a){case"dialog":jt("cancel",i),jt("close",i);break;case"iframe":case"object":case"embed":jt("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)jt(Il[a],i);break;case"source":jt("error",i);break;case"img":case"image":case"link":jt("error",i),jt("load",i);break;case"details":jt("toggle",i);break;case"input":jt("invalid",i),Fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":jt("invalid",i);break;case"textarea":jt("invalid",i),jr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||av(i.textContent,a)?(l.popover!=null&&(jt("beforetoggle",i),jt("toggle",i)),l.onScroll!=null&&jt("scroll",i),l.onScrollEnd!=null&&jt("scrollend",i),l.onClick!=null&&(i.onclick=Qe),i=!0):i=!1,i||Jr(e,!0)}function Fg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:tn=tn.return}}function qa(e){if(e!==tn)return!1;if(!Qt)return Fg(e),Qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||tm(e.type,e.memoizedProps)),a=!a),a&&pe&&Jr(e),Fg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=pv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));pe=pv(e)}else i===27?(i=pe,hs(e.type)?(e=sm,sm=null,pe=e):pe=i):pe=tn?ai(e.stateNode.nextSibling):null;return!0}function na(){pe=tn=null,Qt=!1}function Pf(){var e=Xr;return e!==null&&(In===null?In=e:In.push.apply(In,e),Xr=null),e}function al(e){Xr===null?Xr=[e]:Xr.push(e)}var Uf=O(null),ia=null,nr=null;function Zr(e,i,a){it(Uf,i._currentValue),i._currentValue=a}function ir(e){e._currentValue=Uf.current,$(Uf)}function zf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function jf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),zf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),zf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ha(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Vn(h.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(h===kt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ml):e=[Ml])}h=h.return}e!==null&&jf(i,e,a,l),i.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){ia=e,nr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Gg(ia,e)}function ic(e,i){return ia===null&&ra(e),Gg(e,i)}function Gg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},nr===null){if(e===null)throw Error(s(308));nr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else nr=nr.next=i;return a}var FS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},GS=r.unstable_scheduleCallback,QS=r.unstable_NormalPriority,ke={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new FS,data:new Map,refCount:0}}function ol(e){e.refCount--,e.refCount===0&&GS(QS,function(){e.controller.abort()})}var ll=null,qf=0,Fa=0,Ga=null;function KS(e,i){if(ll===null){var a=ll=[];qf=0,Fa=Gd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(Qg,Qg),i}function Qg(){if(--qf===0&&ll!==null){Ga!==null&&(Ga.status="fulfilled");var e=ll;ll=null,Fa=0,Ga=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function YS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=K.S;K.S=function(e,i){N_=It(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(e,i),Kg!==null&&Kg(e,i)};var sa=O(null);function Hf(){var e=sa.current;return e!==null?e:he.pooledCache}function rc(e,i){i===null?it(sa,sa.current):it(sa,i.pool)}function Yg(){var e=Hf();return e===null?null:{parent:ke._currentValue,pool:e}}var Qa=Error(s(460)),Ff=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function $g(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Qe,Qe),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Zg(e),e;default:if(typeof i.status=="string")i.then(Qe,Qe);else{if(e=he,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Zg(e),e}throw oa=i,Qa}}function aa(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,Qa):a}}var oa=null;function Jg(){if(oa===null)throw Error(s(459));var e=oa;return oa=null,e}function Zg(e){if(e===Qa||e===sc)throw Error(s(483))}var Ka=null,ul=0;function oc(e){var i=ul;return ul+=1,Ka===null&&(Ka=[]),Xg(Ka,e,i)}function cl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function lc(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Wg(e){function i(L,x){if(e){var z=L.deletions;z===null?(L.deletions=[x],L.flags|=16):z.push(x)}}function a(L,x){if(!e)return null;for(;x!==null;)i(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=tr(L,x),L.index=0,L.sibling=null,L}function d(L,x,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<x?(L.flags|=67108866,x):z):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function S(L,x,z,J){return x===null||x.tag!==6?(x=Of(z,L.mode,J),x.return=L,x):(x=h(x,z),x.return=L,x)}function I(L,x,z,J){var _t=z.type;return _t===Q?Y(L,x,z.props.children,J,z.key):x!==null&&(x.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&aa(_t)===x.type)?(x=h(x,z.props),cl(x,z),x.return=L,x):(x=tc(z.type,z.key,z.props,null,L.mode,J),cl(x,z),x.return=L,x)}function j(L,x,z,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=Mf(z,L.mode,J),x.return=L,x):(x=h(x,z.children||[]),x.return=L,x)}function Y(L,x,z,J,_t){return x===null||x.tag!==7?(x=ea(z,L.mode,J,_t),x.return=L,x):(x=h(x,z),x.return=L,x)}function tt(L,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Of(""+x,L.mode,z),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return z=tc(x.type,x.key,x.props,null,L.mode,z),cl(z,x),z.return=L,z;case q:return x=Mf(x,L.mode,z),x.return=L,x;case w:return x=aa(x),tt(L,x,z)}if(ve(x)||V(x))return x=ea(x,L.mode,z,null),x.return=L,x;if(typeof x.then=="function")return tt(L,oc(x),z);if(x.$$typeof===et)return tt(L,ic(L,x),z);lc(L,x)}return null}function B(L,x,z,J){var _t=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _t!==null?null:S(L,x,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===_t?I(L,x,z,J):null;case q:return z.key===_t?j(L,x,z,J):null;case w:return z=aa(z),B(L,x,z,J)}if(ve(z)||V(z))return _t!==null?null:Y(L,x,z,J,null);if(typeof z.then=="function")return B(L,x,oc(z),J);if(z.$$typeof===et)return B(L,x,ic(L,z),J);lc(L,z)}return null}function F(L,x,z,J,_t){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(z)||null,S(x,L,""+J,_t);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return L=L.get(J.key===null?z:J.key)||null,I(x,L,J,_t);case q:return L=L.get(J.key===null?z:J.key)||null,j(x,L,J,_t);case w:return J=aa(J),F(L,x,z,J,_t)}if(ve(J)||V(J))return L=L.get(z)||null,Y(x,L,J,_t,null);if(typeof J.then=="function")return F(L,x,z,oc(J),_t);if(J.$$typeof===et)return F(L,x,z,ic(x,J),_t);lc(x,J)}return null}function ft(L,x,z,J){for(var _t=null,Wt=null,mt=x,Ot=x=0,qt=null;mt!==null&&Ot<z.length;Ot++){mt.index>Ot?(qt=mt,mt=null):qt=mt.sibling;var te=B(L,mt,z[Ot],J);if(te===null){mt===null&&(mt=qt);break}e&&mt&&te.alternate===null&&i(L,mt),x=d(te,x,Ot),Wt===null?_t=te:Wt.sibling=te,Wt=te,mt=qt}if(Ot===z.length)return a(L,mt),Qt&&er(L,Ot),_t;if(mt===null){for(;Ot<z.length;Ot++)mt=tt(L,z[Ot],J),mt!==null&&(x=d(mt,x,Ot),Wt===null?_t=mt:Wt.sibling=mt,Wt=mt);return Qt&&er(L,Ot),_t}for(mt=l(mt);Ot<z.length;Ot++)qt=F(mt,L,Ot,z[Ot],J),qt!==null&&(e&&qt.alternate!==null&&mt.delete(qt.key===null?Ot:qt.key),x=d(qt,x,Ot),Wt===null?_t=qt:Wt.sibling=qt,Wt=qt);return e&&mt.forEach(function(gs){return i(L,gs)}),Qt&&er(L,Ot),_t}function Et(L,x,z,J){if(z==null)throw Error(s(151));for(var _t=null,Wt=null,mt=x,Ot=x=0,qt=null,te=z.next();mt!==null&&!te.done;Ot++,te=z.next()){mt.index>Ot?(qt=mt,mt=null):qt=mt.sibling;var gs=B(L,mt,te.value,J);if(gs===null){mt===null&&(mt=qt);break}e&&mt&&gs.alternate===null&&i(L,mt),x=d(gs,x,Ot),Wt===null?_t=gs:Wt.sibling=gs,Wt=gs,mt=qt}if(te.done)return a(L,mt),Qt&&er(L,Ot),_t;if(mt===null){for(;!te.done;Ot++,te=z.next())te=tt(L,te.value,J),te!==null&&(x=d(te,x,Ot),Wt===null?_t=te:Wt.sibling=te,Wt=te);return Qt&&er(L,Ot),_t}for(mt=l(mt);!te.done;Ot++,te=z.next())te=F(mt,L,Ot,te.value,J),te!==null&&(e&&te.alternate!==null&&mt.delete(te.key===null?Ot:te.key),x=d(te,x,Ot),Wt===null?_t=te:Wt.sibling=te,Wt=te);return e&&mt.forEach(function(sb){return i(L,sb)}),Qt&&er(L,Ot),_t}function ue(L,x,z,J){if(typeof z=="object"&&z!==null&&z.type===Q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:t:{for(var _t=z.key;x!==null;){if(x.key===_t){if(_t=z.type,_t===Q){if(x.tag===7){a(L,x.sibling),J=h(x,z.props.children),J.return=L,L=J;break t}}else if(x.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&aa(_t)===x.type){a(L,x.sibling),J=h(x,z.props),cl(J,z),J.return=L,L=J;break t}a(L,x);break}else i(L,x);x=x.sibling}z.type===Q?(J=ea(z.props.children,L.mode,J,z.key),J.return=L,L=J):(J=tc(z.type,z.key,z.props,null,L.mode,J),cl(J,z),J.return=L,L=J)}return _(L);case q:t:{for(_t=z.key;x!==null;){if(x.key===_t)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(L,x.sibling),J=h(x,z.children||[]),J.return=L,L=J;break t}else{a(L,x);break}else i(L,x);x=x.sibling}J=Mf(z,L.mode,J),J.return=L,L=J}return _(L);case w:return z=aa(z),ue(L,x,z,J)}if(ve(z))return ft(L,x,z,J);if(V(z)){if(_t=V(z),typeof _t!="function")throw Error(s(150));return z=_t.call(z),Et(L,x,z,J)}if(typeof z.then=="function")return ue(L,x,oc(z),J);if(z.$$typeof===et)return ue(L,x,ic(L,z),J);lc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(L,x.sibling),J=h(x,z),J.return=L,L=J):(a(L,x),J=Of(z,L.mode,J),J.return=L,L=J),_(L)):a(L,x)}return function(L,x,z,J){try{ul=0;var _t=ue(L,x,z,J);return Ka=null,_t}catch(mt){if(mt===Qa||mt===sc)throw mt;var Wt=kn(29,mt,null,L.mode);return Wt.lanes=J,Wt.return=L,Wt}finally{}}}var la=Wg(!0),ty=Wg(!1),Wr=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(e),Pg(e,null,a),i}return Zu(e,l,i,a),Wu(e)}function hl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mr(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Yf=!1;function fl(){if(Yf){var e=Ga;if(e!==null)throw e}}function dl(e,i,a,l){Yf=!1;var h=e.updateQueue;Wr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,j=I.next;I.next=null,_===null?d=j:_.next=j,_=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=j:S.next=j,Y.lastBaseUpdate=I))}if(d!==null){var tt=h.baseState;_=0,Y=j=I=null,S=d;do{var B=S.lane&-536870913,F=B!==S.lane;if(F?(Bt&B)===B:(l&B)===B){B!==0&&B===Fa&&(Yf=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=e,Et=S;B=i;var ue=a;switch(Et.tag){case 1:if(ft=Et.payload,typeof ft=="function"){tt=ft.call(ue,tt,B);break t}tt=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Et.payload,B=typeof ft=="function"?ft.call(ue,tt,B):ft,B==null)break t;tt=T({},tt,B);break t;case 2:Wr=!0}}B=S.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(j=Y=F,I=tt):Y=Y.next=F,_|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(I=tt),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),as|=_,e.lanes=_,e.memoizedState=tt}}function ey(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ny(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ey(a[e],i)}var Ya=O(null),uc=O(0);function iy(e,i){e=fr,it(uc,e),it(Ya,i),fr=e|i.baseLanes}function $f(){it(uc,fr),it(Ya,Ya.current)}function Xf(){fr=uc.current,$(Ya),$(uc)}var Ln=O(null),si=null;function ns(e){var i=e.alternate;it(xe,xe.current&1),it(Ln,e),si===null&&(i===null||Ya.current!==null||i.memoizedState!==null)&&(si=e)}function Jf(e){it(xe,xe.current),it(Ln,e),si===null&&(si=e)}function ry(e){e.tag===22?(it(xe,xe.current),it(Ln,e),si===null&&(si=e)):is()}function is(){it(xe,xe.current),it(Ln,Ln.current)}function Pn(e){$(Ln),si===e&&(si=null),$(xe)}var xe=O(0);function cc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rr=0,Nt=null,oe=null,Le=null,hc=!1,$a=!1,ua=!1,fc=0,ml=0,Xa=null,$S=0;function be(){throw Error(s(321))}function Zf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Vn(e[a],i[a]))return!1;return!0}function Wf(e,i,a,l,h,d){return rr=d,Nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?By:md,ua=!1,d=a(l,h),ua=!1,$a&&(d=ay(i,a,l,h)),sy(e),d}function sy(e){K.H=yl;var i=oe!==null&&oe.next!==null;if(rr=0,Le=oe=Nt=null,hc=!1,ml=0,Xa=null,i)throw Error(s(300));e===null||Pe||(e=e.dependencies,e!==null&&nc(e)&&(Pe=!0))}function ay(e,i,a,l){Nt=e;var h=0;do{if($a&&(Xa=null),ml=0,$a=!1,25<=h)throw Error(s(301));if(h+=1,Le=oe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=qy,d=i(a,l)}while($a);return d}function XS(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?pl(i):i,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(Nt.flags|=1024),i}function td(){var e=fc!==0;return fc=0,e}function ed(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function nd(e){if(hc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}hc=!1}rr=0,Le=oe=Nt=null,$a=!1,ml=fc=0,Xa=null}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Nt.memoizedState=Le=e:Le=Le.next=e,Le}function Oe(){if(oe===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var i=Le===null?Nt.memoizedState:Le.next;if(i!==null)Le=i,oe=e;else{if(e===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Le===null?Nt.memoizedState=Le=e:Le=Le.next=e}return Le}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var i=ml;return ml+=1,Xa===null&&(Xa=[]),e=Xg(Xa,e,i),i=Nt,(Le===null?i.memoizedState:Le.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?By:md),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===et)return en(e)}throw Error(s(438,String(e)))}function id(e){var i=null,a=Nt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),Nt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=D;return i.index++,a}function sr(e,i){return typeof i=="function"?i(e):i}function pc(e){var i=Oe();return rd(i,oe,e)}function rd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=_=null,I=null,j=i,Y=!1;do{var tt=j.lane&-536870913;if(tt!==j.lane?(Bt&tt)===tt:(rr&tt)===tt){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),tt===Fa&&(Y=!0);else if((rr&B)===B){j=j.next,B===Fa&&(Y=!0);continue}else tt={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(S=I=tt,_=d):I=I.next=tt,Nt.lanes|=B,as|=B;tt=j.action,ua&&a(d,tt),d=j.hasEagerState?j.eagerState:a(d,tt)}else B={lane:tt,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(S=I=B,_=d):I=I.next=B,Nt.lanes|=tt,as|=tt;j=j.next}while(j!==null&&j!==i);if(I===null?_=d:I.next=S,!Vn(d,e.memoizedState)&&(Pe=!0,Y&&(a=Ga,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sd(e){var i=Oe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Vn(d,i.memoizedState)||(Pe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function oy(e,i,a){var l=Nt,h=Oe(),d=Qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Vn((oe||h).memoizedState,a);if(_&&(h.memoizedState=a,Pe=!0),h=h.queue,ld(cy.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},uy.bind(null,l,h,a,i),null),he===null)throw Error(s(349));d||(rr&127)!==0||ly(l,i,a)}return a}function ly(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Nt.updateQueue,i===null?(i=dc(),Nt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function uy(e,i,a,l){i.value=a,i.getSnapshot=l,hy(i)&&fy(e)}function cy(e,i,a){return a(function(){hy(i)&&fy(e)})}function hy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Vn(e,a)}catch{return!0}}function fy(e){var i=ta(e,2);i!==null&&Dn(i,e,2)}function ad(e){var i=En();if(typeof e=="function"){var a=e;if(e=a(),ua){Xn(!0);try{a()}finally{Xn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:e},i}function dy(e,i,a,l){return e.baseState=a,rd(e,oe,typeof l=="function"?l:sr)}function JS(e,i,a,l,h){if(_c(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,my(i,d)):(d.next=a.next,i.pending=a.next=d)}}function my(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var S=a(h,l),I=K.S;I!==null&&I(_,S),py(e,i,S)}catch(j){od(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),py(e,i,d)}catch(j){od(e,i,j)}}function py(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(e,i,l)},function(l){return od(e,i,l)}):gy(e,i,a)}function gy(e,i,a){i.status="fulfilled",i.value=a,yy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,my(e,a)))}function od(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,yy(i),i=i.next;while(i!==l)}e.action=null}function yy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function _y(e,i){return i}function vy(e,i){if(Qt){var a=he.formState;if(a!==null){t:{var l=Nt;if(Qt){if(pe){e:{for(var h=pe,d=ri;h.nodeType!==8;){if(!d){h=null;break e}if(h=ai(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){pe=ai(h.nextSibling),l=h.data==="F!";break t}}Jr(l)}l=!1}l&&(i=a[0])}}return a=En(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:i},a.queue=l,a=Uy.bind(null,Nt,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Nt,!1,l.queue),l=En(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=JS.bind(null,Nt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ey(e){var i=Oe();return Ty(i,oe,e)}function Ty(e,i,a){if(i=rd(e,i,_y)[0],e=pc(sr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(_){throw _===Qa?sc:_}else l=i;i=Oe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Nt.flags|=2048,Ja(9,{destroy:void 0},ZS.bind(null,h,a),null)),[l,d,e]}function ZS(e,i){e.action=i}function Sy(e){var i=Oe(),a=oe;if(a!==null)return Ty(i,a,e);Oe(),i=i.memoizedState,a=Oe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ja(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Nt.updateQueue,i===null&&(i=dc(),Nt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ay(){return Oe().memoizedState}function gc(e,i,a,l){var h=En();Nt.flags|=e,h.memoizedState=Ja(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(e,i,a,l){var h=Oe();l=l===void 0?null:l;var d=h.memoizedState.inst;oe!==null&&l!==null&&Zf(l,oe.memoizedState.deps)?h.memoizedState=Ja(i,d,a,l):(Nt.flags|=e,h.memoizedState=Ja(1|i,d,a,l))}function by(e,i){gc(8390656,8,e,i)}function ld(e,i){yc(2048,8,e,i)}function WS(e){Nt.flags|=4;var i=Nt.updateQueue;if(i===null)i=dc(),Nt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function wy(e){var i=Oe().memoizedState;return WS({ref:i,nextImpl:e}),function(){if((ee&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ry(e,i){return yc(4,2,e,i)}function Cy(e,i){return yc(4,4,e,i)}function Iy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Dy(e,i,a){a=a!=null?a.concat([e]):null,yc(4,4,Iy.bind(null,i,e),a)}function ud(){}function Ny(e,i){var a=Oe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function xy(e,i){var a=Oe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=e(),ua){Xn(!0);try{e()}finally{Xn(!1)}}return a.memoizedState=[l,i],l}function cd(e,i,a){return a===void 0||(rr&1073741824)!==0&&(Bt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=O_(),Nt.lanes|=e,as|=e,a)}function Oy(e,i,a,l){return Vn(a,i)?a:Ya.current!==null?(e=cd(e,a,l),Vn(e,i)||(Pe=!0),e):(rr&42)===0||(rr&1073741824)!==0&&(Bt&261930)===0?(Pe=!0,e.memoizedState=a):(e=O_(),Nt.lanes|=e,as|=e,i)}function My(e,i,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var _=K.T,S={};K.T=S,dd(e,!1,i,a);try{var I=h(),j=K.S;if(j!==null&&j(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=YS(I,l);gl(e,i,Y,jn(e))}else gl(e,i,l,jn(e))}catch(tt){gl(e,i,{then:function(){},status:"rejected",reason:tt},jn())}finally{ot.p=d,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function tA(){}function hd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Vy(e).queue;My(e,h,i,pt,a===null?tA:function(){return ky(e),a(l)})}function Vy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:pt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ky(e){var i=Vy(e);i.next===null&&(i=e.alternate.memoizedState),gl(e,i.next.queue,{},jn())}function fd(){return en(Ml)}function Ly(){return Oe().memoizedState}function Py(){return Oe().memoizedState}function eA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();e=ts(a);var l=es(i,e,a);l!==null&&(Dn(l,i,a),hl(l,i,a)),i={cache:Bf()},e.payload=i;return}i=i.return}}function nA(e,i,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(e)?zy(i,a):(a=Nf(e,i,a,l),a!==null&&(Dn(a,e,l),jy(a,i,l)))}function Uy(e,i,a){var l=jn();gl(e,i,a,l)}function gl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(e))zy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,Vn(S,_))return Zu(e,i,h,0),he===null&&Ju(),!1}catch{}finally{}if(a=Nf(e,i,h,l),a!==null)return Dn(a,e,l),jy(a,i,l),!0}return!1}function dd(e,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&Dn(i,e,2)}function _c(e){var i=e.alternate;return e===Nt||i!==null&&i===Nt}function zy(e,i){$a=hc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function jy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mr(e,a)}}var yl={readContext:en,use:mc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};yl.useEffectEvent=be;var By={readContext:en,use:mc,useCallback:function(e,i){return En().memoizedState=[e,i===void 0?null:i],e},useContext:en,useEffect:by,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,gc(4194308,4,Iy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return gc(4194308,4,e,i)},useInsertionEffect:function(e,i){gc(4,2,e,i)},useMemo:function(e,i){var a=En();i=i===void 0?null:i;var l=e();if(ua){Xn(!0);try{e()}finally{Xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=En();if(a!==void 0){var h=a(i);if(ua){Xn(!0);try{a(i)}finally{Xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=nA.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var i=En();return e={current:e},i.memoizedState=e},useState:function(e){e=ad(e);var i=e.queue,a=Uy.bind(null,Nt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(e,i){var a=En();return cd(a,e,i)},useTransition:function(){var e=ad(!1);return e=My.bind(null,Nt,e.queue,!0,!1),En().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Nt,h=En();if(Qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),he===null)throw Error(s(349));(Bt&127)!==0||ly(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,by(cy.bind(null,l,d,e),[e]),l.flags|=2048,Ja(9,{destroy:void 0},uy.bind(null,l,d,a,i),null),a},useId:function(){var e=En(),i=he.identifierPrefix;if(Qt){var a=xi,l=Ni;a=(l&~(1<<32-pn(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$S++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:fd,useFormState:vy,useActionState:vy,useOptimistic:function(e){var i=En();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Nt,!0,a),a.dispatch=i,[e,i]},useMemoCache:id,useCacheRefresh:function(){return En().memoizedState=eA.bind(null,Nt)},useEffectEvent:function(e){var i=En(),a={impl:e};return i.memoizedState=a,function(){if((ee&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:en,use:mc,useCallback:Ny,useContext:en,useEffect:ld,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:xy,useReducer:pc,useRef:Ay,useState:function(){return pc(sr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=Oe();return Oy(a,oe.memoizedState,e,i)},useTransition:function(){var e=pc(sr)[0],i=Oe().memoizedState;return[typeof e=="boolean"?e:pl(e),i]},useSyncExternalStore:oy,useId:Ly,useHostTransitionStatus:fd,useFormState:Ey,useActionState:Ey,useOptimistic:function(e,i){var a=Oe();return dy(a,oe,e,i)},useMemoCache:id,useCacheRefresh:Py};md.useEffectEvent=wy;var qy={readContext:en,use:mc,useCallback:Ny,useContext:en,useEffect:ld,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:xy,useReducer:sd,useRef:Ay,useState:function(){return sd(sr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=Oe();return oe===null?cd(a,e,i):Oy(a,oe.memoizedState,e,i)},useTransition:function(){var e=sd(sr)[0],i=Oe().memoizedState;return[typeof e=="boolean"?e:pl(e),i]},useSyncExternalStore:oy,useId:Ly,useHostTransitionStatus:fd,useFormState:Sy,useActionState:Sy,useOptimistic:function(e,i){var a=Oe();return oe!==null?dy(a,oe,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Py};qy.useEffectEvent=wy;function pd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=jn(),h=ts(l);h.payload=i,a!=null&&(h.callback=a),i=es(e,h,l),i!==null&&(Dn(i,e,l),hl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=jn(),h=ts(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=es(e,h,l),i!==null&&(Dn(i,e,l),hl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=jn(),l=ts(a);l.tag=2,i!=null&&(l.callback=i),i=es(e,l,a),i!==null&&(Dn(i,e,a),hl(i,e,a))}};function Hy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Fy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&gd.enqueueReplaceState(i,i.state,null)}function ca(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Gy(e){Xu(e)}function Qy(e){console.error(e)}function Ky(e){Xu(e)}function vc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Yy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(e,i,a){return a=ts(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(e,i)},a}function $y(e){return e=ts(e),e.tag=3,e}function Xy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Yy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Yy(i,a,l),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function iA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ha(i,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 31:case 13:return si===null?xc():a.alternate===null&&we===0&&(we=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(e,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(e,l,h)),!1}throw Error(s(435,a.tag))}return qd(e,l,h),xc(),!1}if(Qt)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(e=Error(s(422),{cause:l}),al(ei(e,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),al(ei(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=ei(l,a),h=yd(e.stateNode,l,h),Kf(e,h),we!==4&&(we=2)),!1;var d=Error(s(520),{cause:l});if(d=ei(d,a),wl===null?wl=[d]:wl.push(d),we!==4&&(we=2),i===null)return!0;l=ei(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=yd(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$y(h),Xy(h,e,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),Pe=!1;function nn(e,i,a,l){i.child=e===null?ty(i,null,a,l):la(i,e.child,a,l)}function Jy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return ra(i),l=Wf(e,i,a,_,d,h),S=td(),e!==null&&!Pe?(ed(e,i,h),ar(e,i,h)):(Qt&&S&&Vf(i),i.flags|=1,nn(e,i,l,h),i.child)}function Zy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Wy(e,i,d,l,h)):(e=tc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Rd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&e.ref===i.ref)return ar(e,i,h)}return i.flags|=1,e=tr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Wy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(il(d,l)&&e.ref===i.ref)if(Pe=!1,i.pendingProps=l=d,Rd(e,h))(e.flags&131072)!==0&&(Pe=!0);else return i.lanes=e.lanes,ar(e,i,h)}return vd(e,i,a,l,h)}function t_(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return e_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&rc(i,d!==null?d.cachePool:null),d!==null?iy(i,d):$f(),ry(i);else return l=i.lanes=536870912,e_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),iy(i,d),is(),i.memoizedState=null):(e!==null&&rc(i,null),$f(),is());return nn(e,i,h,a),i.child}function _l(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function e_(e,i,a,l,h){var d=Hf();return d=d===null?null:{parent:ke._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&rc(i,null),$f(),ry(i),e!==null&&Ha(e,i,l,!0),i.childLanes=h,null}function Ec(e,i){return i=Sc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function n_(e,i,a){return la(i,e.child,null,a),e=Ec(i,i.pendingProps),e.flags|=2,Pn(i),i.memoizedState=null,e}function rA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Qt){if(l.mode==="hidden")return e=Ec(i,l),i.lanes=536870912,_l(null,e);if(Jf(i),(e=pe)?(e=mv(e,ri),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$r!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=zg(e),a.return=i,i.child=a,tn=i,pe=null)):e=null,e===null)throw Jr(i);return i.lanes=536870912,null}return Ec(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Jf(i),h)if(i.flags&256)i.flags&=-257,i=n_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Pe||Ha(e,i,a,!1),h=(a&e.childLanes)!==0,Pe||h){if(l=he,l!==null&&(_=Vr(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ta(e,_),Dn(l,e,_),_d;xc(),i=n_(e,i,a)}else e=d.treeContext,pe=ai(_.nextSibling),tn=i,Qt=!0,Xr=null,ri=!1,e!==null&&qg(i,e),i=Ec(i,l),i.flags|=4096;return i}return e=tr(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function vd(e,i,a,l,h){return ra(i),a=Wf(e,i,a,l,void 0,h),l=td(),e!==null&&!Pe?(ed(e,i,h),ar(e,i,h)):(Qt&&l&&Vf(i),i.flags|=1,nn(e,i,a,h),i.child)}function i_(e,i,a,l,h,d){return ra(i),i.updateQueue=null,a=ay(i,l,a,h),sy(e),l=td(),e!==null&&!Pe?(ed(e,i,d),ar(e,i,d)):(Qt&&l&&Vf(i),i.flags|=1,nn(e,i,a,d),i.child)}function r_(e,i,a,l,h){if(ra(i),i.stateNode===null){var d=za,_=a.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?en(_):za,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gd.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,I=ca(a,S);d.props=I;var j=d.context,Y=a.contextType;_=za,typeof Y=="object"&&Y!==null&&(_=en(Y));var tt=a.getDerivedStateFromProps;Y=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||j!==_)&&Fy(i,d,l,_),Wr=!1;var B=i.memoizedState;d.state=B,dl(i,l,d,h),fl(),j=i.memoizedState,S||B!==j||Wr?(typeof tt=="function"&&(pd(i,a,tt,l),j=i.memoizedState),(I=Wr||Hy(i,a,I,l,B,j,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(e,i),_=i.memoizedProps,Y=ca(a,_),d.props=Y,tt=i.pendingProps,B=d.context,j=a.contextType,I=za,typeof j=="object"&&j!==null&&(I=en(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||B!==I)&&Fy(i,d,l,I),Wr=!1,B=i.memoizedState,d.state=B,dl(i,l,d,h),fl();var F=i.memoizedState;_!==tt||B!==F||Wr||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof S=="function"&&(pd(i,a,S,l),F=i.memoizedState),(Y=Wr||Hy(i,a,Y,l,B,F,I)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=la(i,e.child,null,h),i.child=la(i,null,a,h)):nn(e,i,a,h),i.memoizedState=d.state,e=i.child):e=ar(e,i,h),e}function s_(e,i,a,l){return na(),i.flags|=256,nn(e,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(e){return{baseLanes:e,cachePool:Yg()}}function Sd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=zn),e}function a_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Qt){if(h?ns(i):is(),(e=pe)?(e=mv(e,ri),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:$r!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=zg(e),a.return=i,i.child=a,tn=i,pe=null)):e=null,e===null)throw Jr(i);return rm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(is(),h=i.mode,S=Sc({mode:"hidden",children:S},h),l=ea(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Td(a),l.childLanes=Sd(e,_,a),i.memoizedState=Ed,_l(null,l)):(ns(i),Ad(i,S))}var I=e.memoizedState;if(I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(ns(i),i.flags&=-257,i=bd(e,i,a)):i.memoizedState!==null?(is(),i.child=e.child,i.flags|=128,i=null):(is(),S=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),S=ea(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,la(i,e.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=Sd(e,_,a),i.memoizedState=Ed,i=_l(null,l));else if(ns(i),rm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),i=bd(e,i,a)}else if(Pe||Ha(e,i,a,!1),_=(a&e.childLanes)!==0,Pe||_){if(_=he,_!==null&&(l=Vr(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,ta(e,l),Dn(_,e,l),_d;im(S)||xc(),i=bd(e,i,a)}else im(S)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,pe=ai(S.nextSibling),tn=i,Qt=!0,Xr=null,ri=!1,e!==null&&qg(i,e),i=Ad(i,l.children),i.flags|=4096);return i}return h?(is(),S=l.fallback,h=i.mode,I=e.child,j=I.sibling,l=tr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?S=tr(j,S):(S=ea(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,_l(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Td(a):(h=S.cachePool,h!==null?(I=ke._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Yg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=Sd(e,_,a),i.memoizedState=Ed,_l(e.child,l)):(ns(i),a=e.child,e=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ad(e,i){return i=Sc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Sc(e,i){return e=kn(22,e,null,i),e.lanes=0,e}function bd(e,i,a){return la(i,e.child,null,a),e=Ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function o_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),zf(e.return,i,a)}function wd(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function l_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=xe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,it(xe,_),nn(e,i,l,a),l=Qt?sl:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o_(e,a,i);else if(e.tag===19)o_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&cc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&cc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}wd(i,!0,a,null,d,l);break;case"together":wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ar(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),as|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ha(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=tr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=tr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function sA(e,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Zr(i,ke,e.memoizedState.cache),na();break;case 27:case 5:Kn(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Zr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?a_(e,i,a):(ns(i),e=ar(e,i,a),e!==null?e.sibling:null);ns(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ha(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return l_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(xe,xe.current),l)break;return null;case 22:return i.lanes=0,t_(e,i,a,i.pendingProps);case 24:Zr(i,ke,e.memoizedState.cache)}return ar(e,i,a)}function u_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Pe=!0;else{if(!Rd(e,a)&&(i.flags&128)===0)return Pe=!1,sA(e,i,a);Pe=(e.flags&131072)!==0}else Pe=!1,Qt&&(i.flags&1048576)!==0&&Bg(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=aa(i.elementType),i.type=e,typeof e=="function")xf(e)?(l=ca(e,l),i.tag=1,i=r_(null,i,e,l,a)):(i.tag=0,i=vd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===gt){i.tag=11,i=Jy(null,i,e,l,a);break t}else if(h===N){i.tag=14,i=Zy(null,i,e,l,a);break t}}throw i=fe(e)||e,Error(s(306,i,""))}}return i;case 0:return vd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=ca(l,i.pendingProps),r_(e,i,l,h,a);case 3:t:{if(qe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Qf(e,i),dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Zr(i,ke,l),l!==d.cache&&jf(i,[ke],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=s_(e,i,l,a);break t}else if(l!==h){h=ei(Error(s(424)),i),al(h),i=s_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(pe=ai(e.firstChild),tn=i,Qt=!0,Xr=null,ri=!0,a=ty(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(na(),l===h){i=ar(e,i,a);break t}nn(e,i,l,a)}i=i.child}return i;case 26:return Tc(e,i),e===null?(a=Ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qt||(a=i.type,e=i.pendingProps,l=Uc(xt.current).createElement(a),l[Se]=i,l[We]=e,rn(l,a,e),Ne(l),i.stateNode=l):i.memoizedState=Ev(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Kn(i),e===null&&Qt&&(l=i.stateNode=yv(i.type,i.pendingProps,xt.current),tn=i,ri=!0,h=pe,hs(i.type)?(sm=h,pe=ai(l.firstChild)):pe=h),nn(e,i,i.pendingProps.children,a),Tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Qt&&((h=l=pe)&&(l=kA(l,i.type,i.pendingProps,ri),l!==null?(i.stateNode=l,tn=i,pe=ai(l.firstChild),ri=!1,h=!0):h=!1),h||Jr(i)),Kn(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,tm(h,d)?l=null:_!==null&&tm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Wf(e,i,XS,null,null,a),Ml._currentValue=h),Tc(e,i),nn(e,i,l,a),i.child;case 6:return e===null&&Qt&&((e=a=pe)&&(a=LA(a,i.pendingProps,ri),a!==null?(i.stateNode=a,tn=i,pe=null,e=!0):e=!1),e||Jr(i)),null;case 13:return a_(e,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=la(i,null,l,a):nn(e,i,l,a),i.child;case 11:return Jy(e,i,i.type,i.pendingProps,a);case 7:return nn(e,i,i.pendingProps,a),i.child;case 8:return nn(e,i,i.pendingProps.children,a),i.child;case 12:return nn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Zr(i,i.type,l.value),nn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ra(i),h=en(h),l=l(h),i.flags|=1,nn(e,i,l,a),i.child;case 14:return Zy(e,i,i.type,i.pendingProps,a);case 15:return Wy(e,i,i.type,i.pendingProps,a);case 19:return l_(e,i,a);case 31:return rA(e,i,a);case 22:return t_(e,i,a,i.pendingProps);case 24:return ra(i),l=en(ke),e===null?(h=Hf(),h===null&&(h=he,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Gf(i),Zr(i,ke,h)):((e.lanes&a)!==0&&(Qf(e,i),dl(i,null,null,a),fl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zr(i,ke,l)):(l=d.cache,Zr(i,ke,l),l!==h.cache&&jf(i,[ke],a,!0))),nn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function or(e){e.flags|=4}function Cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(L_())e.flags|=8192;else throw oa=ac,Ff}else e.flags&=-16777217}function c_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wv(i))if(L_())e.flags|=8192;else throw oa=ac,Ff}function Ac(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?zo():536870912,e.lanes|=i,eo|=i)}function vl(e,i){if(!Qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function aA(e,i,a){var l=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(i),null;case 1:return ge(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ir(ke),de(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qa(i)?or(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pf())),ge(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(or(i),d!==null?(ge(i),c_(i,d)):(ge(i),Cd(i,h,null,l,a))):d?d!==e.memoizedState?(or(i),ge(i),c_(i,d)):(ge(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&or(i),ge(i),Cd(i,h,e,l,a)),null;case 27:if(Sn(i),a=xt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ge(i),null}e=ht.current,qa(i)?Hg(i):(e=yv(h,l,a),i.stateNode=e,or(i))}return ge(i),null;case 5:if(Sn(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ge(i),null}if(d=ht.current,qa(i))Hg(i);else{var _=Uc(xt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Se]=i,d[We]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(rn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&or(i)}}return ge(i),Cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&or(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=xt.current,qa(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||av(e.nodeValue,a)),e||Jr(i,!0)}else e=Uc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return ge(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=qa(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=i}else na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),e=!1}else a=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Pn(i),i):(Pn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ge(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=qa(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),h=!1}else h=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pn(i),i):(Pn(i),null)}return Pn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),ge(i),null);case 4:return de(),e===null&&$d(i.stateNode.containerInfo),ge(i),null;case 10:return ir(i.type),ge(i),null;case 19:if($(xe),l=i.memoizedState,l===null)return ge(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)vl(l,!1);else{if(we!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=cc(e),d!==null){for(i.flags|=128,vl(l,!1),e=d.updateQueue,i.updateQueue=e,Ac(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ug(a,e),a=a.sibling;return it(xe,xe.current&1|2),Qt&&er(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&It()>Ic&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304)}else{if(!h)if(e=cc(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Ac(i,e),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Qt)return ge(i),null}else 2*It()-l.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=It(),e.sibling=null,a=xe.current,it(xe,h?a&1|2:a&1),Qt&&er(i,l.treeForkCount),e):(ge(i),null);case 22:case 23:return Pn(i),Xf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ge(i),i.subtreeFlags&6&&(i.flags|=8192)):ge(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&$(sa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ir(ke),ge(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function oA(e,i){switch(kf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ir(ke),de(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Sn(i),null;case 31:if(i.memoizedState!==null){if(Pn(i),i.alternate===null)throw Error(s(340));na()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Pn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));na()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(xe),null;case 4:return de(),null;case 10:return ir(i.type),null;case 22:case 23:return Pn(i),Xf(),e!==null&&$(sa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ir(ke),null;case 25:return null;default:return null}}function h_(e,i){switch(kf(i),i.tag){case 3:ir(ke),de();break;case 26:case 27:case 5:Sn(i);break;case 4:de();break;case 31:i.memoizedState!==null&&Pn(i);break;case 13:Pn(i);break;case 19:$(xe);break;case 10:ir(i.type);break;case 22:case 23:Pn(i),Xf(),e!==null&&$(sa);break;case 24:ir(ke)}}function El(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){ae(i,i.return,S)}}function rs(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var I=a,j=S;try{j()}catch(Y){ae(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){ae(i,i.return,Y)}}function f_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ny(i,a)}catch(l){ae(e,e.return,l)}}}function d_(e,i,a){a.props=ca(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ae(e,i,l)}}function Tl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ae(e,i,h)}}function Oi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ae(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ae(e,i,h)}else a.current=null}function m_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ae(e,e.return,h)}}function Id(e,i,a){try{var l=e.stateNode;DA(l,e.type,a,i),l[We]=i}catch(h){ae(e,e.return,h)}}function p_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hs(e.type)||e.tag===4}function Dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||p_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qe));else if(l!==4&&(l===27&&hs(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function bc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&hs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bc(e,i,a),e=e.sibling;e!==null;)bc(e,i,a),e=e.sibling}function g_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);rn(i,l,a),i[Se]=e,i[We]=a}catch(d){ae(e,e.return,d)}}var lr=!1,Ue=!1,xd=!1,y_=typeof WeakSet=="function"?WeakSet:Set,$e=null;function lA(e,i){if(e=e.containerInfo,Zd=Gc,e=Dg(e),bf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,I=-1,j=0,Y=0,tt=e,B=null;e:for(;;){for(var F;tt!==a||h!==0&&tt.nodeType!==3||(S=_+h),tt!==d||l!==0&&tt.nodeType!==3||(I=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(F=tt.firstChild)!==null;)B=tt,tt=F;for(;;){if(tt===e)break e;if(B===a&&++j===h&&(S=_),B===d&&++Y===l&&(I=_),(F=tt.nextSibling)!==null)break;tt=B,B=tt.parentNode}tt=F}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:e,selectionRange:a},Gc=!1,$e=i;$e!==null;)if(i=$e,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,$e=e;else for(;$e!==null;){switch(i=$e,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ft=ca(a.type,h);e=l.getSnapshotBeforeUpdate(ft,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){ae(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)nm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,$e=e;break}$e=i.return}}function __(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),l&4&&El(5,a);break;case 1:if(cr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){ae(a,a.return,_)}else{var h=ca(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){ae(a,a.return,_)}}l&64&&f_(a),l&512&&Tl(a,a.return);break;case 3:if(cr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ny(e,i)}catch(_){ae(a,a.return,_)}}break;case 27:i===null&&l&4&&g_(a);case 26:case 5:cr(e,a),i===null&&l&4&&m_(a),l&512&&Tl(a,a.return);break;case 12:cr(e,a);break;case 31:cr(e,a),l&4&&T_(e,a);break;case 13:cr(e,a),l&4&&S_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yA.bind(null,a),PA(e,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){i=i!==null&&i.memoizedState!==null||Ue,h=lr;var d=Ue;lr=l,(Ue=i)&&!d?hr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),lr=h,Ue=d}break;case 30:break;default:cr(e,a)}}function v_(e){var i=e.alternate;i!==null&&(e.alternate=null,v_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&qs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _e=null,wn=!1;function ur(e,i,a){for(a=a.child;a!==null;)E_(e,i,a),a=a.sibling}function E_(e,i,a){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:Ue||Oi(a,i),ur(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||Oi(a,i);var l=_e,h=wn;hs(a.type)&&(_e=a.stateNode,wn=!1),ur(e,i,a),Nl(a.stateNode),_e=l,wn=h;break;case 5:Ue||Oi(a,i);case 6:if(l=_e,h=wn,_e=null,ur(e,i,a),_e=l,wn=h,_e!==null)if(wn)try{(_e.nodeType===9?_e.body:_e.nodeName==="HTML"?_e.ownerDocument.body:_e).removeChild(a.stateNode)}catch(d){ae(a,i,d)}else try{_e.removeChild(a.stateNode)}catch(d){ae(a,i,d)}break;case 18:_e!==null&&(wn?(e=_e,fv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),uo(e)):fv(_e,a.stateNode));break;case 4:l=_e,h=wn,_e=a.stateNode.containerInfo,wn=!0,ur(e,i,a),_e=l,wn=h;break;case 0:case 11:case 14:case 15:rs(2,a,i),Ue||rs(4,a,i),ur(e,i,a);break;case 1:Ue||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&d_(a,i,l)),ur(e,i,a);break;case 21:ur(e,i,a);break;case 22:Ue=(l=Ue)||a.memoizedState!==null,ur(e,i,a),Ue=l;break;default:ur(e,i,a)}}function T_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{uo(e)}catch(a){ae(i,i.return,a)}}}function S_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uo(e)}catch(a){ae(i,i.return,a)}}function uA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new y_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new y_),i;default:throw Error(s(435,e.tag))}}function wc(e,i){var a=uA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=_A.bind(null,e,l);l.then(h,h)}})}function Rn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(hs(S.type)){_e=S.stateNode,wn=!1;break t}break;case 5:_e=S.stateNode,wn=!1;break t;case 3:case 4:_e=S.stateNode.containerInfo,wn=!0;break t}S=S.return}if(_e===null)throw Error(s(160));E_(d,_,h),_e=null,wn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)A_(i,e),i=i.sibling}var pi=null;function A_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(i,e),Cn(e),l&4&&(rs(3,e,e.return),El(3,e),rs(5,e,e.return));break;case 1:Rn(i,e),Cn(e),l&512&&(Ue||a===null||Oi(a,a.return)),l&64&&lr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=pi;if(Rn(i,e),Cn(e),l&512&&(Ue||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Qi]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),rn(d,l,a),d[Se]=e,Ne(d),l=d;break t;case"link":var _=Av("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Av("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,Ne(d),l=d}e.stateNode=l}else bv(h,e.type,e.stateNode);else e.stateNode=Sv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?bv(h,e.type,e.stateNode):Sv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Id(e,e.memoizedProps,a.memoizedProps)}break;case 27:Rn(i,e),Cn(e),l&512&&(Ue||a===null||Oi(a,a.return)),a!==null&&l&4&&Id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Rn(i,e),Cn(e),l&512&&(Ue||a===null||Oi(a,a.return)),e.flags&32){h=e.stateNode;try{Wn(h,"")}catch(ft){ae(e,e.return,ft)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Id(e,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(Rn(i,e),Cn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ft){ae(e,e.return,ft)}}break;case 3:if(Bc=null,h=pi,pi=zc(i.containerInfo),Rn(i,e),pi=h,Cn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(ft){ae(e,e.return,ft)}xd&&(xd=!1,b_(e));break;case 4:l=pi,pi=zc(e.stateNode.containerInfo),Rn(i,e),Cn(e),pi=l;break;case 12:Rn(i,e),Cn(e);break;case 31:Rn(i,e),Cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 13:Rn(i,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=It()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=lr,Y=Ue;if(lr=j||h,Ue=Y||I,Rn(i,e),Ue=Y,lr=j,Cn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||lr||Ue||ha(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=I.stateNode;var tt=I.memoizedProps.style,B=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ft){ae(I,I.return,ft)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ft){ae(I,I.return,ft)}}}else if(i.tag===18){if(a===null){I=i;try{var F=I.stateNode;h?dv(F,!0):dv(I.stateNode,!1)}catch(ft){ae(I,I.return,ft)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(e,a))));break;case 19:Rn(i,e),Cn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wc(e,l)));break;case 30:break;case 21:break;default:Rn(i,e),Cn(e)}}function Cn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(p_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(e);bc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Wn(_,""),a.flags&=-33);var S=Dd(e);bc(e,S,_);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Dd(e);Nd(e,j,I);break;default:throw Error(s(161))}}catch(Y){ae(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function b_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;b_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function cr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)__(e,i.alternate,i),i=i.sibling}function ha(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:rs(4,i,i.return),ha(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&d_(i,i.return,a),ha(i);break;case 27:Nl(i.stateNode);case 26:case 5:Oi(i,i.return),ha(i);break;case 22:i.memoizedState===null&&ha(i);break;case 30:ha(i);break;default:ha(i)}e=e.sibling}}function hr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:hr(h,d,a),El(4,d);break;case 1:if(hr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ae(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ey(I[h],S)}catch(j){ae(l,l.return,j)}}a&&_&64&&f_(d),Tl(d,d.return);break;case 27:g_(d);case 26:case 5:hr(h,d,a),a&&l===null&&_&4&&m_(d),Tl(d,d.return);break;case 12:hr(h,d,a);break;case 31:hr(h,d,a),a&&_&4&&T_(h,d);break;case 13:hr(h,d,a),a&&_&4&&S_(h,d);break;case 22:d.memoizedState===null&&hr(h,d,a),Tl(d,d.return);break;case 30:break;default:hr(h,d,a)}i=i.sibling}}function Od(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ol(a))}function Md(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ol(e))}function gi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)w_(e,i,a,l),i=i.sibling}function w_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:gi(e,i,a,l),h&2048&&El(9,i);break;case 1:gi(e,i,a,l);break;case 3:gi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ol(e)));break;case 12:if(h&2048){gi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ae(i,i.return,I)}}else gi(e,i,a,l);break;case 31:gi(e,i,a,l);break;case 13:gi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?gi(e,i,a,l):Sl(e,i):d._visibility&2?gi(e,i,a,l):(d._visibility|=2,Za(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Od(_,i);break;case 24:gi(e,i,a,l),h&2048&&Md(i.alternate,i);break;default:gi(e,i,a,l)}}function Za(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,I=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Za(d,_,S,I,h),El(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Za(d,_,S,I,h):Sl(d,_):(Y._visibility|=2,Za(d,_,S,I,h)),h&&j&2048&&Od(_.alternate,_);break;case 24:Za(d,_,S,I,h),h&&j&2048&&Md(_.alternate,_);break;default:Za(d,_,S,I,h)}i=i.sibling}}function Sl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&Od(l.alternate,l);break;case 24:Sl(a,l),h&2048&&Md(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var Al=8192;function Wa(e,i,a){if(e.subtreeFlags&Al)for(e=e.child;e!==null;)R_(e,i,a),e=e.sibling}function R_(e,i,a){switch(e.tag){case 26:Wa(e,i,a),e.flags&Al&&e.memoizedState!==null&&$A(a,pi,e.memoizedState,e.memoizedProps);break;case 5:Wa(e,i,a);break;case 3:case 4:var l=pi;pi=zc(e.stateNode.containerInfo),Wa(e,i,a),pi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Wa(e,i,a),Al=l):Wa(e,i,a));break;default:Wa(e,i,a)}}function C_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function bl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,D_(l,e)}C_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)I_(e),e=e.sibling}function I_(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&rs(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Rc(e)):bl(e);break;default:bl(e)}}function Rc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$e=l,D_(l,e)}C_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:rs(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}e=e.sibling}}function D_(e,i){for(;$e!==null;){var a=$e;switch(a.tag){case 0:case 11:case 15:rs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$e=l;else t:for(a=e;$e!==null;){l=$e;var h=l.sibling,d=l.return;if(v_(l),l===a){$e=null;break t}if(h!==null){h.return=d,$e=h;break t}$e=d}}}var cA={getCacheForType:function(e){var i=en(ke),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return en(ke).controller.signal}},hA=typeof WeakMap=="function"?WeakMap:Map,ee=0,he=null,zt=null,Bt=0,se=0,Un=null,ss=!1,to=!1,Vd=!1,fr=0,we=0,as=0,fa=0,kd=0,zn=0,eo=0,wl=null,In=null,Ld=!1,Cc=0,N_=0,Ic=1/0,Dc=null,os=null,He=0,ls=null,no=null,dr=0,Pd=0,Ud=null,x_=null,Rl=0,zd=null;function jn(){return(ee&2)!==0&&Bt!==0?Bt&-Bt:K.T!==null?Gd():Gi()}function O_(){if(zn===0)if((Bt&536870912)===0||Qt){var e=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),zn=e}else zn=536870912;return e=Ln.current,e!==null&&(e.flags|=32),zn}function Dn(e,i,a){(e===he&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(io(e,0),us(e,Bt,zn,!1)),Or(e,a),((ee&2)===0||e!==he)&&(e===he&&((ee&2)===0&&(fa|=a),we===4&&us(e,Bt,zn,!1)),Mi(e))}function M_(e,i,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||xr(e,i),h=l?mA(e,i):Bd(e,i,!0),d=l;do{if(h===0){to&&!l&&us(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!fA(a)){h=Bd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;h=wl;var I=S.current.memoizedState.isDehydrated;if(I&&(io(S,_).flags|=256),_=Bd(S,_,!1),_!==2){if(Vd&&!I){S.errorRecoveryDisabledLanes|=d,fa|=d,h=4;break t}d=In,In=h,d!==null&&(In===null?In=d:In.push.apply(In,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){io(e,0),us(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:us(l,i,zn,!ss);break t;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-It(),10<h)){if(us(l,i,zn,!ss),Jn(l,0,!0)!==0)break t;dr=i,l.timeoutHandle=cv(V_.bind(null,l,a,In,Dc,Ld,i,zn,fa,eo,ss,d,"Throttled",-0,0),h);break t}V_(l,a,In,Dc,Ld,i,zn,fa,eo,ss,d,null,-0,0)}}break}while(!0);Mi(e)}function V_(e,i,a,l,h,d,_,S,I,j,Y,tt,B,F){if(e.timeoutHandle=-1,tt=i.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qe},R_(i,d,tt);var ft=(d&62914560)===d?Cc-It():(d&4194048)===d?N_-It():0;if(ft=XA(tt,ft),ft!==null){dr=d,e.cancelPendingCommit=ft(q_.bind(null,e,i,d,a,l,h,_,S,I,Y,tt,null,B,F)),us(e,d,_,!j);return}}q_(e,i,d,a,l,h,_,S,I)}function fA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function us(e,i,a,l){i&=~kd,i&=~fa,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-pn(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&jo(e,a,i)}function Nc(){return(ee&6)===0?(Cl(0),!1):!0}function jd(){if(zt!==null){if(se===0)var e=zt.return;else e=zt,nr=ia=null,nd(e),Ka=null,ul=0,e=zt;for(;e!==null;)h_(e.alternate,e),e=e.return;zt=null}}function io(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,OA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),dr=0,jd(),he=e,zt=a=tr(e.current,null),Bt=i,se=0,Un=null,ss=!1,to=xr(e,i),Vd=!1,eo=zn=kd=fa=as=we=0,In=wl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-pn(l),d=1<<h;i|=e[h],l&=~d}return fr=i,Ju(),a}function k_(e,i){Nt=null,K.H=yl,i===Qa||i===sc?(i=Jg(),se=3):i===Ff?(i=Jg(),se=4):se=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Un=i,zt===null&&(we=1,vc(e,ei(i,e.current)))}function L_(){var e=Ln.current;return e===null?!0:(Bt&4194048)===Bt?si===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?e===si:!1}function P_(){var e=K.H;return K.H=yl,e===null?yl:e}function U_(){var e=K.A;return K.A=cA,e}function xc(){we=4,ss||(Bt&4194048)!==Bt&&Ln.current!==null||(to=!0),(as&134217727)===0&&(fa&134217727)===0||he===null||us(he,Bt,zn,!1)}function Bd(e,i,a){var l=ee;ee|=2;var h=P_(),d=U_();(he!==e||Bt!==i)&&(Dc=null,io(e,i)),i=!1;var _=we;t:do try{if(se!==0&&zt!==null){var S=zt,I=Un;switch(se){case 8:jd(),_=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(i=!0);var j=se;if(se=0,Un=null,ro(e,S,I,j),a&&to){_=0;break t}break;default:j=se,se=0,Un=null,ro(e,S,I,j)}}dA(),_=we;break}catch(Y){k_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,nr=ia=null,ee=l,K.H=h,K.A=d,zt===null&&(he=null,Bt=0,Ju()),_}function dA(){for(;zt!==null;)z_(zt)}function mA(e,i){var a=ee;ee|=2;var l=P_(),h=U_();he!==e||Bt!==i?(Dc=null,Ic=It()+500,io(e,i)):to=xr(e,i);t:do try{if(se!==0&&zt!==null){i=zt;var d=Un;e:switch(se){case 1:se=0,Un=null,ro(e,i,d,1);break;case 2:case 9:if($g(d)){se=0,Un=null,j_(i);break}i=function(){se!==2&&se!==9||he!==e||(se=7),Mi(e)},d.then(i,i);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:$g(d)?(se=0,Un=null,j_(i)):(se=0,Un=null,ro(e,i,d,7));break;case 5:var _=null;switch(zt.tag){case 26:_=zt.memoizedState;case 5:case 27:var S=zt;if(_?wv(_):S.stateNode.complete){se=0,Un=null;var I=S.sibling;if(I!==null)zt=I;else{var j=S.return;j!==null?(zt=j,Oc(j)):zt=null}break e}}se=0,Un=null,ro(e,i,d,5);break;case 6:se=0,Un=null,ro(e,i,d,6);break;case 8:jd(),we=6;break t;default:throw Error(s(462))}}pA();break}catch(Y){k_(e,Y)}while(!0);return nr=ia=null,K.H=l,K.A=h,ee=a,zt!==null?0:(he=null,Bt=0,Ju(),we)}function pA(){for(;zt!==null&&!Lt();)z_(zt)}function z_(e){var i=u_(e.alternate,e,fr);e.memoizedProps=e.pendingProps,i===null?Oc(e):zt=i}function j_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=i_(a,i,i.pendingProps,i.type,void 0,Bt);break;case 11:i=i_(a,i,i.pendingProps,i.type.render,i.ref,Bt);break;case 5:nd(i);default:h_(a,i),i=zt=Ug(i,fr),i=u_(a,i,fr)}e.memoizedProps=e.pendingProps,i===null?Oc(e):zt=i}function ro(e,i,a,l){nr=ia=null,nd(i),Ka=null,ul=0;var h=i.return;try{if(iA(e,h,i,a,Bt)){we=1,vc(e,ei(a,e.current)),zt=null;return}}catch(d){if(h!==null)throw zt=h,d;we=1,vc(e,ei(a,e.current)),zt=null;return}i.flags&32768?(Qt||l===1?e=!0:to||(Bt&536870912)!==0?e=!1:(ss=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),B_(i,e)):Oc(i)}function Oc(e){var i=e;do{if((i.flags&32768)!==0){B_(i,ss);return}e=i.return;var a=aA(i.alternate,i,fr);if(a!==null){zt=a;return}if(i=i.sibling,i!==null){zt=i;return}zt=i=e}while(i!==null);we===0&&(we=5)}function B_(e,i){do{var a=oA(e.alternate,e);if(a!==null){a.flags&=32767,zt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){zt=e;return}zt=e=a}while(e!==null);we=6,zt=null}function q_(e,i,a,l,h,d,_,S,I){e.cancelPendingCommit=null;do Mc();while(He!==0);if((ee&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,Ze(e,a,d,_,S,I),e===he&&(zt=he=null,Bt=0),no=i,ls=e,dr=a,Pd=d,Ud=h,x_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vA($t,function(){return K_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ot.p,ot.p=2,_=ee,ee|=4;try{lA(e,i,a)}finally{ee=_,ot.p=h,K.T=l}}He=1,H_(),F_(),G_()}}function H_(){if(He===1){He=0;var e=ls,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=ee;ee|=4;try{A_(i,e);var d=Wd,_=Dg(e.containerInfo),S=d.focusedElem,I=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Ig(S.ownerDocument.documentElement,S)){if(I!==null&&bf(S)){var j=I.start,Y=I.end;if(Y===void 0&&(Y=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(Y,S.value.length);else{var tt=S.ownerDocument||document,B=tt&&tt.defaultView||window;if(B.getSelection){var F=B.getSelection(),ft=S.textContent.length,Et=Math.min(I.start,ft),ue=I.end===void 0?Et:Math.min(I.end,ft);!F.extend&&Et>ue&&(_=ue,ue=Et,Et=_);var L=Cg(S,Et),x=Cg(S,ue);if(L&&x&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var z=tt.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),Et>ue?(F.addRange(z),F.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),F.addRange(z))}}}}for(tt=[],F=S;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Gc=!!Zd,Wd=Zd=null}finally{ee=h,ot.p=l,K.T=a}}e.current=i,He=2}}function F_(){if(He===2){He=0;var e=ls,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var h=ee;ee|=4;try{__(e,i.alternate,i)}finally{ee=h,ot.p=l,K.T=a}}He=3}}function G_(){if(He===4||He===3){He=0,re();var e=ls,i=no,a=dr,l=x_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,no=ls=null,Q_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(os=null),qo(a),i=i.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ot.p,ot.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{K.T=i,ot.p=h}}(dr&3)!==0&&Mc(),Mi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===zd?Rl++:(Rl=0,zd=e):Rl=0,Cl(0)}}function Q_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ol(i)))}function Mc(){return H_(),F_(),G_(),K_()}function K_(){if(He!==5)return!1;var e=ls,i=Pd;Pd=0;var a=qo(dr),l=K.T,h=ot.p;try{ot.p=32>a?32:a,K.T=null,a=Ud,Ud=null;var d=ls,_=dr;if(He=0,no=ls=null,dr=0,(ee&6)!==0)throw Error(s(331));var S=ee;if(ee|=4,I_(d.current),w_(d,d.current,_,a),ee=S,Cl(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{ot.p=h,K.T=l,Q_(e,i)}}function Y_(e,i,a){i=ei(a,i),i=yd(e.stateNode,i,2),e=es(e,i,2),e!==null&&(Or(e,2),Mi(e))}function ae(e,i,a){if(e.tag===3)Y_(e,e,a);else for(;i!==null;){if(i.tag===3){Y_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){e=ei(a,e),a=$y(2),l=es(i,a,2),l!==null&&(Xy(a,l,i,e),Or(l,2),Mi(l));break}}i=i.return}}function qd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new hA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Vd=!0,h.add(a),e=gA.bind(null,e,i,a),i.then(e,e))}function gA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,he===e&&(Bt&a)===a&&(we===4||we===3&&(Bt&62914560)===Bt&&300>It()-Cc?(ee&2)===0&&io(e,0):kd|=a,eo===Bt&&(eo=0)),Mi(e)}function $_(e,i){i===0&&(i=zo()),e=ta(e,i),e!==null&&(Or(e,i),Mi(e))}function yA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),$_(e,a)}function _A(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),$_(e,a)}function vA(e,i){return dt(e,i)}var Vc=null,so=null,Hd=!1,kc=!1,Fd=!1,cs=0;function Mi(e){e!==so&&e.next===null&&(so===null?Vc=so=e:so=so.next=e),kc=!0,Hd||(Hd=!0,TA())}function Cl(e,i){if(!Fd&&kc){Fd=!0;do for(var a=!1,l=Vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pn(42|e)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W_(l,d))}else d=Bt,d=Jn(l,l===he?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xr(l,d)||(a=!0,W_(l,d));l=l.next}while(a);Fd=!1}}function EA(){X_()}function X_(){kc=Hd=!1;var e=0;cs!==0&&xA()&&(e=cs);for(var i=It(),a=null,l=Vc;l!==null;){var h=l.next,d=J_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(so=a)):(a=l,(e!==0||(d&3)!==0)&&(kc=!0)),l=h}He!==0&&He!==5||Cl(e),cs!==0&&(cs=0)}function J_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pn(d),S=1<<_,I=h[_];I===-1?((S&a)===0||(S&l)!==0)&&(h[_]=wa(S,i)):I<=i&&(e.expiredLanes|=S),d&=~S}if(i=he,a=Bt,a=Jn(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(se===2||se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ct(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||xr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Ct(l),qo(a)){case 2:case 8:a=Ut;break;case 32:a=$t;break;case 268435456:a=ne;break;default:a=$t}return l=Z_.bind(null,e),a=dt(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Ct(l),e.callbackPriority=2,e.callbackNode=null,2}function Z_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mc()&&e.callbackNode!==a)return null;var l=Bt;return l=Jn(e,e===he?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(M_(e,l,i),J_(e,It()),e.callbackNode!=null&&e.callbackNode===a?Z_.bind(null,e):null)}function W_(e,i){if(Mc())return null;M_(e,i,!0)}function TA(){MA(function(){(ee&6)!==0?dt(Pt,EA):X_()})}function Gd(){if(cs===0){var e=Fa;e===0&&(e=Bs,Bs<<=1,(Bs&261888)===0&&(Bs=256)),cs=e}return cs}function tv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ci(""+e)}function ev(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function SA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=tv((h[We]||null).action),_=l.submitter;_&&(i=(i=_[We]||null)?tv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ks("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cs!==0){var I=_?ev(h,_):new FormData(h);hd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=_?ev(h,_):new FormData(h),hd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Qd=0;Qd<If.length;Qd++){var Kd=If[Qd],AA=Kd.toLowerCase(),bA=Kd[0].toUpperCase()+Kd.slice(1);mi(AA,"on"+bA)}mi(Og,"onAnimationEnd"),mi(Mg,"onAnimationIteration"),mi(Vg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(jS,"onTransitionRun"),mi(BS,"onTransitionStart"),mi(qS,"onTransitionCancel"),mi(kg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function nv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],I=S.instance,j=S.currentTarget;if(S=S.listener,I!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=j;try{d(h)}catch(Y){Xu(Y)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(S=l[_],I=S.instance,j=S.currentTarget,S=S.listener,I!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=j;try{d(h)}catch(Y){Xu(Y)}h.currentTarget=null,d=I}}}}function jt(e,i){var a=i[kr];a===void 0&&(a=i[kr]=new Set);var l=e+"__bubble";a.has(l)||(iv(i,e,2,!1),a.add(l))}function Yd(e,i,a){var l=0;i&&(l|=4),iv(a,e,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[Lc]){e[Lc]=!0,Ra.forEach(function(a){a!=="selectionchange"&&(wA.has(a)||Yd(a,!1,e),Yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Yd("selectionchange",!1,i))}}function iv(e,i,a,l){switch(Ov(i)){case 2:var h=WA;break;case 8:h=tb;break;default:h=cm}a=h.bind(null,i,a,e),h=void 0,!Xo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Xd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Ki(S),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Vu(function(){var j=d,Y=xa(a),tt=[];t:{var B=Lg.get(e);if(B!==void 0){var F=Ks,ft=e;switch(e){case"keypress":if(Qs(a)===0)break t;case"keydown":case"keyup":F=Hu;break;case"focusin":ft="focus",F=Gr;break;case"focusout":ft="blur",F=Gr;break;case"beforeblur":case"afterblur":F=Gr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Gu;break;case Og:case Mg:case Vg:F=Va;break;case kg:F=ka;break;case"scroll":case"scrollend":F=ku;break;case"wheel":F=Ku;break;case"copy":case"cut":case"paste":F=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=el;break;case"toggle":case"beforetoggle":F=Kr}var Et=(i&4)!==0,ue=!Et&&(e==="scroll"||e==="scrollend"),L=Et?B!==null?B+"Capture":null:B;Et=[];for(var x=j,z;x!==null;){var J=x;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||L===null||(J=An(x,L),J!=null&&Et.push(Dl(x,J,z))),ue)break;x=x.return}0<Et.length&&(B=new F(B,ft,null,a,Y),tt.push({event:B,listeners:Et}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&a!==Na&&(ft=a.relatedTarget||a.fromElement)&&(Ki(ft)||ft[bi]))break t;if((F||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ft=a.relatedTarget||a.toElement,F=j,ft=ft?Ki(ft):null,ft!==null&&(ue=u(ft),Et=ft.tag,ft!==ue||Et!==5&&Et!==27&&Et!==6)&&(ft=null)):(F=null,ft=j),F!==ft)){if(Et=Lu,J="onMouseLeave",L="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Et=el,J="onPointerLeave",L="onPointerEnter",x="pointer"),ue=F==null?B:Hs(F),z=ft==null?B:Hs(ft),B=new Et(J,x+"leave",F,a,Y),B.target=ue,B.relatedTarget=z,J=null,Ki(Y)===j&&(Et=new Et(L,x+"enter",ft,a,Y),Et.target=z,Et.relatedTarget=ue,J=Et),ue=J,F&&ft)e:{for(Et=RA,L=F,x=ft,z=0,J=L;J;J=Et(J))z++;J=0;for(var _t=x;_t;_t=Et(_t))J++;for(;0<z-J;)L=Et(L),z--;for(;0<J-z;)x=Et(x),J--;for(;z--;){if(L===x||x!==null&&L===x.alternate){Et=L;break e}L=Et(L),x=Et(x)}Et=null}else Et=null;F!==null&&rv(tt,B,F,Et,!1),ft!==null&&ue!==null&&rv(tt,ue,ft,Et,!0)}}t:{if(B=j?Hs(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Wt=Tg;else if(bn(B))if(Sg)Wt=PS;else{Wt=kS;var mt=VS}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Yo(j.elementType)&&(Wt=Tg):Wt=LS;if(Wt&&(Wt=Wt(e,j))){Js(tt,Wt,a,Y);break t}mt&&mt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Da(B,"number",B.value)}switch(mt=j?Hs(j):window,e){case"focusin":(bn(mt)||mt.contentEditable==="true")&&(La=mt,wf=j,rl=null);break;case"focusout":rl=wf=La=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Ng(tt,a,Y);break;case"selectionchange":if(zS)break;case"keydown":case"keyup":Ng(tt,a,Y)}var Ot;if(g)t:{switch(e){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Mt?ie(e,a)&&(qt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(qt="onCompositionStart");qt&&(P&&a.locale!=="ko"&&(Mt||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Mt&&(Ot=Br()):(Mn=Y,Oa="value"in Mn?Mn.value:Mn.textContent,Mt=!0)),mt=Pc(j,qt),0<mt.length&&(qt=new Zo(qt,e,null,a,Y),tt.push({event:qt,listeners:mt}),Ot?qt.data=Ot:(Ot=Ve(a),Ot!==null&&(qt.data=Ot)))),(Ot=A?Ke(e,a):Ye(e,a))&&(qt=Pc(j,"onBeforeInput"),0<qt.length&&(mt=new Zo("onBeforeInput","beforeinput",null,a,Y),tt.push({event:mt,listeners:qt}),mt.data=Ot)),SA(tt,e,j,a,Y)}nv(tt,i)})}function Dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Pc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=An(e,a),h!=null&&l.unshift(Dl(e,h,d)),h=An(e,i),h!=null&&l.push(Dl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function RA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rv(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,I=S.alternate,j=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||j===null||(I=j,h?(j=An(a,d),j!=null&&_.unshift(Dl(a,j,I))):h||(j=An(a,d),j!=null&&_.push(Dl(a,j,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var CA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function sv(e){return(typeof e=="string"?e:""+e).replace(CA,`
`).replace(IA,"")}function av(e,i){return i=sv(i),sv(e)===i}function le(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Wn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Wn(e,""+l);break;case"className":Ur(e,"class",l);break;case"tabIndex":Ur(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(e,a,l);break;case"style":Ou(e,l,d);break;case"data":if(i!=="object"){Ur(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ci(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&le(e,i,"name",h.name,h,null),le(e,i,"formEncType",h.formEncType,h,null),le(e,i,"formMethod",h.formMethod,h,null),le(e,i,"formTarget",h.formTarget,h,null)):(le(e,i,"encType",h.encType,h,null),le(e,i,"method",h.method,h,null),le(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ci(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Qe);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ci(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":jt("beforetoggle",e),jt("toggle",e),Pr(e,"popover",l);break;case"xlinkActuate":Zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vf.get(a)||a,Pr(e,a,l))}}function Jd(e,i,a,l,h,d){switch(a){case"style":Ou(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Wn(e,l):(typeof l=="number"||typeof l=="bigint")&&Wn(e,""+l);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[We]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Pr(e,a,l)}}}function rn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",e),jt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:le(e,i,d,_,a,null)}}h&&le(e,i,"srcSet",a.srcSet,a,null),l&&le(e,i,"src",a.src,a,null);return;case"input":jt("invalid",e);var S=d=_=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":I=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:le(e,i,l,Y,a,null)}}Fs(e,d,S,I,j,_,h,!1);return;case"select":jt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:le(e,i,h,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Zt(e,!!l,i,!1):a!=null&&Zt(e,!!l,a,!0);return;case"textarea":jt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:le(e,i,_,S,a,null)}jr(e,l,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:le(e,i,I,l,a,null)}return;case"dialog":jt("beforetoggle",e),jt("toggle",e),jt("cancel",e),jt("close",e);break;case"iframe":case"object":jt("load",e);break;case"video":case"audio":for(l=0;l<Il.length;l++)jt(Il[l],e);break;case"image":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"embed":case"source":case"link":jt("error",e),jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:le(e,i,j,l,a,null)}return;default:if(Yo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Jd(e,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&le(e,i,S,l,a,null))}function DA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,I=null,j=null,Y=null;for(F in a){var tt=a[F];if(a.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=tt;default:l.hasOwnProperty(F)||le(e,i,F,null,l,tt)}}for(var B in l){var F=l[B];if(tt=a[B],l.hasOwnProperty(B)&&(F!=null||tt!=null))switch(B){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Y=F;break;case"value":_=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==tt&&le(e,i,B,F,l,tt)}}zr(e,_,S,I,j,Y,d,h);return;case"select":F=_=S=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||le(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==I&&le(e,i,h,d,l,I)}i=S,a=_,l=F,B!=null?Zt(e,!!a,B,!1):!!l!=!!a&&(i!=null?Zt(e,!!a,i,!0):Zt(e,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:le(e,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&le(e,i,_,h,l,d)}Gs(e,B,F);return;case"option":for(var ft in a)if(B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":e.selected=!1;break;default:le(e,i,ft,null,l,B)}for(I in l)if(B=l[I],F=a[I],l.hasOwnProperty(I)&&B!==F&&(B!=null||F!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:le(e,i,I,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et)&&le(e,i,Et,null,l,B);for(j in l)if(B=l[j],F=a[j],l.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:le(e,i,j,B,l,F)}return;default:if(Yo(i)){for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!==void 0&&!l.hasOwnProperty(ue)&&Jd(e,i,ue,void 0,l,B);for(Y in l)B=l[Y],F=a[Y],!l.hasOwnProperty(Y)||B===F||B===void 0&&F===void 0||Jd(e,i,Y,B,l,F);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&le(e,i,L,null,l,B);for(tt in l)B=l[tt],F=a[tt],!l.hasOwnProperty(tt)||B===F||B==null&&F==null||le(e,i,tt,B,l,F)}function ov(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&ov(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],j=I.startTime;if(j>S)break;var Y=I.transferSize,tt=I.initiatorType;Y&&ov(tt)&&(I=I.responseEnd,_+=Y*(I<S?1:(S-j)/(I-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zd=null,Wd=null;function Uc(e){return e.nodeType===9?e:e.ownerDocument}function lv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function tm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function xA(){var e=window.event;return e&&e.type==="popstate"?e===em?!1:(em=e,!0):(em=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(e){return hv.resolve(null).then(e).catch(VA)}:cv;function VA(e){setTimeout(function(){throw e})}function hs(e){return e==="head"}function fv(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),uo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[Qi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Nl(e.ownerDocument.body);a=h}while(a);uo(i)}function dv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function nm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),qs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function kA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ai(e.nextSibling),e===null)break}return null}function LA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ai(e.nextSibling),e===null))return null;return e}function mv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ai(e.nextSibling),e===null))return null;return e}function im(e){return e.data==="$?"||e.data==="$~"}function rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function PA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ai(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var sm=null;function pv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return ai(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function gv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function yv(e,i,a){switch(i=Uc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Nl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);qs(e)}var oi=new Map,_v=new Set;function zc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mr=ot.d;ot.d={f:UA,r:zA,D:jA,C:BA,L:qA,m:HA,X:GA,S:FA,M:QA};function UA(){var e=mr.f(),i=Nc();return e||i}function zA(e){var i=Yi(e);i!==null&&i.tag===5&&i.type==="form"?ky(i):mr.r(e)}var ao=typeof document>"u"?null:document;function vv(e,i,a){var l=ao;if(l&&typeof i=="string"&&i){var h=Ae(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_v.has(h)||(_v.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),rn(i,"link",e),Ne(i),l.head.appendChild(i)))}}function jA(e){mr.D(e),vv("dns-prefetch",e,null)}function BA(e,i){mr.C(e,i),vv("preconnect",e,i)}function qA(e,i,a){mr.L(e,i,a);var l=ao;if(l&&e&&i){var h='link[rel="preload"][as="'+Ae(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ae(a.imageSizes)+'"]')):h+='[href="'+Ae(e)+'"]';var d=h;switch(i){case"style":d=oo(e);break;case"script":d=lo(e)}oi.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),oi.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),rn(i,"link",e),Ne(i),l.head.appendChild(i)))}}function HA(e,i){mr.m(e,i);var a=ao;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ae(l)+'"][href="'+Ae(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=lo(e)}if(!oi.has(d)&&(e=T({rel:"modulepreload",href:e},i),oi.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),rn(l,"link",e),Ne(l),a.head.appendChild(l)}}}function FA(e,i,a){mr.S(e,i,a);var l=ao;if(l&&e){var h=fi(l).hoistableStyles,d=oo(e);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(xl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=oi.get(d))&&am(e,a);var I=_=l.createElement("link");Ne(I),rn(I,"link",e),I._p=new Promise(function(j,Y){I.onload=j,I.onerror=Y}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,jc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function GA(e,i){mr.X(e,i);var a=ao;if(a&&e){var l=fi(a).hoistableScripts,h=lo(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=T({src:e,async:!0},i),(i=oi.get(h))&&om(e,i),d=a.createElement("script"),Ne(d),rn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function QA(e,i){mr.M(e,i);var a=ao;if(a&&e){var l=fi(a).hoistableScripts,h=lo(e),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=oi.get(h))&&om(e,i),d=a.createElement("script"),Ne(d),rn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ev(e,i,a,l){var h=(h=xt.current)?zc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=oo(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=oo(a.href);var d=fi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(xl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),oi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},oi.set(e,a),d||KA(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function oo(e){return'href="'+Ae(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function Tv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function KA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",a),Ne(i),e.head.appendChild(i))}function lo(e){return'[src="'+Ae(e)+'"]'}function Ol(e){return"script[async]"+e}function Sv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(l)return i.instance=l,Ne(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ne(l),rn(l,"style",h),jc(l,a.precedence,e),i.instance=l;case"stylesheet":h=oo(a.href);var d=e.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,Ne(d),d;l=Tv(a),(h=oi.get(h))&&am(l,h),d=(e.ownerDocument||e).createElement("link"),Ne(d);var _=d;return _._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),rn(d,"link",l),i.state.loading|=4,jc(d,a.precedence,e),i.instance=d;case"script":return d=lo(a.src),(h=e.querySelector(Ol(d)))?(i.instance=h,Ne(h),h):(l=a,(h=oi.get(d))&&(l=T({},a),om(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),rn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,a.precedence,e));return i.instance}function jc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function am(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Bc=null;function Av(e,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Qi]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function bv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function YA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $A(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=oo(l.href),d=i.querySelector(xl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=qc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ne(d);return}d=i.ownerDocument||i,l=Tv(l),(h=oi.get(h))&&am(l,h),d=d.createElement("link"),Ne(d);var _=d;_._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),rn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=qc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function XA(e,i){return e.stylesheets&&e.count===0&&Fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Fc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&lm===0&&(lm=62500*NA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>lm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hc=null;function Fc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hc=new Map,i.forEach(JA,e),Hc=null,qc.call(e))}function JA(e,i){if(!(i.state.loading&4)){var a=Hc.get(e);if(a)var l=a.get(null);else{a=new Map,Hc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ml={$$typeof:et,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function ZA(e,i,a,l,h,d,_,S,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Rv(e,i,a,l,h,d,_,S,I,j,Y,tt){return e=new ZA(e,i,a,_,I,j,Y,tt,S),i=1,d===!0&&(i|=24),d=kn(3,null,null,i),e.current=d,d.stateNode=e,i=Bf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),e}function Cv(e){return e?(e=za,e):za}function Iv(e,i,a,l,h,d){h=Cv(h),l.context===null?l.context=h:l.pendingContext=h,l=ts(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=es(e,l,i),a!==null&&(Dn(a,e,i),hl(a,e,i))}function Dv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function um(e,i){Dv(e,i),(e=e.alternate)&&Dv(e,i)}function Nv(e){if(e.tag===13||e.tag===31){var i=ta(e,67108864);i!==null&&Dn(i,e,67108864),um(e,67108864)}}function xv(e){if(e.tag===13||e.tag===31){var i=jn();i=Bo(i);var a=ta(e,i);a!==null&&Dn(a,e,i),um(e,i)}}var Gc=!0;function WA(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=2,cm(e,i,a,l)}finally{ot.p=d,K.T=h}}function tb(e,i,a,l){var h=K.T;K.T=null;var d=ot.p;try{ot.p=8,cm(e,i,a,l)}finally{ot.p=d,K.T=h}}function cm(e,i,a,l){if(Gc){var h=hm(l);if(h===null)Xd(e,i,l,Qc,a),Mv(e,l);else if(nb(h,e,i,a,l))l.stopPropagation();else if(Mv(e,l),i&4&&-1<eb.indexOf(e)){for(;h!==null;){var d=Yi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var I=1<<31-pn(_);S.entanglements[1]|=I,_&=~I}Mi(d),(ee&6)===0&&(Ic=It()+500,Cl(0))}}break;case 31:case 13:S=ta(d,2),S!==null&&Dn(S,d,2),Nc(),um(d,2)}if(d=hm(l),d===null&&Xd(e,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(e,i,l,null,a)}}function hm(e){return e=xa(e),fm(e)}var Qc=null;function fm(e){if(Qc=null,e=Ki(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Qc=e,null}function Ov(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case Pt:return 2;case Ut:return 8;case $t:case Gt:return 32;case ne:return 268435456;default:return 32}default:return 32}}var dm=!1,fs=null,ds=null,ms=null,Vl=new Map,kl=new Map,ps=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(e,i){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Ll(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Yi(i),i!==null&&Nv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function nb(e,i,a,l,h){switch(i){case"focusin":return fs=Ll(fs,e,i,a,l,h),!0;case"dragenter":return ds=Ll(ds,e,i,a,l,h),!0;case"mouseover":return ms=Ll(ms,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ll(kl.get(d)||null,e,i,a,l,h)),!0}return!1}function Vv(e){var i=Ki(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Iu(e.priority,function(){xv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Iu(e.priority,function(){xv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=hm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Na=l,a.target.dispatchEvent(l),Na=null}else return i=Yi(a),i!==null&&Nv(i),e.blockedOn=a,!1;i.shift()}return!0}function kv(e,i,a){Kc(e)&&a.delete(i)}function ib(){dm=!1,fs!==null&&Kc(fs)&&(fs=null),ds!==null&&Kc(ds)&&(ds=null),ms!==null&&Kc(ms)&&(ms=null),Vl.forEach(kv),kl.forEach(kv)}function Yc(e,i){e.blockedOn===i&&(e.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ib)))}var $c=null;function Lv(e){$c!==e&&($c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===e&&($c=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=Yi(a);d!==null&&(e.splice(i,3),i-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function uo(e){function i(I){return Yc(I,e)}fs!==null&&Yc(fs,e),ds!==null&&Yc(ds,e),ms!==null&&Yc(ms,e),Vl.forEach(i),kl.forEach(i);for(var a=0;a<ps.length;a++){var l=ps[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&ps.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[We]||null;if(typeof d=="function")_||Lv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[We]||null)S=_.formAction;else if(fm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Lv(a)}}}function Pv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function mm(e){this._internalRoot=e}Xc.prototype.render=mm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=jn();Iv(a,l,e,i,null,null)},Xc.prototype.unmount=mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Iv(e.current,2,null,e,null,null),Nc(),i[bi]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Gi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ps.length&&i!==0&&i<ps[a].priority;a++);ps.splice(a,0,e),a===0&&Vv(e)}};var Uv=t.version;if(Uv!=="19.2.3")throw Error(s(527,Uv,"19.2.3"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var rb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{$n=Jc.inject(rb),De=Jc}catch{}}return Ul.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Gy,d=Qy,_=Ky;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Rv(e,1,!1,null,null,a,l,null,h,d,_,Pv),e[bi]=i.current,$d(e),new mm(i)},Ul.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Gy,_=Qy,S=Ky,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=Rv(e,1,!0,i,a??null,l,h,I,d,_,S,Pv),i.context=Cv(null),a=i.current,l=jn(),l=Bo(l),h=ts(l),h.callback=null,es(a,h,l),a=l,i.current.lanes=a,Or(i,a),Mi(i),e[bi]=i.current,$d(e),new Xc(i)},Ul.version="19.2.3",Ul}var Yv;function gb(){if(Yv)return ym.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ym.exports=pb(),ym.exports}var yb=gb();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $v="popstate";function _b(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ta(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),jm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Wl(u))}function s(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Eb(t,n,s,r)}function Ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vb(){return Math.random().toString(36).substring(2,10)}function Xv(r,t){return{usr:r.state,key:r.key,idx:t}}function jm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:n,key:t&&t.key||s||vb()}}function Wl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ta(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Eb(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let H=E(),rt=H==null?null:H-y;y=H,p&&p({action:m,location:Q.location,delta:rt})}function b(H,rt){m="PUSH";let st=jm(Q.location,H,rt);n&&n(st,H),y=E()+1;let et=Xv(st,y),gt=Q.createHref(st);try{f.pushState(et,"",gt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(gt)}u&&p&&p({action:m,location:Q.location,delta:1})}function k(H,rt){m="REPLACE";let st=jm(Q.location,H,rt);n&&n(st,H),y=E();let et=Xv(st,y),gt=Q.createHref(st);f.replaceState(et,"",gt),u&&p&&p({action:m,location:Q.location,delta:0})}function q(H){return Tb(H)}let Q={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($v,T),p=H,()=>{o.removeEventListener($v,T),p=null}},createHref(H){return t(o,H)},createURL:q,encodeLocation(H){let rt=q(H);return{pathname:rt.pathname,search:rt.search,hash:rt.hash}},push:b,replace:k,go(H){return f.go(H)}};return Q}function Tb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ME(r,t,n="/"){return Sb(r,t,n,!1)}function Sb(r,t,n,s){let o=typeof t=="string"?Ta(t):t,u=Tr(o.pathname||"/",n);if(u==null)return null;let f=VE(r);Ab(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Vb(u);m=Ob(f[p],y,s)}return m}function VE(r,t=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Ee(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=vr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(Ee(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VE(f.children,t,b,T,p)),!(f.path==null&&!f.index)&&t.push({path:T,score:Nb(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let y of kE(f.path))u(f,m,!0,y)}),t}function kE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ab(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:xb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bb=/^:[\w-]+$/,wb=3,Rb=2,Cb=1,Ib=10,Db=-2,Jv=r=>r==="*";function Nb(r,t){let n=r.split("/"),s=n.length;return n.some(Jv)&&(s+=Db),t&&(s+=Rb),n.filter(o=>!Jv(o)).reduce((o,u)=>o+(bb.test(u)?wb:u===""?Cb:Ib),s)}function xb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Ob(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:vr([u,T.pathname]),pathnameBase:Ub(vr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=vr([u,T.pathnameBase]))}return f}function Eh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Mb(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},b)=>{if(E==="*"){let q=m[b]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const k=m[b];return T&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Mb(r,t=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Vb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Tr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kb=r=>LE.test(r);function Lb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ta(r):r,u;if(n)if(kb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Zv(n.substring(1),"/"):u=Zv(n,t)}else u=t;return{pathname:u,search:zb(s),hash:jb(o)}}function Zv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function PE(r){let t=Pb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function UE(r,t,n,s=!1){let o;typeof r=="string"?o=Ta(r):(o={...r},Ee(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),Ee(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),Ee(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?t[T]:"/"}let p=Lb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var vr=r=>r.join("/").replace(/\/\/+/g,"/"),Ub=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Bb=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Hb(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jE(r,t){let n=r;if(typeof n!="string"||!LE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(zE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Tr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BE=["POST","PUT","PATCH","DELETE"];new Set(BE);var Fb=["GET",...BE];new Set(Fb);var Io=U.createContext(null);Io.displayName="DataRouter";var Gh=U.createContext(null);Gh.displayName="DataRouterState";var Gb=U.createContext(!1),qE=U.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var Qb=U.createContext(new Map);Qb.displayName="Fetchers";var Kb=U.createContext(null);Kb.displayName="Await";var ui=U.createContext(null);ui.displayName="Navigation";var ou=U.createContext(null);ou.displayName="Location";var Cr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var yp=U.createContext(null);yp.displayName="RouteError";var HE="REACT_ROUTER_ERROR",Yb="REDIRECT",$b="ROUTE_ERROR_RESPONSE";function Xb(r){if(r.startsWith(`${HE}:${Yb}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Jb(r){if(r.startsWith(`${HE}:${$b}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Bb(t.status,t.statusText,t.data)}catch{}}function Zb(r,{relative:t}={}){Ee(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(ui),{hash:o,pathname:u,search:f}=uu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:vr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function lu(){return U.useContext(ou)!=null}function Us(){return Ee(lu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ou).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(r){U.useContext(ui).static||U.useLayoutEffect(r)}function _p(){let{isDataRoute:r}=U.useContext(Cr);return r?hw():Wb()}function Wb(){Ee(lu(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Io),{basename:t,navigator:n}=U.useContext(ui),{matches:s}=U.useContext(Cr),{pathname:o}=Us(),u=JSON.stringify(PE(s)),f=U.useRef(!1);return GE(()=>{f.current=!0}),U.useCallback((p,y={})=>{if(Qn(f.current,FE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=UE(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:vr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}U.createContext(null);function uu(r,{relative:t}={}){let{matches:n}=U.useContext(Cr),{pathname:s}=Us(),o=JSON.stringify(PE(n));return U.useMemo(()=>UE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function tw(r,t){return QE(r,t)}function QE(r,t,n,s,o){var st;Ee(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(ui),{matches:f}=U.useContext(Cr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let et=T&&T.path||"";YE(y,!T||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let b=Us(),k;if(t){let et=typeof t=="string"?Ta(t):t;Ee(E==="/"||((st=et.pathname)==null?void 0:st.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),k=et}else k=b;let q=k.pathname||"/",Q=q;if(E!=="/"){let et=E.replace(/^\//,"").split("/");Q="/"+q.replace(/^\//,"").split("/").slice(et.length).join("/")}let H=ME(r,{pathname:Q});Qn(T||H!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Qn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let rt=sw(H&&H.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:vr([E,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:vr([E,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),f,n,s,o);return t&&rt?U.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},rt):rt}function ew(){let r=cw(),t=qb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:o},n):null,f)}var nw=U.createElement(ew,null),KE=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Jb(r.digest);n&&(r=n)}let t=r!==void 0?U.createElement(Cr.Provider,{value:this.props.routeContext},U.createElement(yp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?U.createElement(iw,{error:r},t):t}};KE.contextType=Gb;var Sm=new WeakMap;function iw({children:r,error:t}){let{basename:n}=U.useContext(ui);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Xb(t.digest);if(s){let o=Sm.get(t);if(o)throw o;let u=jE(s.location,n);if(zE&&!Sm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Sm.set(t,f),f}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function rw({routeContext:r,match:t,children:n}){let s=U.useContext(Io);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(Cr.Provider,{value:r},n)}function sw(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);Ee(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:k}=n,q=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{var b,k;s(E,{location:n.location,params:((k=(b=n.matches)==null?void 0:b[0])==null?void 0:k.params)??{},unstable_pattern:Hb(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let k,q=!1,Q=null,H=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,Q=T.route.errorElement||nw,m&&(p<0&&b===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,H=null):p===b&&(q=!0,H=T.route.hydrateFallbackElement||null)));let rt=t.concat(u.slice(0,b+1)),st=()=>{let et;return k?et=Q:q?et=H:T.route.Component?et=U.createElement(T.route.Component,null):T.route.element?et=T.route.element:et=E,U.createElement(rw,{match:T,routeContext:{outlet:E,matches:rt,isDataRoute:n!=null},children:et})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?U.createElement(KE,{location:n.location,revalidation:n.revalidation,component:Q,error:k,children:st(),routeContext:{outlet:null,matches:rt,isDataRoute:!0},onError:y}):st()},null)}function vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aw(r){let t=U.useContext(Io);return Ee(t,vp(r)),t}function ow(r){let t=U.useContext(Gh);return Ee(t,vp(r)),t}function lw(r){let t=U.useContext(Cr);return Ee(t,vp(r)),t}function Ep(r){let t=lw(r),n=t.matches[t.matches.length-1];return Ee(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function uw(){return Ep("useRouteId")}function cw(){var s;let r=U.useContext(yp),t=ow("useRouteError"),n=Ep("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function hw(){let{router:r}=aw("useNavigate"),t=Ep("useNavigate"),n=U.useRef(!1);return GE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Qn(n.current,FE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Wv={};function YE(r,t,n){!t&&!Wv[r]&&(Wv[r]=!0,Qn(!1,n))}U.memo(fw);function fw({routes:r,future:t,state:n,onError:s}){return QE(r,void 0,n,s,t)}function Bm(r){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Ee(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Ta(n));let{pathname:y="/",search:E="",hash:T="",state:b=null,key:k="default"}=n,q=U.useMemo(()=>{let Q=Tr(y,m);return Q==null?null:{location:{pathname:Q,search:E,hash:T,state:b,key:k},navigationType:s}},[m,y,E,T,b,k,s]);return Qn(q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:U.createElement(ui.Provider,{value:p},U.createElement(ou.Provider,{children:t,value:q}))}function mw({children:r,location:t}){return tw(qm(r),t)}function qm(r,t=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...t,o];if(s.type===U.Fragment){n.push.apply(n,qm(s.props.children,u));return}Ee(s.type===Bm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=qm(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function pw(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function gw(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function yw(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function _w(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vw(r,t){return r.button===0&&(!t||t==="_self")&&!_w(r)}function Hm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,n)=>{let s=r[n];return t.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function Ew(r,t){let n=Hm(r);return t&&t.forEach((s,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Zc=null;function Tw(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var Sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!Sw.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function Aw(r,t){let n,s,o,u,f;if(gw(r)){let m=r.getAttribute("action");s=m?Tr(m,t):null,n=r.getAttribute("method")||lh,o=Am(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(pw(r)||yw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Tr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!Tw()){let{name:y,type:E,value:T}=r;if(E==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,T)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function bw(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&Tr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function ww(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Cw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await ww(u,n);return f.links?f.links():[]}return[]}));return xw(s.flat(1).filter(Rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function t0(r,t,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Iw(r,t,{includeHydrateFallback:n}={}){return Dw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Dw(r){return[...new Set(r)]}function Nw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function xw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Nw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $E(){let r=U.useContext(Io);return Tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ow(){let r=U.useContext(Gh);return Tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sp=U.createContext(void 0);Sp.displayName="FrameworkContext";function XE(){let r=U.useContext(Sp);return Tp(r,"You must render this element inside a <HydratedRouter> element"),r}function Mw(r,t){let n=U.useContext(Sp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=rt=>{rt.forEach(st=>{f(st.isIntersecting)})},H=new IntersectionObserver(Q,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:zl(m,k),onBlur:zl(p,q),onMouseEnter:zl(y,k),onMouseLeave:zl(E,q),onTouchStart:zl(T,k)}]:[!1,b,{}]}function zl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Vw({page:r,...t}){let{router:n}=$E(),s=U.useMemo(()=>ME(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(Lw,{page:r,matches:s,...t}):null}function kw(r){let{manifest:t,routeModules:n}=XE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return Cw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Lw({page:r,matches:t,...n}){let s=Us(),{future:o,manifest:u,routeModules:f}=XE(),{basename:m}=$E(),{loaderData:p,matches:y}=Ow(),E=U.useMemo(()=>t0(r,t,y,u,s,"data"),[r,t,y,u,s]),T=U.useMemo(()=>t0(r,t,y,u,s,"assets"),[r,t,y,u,s]),b=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,H=!1;if(t.forEach(st=>{var gt;let et=u.routes[st.route.id];!et||!et.hasLoader||(!E.some(wt=>wt.route.id===st.route.id)&&st.route.id in p&&((gt=f[st.route.id])!=null&&gt.shouldRevalidate)||et.hasClientLoader?H=!0:Q.add(st.route.id))}),Q.size===0)return[];let rt=bw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&Q.size>0&&rt.searchParams.set("_routes",t.filter(st=>Q.has(st.route.id)).map(st=>st.route.id).join(",")),[rt.pathname+rt.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,f]),k=U.useMemo(()=>Iw(T,u),[T,u]),q=kw(T);return U.createElement(U.Fragment,null,b.map(Q=>U.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),k.map(Q=>U.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),q.map(({key:Q,link:H})=>U.createElement("link",{key:Q,nonce:n.nonce,...H})))}function Pw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uw&&(window.__reactRouterVersion="7.12.0")}catch{}function zw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=_b({window:s,v5Compat:!0}));let u=o.current,[f,m]=U.useState({action:u.action,location:u.location}),p=U.useCallback(y=>{n===!1?m(y):U.startTransition(()=>m(y))},[n]);return U.useLayoutEffect(()=>u.listen(p),[u,p]),U.createElement(dw,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZE=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...k},q){let{basename:Q,unstable_useTransitions:H}=U.useContext(ui),rt=typeof y=="string"&&JE.test(y),st=jE(y,Q);y=st.to;let et=Zb(y,{relative:o}),[gt,wt,At]=Mw(s,k),N=Hw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:H});function w(D){t&&t(D),D.defaultPrevented||N(D)}let R=U.createElement("a",{...k,...At,href:st.absoluteURL||et,onClick:st.isExternal||u?t:w,ref:Pw(q,wt),target:p,"data-discover":!rt&&n==="render"?"true":void 0});return gt&&!rt?U.createElement(U.Fragment,null,R,U.createElement(Vw,{page:et})):R});ZE.displayName="Link";var jw=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=uu(f,{relative:y.relative}),b=Us(),k=U.useContext(Gh),{navigator:q,basename:Q}=U.useContext(ui),H=k!=null&&$w(T)&&m===!0,rt=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,st=b.pathname,et=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(st=st.toLowerCase(),et=et?et.toLowerCase():null,rt=rt.toLowerCase()),et&&Q&&(et=Tr(et,Q)||et);const gt=rt!=="/"&&rt.endsWith("/")?rt.length-1:rt.length;let wt=st===rt||!o&&st.startsWith(rt)&&st.charAt(gt)==="/",At=et!=null&&(et===rt||!o&&et.startsWith(rt)&&et.charAt(rt.length)==="/"),N={isActive:wt,isPending:At,isTransitioning:H},w=wt?t:void 0,R;typeof s=="function"?R=s(N):R=[s,wt?"active":null,At?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(N):u;return U.createElement(ZE,{...y,"aria-current":w,className:R,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(N):p)});jw.displayName="NavLink";var Bw=U.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b,...k},q)=>{let{unstable_useTransitions:Q}=U.useContext(ui),H=Kw(),rt=Yw(m,{relative:y}),st=f.toLowerCase()==="get"?"get":"post",et=typeof m=="string"&&JE.test(m),gt=wt=>{if(p&&p(wt),wt.defaultPrevented)return;wt.preventDefault();let At=wt.nativeEvent.submitter,N=(At==null?void 0:At.getAttribute("formmethod"))||f,w=()=>H(At||wt.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:b});Q&&n!==!1?U.startTransition(()=>w()):w()};return U.createElement("form",{ref:q,method:st,action:rt,onSubmit:s?p:gt,...k,"data-discover":!et&&r==="render"?"true":void 0})});Bw.displayName="Form";function qw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WE(r){let t=U.useContext(Io);return Ee(t,qw(r)),t}function Hw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=_p(),E=Us(),T=uu(r,{relative:u});return U.useCallback(b=>{if(vw(b,t)){b.preventDefault();let k=n!==void 0?n:Wl(E)===Wl(T),q=()=>y(r,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?U.startTransition(()=>q()):q()}},[E,y,T,n,s,t,r,o,u,f,m,p])}function Fw(r){Qn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=U.useRef(Hm(r)),n=U.useRef(!1),s=Us(),o=U.useMemo(()=>Ew(s.search,n.current?null:t.current),[s.search]),u=_p(),f=U.useCallback((m,p)=>{const y=Hm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+y,p)},[u,o]);return[o,f]}var Gw=0,Qw=()=>`__${String(++Gw)}__`;function Kw(){let{router:r}=WE("useSubmit"),{basename:t}=U.useContext(ui),n=uw(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=Aw(u,t);if(f.navigate===!1){let b=f.fetcherKey||Qw();await s(b,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function Yw(r,{relative:t}={}){let{basename:n}=U.useContext(ui),s=U.useContext(Cr);Ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:t})},f=Us();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vr([n,u.pathname])),Wl(u)}function $w(r,{relative:t}={}){let n=U.useContext(qE);Ee(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WE("useViewTransitionState"),o=uu(r,{relative:t});if(!n.isTransitioning)return!1;let u=Tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tT=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=U.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>U.createElement("svg",{ref:p,...Jw,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:tT("lucide",o),...m},[...f.map(([y,E])=>U.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(r,t)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(Zw,{ref:u,iconNode:t,className:tT(`lucide-${Xw(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=mn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=mn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=mn("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=mn("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=mn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=mn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=mn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=mn("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=mn("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=mn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=mn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=mn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=mn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=mn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=mn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=mn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),uR=()=>{};var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},cR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(b=64)),s.push(n[E],n[T],n[b],n[k])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(iT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new hR;const b=u<<2|m>>4;if(s.push(b),y!==64){const k=m<<4&240|y>>2;if(s.push(k),T!==64){const q=y<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fR=function(r){const t=iT(r);return rT.encodeByteArray(t,!0)},Sh=function(r){return fR(r).replace(/\./g,"")},sT=function(r){try{return rT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>dR().__FIREBASE_DEFAULTS__,pR=()=>{if(typeof process>"u"||typeof n0>"u")return;const r=n0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&sT(r[1]);return t&&JSON.parse(t)},Kh=()=>{try{return uR()||mR()||pR()||gR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>{var t,n;return(n=(t=Kh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},yR=r=>{const t=aT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},oT=()=>{var r;return(r=Kh())===null||r===void 0?void 0:r.config},lT=r=>{var t;return(t=Kh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const Ql={};function ER(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ql))Ql[t]?r.emulator.push(t):r.prod.push(t);return r}function TR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let i0=!1;function cT(r,t){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||Ql[r]===t||Ql[r]||i0)return;Ql[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=ER().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function y(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{i0=!0,f()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=TR(s),k=n("text"),q=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),H=document.getElementById(Q)||document.createElement("a"),rt=n("preprendIcon"),st=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const et=b.element;m(et),E(H,Q);const gt=y();p(st,rt),et.append(st,q,H,gt),document.body.appendChild(et)}u?(q.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function AR(){var r;const t=(r=Kh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function RR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function IR(){return!AR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DR(){try{return typeof indexedDB=="object"}catch{return!1}}function NR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";class Ir extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=xR,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?OR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ir(o,m,s)}}function OR(r,t){return r.replace(MR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const MR=/\{\$([^}]+)}/g;function VR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ns(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(r0(u)&&r0(f)){if(!Ns(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function r0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function kR(r,t){const n=new LR(r,t);return n.subscribe.bind(n)}class LR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r){return r&&r._delegate?r._delegate:r}class ya{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new _R;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jR(t))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=da){return this.instances.has(t)}getOptions(t=da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=da){return this.component?this.component.multipleInstances?t:da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zR(r){return r===da?void 0:r}function jR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const qR={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},HR=Ht.INFO,FR={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},GR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=FR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ap{constructor(t){this.name=t,this._logLevel=HR,this._logHandler=GR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const QR=(r,t)=>t.some(n=>r instanceof n);let s0,a0;function KR(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YR(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,Fm=new WeakMap,fT=new WeakMap,wm=new WeakMap,bp=new WeakMap;function $R(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(As(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&hT.set(n,r)}).catch(()=>{}),bp.set(t,r),t}function XR(r){if(Fm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,t)}let Gm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Fm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||fT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function JR(r){Gm=r(Gm)}function ZR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Rm(this),t,...n);return fT.set(s,t.sort?t.sort():[t]),As(s)}:YR().includes(r)?function(...t){return r.apply(Rm(this),t),As(hT.get(this))}:function(...t){return As(r.apply(Rm(this),t))}}function WR(r){return typeof r=="function"?ZR(r):(r instanceof IDBTransaction&&XR(r),QR(r,KR())?new Proxy(r,Gm):r)}function As(r){if(r instanceof IDBRequest)return $R(r);if(wm.has(r))return wm.get(r);const t=WR(r);return t!==r&&(wm.set(r,t),bp.set(t,r)),t}const Rm=r=>bp.get(r);function t2(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=As(f);return s&&f.addEventListener("upgradeneeded",p=>{s(As(f.result),p.oldVersion,p.newVersion,As(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const e2=["get","getKey","getAll","getAllKeys","count"],n2=["put","add","delete","clear"],Cm=new Map;function o0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=n2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||e2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Cm.set(t,u),u}JR(r=>({...r,get:(t,n,s)=>o0(t,n)||r.get(t,n,s),has:(t,n)=>!!o0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function r2(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qm="@firebase/app",l0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Ap("@firebase/app"),s2="@firebase/app-compat",a2="@firebase/analytics-compat",o2="@firebase/analytics",l2="@firebase/app-check-compat",u2="@firebase/app-check",c2="@firebase/auth",h2="@firebase/auth-compat",f2="@firebase/database",d2="@firebase/data-connect",m2="@firebase/database-compat",p2="@firebase/functions",g2="@firebase/functions-compat",y2="@firebase/installations",_2="@firebase/installations-compat",v2="@firebase/messaging",E2="@firebase/messaging-compat",T2="@firebase/performance",S2="@firebase/performance-compat",A2="@firebase/remote-config",b2="@firebase/remote-config-compat",w2="@firebase/storage",R2="@firebase/storage-compat",C2="@firebase/firestore",I2="@firebase/ai",D2="@firebase/firestore-compat",N2="firebase",x2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",O2={[Qm]:"fire-core",[s2]:"fire-core-compat",[o2]:"fire-analytics",[a2]:"fire-analytics-compat",[u2]:"fire-app-check",[l2]:"fire-app-check-compat",[c2]:"fire-auth",[h2]:"fire-auth-compat",[f2]:"fire-rtdb",[d2]:"fire-data-connect",[m2]:"fire-rtdb-compat",[p2]:"fire-fn",[g2]:"fire-fn-compat",[y2]:"fire-iid",[_2]:"fire-iid-compat",[v2]:"fire-fcm",[E2]:"fire-fcm-compat",[T2]:"fire-perf",[S2]:"fire-perf-compat",[A2]:"fire-rc",[b2]:"fire-rc-compat",[w2]:"fire-gcs",[R2]:"fire-gcs-compat",[C2]:"fire-fst",[D2]:"fire-fst-compat",[I2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,M2=new Map,Ym=new Map;function u0(r,t){try{r.container.addComponent(t)}catch(n){Sr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Eo(r){const t=r.name;if(Ym.has(t))return Sr.debug(`There were multiple attempts to register component ${t}.`),!1;Ym.set(t,r);for(const n of Ah.values())u0(n,r);for(const n of M2.values())u0(n,r);return!0}function wp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function li(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new cu("app","Firebase",V2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=x2;function dT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Km,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=oT()),!n)throw bs.create("no-options");const u=Ah.get(o);if(u){if(Ns(n,u.options)&&Ns(s,u.config))return u;throw bs.create("duplicate-app",{appName:o})}const f=new BR(o);for(const p of Ym.values())f.addComponent(p);const m=new k2(n,s,f);return Ah.set(o,m),m}function mT(r=Km){const t=Ah.get(r);if(!t&&r===Km&&oT())return dT();if(!t)throw bs.create("no-app",{appName:r});return t}function ws(r,t,n){var s;let o=(s=O2[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sr.warn(m.join(" "));return}Eo(new ya(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebase-heartbeat-database",P2=1,tu="firebase-heartbeat-store";let Im=null;function pT(){return Im||(Im=t2(L2,P2,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw bs.create("idb-open",{originalErrorMessage:r.message})})),Im}async function U2(r){try{const n=(await pT()).transaction(tu),s=await n.objectStore(tu).get(gT(r));return await n.done,s}catch(t){if(t instanceof Ir)Sr.warn(t.message);else{const n=bs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Sr.warn(n.message)}}}async function c0(r,t){try{const s=(await pT()).transaction(tu,"readwrite");await s.objectStore(tu).put(t,gT(r)),await s.done}catch(n){if(n instanceof Ir)Sr.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(s.message)}}}function gT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=1024,j2=30;class B2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>j2){const f=F2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Sr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h0(),{heartbeatsToSend:s,unsentEntries:o}=q2(this._heartbeatsCache.heartbeats),u=Sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Sr.warn(n),""}}}function h0(){return new Date().toISOString().substring(0,10)}function q2(r,t=z2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),f0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),f0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class H2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DR()?NR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function f0(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function F2(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r){Eo(new ya("platform-logger",t=>new i2(t),"PRIVATE")),Eo(new ya("heartbeat",t=>new B2(t),"PRIVATE")),ws(Qm,l0,r),ws(Qm,l0,"esm2017"),ws("fire-js","")}G2("");function Rp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q2=yT,_T=new cu("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Ap("@firebase/auth");function K2(r,...t){bh.logLevel<=Ht.WARN&&bh.warn(`Auth (${No}): ${r}`,...t)}function ch(r,...t){bh.logLevel<=Ht.ERROR&&bh.error(`Auth (${No}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(r,...t){throw Ip(r,...t)}function _i(r,...t){return Ip(r,...t)}function Cp(r,t,n){const s=Object.assign(Object.assign({},Q2()),{[t]:n});return new cu("auth","Firebase",s).create(t,{appName:r.name})}function Rs(r){return Cp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vT(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ji(r,"argument-error"),Cp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ip(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return _T.create(r,...t)}function bt(r,t,...n){if(!r)throw Ip(t,...n)}function gr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ch(t),new Error(t)}function Ar(r,t){r||gr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Y2(){return d0()==="http:"||d0()==="https:"}function d0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||wR()||"connection"in navigator)?navigator.onLine:!0}function X2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ar(n>t,"Short delay should be less than long delay!"),this.isMobile=SR()||RR()}get(){return $2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r,t){Ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W2=new fu(3e4,6e4);function Np(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function xo(r,t,n,s,o={}){return TT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return bR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Do(r.emulatorConfig.host)&&(y.credentials="include"),ET.fetch()(await ST(r,r.config.apiHost,n,m),y)})}async function TT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},J2),t);try{const o=new eC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw eh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Cp(r,E,y);ji(r,E)}}catch(o){if(o instanceof Ir)throw o;ji(r,"network-request-failed",{message:String(o)})}}async function tC(r,t,n,s,o={}){const u=await xo(r,t,n,s,o);return"mfaPendingCredential"in u&&ji(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ST(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Dp(r.config,o):`${r.config.apiScheme}://${o}`;return Z2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),W2.get())})}}function eh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=_i(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,t){return xo(r,"POST","/v1/accounts:delete",t)}async function wh(r,t){return xo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iC(r,t=!1){const n=Ce(r),s=await n.getIdToken(t),o=xp(s);bt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(Dm(o.auth_time)),issuedAtTime:Kl(Dm(o.iat)),expirationTime:Kl(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(r){return Number(r)*1e3}function xp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function m0(r){const t=xp(r);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ir&&rC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function rC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await eu(r,wh(n,{idToken:s}));bt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?AT(u.providerUserInfo):[],m=oC(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Xm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function aC(r){const t=Ce(r);await Rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function AT(r){return r.map(t=>{var{providerId:n}=t,s=Rp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,t){const n=await TT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await ST(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Do(r.emulatorConfig.host)&&(p.credentials="include"),ET.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uC(r,t){return xo(r,"POST","/v2/accounts:revokeToken",Np(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):m0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const n=m0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await lC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new go;return s&&(bt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(bt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(bt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r,t){bt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class yi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Rp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Xm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await eu(this,this.stsTokenManager.getToken(this.auth,t));return bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return iC(this,t)}reload(){return aC(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Rs(this.auth));const t=await this.getIdToken();return await eu(this,nC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,y,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,q=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,rt=(y=n.createdAt)!==null&&y!==void 0?y:void 0,st=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:et,emailVerified:gt,isAnonymous:wt,providerData:At,stsTokenManager:N}=n;bt(et&&N,t,"internal-error");const w=go.fromJSON(this.name,N);bt(typeof et=="string",t,"internal-error"),ys(T,t.name),ys(b,t.name),bt(typeof gt=="boolean",t,"internal-error"),bt(typeof wt=="boolean",t,"internal-error"),ys(k,t.name),ys(q,t.name),ys(Q,t.name),ys(H,t.name),ys(rt,t.name),ys(st,t.name);const R=new yi({uid:et,auth:t,email:b,emailVerified:gt,displayName:T,isAnonymous:wt,photoURL:q,phoneNumber:k,tenantId:Q,stsTokenManager:w,createdAt:rt,lastLoginAt:st});return At&&Array.isArray(At)&&(R.providerData=At.map(D=>Object.assign({},D))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new yi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];bt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?AT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new go;m.updateFromIdToken(s);const p=new yi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function yr(r){Ar(r instanceof Function,"Expected a class definition");let t=p0.get(r);return t?(Ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,p0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}bT.type="NONE";const g0=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,t,n){return`firebase:${r}:${t}:${n}`}class yo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await wh(this.auth,{idToken:t}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,t):null}return yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new yo(yr(g0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||yr(g0);const f=hh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const b=await wh(t,{idToken:E}).catch(()=>{});if(!b)break;T=await yi._fromGetAccountInfoResponse(t,b,E)}else T=yi._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new yo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(NT(t))return"Blackberry";if(xT(t))return"Webos";if(RT(t))return"Safari";if((t.includes("chrome/")||CT(t))&&!t.includes("edge/"))return"Chrome";if(DT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function wT(r=dn()){return/firefox\//i.test(r)}function RT(r=dn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CT(r=dn()){return/crios\//i.test(r)}function IT(r=dn()){return/iemobile/i.test(r)}function DT(r=dn()){return/android/i.test(r)}function NT(r=dn()){return/blackberry/i.test(r)}function xT(r=dn()){return/webos/i.test(r)}function Op(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cC(r=dn()){var t;return Op(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hC(){return CR()&&document.documentMode===10}function OT(r=dn()){return Op(r)||DT(r)||xT(r)||NT(r)||/windows phone/i.test(r)||IT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r,t=[]){let n;switch(r){case"Browser":n=y0(dn());break;case"Worker":n=`${y0(dn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(r,t={}){return xo(r,"GET","/v2/passwordPolicy",Np(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=6;class pC{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:mC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new fC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await yo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wh(this,{idToken:t}),s=await yi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(li(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=X2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(Rs(this));const n=t?Ce(t):null;return n&&bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await dC(this),n=new pC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uC(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&yr(t)||this._popupRedirectResolver;bt(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&K2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function du(r){return Ce(r)}class _0{constructor(t){this.auth=t,this.observer=null,this.addObserver=kR(n=>this.observer=n)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yC(r){Mp=r}function _C(r){return Mp.loadJS(r)}function vC(){return Mp.gapiScript}function EC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r,t){const n=wp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ns(u,t??{}))return o;ji(o,"already-initialized")}return n.initialize({options:t})}function SC(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(yr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function AC(r,t,n){const s=du(r);bt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=VT(t),{host:f,port:m}=bC(t),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){bt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),bt(Ns(y,s.config.emulator)&&Ns(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Do(f)?(uT(`${u}//${f}${p}`),cT("Auth",!0)):wC()}function VT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function bC(r){const t=VT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:v0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:v0(f)}}}function v0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function wC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(t){return gr("not implemented")}_linkToIdToken(t,n){return gr("not implemented")}_getReauthenticationResolver(t){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,t){return tC(r,"POST","/v1/accounts:signInWithIdp",Np(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="http://localhost";class _a extends kT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Rp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new _a(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return _o(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,_o(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_o(t,n)}buildRequest(){const t={requestUri:RC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Yh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends mu{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _s.credential(t.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _a._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return pr.credentialFromTaggedObject(t)}static credentialFromError(t){return pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return pr.credential(n,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends mu{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends mu{constructor(){super("twitter.com")}static credential(t,n){return _a._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await yi._fromIdTokenResponse(t,s,o),f=E0(s);return new To({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=E0(s);return new To({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function E0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Ir{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ch(t,n,s,o)}}function LT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,t,s):u})}async function CC(r,t,n=!1){const s=await eu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return To._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,t,n=!1){const{auth:s}=r;if(li(s.app))return Promise.reject(Rs(s));const o="reauthenticate";try{const u=await eu(r,LT(s,o,t,r),n);bt(u.idToken,s,"internal-error");const f=xp(u.idToken);bt(f,s,"internal-error");const{sub:m}=f;return bt(r.uid===m,s,"user-mismatch"),To._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ji(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(r,t,n=!1){if(li(r.app))return Promise.reject(Rs(r));const s="signIn",o=await LT(r,s,t),u=await To._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r,t){return Ce(r).setPersistence(t)}function NC(r,t,n,s){return Ce(r).onIdTokenChanged(t,n,s)}function xC(r,t,n){return Ce(r).beforeAuthStateChanged(t,n)}function UT(r,t,n,s){return Ce(r).onAuthStateChanged(t,n,s)}function OC(r){return Ce(r).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,VC=10;class jT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);hC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,VC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}jT.type="LOCAL";const Vp=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}BT.type="SESSION";const qT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new $h(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await kC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=kp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function PC(r){Li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function UC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function jC(){return HT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firebaseLocalStorageDb",BC=1,Dh="firebaseLocalStorage",GT="fbase_key";class pu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,t){return r.transaction([Dh],t?"readwrite":"readonly").objectStore(Dh)}function qC(){const r=indexedDB.deleteDatabase(FT);return new pu(r).toPromise()}function Jm(){const r=indexedDB.open(FT,BC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:GT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?t(s):(s.close(),await qC(),t(await Jm()))})})}async function T0(r,t,n){const s=Xh(r,!0).put({[GT]:t,value:n});return new pu(s).toPromise()}async function HC(r,t){const n=Xh(r,!1).get(t),s=await new pu(n).toPromise();return s===void 0?null:s.value}function S0(r,t){const n=Xh(r,!0).delete(t);return new pu(n).toPromise()}const FC=800,GC=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>GC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(jC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await UC(),!this.activeServiceWorker)return;this.sender=new LC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||zC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jm();return await T0(t,Ih,"1"),await S0(t,Ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>T0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>HC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new pu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const QC=QT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r,t){return t?yr(t):(bt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends kT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _o(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _o(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _o(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function KC(r){return DC(r.auth,new Pp(r),r.bypassAuthState)}function YC(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),IC(n,new Pp(r),r.bypassAuthState)}async function $C(r){const{auth:t,user:n}=r;return bt(n,t,"internal-error"),CC(n,new Pp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:ji(this.auth,"internal-error")}}resolve(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new fu(2e3,1e4);async function JC(r,t,n){if(li(r.app))return Promise.reject(_i(r,"operation-not-supported-in-this-environment"));const s=du(r);vT(r,t,Yh);const o=Lp(s,n);return new ma(s,"signInViaPopup",t,o).executeNotNull()}class ma extends KT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const t=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XC.get())};t()}}ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="pendingRedirect",fh=new Map;class WC extends KT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const s=await tI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tI(r,t){const n=$T(t),s=YT(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}async function eI(r,t){return YT(r)._set($T(t),"true")}function nI(r,t){fh.set(r._key(),t)}function YT(r){return yr(r._redirectPersistence)}function $T(r){return hh(ZC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r,t,n){return iI(r,t,n)}async function iI(r,t,n){if(li(r.app))return Promise.reject(Rs(r));const s=du(r);vT(r,t,Yh),await s._initializationPromise;const o=Lp(s,n);return await eI(o,s),o._openRedirect(s,t,"signInViaRedirect")}async function rI(r,t,n=!1){if(li(r.app))return Promise.reject(Rs(r));const s=du(r),o=Lp(s,t),f=await new WC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=600*1e3;class aI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!XT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function XT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function oI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,t={}){return xo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cI=/^https?/;async function hI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await lI(r);for(const n of t)try{if(fI(n))return}catch{}ji(r,"unauthorized-domain")}function fI(r){const t=$m(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cI.test(n))return!1;if(uI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new fu(3e4,6e4);function w0(){const r=Li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mI(r){return new Promise((t,n)=>{var s,o,u;function f(){w0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(_i(r,"network-request-failed"))},timeout:dI.get()})}if(!((o=(s=Li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Li().gapi)===null||u===void 0)&&u.load)f();else{const m=EC("iframefcb");return Li()[m]=()=>{gapi.load?f():n(_i(r,"network-request-failed"))},_C(`${vC()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw dh=null,t})}let dh=null;function pI(r){return dh=dh||mI(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new fu(5e3,15e3),yI="__/auth/iframe",_I="emulator/auth/iframe",vI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TI(r){const t=r.config;bt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Dp(t,_I):`https://${r.config.authDomain}/${yI}`,s={apiKey:t.apiKey,appName:r.name,v:No},o=EI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function SI(r){const t=await pI(r),n=Li().gapi;return bt(n,r,"internal-error"),t.open({where:document.body,url:TI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=_i(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},gI.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bI=500,wI=600,RI="_blank",CI="http://localhost";class R0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function II(r,t,n,s=bI,o=wI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},AI),{width:s.toString(),height:o.toString(),top:u,left:f}),y=dn().toLowerCase();n&&(m=CT(y)?RI:n),wT(y)&&(t=t||CI,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[k,q])=>`${b}${k}=${q},`,"");if(cC(y)&&m!=="_self")return DI(t||"",m),new R0(null);const T=window.open(t||"",m,E);bt(T,r,"popup-blocked");try{T.focus()}catch{}return new R0(T)}function DI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="__/auth/handler",xI="emulator/auth/handler",OI=encodeURIComponent("fac");async function C0(r,t,n,s,o,u){bt(r.config.authDomain,r,"auth-domain-config-required"),bt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:No,eventId:o};if(t instanceof Yh){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",VR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(t instanceof mu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${OI}=${encodeURIComponent(p)}`:"";return`${MI(r)}?${hu(m).slice(1)}${y}`}function MI({config:r}){return r.emulator?Dp(r,xI):`https://${r.authDomain}/${NI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class VI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=rI,this._overrideRedirectResult=nI}async _openPopup(t,n,s,o){var u;Ar((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await C0(t,n,s,$m(),o);return II(t,f,kp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await C0(t,n,s,$m(),o);return PC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await SI(t),s=new aI(t);return n.register("authEvent",o=>(bt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nm,{type:Nm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];f!==void 0&&n(!!f),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return OT()||RT()||Op()}}const kI=VI;var I0="@firebase/auth",D0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UI(r){Eo(new ya("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;bt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(r)},y=new gC(s,o,u,p);return SC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Eo(new ya("auth-internal",t=>{const n=du(t.getProvider("auth").getImmediate());return(s=>new LI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(I0,D0,PI(r)),ws(I0,D0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=300,jI=lT("authIdTokenMaxAge")||zI;let N0=null;const BI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jI)return;const o=n==null?void 0:n.token;N0!==o&&(N0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qI(r=mT()){const t=wp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=TC(r,{popupRedirectResolver:kI,persistence:[QC,Vp,qT]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BI(u.toString());xC(n,f,()=>f(n.currentUser)),NC(n,m=>f(m))}}const o=aT("auth");return o&&AC(n,`http://${o}`),n}function HI(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}yC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=_i("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",HI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UI("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,JT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function R(){}R.prototype=w.prototype,N.D=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(D,M,V){for(var C=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)C[fe-2]=arguments[fe];return w.prototype[M].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);var D=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)D[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)D[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],M=N.g[2];var V=N.g[3],C=w+(V^R&(M^V))+D[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=V+(M^w&(R^M))+D[1]+3905402710&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(R^V&(w^R))+D[2]+606105819&4294967295,M=V+(C<<17&4294967295|C>>>15),C=R+(w^M&(V^w))+D[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(V^R&(M^V))+D[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(M^w&(R^M))+D[5]+1200080426&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(R^V&(w^R))+D[6]+2821735955&4294967295,M=V+(C<<17&4294967295|C>>>15),C=R+(w^M&(V^w))+D[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(V^R&(M^V))+D[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(M^w&(R^M))+D[9]+2336552879&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(R^V&(w^R))+D[10]+4294925233&4294967295,M=V+(C<<17&4294967295|C>>>15),C=R+(w^M&(V^w))+D[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(V^R&(M^V))+D[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(M^w&(R^M))+D[13]+4254626195&4294967295,V=w+(C<<12&4294967295|C>>>20),C=M+(R^V&(w^R))+D[14]+2792965006&4294967295,M=V+(C<<17&4294967295|C>>>15),C=R+(w^M&(V^w))+D[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(M^V&(R^M))+D[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^M&(w^R))+D[6]+3225465664&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(V^w))+D[11]+643717713&4294967295,M=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(M^V))+D[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^V&(R^M))+D[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^M&(w^R))+D[10]+38016083&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(V^w))+D[15]+3634488961&4294967295,M=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(M^V))+D[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^V&(R^M))+D[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^M&(w^R))+D[14]+3275163606&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(V^w))+D[3]+4107603335&4294967295,M=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(M^V))+D[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^V&(R^M))+D[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^M&(w^R))+D[2]+4243563512&4294967295,V=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(V^w))+D[7]+1735328473&4294967295,M=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(M^V))+D[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(R^M^V)+D[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^M)+D[8]+2272392833&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^R)+D[11]+1839030562&4294967295,M=V+(C<<16&4294967295|C>>>16),C=R+(M^V^w)+D[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^V)+D[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^M)+D[4]+1272893353&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^R)+D[7]+4139469664&4294967295,M=V+(C<<16&4294967295|C>>>16),C=R+(M^V^w)+D[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^V)+D[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^M)+D[0]+3936430074&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^R)+D[3]+3572445317&4294967295,M=V+(C<<16&4294967295|C>>>16),C=R+(M^V^w)+D[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^V)+D[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^M)+D[12]+3873151461&4294967295,V=w+(C<<11&4294967295|C>>>21),C=M+(V^w^R)+D[15]+530742520&4294967295,M=V+(C<<16&4294967295|C>>>16),C=R+(M^V^w)+D[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(M^(R|~V))+D[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~M))+D[7]+1126891415&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~R))+D[14]+2878612391&4294967295,M=V+(C<<15&4294967295|C>>>17),C=R+(V^(M|~w))+D[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~V))+D[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~M))+D[3]+2399980690&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~R))+D[10]+4293915773&4294967295,M=V+(C<<15&4294967295|C>>>17),C=R+(V^(M|~w))+D[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~V))+D[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~M))+D[15]+4264355552&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~R))+D[6]+2734768916&4294967295,M=V+(C<<15&4294967295|C>>>17),C=R+(V^(M|~w))+D[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~V))+D[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~M))+D[11]+3174756917&4294967295,V=w+(C<<10&4294967295|C>>>22),C=M+(w^(V|~R))+D[2]+718787259&4294967295,M=V+(C<<15&4294967295|C>>>17),C=R+(V^(M|~w))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var R=w-this.blockSize,D=this.B,M=this.h,V=0;V<w;){if(M==0)for(;V<=R;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<w;)if(D[M++]=N.charCodeAt(V++),M==this.blockSize){o(this,D),M=0;break}}else for(;V<w;)if(D[M++]=N[V++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var R=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=R&255,R/=256;for(this.u(N),N=Array(16),w=R=0;4>w;++w)for(var D=0;32>D;D+=8)N[R++]=this.g[w]>>>D&255;return N};function u(N,w){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function f(N,w){this.h=w;for(var R=[],D=!0,M=N.length-1;0<=M;M--){var V=N[M]|0;D&&V==w||(R[M]=V,D=!1)}this.g=R}var m={};function p(N){return-128<=N&&128>N?u(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return H(y(-N));for(var w=[],R=1,D=0;N>=R;D++)w[D]=N/R|0,R*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return H(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),D=T,M=0;M<N.length;M+=8){var V=Math.min(8,N.length-M),C=parseInt(N.substring(M,M+V),w);8>V?(V=y(Math.pow(w,V)),D=D.j(V).add(y(C))):(D=D.j(R),D=D.add(y(C)))}return D}var T=p(0),b=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-H(this).m();for(var N=0,w=1,R=0;R<this.g.length;R++){var D=this.i(R);N+=(0<=D?D:4294967296+D)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(Q(this))return"-"+H(this).toString(N);for(var w=y(Math.pow(N,6)),R=this,D="";;){var M=gt(R,w).g;R=rt(R,M.j(w));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=M,q(R))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Q(N){return N.h==-1}r.l=function(N){return N=rt(this,N),Q(N)?-1:q(N)?0:1};function H(N){for(var w=N.g.length,R=[],D=0;D<w;D++)R[D]=~N.g[D];return new f(R,~N.h).add(b)}r.abs=function(){return Q(this)?H(this):this},r.add=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],D=0,M=0;M<=w;M++){var V=D+(this.i(M)&65535)+(N.i(M)&65535),C=(V>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);D=C>>>16,V&=65535,C&=65535,R[M]=C<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function rt(N,w){return N.add(H(w))}r.j=function(N){if(q(this)||q(N))return T;if(Q(this))return Q(N)?H(this).j(H(N)):H(H(this).j(N));if(Q(N))return H(this.j(H(N)));if(0>this.l(k)&&0>N.l(k))return y(this.m()*N.m());for(var w=this.g.length+N.g.length,R=[],D=0;D<2*w;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<N.g.length;M++){var V=this.i(D)>>>16,C=this.i(D)&65535,fe=N.i(M)>>>16,ve=N.i(M)&65535;R[2*D+2*M]+=C*ve,st(R,2*D+2*M),R[2*D+2*M+1]+=V*ve,st(R,2*D+2*M+1),R[2*D+2*M+1]+=C*fe,st(R,2*D+2*M+1),R[2*D+2*M+2]+=V*fe,st(R,2*D+2*M+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new f(R,0)};function st(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function et(N,w){this.g=N,this.h=w}function gt(N,w){if(q(w))throw Error("division by zero");if(q(N))return new et(T,T);if(Q(N))return w=gt(H(N),w),new et(H(w.g),H(w.h));if(Q(w))return w=gt(N,H(w)),new et(H(w.g),w.h);if(30<N.g.length){if(Q(N)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,D=w;0>=D.l(N);)R=wt(R),D=wt(D);var M=At(R,1),V=At(D,1);for(D=At(D,2),R=At(R,2);!q(D);){var C=V.add(D);0>=C.l(N)&&(M=M.add(R),V=C),D=At(D,1),R=At(R,1)}return w=rt(N,M.j(w)),new et(M,w)}for(M=T;0<=N.l(w);){for(R=Math.max(1,Math.floor(N.m()/w.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=y(R),C=V.j(w);Q(C)||0<C.l(N);)R-=D,V=y(R),C=V.j(w);q(V)&&(V=b),M=M.add(V),N=rt(N,C)}return new et(M,N)}r.A=function(N){return gt(this,N).h},r.and=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)&N.i(D);return new f(R,this.h&N.h)},r.or=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)|N.i(D);return new f(R,this.h|N.h)},r.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)^N.i(D);return new f(R,this.h^N.h)};function wt(N){for(var w=N.g.length+1,R=[],D=0;D<w;D++)R[D]=N.i(D)<<1|N.i(D-1)>>>31;return new f(R,N.h)}function At(N,w){var R=w>>5;w%=32;for(var D=N.g.length-R,M=[],V=0;V<D;V++)M[V]=0<w?N.i(V+R)>>>w|N.i(V+R+1)<<32-w:N.i(V+R);return new f(M,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,JT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Cs=f}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZT,ql,WT,mh,Zm,t1,e1,n1;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,P={next:function(){if(!A&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function T(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),c.apply(g,P)}}return function(){return c.apply(g,arguments)}}function b(c,g,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,b.apply(null,arguments)}function k(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function q(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,P,G){for(var at=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)at[ie-2]=arguments[ie];return g.prototype[P].apply(A,at)}}function Q(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function H(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const P=c.length||0,G=A.length||0;c.length=P+G;for(let at=0;at<G;at++)c[P+at]=A[at]}else c.push(A)}}class rt{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function st(c){return/^[\s\xa0]*$/.test(c)}function et(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function gt(c){return gt[" "](c),c}gt[" "]=function(){};var wt=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function At(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function N(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function M(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function V(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Kt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class fe{constructor(){this.h=this.g=null}add(g,v){const A=ve.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ve=new rt(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,pt=!1,Kt=new fe,Yt=()=>{const c=m.Promise.resolve(void 0);ot=()=>{c.then(O)}};var O=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){V(v)}var g=ve;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pt=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var ht=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function Tt(c,g){if(it.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(wt){t:{try{gt(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Tt.aa.h.call(this)}}q(Tt,it);var xt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function de(c,g,v,A,P){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=P,this.key=++qe,this.da=this.fa=!1}function Kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sn(c){this.src=c,this.g={},this.h=0}Sn.prototype.add=function(c,g,v,A,P){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var at=Dr(c,g,A,P);return-1<at?(g=c[at],v||(g.fa=!1)):(g=new de(g,this.src,G,!!A,P),g.fa=v,c.push(g)),g};function qi(c,g){var v=g.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,g,void 0),G;(G=0<=P)&&Array.prototype.splice.call(A,P,1),G&&(Kn(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Dr(c,g,v,A){for(var P=0;P<c.length;++P){var G=c[P];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==A)return P}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Hi={};function Ei(c,g,v,A,P){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Ei(c,g[G],v,A,P);return null}return v=Ie(v),c&&c[kt]?c.K(g,v,y(A)?!!A.capture:!1,P):ci(c,g,v,!1,A,P)}function ci(c,g,v,A,P,G){if(!g)throw Error("Invalid event type");var at=y(P)?!!P.capture:!!P,ie=re(c);if(ie||(c[xn]=ie=new Sn(c)),v=ie.add(g,v,A,at,G),v.proxy)return v;if(A=W(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ht||(P=at),P===void 0&&(P=!1),c.addEventListener(g.toString(),A,P);else if(c.attachEvent)c.attachEvent(Ct(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function W(){function c(v){return g.call(c.src,c.listener,v)}const g=Lt;return c}function ut(c,g,v,A,P){if(Array.isArray(g))for(var G=0;G<g.length;G++)ut(c,g[G],v,A,P);else A=y(A)?!!A.capture:!!A,v=Ie(v),c&&c[kt]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=Dr(G,v,A,P),-1<v&&(Kn(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=re(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Dr(g,v,A,P)),(v=-1<c?g[c]:null)&&dt(v))}function dt(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[kt])qi(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Ct(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=re(g))?(qi(v,c),v.h==0&&(v.src=null,g[xn]=null)):Kn(c)}}}function Ct(c){return c in Hi?Hi[c]:Hi[c]="on"+c}function Lt(c,g){if(c.da)c=!0;else{g=new Tt(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&dt(c),c=v.call(A,g)}return c}function re(c){return c=c[xn],c instanceof Sn?c:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(c){return typeof c=="function"?c:(c[It]||(c[It]=function(g){return c.handleEvent(g)}),c[It])}function Pt(){$.call(this),this.i=new Sn(this),this.M=this,this.F=null}q(Pt,$),Pt.prototype[kt]=!0,Pt.prototype.removeEventListener=function(c,g,v,A){ut(this,c,g,v,A)};function Ut(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new it(g,c);else if(g instanceof it)g.target=g.target||c;else{var P=g;g=new it(A,c),D(g,P)}if(P=!0,v)for(var G=v.length-1;0<=G;G--){var at=g.g=v[G];P=$t(at,A,!0,g)&&P}if(at=g.g=c,P=$t(at,A,!0,g)&&P,P=$t(at,A,!1,g)&&P,v)for(G=0;G<v.length;G++)at=g.g=v[G],P=$t(at,A,!1,g)&&P}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)Kn(v[A]);delete c.g[g],c.h--}}this.F=null},Pt.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},Pt.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function $t(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,G=0;G<g.length;++G){var at=g[G];if(at&&!at.da&&at.capture==v){var ie=at.listener,Ve=at.ha||at.src;at.fa&&qi(c.i,at),P=ie.call(Ve,A)!==!1&&P}}return P&&!A.defaultPrevented}function Gt(c,g,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ne(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,ne(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ti extends ${constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ne(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(c){$.call(this),this.h=c,this.g={}}q(Yn,$);var $n=[];function De(c){At(c.g,function(g,v){this.g.hasOwnProperty(v)&&dt(g)},c),c.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),De(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=m.JSON.stringify,pn=m.JSON.parse,pf=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Uo(){}Uo.prototype.h=null;function Cu(c){return c.h||(c.h=c.i())}function Bs(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nr(){it.call(this,"d")}q(Nr,it);function hi(){it.call(this,"c")}q(hi,it);var Jn={},xr=null;function wa(){return xr=xr||new Pt}Jn.La="serverreachability";function zo(c){it.call(this,Jn.La,c)}q(zo,it);function Fi(c){const g=wa();Ut(g,new zo(g))}Jn.STAT_EVENT="statevent";function Or(c,g){it.call(this,Jn.STAT_EVENT,c),this.stat=g}q(Or,it);function Ze(c){const g=wa();Ut(g,new Or(g,c))}Jn.Ma="timingevent";function jo(c,g){it.call(this,Jn.Ma,c),this.size=g}q(jo,it);function Mr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Vr(){this.g=!0}Vr.prototype.xa=function(){this.g=!1};function Bo(c,g,v,A,P,G){c.info(function(){if(c.g)if(G)for(var at="",ie=G.split("&"),Ve=0;Ve<ie.length;Ve++){var Mt=ie[Ve].split("=");if(1<Mt.length){var Ke=Mt[0];Mt=Mt[1];var Ye=Ke.split("_");at=2<=Ye.length&&Ye[1]=="type"?at+(Ke+"="+Mt+"&"):at+(Ke+"=redacted&")}}else at=null;else at=G;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+v+`
`+at})}function qo(c,g,v,A,P,G,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+v+`
`+G+" "+at})}function Gi(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ai(c,v)+(A?" "+A:"")})}function Iu(c,g){c.info(function(){return"TIMEOUT: "+g})}Vr.prototype.info=function(){};function Ai(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var G=P[0];if(G!="noop"&&G!="stop"&&G!="close")for(var at=1;at<P.length;at++)P[at]=""}}}}return Xn(v)}catch{return g}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function kr(){}q(kr,Uo),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},bi=new kr;function wi(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var Ho={},Qi={};function qs(c,g,v){c.L=1,c.v=Gs(Ae(g)),c.m=v,c.P=!0,Ki(c,null)}function Ki(c,g){c.F=Date.now(),fi(c),c.A=Ae(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Xi(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Du,c.g=Gu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Ti(b(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var P="readystatechange";Array.isArray(P)||(P&&($n[0]=P.toString()),P=$n);for(var G=0;G<P.length;G++){var at=Ei(v,P[G],A||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Fi(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}wi.prototype.ca=function(c){c=c.target;const g=this.M;g&&_n(c)==3?g.j():this.Y(c)},wi.prototype.Y=function(c){try{if(c==this.g)t:{const Ye=_n(this.g);var g=this.g.Ba();const Yr=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Ys(this.g)))){this.J||Ye!=4||g==7||(g==8||0>=Yr?Fi(3):Fi(2)),Ra(this);var v=this.g.Z();this.X=v;e:if(Yi(this)){var A=Ys(this.g);c="";var P=A.length,G=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Lr(this);var at="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(G&&g==P-1)});A.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=v==200,qo(this.i,this.u,this.A,this.l,this.R,Ye,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,Ve=this.g;if((ie=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(ie)){var Mt=ie;break e}}Mt=null}if(v=Mt)Gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ri(this,v);else{this.o=!1,this.s=3,Ze(12),gn(this),Lr(this);break t}}if(this.P){v=!0;let bn;for(;!this.J&&this.C<at.length;)if(bn=Hs(this,at),bn==Qi){Ye==4&&(this.s=4,Ze(14),v=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Ho){this.s=4,Ze(15),Gi(this.i,this.l,at,"[Invalid Chunk]"),v=!1;break}else Gi(this.i,this.l,bn,null),Ri(this,bn);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||at.length!=0||this.h.h||(this.s=1,Ze(16),v=!1),this.o=this.o&&v,!v)Gi(this.i,this.l,at,"[Invalid Chunked Response]"),gn(this),Lr(this);else if(0<at.length&&!this.W){this.W=!0;var Ke=this.j;Ke.g==this&&Ke.ba&&!Ke.M&&(Ke.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),tl(Ke),Ke.M=!0,Ze(11))}}else Gi(this.i,this.l,at,null),Ri(this,at);Ye==4&&gn(this),this.o&&!this.J&&(Ye==4?qu(this.j,this):(this.o=!1,fi(this)))}else Lu(this.g),v==400&&0<at.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),gn(this),Lr(this)}}}catch{}finally{}};function Yi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hs(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Qi:(v=Number(g.substring(v,A)),isNaN(v)?Ho:(A+=1,A+v>g.length?Qi:(g=g.slice(A,A+v),c.C=A+v,g)))}wi.prototype.cancel=function(){this.J=!0,gn(this)};function fi(c){c.S=Date.now()+c.I,Ne(c,c.I)}function Ne(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mr(b(c.ba,c),g)}function Ra(c){c.B&&(m.clearTimeout(c.B),c.B=null)}wi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Iu(this.i,this.A),this.L!=2&&(Fi(),Ze(17)),gn(this),this.s=2,Lr(this)):Ne(this,this.S-c)};function Lr(c){c.j.G==0||c.J||qu(c.j,c)}function gn(c){Ra(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,De(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ri(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Pr(v.h,c))){if(!c.K&&Pr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Qr(v),Gr(v);else break t;Wo(v),Ze(18)}}else v.za=P[1],0<v.za-v.T&&37500>P[2]&&v.F&&v.v==0&&!v.C&&(v.C=Mr(b(v.Za,v),6e3));if(1>=Nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Zi(v,11)}else if((c.K||v.g==c)&&Qr(v),!st(g))for(P=v.Da.g.parse(g),g=0;g<P.length;g++){let Mt=P[g];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ke=Mt[3];Ke!=null&&(v.la=Ke,v.j.info("VER="+v.la));const Ye=Mt[4];Ye!=null&&(v.Aa=Ye,v.j.info("SVER="+v.Aa));const Yr=Mt[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(A=1.5*Yr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const bn=c.g;if(bn){const Js=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var G=A.h;G.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ur(G,G.h),G.h=null))}if(A.D){const Wi=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wi&&(A.ya=Wi,Zt(A.I,A.D,Wi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var at=c;if(A.qa=Fu(A,A.J?A.ia:null,A.W),at.K){Zn(A.h,at);var ie=at,Ve=A.L;Ve&&(ie.I=Ve),ie.B&&(Ra(ie),fi(ie)),A.g=at}else ju(A);0<v.i.length&&Va(v)}else Mt[0]!="stop"&&Mt[0]!="close"||Zi(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Zi(v,7):Jo(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Fi(4)}catch{}}var gf=class{constructor(c,g){this.g=c,this.map=g}};function Fo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nu(c){return c.h?1:c.g?c.g.size:0}function Pr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ur(c,g){c.g?c.g.add(g):c.h=g}function Zn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Fo.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function yn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Q(c.i)}function xu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function yf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function Ca(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=yf(c),A=xu(c),P=A.length,G=0;G<P;G++)g.call(void 0,A[G],v&&v[G],c)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),P=null;if(0<=A){var G=c[v].substring(0,A);P=c[v].substring(A+1)}else G=c[v];g(G,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function $i(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $i){this.h=c.h,zr(this,c.j),this.o=c.o,this.g=c.g,Fs(this,c.s),this.l=c.l;var g=c.i,v=new Ci;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Da(this,v),this.m=c.m}else c&&(g=String(c).match(Qo))?(this.h=!1,zr(this,g[1]||"",!0),this.o=jr(g[2]||""),this.g=jr(g[3]||"",!0),Fs(this,g[4]),this.l=jr(g[5]||"",!0),Da(this,g[6]||"",!0),this.m=jr(g[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}$i.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Wn(g,Ko,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Wn(g,Ko,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Wn(v,v.charAt(0)=="/"?Yo:Ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Wn(v,Ef)),c.join("")};function Ae(c){return new $i(c)}function zr(c,g,v){c.j=v?jr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Fs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Da(c,g,v){g instanceof Ci?(c.i=g,Mu(c.i,c.h)):(v||(g=Wn(g,vf)),c.i=new Ci(g,c.h))}function Zt(c,g,v){c.i.set(g,v)}function Gs(c){return Zt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Wn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,_f),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _f(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Ou=/[#\?:]/g,Yo=/[#\?]/g,vf=/[#\?@]/g,Ef=/#/g;function Ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Qe(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Ci.prototype,r.add=function(c,g){Qe(this),this.i=null,c=On(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Na(c,g){Qe(c),g=On(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function xa(c,g){return Qe(c),g=On(c,g),c.g.has(g)}r.forEach=function(c,g){Qe(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(g,P,A,this)},this)},this)},r.na=function(){Qe(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const P=c[A];for(let G=0;G<P.length;G++)v.push(g[A])}return v},r.V=function(c){Qe(this);let g=[];if(typeof c=="string")xa(this,c)&&(g=g.concat(this.g.get(On(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Qe(this),this.i=null,c=On(this,c),xa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Xi(c,g,v){Na(c,g),0<v.length&&(c.i=null,c.g.set(On(c,g),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const G=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var P=G;at[A]!==""&&(P+="="+encodeURIComponent(String(at[A]))),c.push(P)}}return this.i=c.join("&")};function On(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Mu(c,g){g&&!c.j&&(Qe(c),c.i=null,c.g.forEach(function(v,A){var P=A.toLowerCase();A!=P&&(Na(this,A),Xi(this,P,v))},c)),c.j=g}function $o(c,g){const v=new Vr;if(m.Image){const A=new Image;A.onload=k(An,v,"TestLoadImage: loaded",!0,g,A),A.onerror=k(An,v,"TestLoadImage: error",!1,g,A),A.onabort=k(An,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=k(An,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Vu(c,g){const v=new Vr,A=new AbortController,P=setTimeout(()=>{A.abort(),An(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(P),G.ok?An(v,"TestPingServer: ok",!0,g):An(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),An(v,"TestPingServer: error",!1,g)})}function An(c,g,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function di(){this.g=new pf}function Xo(c,g,v){const A=v||"";try{Ca(c,function(P,G){let at=P;y(P)&&(at=Xn(P)),g.push(A+G+"="+encodeURIComponent(at))})}catch(P){throw g.push(A+"type="+encodeURIComponent("_badmap")),P}}function Ii(c){this.l=c.Ub||null,this.j=c.eb||!1}q(Ii,Uo),Ii.prototype.g=function(){return new Mn(this.l,this.j)},Ii.prototype.i=(function(c){return function(){return c}})({});function Mn(c,g){Pt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Mn,Pt),r=Mn.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Br(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Di(this):Br(this),this.readyState==3&&Oa(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Di(this))},r.Qa=function(c){this.g&&(this.response=c,Di(this))},r.ga=function(){this.g&&Di(this)};function Di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Br(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Br(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qs(c){let g="";return At(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function qr(c,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Qs(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Zt(c,g,v))}function me(c){Pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(me,Pt);var un=/^https?$/i,Ji=["POST","PUT"];r=me.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Cu(this.o):Cu(bi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ks(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),P=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ji,g,void 0))||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,at]of v)this.g.setRequestHeader(G,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Ks(this,G)}};function Ks(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Hr(c),Fr(c)}function Hr(c){c.A||(c.A=!0,Ut(c,"complete"),Ut(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ut(this,"complete"),Ut(this,"abort"),Fr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fr(this,!0)),me.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ku(this):this.bb())},r.bb=function(){ku(this)};function ku(c){if(c.h&&typeof f<"u"&&(!c.v[1]||_n(c)!=4||c.Z()!=2)){if(c.u&&_n(c)==4)Gt(c.Ea,0,c);else if(Ut(c,"readystatechange"),_n(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=at===0){var P=String(c.D).match(Qo)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!un.test(P?P.toLowerCase():"")}v=A}if(v)Ut(c,"complete"),Ut(c,"success");else{c.m=6;try{var G=2<_n(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Hr(c)}}finally{Fr(c)}}}}function Fr(c,g){if(c.g){Ma(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ut(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ma(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function _n(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),pn(g)}};function Ys(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lu(c){const g={};c=(c.g&&2<=_n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(st(c[A]))continue;var v=M(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[P]||[];g[P]=G,G.push(v)}N(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Pu(c){this.Aa=0,this.i=[],this.j=new Vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,c),this.cb=$s("retryDelaySeedMs",1e4,c),this.Wa=$s("forwardChannelMaxRetries",2,c),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Da=new di,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pu.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,A){Ze(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Fu(this,null,this.W),Va(this)};function Jo(c){if(Uu(c),c.G==3){var g=c.U++,v=Ae(c.I);if(Zt(v,"SID",c.K),Zt(v,"RID",g),Zt(v,"TYPE","terminate"),Xs(c,v),g=new wi(c,c.j,g),g.L=2,g.v=Gs(Ae(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Gu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),fi(g)}el(c)}function Gr(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function Uu(c){Gr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Qr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Va(c){if(!Go(c.h)&&!c.s){c.s=!0;var g=c.Ga;ot||Yt(),pt||(ot(),pt=!0),Kt.add(g,c),c.B=0}}function Tf(c,g){return Nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mr(b(c.Ga,c,g),Hu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new wi(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(P.H=G,G=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Zo(this,P,g),v=Ae(this.I),Zt(v,"RID",c),Zt(v,"CVER",22),this.D&&Zt(v,"X-HTTP-Session-Id",this.D),Xs(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Qs(G)))+"&"+g:this.m&&qr(v,this.m,G)),Ur(this.h,P),this.Ua&&Zt(v,"TYPE","init"),this.P?(Zt(v,"$req",g),Zt(v,"SID","null"),P.T=!0,qs(P,v,null)):qs(P,v,g),this.G=2}}else this.G==3&&(c?zu(this,c):this.i.length==0||Go(this.h)||zu(this))};function zu(c,g){var v;g?v=g.l:v=c.U++;const A=Ae(c.I);Zt(A,"SID",c.K),Zt(A,"RID",v),Zt(A,"AID",c.T),Xs(c,A),c.m&&c.o&&qr(A,c.m,c.o),v=new wi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Zo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ur(c.h,v),qs(v,A,g)}function Xs(c,g){c.H&&At(c.H,function(v,A){Zt(g,A,v)}),c.l&&Ca({},function(v,A){Zt(g,A,v)})}function Zo(c,g,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;t:{var P=c.i;let G=-1;for(;;){const at=["count="+v];G==-1?0<v?(G=P[0].g,at.push("ofs="+G)):G=0:at.push("ofs="+G);let ie=!0;for(let Ve=0;Ve<v;Ve++){let Mt=P[Ve].g;const Ke=P[Ve].map;if(Mt-=G,0>Mt)G=Math.max(0,P[Ve].g-100),ie=!1;else try{Xo(Ke,at,"req"+Mt+"_")}catch{A&&A(Ke)}}if(ie){A=at.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,A}function ju(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ot||Yt(),pt||(ot(),pt=!0),Kt.add(g,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mr(b(c.Fa,c),Hu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mr(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Gr(this),Bu(this))};function tl(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new wi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Ae(c.qa);Zt(g,"RID","rpc"),Zt(g,"SID",c.K),Zt(g,"AID",c.T),Zt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Zt(g,"TO",c.ja),Zt(g,"TYPE","xmlhttp"),Xs(c,g),c.m&&c.o&&qr(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Gs(Ae(g)),v.m=null,v.P=!0,Ki(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Gr(this),Wo(this),Ze(19))};function Qr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,g){var v=null;if(c.g==g){Qr(c),tl(c),c.g=null;var A=2}else if(Pr(c.h,g))v=g.D,Zn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var P=c.B;A=wa(),Ut(A,new jo(A,v)),Va(c)}else ju(c);else if(P=g.s,P==3||P==0&&0<g.X||!(A==1&&Tf(c,g)||A==2&&Wo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),P){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function Hu(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Zi(c,g){if(c.j.info("Error code "+g),g==2){var v=b(c.fb,c),A=c.Xa;const P=!A;A=new $i(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||zr(A,"https"),Gs(A),P?$o(A.toString(),v):Vu(A.toString(),v)}else Ze(2);c.G=0,c.l&&c.l.sa(g),el(c),Uu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function el(c){if(c.G=0,c.ka=[],c.l){const g=yn(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ka,g),H(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Fu(c,g,v){var A=v instanceof $i?Ae(v):new $i(v);if(A.g!="")g&&(A.g=g+"."+A.g),Fs(A,A.s);else{var P=m.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var G=new $i(null);A&&zr(G,A),g&&(G.g=g),P&&Fs(G,P),v&&(G.l=v),A=G}return v=c.D,g=c.ya,v&&g&&Zt(A,v,g),Zt(A,"VER",c.la),Xs(c,A),A}function Gu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new me(new Ii({eb:v})):new me(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ka(){}ka.prototype.g=function(c,g){return new vn(c,g)};function vn(c,g){Pt.call(this),this.g=new Pu(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!st(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!st(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Kr(this)}q(vn,Pt),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Jo(this.g)},vn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Xn(c),c=v);g.i.push(new gf(g.Ya++,c)),g.G==3&&Va(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,vn.aa.N.call(this)};function Ku(c){Nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}q(Ku,Nr);function Yu(){hi.call(this),this.status=1}q(Yu,hi);function Kr(c){this.g=c}q(Kr,Qu),Kr.prototype.ua=function(){Ut(this.g,"a")},Kr.prototype.ta=function(c){Ut(this.g,new Ku(c))},Kr.prototype.sa=function(c){Ut(this.g,new Yu)},Kr.prototype.ra=function(){Ut(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,n1=function(){return new ka},e1=function(){return wa()},t1=Jn,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,mh=Se,We.COMPLETE="complete",WT=We,Bs.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,ql=Bs,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,ZT=me}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Ap("@firebase/firestore");function co(){return va.logLevel}function ct(r,...t){if(va.logLevel<=Ht.DEBUG){const n=t.map(Up);va.debug(`Firestore (${Oo}): ${r}`,...n)}}function br(r,...t){if(va.logLevel<=Ht.ERROR){const n=t.map(Up);va.error(`Firestore (${Oo}): ${r}`,...n)}}function xs(r,...t){if(va.logLevel<=Ht.WARN){const n=t.map(Up);va.warn(`Firestore (${Oo}): ${r}`,...n)}}function Up(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,i1(r,s,n)}function i1(r,t,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw br(s),new Error(s)}function Jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||i1(t,o,s)}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ir{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QI{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Er,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Er)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt(typeof s.accessToken=="string",31837,{l:s}),new r1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Jt(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class KI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $I{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Wm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Vt(s,o);{const u=s1(),f=JI(u.encode(k0(r,n)),u.encode(k0(t,n)));return f!==0?f:Vt(s,o)}}n+=s>65535?2:1}return Vt(r.length,t.length)}function k0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function JI(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Vt(r[n],t[n]);return Vt(r.length,t.length)}function So(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class ki{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=ki.isNumericId(t),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(t).compare(ki.extractNumericId(n)):Wm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cs.fromString(t.substring(4,t.length-2))}}class ce extends ki{construct(t,n,s){return new ce(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ce(n)}static emptyPath(){return new ce([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ki{construct(t,n,s){return new on(t,n,s)}static isValidIdentifier(t){return ZI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new on([L0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ce.fromString(t))}static fromName(t){return new yt(ce.fromString(t).popFirst(5))}static empty(){return new yt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ce.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r,t,n){if(!n)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function WI(r,t,n,s){if(t===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function P0(r){if(!yt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U0(r){if(yt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function o1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Fn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(r,t){const n={typeString:r};return t&&(n.value=t),n}function gu(r,t){if(!o1(r))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new lt(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-62135596800,j0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*j0);return new ye(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<z0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j0}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gu(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Be("string",ye._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ye(0,0))}static max(){return new St(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function tD(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new ye(n+1,0):new ye(n,s));return new Os(o,yt.empty(),t)}function eD(r){return new Os(r.readTime,r.key,nu)}class Os{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Os(St.min(),yt.empty(),nu)}static max(){return new Os(St.max(),yt.empty(),nu)}}function nD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==iD)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function sD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Zh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=-1;function yu(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function aD(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="";function oD(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=B0(t)),t=lD(r.get(n),t);return B0(t)}function lD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case l1:n+="";break;default:n+=u}}return n}function B0(r){return r+l1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function zs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function u1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,n){this.comparator=t,this.root=n||an.EMPTY}insert(t,n){return new Te(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ih(this.root,t,this.comparator,!0)}}class ih{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new an(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new an(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(t){return new H0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class H0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new Hn([])}unionWith(t){let n=new Ge(on.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Hn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return So(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new c1("Invalid base64 string: "+u):u}})(t);return new ln(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new ln(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const uD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(r){if(Jt(!!r,39018),typeof r=="string"){let t=0;const n=uD.exec(r);if(Jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Me(r.seconds),nanos:Me(r.nanos)}}function Me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vs(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="server_timestamp",f1="__type__",d1="__previous_value__",m1="__local_write_time__";function Bp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[f1])===null||n===void 0?void 0:n.stringValue)===h1}function Wh(r){const t=r.mapValue.fields[d1];return Bp(t)?Wh(t):t}function iu(r){const t=Ms(r.mapValue.fields[m1].timestampValue);return new ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n,s,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const xh="(default)";class ru{constructor(t,n){this.projectId=t,this.database=n||xh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===xh}isEqual(t){return t instanceof ru&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__type__",hD="__max__",rh={mapValue:{}},g1="__vector__",Oh="value";function ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bp(r)?4:dD(r)?9007199254740991:fD(r)?10:11:vt(28295,{value:r})}function Bi(r,t){if(r===t)return!0;const n=ks(r);if(n!==ks(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return iu(r).isEqual(iu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ms(o.timestampValue),m=Ms(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Vs(o.bytesValue).isEqual(Vs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Me(o.geoPointValue.latitude)===Me(u.geoPointValue.latitude)&&Me(o.geoPointValue.longitude)===Me(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Me(o.integerValue)===Me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Me(o.doubleValue),m=Me(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return So(r.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(q0(f)!==q0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Bi(f[p],m[p])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function su(r,t){return(r.values||[]).find((n=>Bi(n,t)))!==void 0}function Ao(r,t){if(r===t)return 0;const n=ks(r),s=ks(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=Me(u.integerValue||u.doubleValue),p=Me(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return F0(r.timestampValue,t.timestampValue);case 4:return F0(iu(r),iu(t));case 5:return Wm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=Vs(u),p=Vs(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Vt(m[y],p[y]);if(E!==0)return E}return Vt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Vt(Me(u.latitude),Me(f.latitude));return m!==0?m:Vt(Me(u.longitude),Me(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return G0(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var m,p,y,E;const T=u.fields||{},b=f.fields||{},k=(m=T[Oh])===null||m===void 0?void 0:m.arrayValue,q=(p=b[Oh])===null||p===void 0?void 0:p.arrayValue,Q=Vt(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((E=q==null?void 0:q.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:G0(k,q)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===rh.mapValue&&f===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(f===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Wm(p[T],E[T]);if(b!==0)return b;const k=Ao(m[p[T]],y[E[T]]);if(k!==0)return k}return Vt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{le:n})}}function F0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=Ms(r),s=Ms(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function G0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function bo(r){return tp(r)}function tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Ms(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Vs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return yt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tp(n.fields[f])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function ph(r){switch(ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wh(r);return t?16+ph(t):16;case 5:return 2*r.stringValue.length;case 6:return Vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ph(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return zs(s.fields,((u,f)=>{o+=u.length+ph(f)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function Q0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function ep(r){return!!r&&"integerValue"in r}function qp(r){return!!r&&"arrayValue"in r}function K0(r){return!!r&&"nullValue"in r}function Y0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function fD(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[p1])===null||n===void 0?void 0:n.stringValue)===g1}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return zs(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Yl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function dD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Yl(n)}setAll(t){let n=on.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){zs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Tn(Yl(this.value))}}function y1(r){const t=[];return zs(r.fields,((n,s)=>{const o=new on([n]);if(gh(s)){const u=y1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Hn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,St.min(),St.min(),St.min(),Tn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,St.min(),St.min(),Tn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,St.min(),St.min(),Tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n){this.position=t,this.inclusive=n}}function $0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=Ao(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function X0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n="asc"){this.field=t,this.dir=n}}function mD(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{}class je extends _1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new gD(t,n,s):n==="array-contains"?new vD(t,s):n==="in"?new ED(t,s):n==="not-in"?new TD(t,s):n==="array-contains-any"?new SD(t,s):new je(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new yD(t,s):new _D(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends _1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new vi(t,n)}matches(t){return v1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function v1(r){return r.op==="and"}function E1(r){return pD(r)&&v1(r)}function pD(r){for(const t of r.filters)if(t instanceof vi)return!1;return!0}function np(r){if(r instanceof je)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(E1(r))return r.filters.map((t=>np(t))).join(",");{const t=r.filters.map((n=>np(n))).join(",");return`${r.op}(${t})`}}function T1(r,t){return r instanceof je?(function(s,o){return o instanceof je&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(r,t):r instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&T1(f,o.filters[m])),!0):!1})(r,t):void vt(19439)}function S1(r){return r instanceof je?(function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`})(r):r instanceof vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(S1).join(" ,")+"}"})(r):"Filter"}class gD extends je{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class yD extends je{constructor(t,n){super(t,"in",n),this.keys=A1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class _D extends je{constructor(t,n){super(t,"not-in",n),this.keys=A1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function A1(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>yt.fromName(s.referenceValue)))}class vD extends je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return qp(n)&&su(n.arrayValue,this.value)}}class ED extends je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class TD extends je{constructor(t,n){super(t,"not-in",n)}matches(t){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class SD extends je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>su(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function J0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new AD(r,t,n,s,o,u,f)}function Hp(r){const t=Rt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>np(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),yu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>bo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>bo(s))).join(",")),t.Pe=n}return t.Pe}function Fp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mD(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!T1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!X0(r.startAt,t.startAt)&&X0(r.endAt,t.endAt)}function ip(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function bD(r,t,n,s,o,u,f,m){return new _u(r,t,n,s,o,u,f,m)}function Gp(r){return new _u(r)}function Z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function b1(r){return r.collectionGroup!==null}function $l(r){const t=Rt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ge(on.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Vh(u,s))})),n.has(on.keyField().canonicalString())||t.Te.push(new Vh(on.keyField(),s))}return t.Te}function Pi(r){const t=Rt(r);return t.Ie||(t.Ie=wD(t,$l(r))),t.Ie}function wD(r,t){if(r.limitType==="F")return J0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return J0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function rp(r,t){const n=r.filters.concat([t]);return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function sp(r,t,n){return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function tf(r,t){return Fp(Pi(r),Pi(t))&&r.limitType===t.limitType}function w1(r){return`${Hp(Pi(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>S1(o))).join(", ")}]`),yu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>bo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>bo(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function ef(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=$0(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,p){const y=$0(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,$l(s),o))})(r,t)}function RD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function R1(r){return(t,n)=>{let s=!1;for(const o of $l(r)){const u=CD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CD(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ao(p,y):vt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new Te(yt.comparator);function wr(){return ID}const C1=new Te(yt.comparator);function Hl(...r){let t=C1;for(const n of r)t=t.insert(n.key,n);return t}function I1(r){let t=C1;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function pa(){return Xl()}function D1(){return Xl()}function Xl(){return new Sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DD=new Te(yt.comparator),ND=new Ge(yt.comparator);function Ft(...r){let t=ND;for(const n of r)t=t.add(n);return t}const xD=new Ge(Vt);function OD(){return xD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(t)?"-0":t}}function N1(r){return{integerValue:""+r}}function MD(r,t){return aD(t)?N1(t):Qp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function VD(r,t,n){return r instanceof kh?(function(o,u){const f={fields:{[f1]:{stringValue:h1},[m1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=Wh(u)),u&&(f.fields[d1]=u),{mapValue:f}})(n,t):r instanceof wo?O1(r,t):r instanceof au?M1(r,t):(function(o,u){const f=x1(o,u),m=W0(f)+W0(o.Ee);return ep(f)&&ep(o.Ee)?N1(m):Qp(o.serializer,m)})(r,t)}function kD(r,t,n){return r instanceof wo?O1(r,t):r instanceof au?M1(r,t):n}function x1(r,t){return r instanceof Lh?(function(s){return ep(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class kh extends nf{}class wo extends nf{constructor(t){super(),this.elements=t}}function O1(r,t){const n=V1(t);for(const s of r.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends nf{constructor(t){super(),this.elements=t}}function M1(r,t){let n=V1(t);for(const s of r.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class Lh extends nf{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function W0(r){return Me(r.integerValue||r.doubleValue)}function V1(r){return qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,n){this.field=t,this.transform=n}}function PD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof wo&&o instanceof wo||s instanceof au&&o instanceof au?So(s.elements,o.elements,Bi):s instanceof Lh&&o instanceof Lh?Bi(s.Ee,o.Ee):s instanceof kh&&o instanceof kh})(r.transform,t.transform)}class UD{constructor(t,n){this.version=t,this.transformResults=n}}class Fe{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Fe}static exists(t){return new Fe(void 0,t)}static updateTime(t){return new Fe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class rf{}function k1(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Eu(r.key,Fe.none()):new vu(r.key,r.data,Fe.none());{const n=r.data,s=Tn.empty();let o=new Ge(on.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new js(r.key,s,new Hn(o.toArray()),Fe.none())}}function zD(r,t,n){r instanceof vu?(function(o,u,f){const m=o.value.clone(),p=eE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof js?(function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=eE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(L1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Jl(r,t,n,s){return r instanceof vu?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const y=u.value.clone(),E=nE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof js?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const y=nE(u.fieldTransforms,p,f),E=f.data;return E.setAll(L1(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function jD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=x1(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function tE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,f)=>PD(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class vu extends rf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends rf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function L1(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function eE(r,t,n){const s=new Map;Jt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,kD(f,m,n[o]))}return s}function nE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,VD(u,f,t))}return s}class Eu extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P1 extends rf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&zD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Jl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=D1();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=k1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&So(this.mutations,t.mutations,((n,s)=>tE(n,s)))&&So(this.baseMutations,t.baseMutations,((n,s)=>tE(n,s)))}}class Kp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Jt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=(function(){return DD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Kp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Xt;function U1(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function z1(r){if(r===void 0)return br("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ze.OK:return Z.OK;case ze.CANCELLED:return Z.CANCELLED;case ze.UNKNOWN:return Z.UNKNOWN;case ze.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ze.INTERNAL:return Z.INTERNAL;case ze.UNAVAILABLE:return Z.UNAVAILABLE;case ze.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ze.NOT_FOUND:return Z.NOT_FOUND;case ze.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ze.ABORTED:return Z.ABORTED;case ze.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ze.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(Xt=ze||(ze={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Cs([4294967295,4294967295],0);function iE(r){const t=s1().encode(r),n=new JT;return n.update(t),new Uint8Array(n.digest())}function rE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Cs([n,s],0),new Cs([o,u],0)]}class Yp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Cs.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Cs.fromNumber(s)));return o.compare(FD)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Yp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.fe===0)return;const n=iE(t),[s,o]=rE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new sf(St.min(),o,new Te(Vt),wr(),Ft())}}class Tu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Tu(s,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class j1{constructor(t,n){this.targetId=t,this.De=n}}class B1{constructor(t,n,s=ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class sE{constructor(){this.ve=0,this.Ce=aE(),this.Fe=ln.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Ft(),n=Ft(),s=Ft();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new Tu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=aE()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class GD{constructor(t){this.We=t,this.Ge=new Map,this.ze=wr(),this.je=sh(),this.Je=sh(),this.He=new Te(Vt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((s,o)=>{this.nt(o)&&n(o)}))}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(ip(u))if(s===0){const f=new yt(u.path);this.Xe(n,f,Je.newNoDocument(f,St.min()))}else Jt(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Vs(s).toUint8Array()}catch(p){if(p instanceof c1)return xs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Yp(f,o,u)}catch(p){return xs(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)})),o}Pt(t){const n=new Map;this.Ge.forEach(((u,f)=>{const m=this.st(f);if(m){if(u.current&&ip(m.target)){const p=new yt(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Je.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}}));let s=Ft();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.ze.forEach(((u,f)=>f.setReadTime(t)));const o=new sf(t,n,this.He,this.ze,s);return this.ze=wr(),this.je=sh(),this.Je=sh(),this.He=new Te(Vt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new sE,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ge(Vt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ge(Vt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new sE),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function sh(){return new Te(yt.comparator)}function aE(){return new Te(yt.comparator)}const QD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YD={and:"AND",or:"OR"};class $D{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ap(r,t){return r.useProto3Json||yu(t)?t:{value:t}}function Ph(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function q1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function XD(r,t){return Ph(r,t.toTimestamp())}function Gn(r){return Jt(!!r,49232),St.fromTimestamp((function(n){const s=Ms(n);return new ye(s.seconds,s.nanos)})(r))}function $p(r,t){return op(r,t).canonicalString()}function op(r,t){const n=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function H1(r){const t=ce.fromString(r);return Jt($1(t),10190,{key:t.toString()}),t}function Uh(r,t){return $p(r.databaseId,t.path)}function Zl(r,t){const n=H1(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(G1(n))}function F1(r,t){return $p(r.databaseId,t)}function JD(r){const t=H1(r);return t.length===4?ce.emptyPath():G1(t)}function lp(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G1(r){return Jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function oE(r,t,n){return{name:Uh(r,t),fields:n.value.mapValue.fields}}function ZD(r,t){return"found"in t?(function(s,o){Jt(!!o.found,43571),o.found.name,o.found.updateTime;const u=Zl(s,o.found.name),f=Gn(o.found.updateTime),m=o.found.createTime?Gn(o.found.createTime):St.min(),p=new Tn({mapValue:{fields:o.found.fields}});return Je.newFoundDocument(u,f,m,p)})(r,t):"missing"in t?(function(s,o){Jt(!!o.missing,3894),Jt(!!o.readTime,22933);const u=Zl(s,o.missing),f=Gn(o.readTime);return Je.newNoDocument(u,f)})(r,t):vt(7234,{result:t})}function WD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Jt(E===void 0||typeof E=="string",58123),ln.fromBase64String(E||"")):(Jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ln.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:z1(y.code);return new lt(E,y.message||"")})(f);n=new B1(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zl(r,s.document.name),u=Gn(s.document.updateTime),f=s.document.createTime?Gn(s.document.createTime):St.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=Je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new _h(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Zl(r,s.document),u=s.readTime?Gn(s.readTime):St.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Zl(r,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in t))return vt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new HD(o,u),m=s.targetId;n=new j1(m,f)}}return n}function Q1(r,t){let n;if(t instanceof vu)n={update:oE(r,t.key,t.value)};else if(t instanceof Eu)n={delete:Uh(r,t.key)};else if(t instanceof js)n={update:oE(r,t.key,t.data),updateMask:lN(t.fieldMask)};else{if(!(t instanceof P1))return vt(16599,{Rt:t.type});n={verify:Uh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof kh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw vt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:XD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(r,t.precondition)),n}function tN(r,t){return r&&r.length>0?(Jt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Gn(o.updateTime):Gn(u);return f.isEqual(St.min())&&(f=Gn(u)),new UD(f,o.transformResults||[])})(n,t)))):[]}function eN(r,t){return{documents:[F1(r,t.path)]}}function nN(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=F1(r,o);const u=(function(y){if(y.length!==0)return Y1(vi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(b){return{field:fo(b.field),direction:sN(b.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ap(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{Vt:n,parent:o}}function iN(r){let t=JD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=K1(T);return b instanceof vi&&E1(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(q){return new Vh(mo(q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,yu(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,k=T.values||[];return new Mh(k,b)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const b=!T.before,k=T.values||[];return new Mh(k,b)})(n.endAt)),bD(t,o,f,u,m,"F",p,y)}function rN(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function K1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=mo(n.unaryFilter.field);return je.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return je.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return vi.create(n.compositeFilter.filters.map((s=>K1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(r):vt(30097,{filter:r})}function sN(r){return QD[r]}function aN(r){return KD[r]}function oN(r){return YD[r]}function fo(r){return{fieldPath:r.canonicalString()}}function mo(r){return on.fromServerFormat(r.fieldPath)}function Y1(r){return r instanceof je?(function(n){if(n.op==="=="){if(Y0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:aN(n.op),value:n.value}}})(r):r instanceof vi?(function(n){const s=n.getFilters().map((o=>Y1(o)));return s.length===1?s[0]:{compositeFilter:{op:oN(n.op),filters:s}}})(r):vt(54877,{filter:r})}function lN(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function $1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,n,s,o,u=St.min(),f=St.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ts(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.gt=t}}function cN(r){const t=iN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Dn=new fN}addToCollectionParentIndex(t,n){return this.Dn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(Os.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(Os.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class fN{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ge(ce.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ge(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class Nn{static withCacheSize(t){return new Nn(t,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(X1,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ro(0)}static ur(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="LruGarbageCollector",dN=1048576;function cE([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class mN{constructor(t){this.Tr=t,this.buffer=new Ge(cE),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pN{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ct(uE,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?ct(uE,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Rr(3e5)}))}}class gN{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Zh.ue);const s=new mN(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(lE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),co()<=Ht.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function yN(r,t){return new gN(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.changes=new Sa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Hn.empty(),ye.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ft()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ft()){const o=pa();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=pa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ft())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=wr();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof js)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Jl(E.mutation,y,E.mutation.getFieldMask(),ye.now())):f.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>{var T;return m.set(y,new vN(E,(T=f.get(y))!==null&&T!==void 0?T:null))})),m)))}recalculateAndSaveOverlays(t,n){const s=Xl();let o=new Te(((f,m)=>f-m)),u=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Hn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||Ft()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=D1();E.forEach((b=>{if(!u.has(b)){const k=k1(n.get(b),s.get(b));k!==null&&T.set(b,k),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,T))}return nt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):b1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(pa());let m=nu,p=u;return f.next((y=>nt.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Ft()))).next((E=>({batchId:m,changes:I1(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const y=(function(T,b){return new _u(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let m=Hl();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Jl(E.mutation,y,Hn.empty(),ye.now()),ef(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Gn(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(o){return{name:o.name,query:cN(o.bundledQuery),readTime:Gn(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.overlays=new Te(yt.comparator),this.kr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=pa();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.wt(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=pa(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new Te(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=pa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return nt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qD(n,s));let u=this.kr.get(n);u===void 0&&(u=Ft(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.qr=new Ge(Xe.Qr),this.$r=new Ge(Xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new Xe(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Xe(t,n))}Gr(t,n){t.forEach((s=>this.removeReference(s,n)))}zr(t){const n=new yt(new ce([])),s=new Xe(n,t),o=new Xe(n,t+1),u=[];return this.$r.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new yt(new ce([])),s=new Xe(n,t),o=new Xe(n,t+1);let u=Ft();return this.$r.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Xe(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Xe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return yt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ge(Xe.Qr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Xe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?jp:this.er-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Xe(n,0),o=new Xe(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ge(Vt);return n.forEach((o=>{const u=new Xe(o,0),f=new Xe(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),nt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Xe(new yt(u),0);let m=new Ge(Vt);return this.Yr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),f),nt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Jt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return nt.forEach(n.mutations,(o=>{const u=new Xe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,n){const s=new Xe(n,0),o=this.Yr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.ni=t,this.docs=(function(){return new Te(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=wr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=wr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nD(eD(E),s)<=0||(o.has(E.key)||ef(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ri(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new RN(this)}getSize(t){return nt.resolve(this.size)}}class RN extends _N{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t){this.persistence=t,this.ii=new Sa((n=>Hp(n)),Fp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new Xp,this.targetCount=0,this._i=Ro.ar()}forEachTarget(t,n){return this.ii.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),nt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Ro(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.hr(n),nt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t,n){this.ai={},this.overlays={},this.ui=new Zh(0),this.ci=!1,this.ci=!0,this.li=new AN,this.referenceDelegate=t(this),this.hi=new CN(this),this.indexManager=new hN,this.remoteDocumentCache=(function(o){return new wN(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new uN(n),this.Ti=new TN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new SN,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new bN(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new IN(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return nt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,n))))}}class IN extends rD{constructor(t){super(),this.currentSequenceNumber=t}}class Jp{constructor(t){this.persistence=t,this.Ai=new Xp,this.Ri=null}static Vi(t){return new Jp(t)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(s=>{const o=yt.fromPath(s);return this.fi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return nt.or([()=>nt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class zh{constructor(t,n){this.persistence=t,this.gi=new Sa((s=>oD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=yN(this,n)}static Vi(t,n){return new zh(t,n)}Ii(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}yr(t){let n=0;return this.gr(t,(s=>{n++})).next((()=>n))}gr(t,n){return nt.forEach(this.gi,((s,o)=>this.Sr(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(f=>this.Sr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ph(t.data.value)),n}Sr(t,n,s){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Ft(),o=Ft();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return IR()?8:sD(dn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ys(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DN;return this.ws(t,n,f).next((m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)}))})).next((()=>u.result))}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(co()<=Ht.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(co()<=Ht.DEBUG&&ct("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(co()<=Ht.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(n))):nt.resolve())}ps(t,n){if(Z0(n))return nt.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sp(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Ft(...u);return this.gs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.bs(n,m);return this.Ds(n,y,f,p.readTime)?this.ps(t,sp(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ys(t,n,s,o){return Z0(n)||o.isEqual(St.min())?nt.resolve(null):this.gs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?nt.resolve(null):(co()<=Ht.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.vs(t,f,n,tD(o,nu)).next((m=>m)))}))}bs(t,n){let s=new Ge(R1(t));return n.forEach(((o,u)=>{ef(t,u)&&(s=s.add(u))})),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return co()<=Ht.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",ho(n)),this.gs.getDocumentsMatchingQuery(t,n,Os.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="LocalStore",xN=3e8;class ON{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new Te(Vt),this.Ms=new Sa((u=>Hp(u)),Fp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EN(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function MN(r,t,n,s){return new ON(r,t,n,s)}async function Z1(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ft();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Bs:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function VN(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,b=T.keys();let k=nt.resolve();return b.forEach((q=>{k=k.next((()=>E.getEntry(p,q))).next((Q=>{const H=y.docVersions.get(q);Jt(H!==null,48541),Q.version.compareTo(H)<0&&(T.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ft();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function W1(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function kN(r,t){const n=Rt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.hi.addMatchingKeys(u,E.addedDocuments,T))));let k=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?k=k.withResumeToken(ln.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(Q,H,rt){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=xN?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0})(b,k,E)&&m.push(n.hi.updateTargetData(u,k))}));let p=wr(),y=Ft();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(LN(u,f,t.documentUpdates).next((E=>{p=E.Ls,y=E.ks}))),!s.isEqual(St.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next((T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return nt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Fs=o,u)))}function LN(r,t,n){let s=Ft(),o=Ft();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=wr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ct(Wp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Ls:f,ks:o}}))}function PN(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function UN(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.hi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.hi.allocateTargetId(s).next((f=>(o=new Ts(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s}))}async function up(r,t,n){const s=Rt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Vo(f))throw f;ct(Wp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function hE(r,t,n){const s=Rt(r);let o=St.min(),u=Ft();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Rt(p),b=T.Ms.get(E);return b!==void 0?nt.resolve(T.Fs.get(b)):T.hi.getTargetData(y,E)})(s,f,Pi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Ft()))).next((m=>(zN(s,RD(t),m),{documents:m,qs:u})))))}function zN(r,t,n){let s=r.xs.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.xs.set(t,s)}class fE{constructor(){this.activeTargetIds=OD()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jN{constructor(){this.Fo=new fE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new fE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class mE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(dE,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ct(dE,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function cp(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HN{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=cp(),m=this.Go(t,n.toUriEncodedString());ct(xm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:y}=new URL(m),E=Do(y);return this.jo(t,m,p,s,E).then((T=>(ct(xm,`Received RPC '${t}' ${f}: `,T),T)),(T=>{throw xs(xm,`RPC '${t}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Go(t,n){const s=qN[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class GN extends HN{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=cp();return new Promise(((m,p)=>{const y=new ZT;y.setWithCredentials(!0),y.listenOnce(WT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case mh.NO_ERROR:const T=y.getResponseJson();ct(hn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(T)),m(T);break;case mh.TIMEOUT:ct(hn,`RPC '${t}' ${f} timed out`),p(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const b=y.getStatus();if(ct(hn,`RPC '${t}' ${f} failed with status:`,b,"response text:",y.getResponseText()),b>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k==null?void 0:k.error;if(q&&q.status&&q.message){const Q=(function(rt){const st=rt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(st)>=0?st:Z.UNKNOWN})(q.status);p(new lt(Q,q.message))}else p(new lt(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:t,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{ct(hn,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ct(hn,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}P_(t,n,s){const o=cp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=n1(),m=e1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ct(hn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.T_(T);let b=!1,k=!1;const q=new FN({Ho:H=>{k?ct(hn,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(b||(ct(hn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),b=!0),ct(hn,`RPC '${t}' stream ${o} sending:`,H),T.send(H))},Yo:()=>T.close()}),Q=(H,rt,st)=>{H.listen(rt,(et=>{try{st(et)}catch(gt){setTimeout((()=>{throw gt}),0)}}))};return Q(T,ql.EventType.OPEN,(()=>{k||(ct(hn,`RPC '${t}' stream ${o} transport opened.`),q.s_())})),Q(T,ql.EventType.CLOSE,(()=>{k||(k=!0,ct(hn,`RPC '${t}' stream ${o} transport closed`),q.__(),this.I_(T))})),Q(T,ql.EventType.ERROR,(H=>{k||(k=!0,xs(hn,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),q.__(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),Q(T,ql.EventType.MESSAGE,(H=>{var rt;if(!k){const st=H.data[0];Jt(!!st,16349);const et=st,gt=(et==null?void 0:et.error)||((rt=et[0])===null||rt===void 0?void 0:rt.error);if(gt){ct(hn,`RPC '${t}' stream ${o} received error:`,gt);const wt=gt.status;let At=(function(R){const D=ze[R];if(D!==void 0)return z1(D)})(wt),N=gt.message;At===void 0&&(At=Z.INTERNAL,N="Unknown error status: "+wt+" with message "+gt.message),k=!0,q.__(new lt(At,N)),T.close()}else ct(hn,`RPC '${t}' stream ${o} received:`,st),q.a_(st)}})),Q(m,t1.STAT_EVENT,(H=>{H.stat===Zm.PROXY?ct(hn,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Zm.NOPROXY&&ct(hn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.o_()}),0),q}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(r){return new $D(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class tS{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new tg(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===n&&this.W_(s,o)}),(s=>{t((()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ct(pE,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(ct(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QN extends tS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=WD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Gn(f.readTime):St.min()})(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=lp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=ip(p)?{documents:eN(u,p)}:{query:nN(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=q1(u,f.resumeToken);const y=ap(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Ph(u,f.snapshotVersion.toTimestamp());const y=ap(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=rN(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=lp(this.serializer),n.removeTarget=t,this.k_(n)}}class KN extends tS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=tN(t.writeResults,t.commitTime),s=Gn(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=lp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>Q1(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{}class $N extends YN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,op(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Z.UNKNOWN,u.toString())}))}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Jo(t,op(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(Z.UNKNOWN,f.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class XN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(br(n),this._a=!1):ct("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class JN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((f=>{s.enqueueAndForget((async()=>{Aa(this)&&(ct(Ea,"Restarting streams for network reachability change."),await(async function(p){const y=Rt(p);y.Ia.add(4),await Su(y),y.Aa.set("Unknown"),y.Ia.delete(4),await of(y)})(this))}))})),this.Aa=new XN(s,o)}}async function of(r){if(Aa(r))for(const t of r.da)await t(!0)}async function Su(r){for(const t of r.da)await t(!1)}function eS(r,t){const n=Rt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),rg(n)?ig(n):ko(n).x_()&&ng(n,t))}function eg(r,t){const n=Rt(r),s=ko(n);n.Ta.delete(t),s.x_()&&nS(n,t),n.Ta.size===0&&(s.x_()?s.B_():Aa(n)&&n.Aa.set("Unknown"))}function ng(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ko(r).H_(t)}function nS(r,t){r.Ra.$e(t),ko(r).Y_(t)}function ig(r){r.Ra=new GD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.Aa.aa()}function rg(r){return Aa(r)&&!ko(r).M_()&&r.Ta.size>0}function Aa(r){return Rt(r).Ia.size===0}function iS(r){r.Ra=void 0}async function ZN(r){r.Aa.set("Online")}async function WN(r){r.Ta.forEach(((t,n)=>{ng(r,t)}))}async function tx(r,t){iS(r),rg(r)?(r.Aa.la(t),ig(r)):r.Aa.set("Unknown")}async function ex(r,t,n){if(r.Aa.set("Online"),t instanceof B1&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))})(r,t)}catch(s){ct(Ea,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jh(r,s)}else if(t instanceof _h?r.Ra.Ye(t):t instanceof j1?r.Ra.it(t):r.Ra.et(t),!n.isEqual(St.min()))try{const s=await W1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(y);E&&u.Ta.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(ln.EMPTY_BYTE_STRING,E.snapshotVersion)),nS(u,p);const T=new Ts(E.target,p,y,E.sequenceNumber);ng(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ct(Ea,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,t,n){if(!Vo(t))throw t;r.Ia.add(1),await Su(r),r.Aa.set("Offline"),n||(n=()=>W1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(Ea,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await of(r)}))}function rS(r,t){return t().catch((n=>jh(r,n,t)))}async function lf(r){const t=Rt(r),n=Ls(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:jp;for(;nx(t);)try{const o=await PN(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,ix(t,o)}catch(o){await jh(t,o)}sS(t)&&aS(t)}function nx(r){return Aa(r)&&r.Pa.length<10}function ix(r,t){r.Pa.push(t);const n=Ls(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function sS(r){return Aa(r)&&!Ls(r).M_()&&r.Pa.length>0}function aS(r){Ls(r).start()}async function rx(r){Ls(r).na()}async function sx(r){const t=Ls(r);for(const n of r.Pa)t.X_(n.mutations)}async function ax(r,t,n){const s=r.Pa.shift(),o=Kp.from(s,t,n);await rS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lf(r)}async function ox(r,t){t&&Ls(r).Z_&&await(async function(s,o){if((function(f){return U1(f)&&f!==Z.ABORTED})(o.code)){const u=s.Pa.shift();Ls(s).N_(),await rS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(s)}})(r,t),sS(r)&&aS(r)}async function gE(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ct(Ea,"RemoteStore received new credentials");const s=Aa(n);n.Ia.add(3),await Su(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await of(n)}async function lx(r,t){const n=Rt(r);t?(n.Ia.delete(2),await of(n)):t||(n.Ia.add(2),await Su(n),n.Aa.set("Unknown"))}function ko(r){return r.Va||(r.Va=(function(n,s,o){const u=Rt(n);return u.ia(),new QN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:ZN.bind(null,r),e_:WN.bind(null,r),n_:tx.bind(null,r),J_:ex.bind(null,r)}),r.da.push((async t=>{t?(r.Va.N_(),rg(r)?ig(r):r.Aa.set("Unknown")):(await r.Va.stop(),iS(r))}))),r.Va}function Ls(r){return r.ma||(r.ma=(function(n,s,o){const u=Rt(n);return u.ia(),new KN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:rx.bind(null,r),n_:ox.bind(null,r),ea:sx.bind(null,r),ta:ax.bind(null,r)}),r.da.push((async t=>{t?(r.ma.N_(),await lf(r)):(await r.ma.stop(),r.Pa.length>0&&(ct(Ea,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new sg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(br("AsyncQueue",`${t}: ${r}`),Vo(r))return new lt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(t){return new vo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof vo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.fa=new Te(yt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):vt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Co{constructor(t,n,s,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Co(t,n,vo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class cx{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=_E(),u.forEach(((f,m)=>{for(const p of m.wa)p.onError(s)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function _E(){return new Sa((r=>w1(r)),tf)}async function oS(r,t){const n=Rt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new ux,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ag(f,`Initialization of query '${ho(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&og(n)}async function lS(r,t){const n=Rt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hx(r,t){const n=Rt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&og(n)}function fx(r,t,n){const s=Rt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function og(r){r.Da.forEach((t=>{t.next()}))}var hp,vE;(vE=hp||(hp={})).Fa="default",vE.Cache="cache";class uS{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Co(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t){this.key=t}}class hS{constructor(t){this.key=t}}class dx{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ft(),this.mutatedKeys=Ft(),this.Xa=R1(t),this.eu=new vo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new yE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const b=o.get(E),k=ef(this.query,T)?T:null,q=!!b&&this.mutatedKeys.has(b.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;b&&k?b.data.isEqual(k.data)?q!==Q&&(s.track({type:3,doc:k}),H=!0):this.iu(b,k)||(s.track({type:2,doc:k}),H=!0,(p&&this.Xa(k,p)>0||y&&this.Xa(k,y)<0)&&(m=!0)):!b&&k?(s.track({type:0,doc:k}),H=!0):b&&!k&&(s.track({type:1,doc:b}),H=!0,(p||y)&&(m=!0)),H&&(k?(f=f.add(k),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort(((E,T)=>(function(k,q){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:H})}};return Q(k)-Q(q)})(E.type,T.type)||this.Xa(E.doc,T.doc))),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,f.length!==0||y?{snapshot:new Co(this.query,t.eu,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new yE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Ft(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return t.forEach((s=>{this.Za.has(s)||n.push(new hS(s))})),this.Za.forEach((s=>{t.has(s)||n.push(new cS(s))})),n}uu(t){this.Ha=t.qs,this.Za=Ft();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Co.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const lg="SyncEngine";class mx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class px{constructor(t){this.key=t,this.lu=!1}}class gx{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Sa((m=>w1(m)),tf),this.Tu=new Map,this.Iu=new Set,this.du=new Te(yt.comparator),this.Eu=new Map,this.Au=new Xp,this.Ru={},this.Vu=new Map,this.mu=Ro.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function yx(r,t,n=!0){const s=yS(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await fS(s,t,n,!0),o}async function _x(r,t){const n=yS(r);await fS(n,t,!0,!1)}async function fS(r,t,n,s){const o=await UN(r.localStore,Pi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vx(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&eS(r.remoteStore,o),m}async function vx(r,t,n,s,o){r.gu=(T,b,k)=>(async function(Q,H,rt,st){let et=H.view.nu(rt);et.Ds&&(et=await hE(Q.localStore,H.query,!1).then((({documents:N})=>H.view.nu(N,et))));const gt=st&&st.targetChanges.get(H.targetId),wt=st&&st.targetMismatches.get(H.targetId)!=null,At=H.view.applyChanges(et,Q.isPrimaryClient,gt,wt);return TE(Q,H.targetId,At._u),At.snapshot})(r,T,b,k);const u=await hE(r.localStore,t,!0),f=new dx(t,u.qs),m=f.nu(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);TE(r,n,y._u);const E=new mx(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),y.snapshot}async function Ex(r,t,n){const s=Rt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter((f=>!tf(f,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await up(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),fp(s,o.targetId)})).catch(Mo)):(fp(s,o.targetId),await up(s.localStore,o.targetId,!0))}async function Tx(r,t){const n=Rt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function Sx(r,t,n){const s=Dx(r);try{const o=await(function(f,m){const p=Rt(f),y=ye.now(),E=m.reduce(((k,q)=>k.add(q.key)),Ft());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=wr(),Q=Ft();return p.Os.getEntries(k,E).next((H=>{q=H,q.forEach(((rt,st)=>{st.isValidDocument()||(Q=Q.add(rt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,q))).next((H=>{T=H;const rt=[];for(const st of m){const et=jD(st,T.get(st.key).overlayedDocument);et!=null&&rt.push(new js(st.key,et,y1(et.value.mapValue),Fe.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,rt,m)})).next((H=>{b=H;const rt=H.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(k,H.batchId,rt)}))})).then((()=>({batchId:b.batchId,changes:I1(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Ru[f.currentUser.toKey()];y||(y=new Te(Vt)),y=y.insert(m,p),f.Ru[f.currentUser.toKey()]=y})(s,o.batchId,n),await Au(s,o.changes),await lf(s.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");n.reject(u)}}async function dS(r,t){const n=Rt(r);try{const s=await kN(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Eu.get(u);f&&(Jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Jt(f.lu,14607):o.removedDocuments.size>0&&(Jt(f.lu,42227),f.lu=!1))})),await Au(n,s,t)}catch(s){await Mo(s)}}function EE(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Rt(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const b of T.wa)b.va(m)&&(y=!0)})),y&&og(p)})(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Ax(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new Te(yt.comparator);f=f.insert(u,Je.newNoDocument(u,St.min()));const m=Ft().add(u),p=new sf(St.min(),new Map,new Te(Vt),f,m);await dS(s,p),s.du=s.du.remove(u),s.Eu.delete(t),ug(s)}else await up(s.localStore,t,!1).then((()=>fp(s,t,n))).catch(Mo)}async function bx(r,t){const n=Rt(r),s=t.batch.batchId;try{const o=await VN(n.localStore,t);pS(n,s,null),mS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await Mo(o)}}async function wx(r,t,n){const s=Rt(r);try{const o=await(function(f,m){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Jt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);pS(s,t,n),mS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Au(s,o)}catch(o){await Mo(o)}}function mS(r,t){(r.Vu.get(t)||[]).forEach((n=>{n.resolve()})),r.Vu.delete(t)}function pS(r,t,n){const s=Rt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function fp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach((s=>{r.Au.containsKey(s)||gS(r,s)}))}function gS(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(eg(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),ug(r))}function TE(r,t,n){for(const s of n)s instanceof cS?(r.Au.addReference(s.key,t),Rx(r,s)):s instanceof hS?(ct(lg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||gS(r,s.key)):vt(19791,{yu:s})}function Rx(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ct(lg,"New document in limbo: "+n),r.Iu.add(s),ug(r))}function ug(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new yt(ce.fromString(t)),s=r.mu.next();r.Eu.set(s,new px(n)),r.du=r.du.insert(n,s),eS(r.remoteStore,new Ts(Pi(Gp(n.path)),s,"TargetPurposeLimboResolution",Zh.ue))}}async function Au(r,t,n){const s=Rt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,p)=>{f.push(s.gu(p,t,n).then((y=>{var E;if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Zp.Es(p.targetId,y);u.push(T)}})))})),await Promise.all(f),s.hu.J_(o),await(async function(p,y){const E=Rt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(y,(b=>nt.forEach(b.Is,(k=>E.persistence.referenceDelegate.addReference(T,b.targetId,k))).next((()=>nt.forEach(b.ds,(k=>E.persistence.referenceDelegate.removeReference(T,b.targetId,k)))))))))}catch(T){if(!Vo(T))throw T;ct(Wp,"Failed to update sequence numbers: "+T)}for(const T of y){const b=T.targetId;if(!T.fromCache){const k=E.Fs.get(b),q=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(q);E.Fs=E.Fs.insert(b,Q)}}})(s.localStore,u))}async function Cx(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ct(lg,"User change. New user:",t.toKey());const s=await Z1(n.localStore,t);n.currentUser=t,(function(u,f){u.Vu.forEach((m=>{m.forEach((p=>{p.reject(new lt(Z.CANCELLED,f))}))})),u.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Bs)}}function Ix(r,t){const n=Rt(r),s=n.Eu.get(t);if(s&&s.lu)return Ft().add(s.key);{let o=Ft();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function yS(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ix.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ax.bind(null,t),t.hu.J_=hx.bind(null,t.eventManager),t.hu.pu=fx.bind(null,t.eventManager),t}function Dx(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,t),t}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=af(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return MN(this.persistence,new NN,t.initialUser,this.serializer)}Du(t){return new J1(Jp.Vi,this.serializer)}bu(t){return new jN}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class Nx extends Bh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Jt(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pN(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new J1((s=>zh.Vi(s,n)),this.serializer)}}class dp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>EE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cx.bind(null,this.syncEngine),await lx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cx})()}createDatastore(t){const n=af(t.databaseInfo.databaseId),s=(function(u){return new GN(u)})(t.databaseInfo);return(function(u,f,m,p){return new $N(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new JN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>EE(this.syncEngine,n,0)),(function(){return mE.C()?new mE:new BN})())}createSyncEngine(t,n){return(function(o,u,f,m,p,y,E){const T=new gx(o,u,f,m,p,y);return E&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=Rt(o);ct(Ea,"RemoteStore shutting down."),u.Ia.add(5),await Su(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):br("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(Z.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Rt(o),m={documents:u.map((T=>Uh(f.serializer,T)))},p=await f.Jo("BatchGetDocuments",f.serializer.databaseId,ce.emptyPath(),m,u.length),y=new Map;p.forEach((T=>{const b=ZD(f.serializer,T);y.set(b.key.toString(),b)}));const E=[];return u.forEach((T=>{const b=y.get(T.toString());Jt(!!b,55234,{key:T}),E.push(b)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Eu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=yt.fromPath(s);this.mutations.push(new P1(o,this.precondition(o)))})),await(async function(s,o){const u=Rt(s),f={writes:o.map((m=>Q1(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,ce.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw vt(50498,{Wu:t.constructor.name});n=St.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new lt(Z.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(St.min())?Fe.exists(!1):Fe.updateTime(n):Fe.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(St.min()))throw new lt(Z.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fe.updateTime(n)}return Fe.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.Gu=s.maxAttempts,this.F_=new tg(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new xx(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Hu(o)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!yu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!U1(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class Mx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ct(Ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ct(Ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ag(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Mm(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Ps,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Z1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>{xs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{xs("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=t}async function SE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await Vx(r);ct(Ps,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>gE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>gE(t.remoteStore,o))),r._onlineComponents=t}async function Vx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Ps,"Using user provided OfflineComponentProvider");try{await Mm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;xs("Error using user provided cache. Falling back to memory cache: "+n),await Mm(r,new Bh)}}else ct(Ps,"Using default OfflineComponentProvider"),await Mm(r,new Nx(void 0));return r._offlineComponents}async function cg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Ps,"Using user provided OnlineComponentProvider"),await SE(r,r._uninitializedComponentsProvider._online)):(ct(Ps,"Using default OnlineComponentProvider"),await SE(r,new dp))),r._onlineComponents}function kx(r){return cg(r).then((t=>t.syncEngine))}function Lx(r){return cg(r).then((t=>t.datastore))}async function mp(r){const t=await cg(r),n=t.eventManager;return n.onListen=yx.bind(null,t.syncEngine),n.onUnlisten=Ex.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_x.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tx.bind(null,t.syncEngine),n}function Px(r,t,n={}){const s=new Er;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new _S({next:b=>{E.Ou(),f.enqueueAndForget((()=>lS(u,T))),b.fromCache&&p.source==="server"?y.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new uS(m,E,{includeMetadataChanges:!0,ka:!0});return oS(u,T)})(await mp(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firestore.googleapis.com",bE=!0;class wE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ES,this.ssl=bE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:bE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dN)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FI;switch(s.type){case"firstParty":return new YI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=AE.get(n);s&&(ct("ComponentProvider","Removing Datastore"),AE.delete(n),s.terminate())})(this),Promise.resolve()}}function Ux(r,t,n,s={}){var o;r=Fn(r,uf);const u=Do(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(uT(`https://${p}`),cT("Firestore",!0)),f.host!==ES&&f.host!==p&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Ns(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=fn.MOCK_USER;else{E=vR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new fn(b)}r._authCredentials=new GI(new r1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ba(this.firestore,t,this._query)}}class Re{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(gu(n,Re._jsonSchema))return new Re(t,s||null,new yt(ce.fromString(n.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:Be("string",Re._jsonSchemaVersion),referencePath:Be("string")};class Is extends ba{constructor(t,n,s){super(t,n,Gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new yt(t))}withConverter(t){return new Is(this.firestore,t,this._path)}}function jl(r,t,...n){if(r=Ce(r),a1("collection","path",t),r instanceof uf){const s=ce.fromString(t,...n);return U0(s),new Is(r,null,s)}{if(!(r instanceof Re||r instanceof Is))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return U0(s),new Is(r.firestore,null,s)}}function Bn(r,t,...n){if(r=Ce(r),arguments.length===1&&(t=zp.newId()),a1("doc","path",t),r instanceof uf){const s=ce.fromString(t,...n);return P0(s),new Re(r,null,new yt(s))}{if(!(r instanceof Re||r instanceof Is))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(t,...n));return P0(s),new Re(r.firestore,r instanceof Is?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class CE{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new tg(this,"async_queue_retry"),this.oc=()=>{const s=Om();s&&ct(RE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Er;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Vo(t))throw t;ct(RE,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,br("INTERNAL UNHANDLED ERROR: ",IE(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=sg.createAndSchedule(this,t,n,s,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&vt(47125,{hc:IE(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function IE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Rr extends uf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new CE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CE(t),this._firestoreClient=void 0,await t}}}function zx(r,t){const n=typeof r=="object"?r:mT(),s=typeof r=="string"?r:xh,o=wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=yR("firestore");u&&Ux(o,...u)}return o}function bu(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jx(r),r._firestoreClient}function jx(r){var t,n,s;const o=r._freezeSettings(),u=(function(m,p,y,E){return new cD(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Mx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(ln.fromBase64String(t))}catch(n){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gu(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Be("string",qn._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(gu(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Be("string",Ui._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gu(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new zi(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Be("string",zi._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=/^__.*__$/;class qx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,n,this.fieldTransforms):new vu(t,this.data,n,this.fieldTransforms)}}class TS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new js(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function SS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:r})}}class hf{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new hf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return qh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(SS(this.Ec)&&Bx.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Hx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||af(t)}Dc(t,n,s,o=!1){return new hf({Ec:t,methodName:n,bc:s,path:on.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(r){const t=r._freezeSettings(),n=af(r._databaseId);return new Hx(r._databaseId,!!t.ignoreUndefinedProperties,n)}function hg(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);pg("Data must be an object, but it was:",f,s);const m=AS(s,f);let p,y;if(u.merge)p=new Hn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=pp(t,T,n);if(!f.contains(b))throw new lt(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);wS(E,b)||E.push(b)}p=new Hn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new qx(new Tn(m),p,y)}class Ru extends cf{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ru}}function Fx(r,t,n){return new hf({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fg extends cf{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=Fx(this,t,!0),s=this.vc.map((u=>Po(u,n))),o=new wo(s);return new LD(t.path,o)}isEqual(t){return t instanceof fg&&Ns(this.vc,t.vc)}}function dg(r,t,n,s){const o=r.Dc(1,t,n);pg("Data must be an object, but it was:",o,s);const u=[],f=Tn.empty();zs(s,((p,y)=>{const E=gg(t,p,n);y=Ce(y);const T=o.gc(E);if(y instanceof Ru)u.push(E);else{const b=Po(y,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Hn(u);return new TS(f,m,o.fieldTransforms)}function mg(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[pp(t,s,n)],p=[o];if(u.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(pp(t,u[b])),p.push(u[b+1]);const y=[],E=Tn.empty();for(let b=m.length-1;b>=0;--b)if(!wS(y,m[b])){const k=m[b];let q=p[b];q=Ce(q);const Q=f.gc(k);if(q instanceof Ru)y.push(k);else{const H=Po(q,Q);H!=null&&(y.push(k),E.set(k,H))}}const T=new Hn(y);return new TS(E,T,f.fieldTransforms)}function Gx(r,t,n,s=!1){return Po(n,r.Dc(s?4:3,t))}function Po(r,t){if(bS(r=Ce(r)))return pg("Unsupported field value:",t,r),AS(r,t);if(r instanceof cf)return(function(s,o){if(!SS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Po(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Ce(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ye.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof ye){const u=new ye(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:q1(o.serializer,s._byteString)};if(s instanceof Re){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zi)return(function(f,m){return{mapValue:{fields:{[p1]:{stringValue:g1},[Oh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return Qp(m.serializer,y)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${Jh(s)}`)})(r,t)}function AS(r,t){const n={};return u1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(r,((s,o)=>{const u=Po(o,t.Vc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function bS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ye||r instanceof Ui||r instanceof qn||r instanceof Re||r instanceof cf||r instanceof zi)}function pg(r,t,n){if(!bS(n)||!o1(n)){const s=Jh(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function pp(r,t,n){if((t=Ce(t))instanceof Lo)return t._internalPath;if(typeof t=="string")return gg(r,t);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Qx=new RegExp("[~\\*/\\[\\]]");function gg(r,t,n){if(t.search(Qx)>=0)throw qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lo(...t.split("."))._internalPath}catch{throw qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new lt(Z.INVALID_ARGUMENT,m+r+p)}function wS(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kx extends Hh{data(){return super.data()}}function yg(r,t){return typeof t=="string"?gg(r,t):t instanceof Lo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class Yx extends _g{}function $x(r,t,...n){let s=[];t instanceof _g&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof vg)).length,m=u.filter((p=>p instanceof ff)).length;if(f>1||f>0&&m>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ff extends Yx{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ff(t,n,s)}_apply(t){const n=this._parse(t);return CS(t._query,n),new ba(t.firestore,t.converter,rp(t._query,n))}_parse(t){const n=wu(t.firestore);return(function(u,f,m,p,y,E,T){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){xE(T,E);const q=[];for(const Q of T)q.push(NE(p,u,Q));b={arrayValue:{values:q}}}else b=NE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||xE(T,E),b=Gx(m,f,T,E==="in"||E==="not-in");return je.create(y,E,b)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Xx(r,t,n){const s=t,o=yg("where",r);return ff._create(o,s,n)}class vg extends _g{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new vg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)CS(f,p),f=rp(f,p)})(t._query,n),new ba(t.firestore,t.converter,rp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NE(r,t,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b1(t)&&n.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ce.fromString(n));if(!yt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(r,new yt(s))}if(n instanceof Re)return Q0(r,n._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function xE(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class IS{convertValue(t,n="none"){switch(ks(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return zs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Oh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((f=>Me(f.doubleValue)));return new zi(u)}convertGeoPoint(t){return new Ui(Me(t.latitude),Me(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Wh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(t));default:return null}}convertTimestamp(t){const n=Ms(t);return new ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ce.fromString(t);Jt($1(s),9688,{name:t});const o=new ru(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Jx extends IS{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,n)}}class po{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ds extends Hh{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(yg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:Be("string",Ds._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class vh extends Ds{data(t={}){return super.data(t)}}class ga{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new po(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Zx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Zx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:Be("string",ga._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class df extends IS{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,n)}}function OE(r){r=Fn(r,ba);const t=Fn(r.firestore,Rr),n=bu(t),s=new df(t);return RS(r._query),Px(n,r._query).then((o=>new ga(t,s,r,o)))}function Bl(r,t,n){r=Fn(r,Re);const s=Fn(r.firestore,Rr),o=Eg(r.converter,t,n);return mf(s,[hg(wu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Fe.none())])}function oh(r,t,n,...s){r=Fn(r,Re);const o=Fn(r.firestore,Rr),u=wu(o);let f;return f=typeof(t=Ce(t))=="string"||t instanceof Lo?mg(u,"updateDoc",r._key,t,n,s):dg(u,"updateDoc",r._key,t),mf(o,[f.toMutation(r._key,Fe.exists(!0))])}function Vm(r){return mf(Fn(r.firestore,Rr),[new Eu(r._key,Fe.none())])}function km(r,...t){var n,s,o;r=Ce(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||DE(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(DE(t[f])){const T=t[f];t[f]=(n=T.next)===null||n===void 0?void 0:n.bind(T),t[f+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),t[f+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,y,E;if(r instanceof Re)y=Fn(r.firestore,Rr),E=Gp(r._key.path),p={next:T=>{t[f]&&t[f](Wx(y,r,T))},error:t[f+1],complete:t[f+2]};else{const T=Fn(r,ba);y=Fn(T.firestore,Rr),E=T._query;const b=new df(y);p={next:k=>{t[f]&&t[f](new ga(y,b,T,k))},error:t[f+1],complete:t[f+2]},RS(r._query)}return(function(b,k,q,Q){const H=new _S(Q),rt=new uS(k,H,q);return b.asyncQueue.enqueueAndForget((async()=>oS(await mp(b),rt))),()=>{H.Ou(),b.asyncQueue.enqueueAndForget((async()=>lS(await mp(b),rt)))}})(bu(y),E,m,p)}function mf(r,t){return(function(s,o){const u=new Er;return s.asyncQueue.enqueueAndForget((async()=>Sx(await kx(s),o,u))),u.promise})(bu(r),t)}function Wx(r,t,n){const s=n.docs.get(t._key),o=new df(r);return new Ds(r,o,t._key,s,new po(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wu(t)}set(t,n,s){this._verifyNotCommitted();const o=Ss(t,this._firestore),u=Eg(o.converter,n,s),f=hg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,Fe.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=Ss(t,this._firestore);let f;return f=typeof(n=Ce(n))=="string"||n instanceof Lo?mg(this._dataReader,"WriteBatch.update",u._key,n,s,o):dg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,Fe.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Ss(t,this._firestore);return this._mutations=this._mutations.concat(new Eu(n._key,Fe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ss(r,t){if((r=Ce(r)).firestore!==t)throw new lt(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=wu(t)}get(t){const n=Ss(t,this._firestore),s=new Jx(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return vt(24041);const u=o[0];if(u.isFoundDocument())return new Hh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Hh(this._firestore,s,n._key,null,n.converter);throw vt(18433,{doc:u})}))}set(t,n,s){const o=Ss(t,this._firestore),u=Eg(o.converter,n,s),f=hg(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(t,n,s,...o){const u=Ss(t,this._firestore);let f;return f=typeof(n=Ce(n))=="string"||n instanceof Lo?mg(this._dataReader,"Transaction.update",u._key,n,s,o):dg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=Ss(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO extends nO{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Ss(t,this._firestore),s=new df(this._firestore);return super.get(t).then((o=>new Ds(this._firestore,s,n._key,o._document,new po(!1,!1),n.converter)))}}function rO(r,t,n){r=Fn(r,Rr);const s=Object.assign(Object.assign({},tO),n);return(function(u){if(u.maxAttempts<1)throw new lt(Z.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const p=new Er;return u.asyncQueue.enqueueAndForget((async()=>{const y=await Lx(u);new Ox(u.asyncQueue,y,m,f,p).zu()})),p.promise})(bu(r),(o=>t(new iO(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return new Ru("deleteField")}function aO(...r){return new fg("arrayUnion",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(r){return bu(r=Fn(r,Rr)),new eO(r,(t=>mf(r,t)))}(function(t,n=!0){(function(o){Oo=o})(No),Eo(new ya("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Rr(new QI(s.getProvider("auth-internal")),new $I(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(y.options.projectId,E)})(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ws(O0,M0,t),ws(O0,M0,"esm2017")})();var lO="firebase",uO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(lO,uO,"app");const cO={apiKey:"AIzaSyCEUaqAGQBy_-tQEjnkNGYMXRk7YRaCAjI",authDomain:"shopping-list-218bd.firebaseapp.com",projectId:"shopping-list-218bd",storageBucket:"shopping-list-218bd.firebasestorage.app",messagingSenderId:"883804592996",appId:"1:883804592996:web:61b0bb28cd02ef3961b871"},DS=dT(cO),_r=qI(DS),Lm=new pr,sn=zx(DS);(async()=>{try{await PT(_r,Vp)}catch{}})();function hO(r,t){return`${window.location.origin}/Shopping-List/#/invite?listId=${encodeURIComponent(r)}&token=${encodeURIComponent(t)}`}async function fO(r){try{return await navigator.clipboard.writeText(r),!0}catch{return window.prompt("  :",r),!1}}async function Gl(){try{try{await PT(_r,Vp)}catch{}await JC(_r,Lm)}catch(r){const t=r==null?void 0:r.code;if(t==="auth/popup-blocked"||t==="auth/cancelled-popup-request"||t==="auth/popup-closed-by-user"){await A0(_r,Lm);return}await A0(_r,Lm)}}function dO(r){const t=encodeURIComponent(r);window.open(`https://wa.me/?text=${t}`,"_blank")}const mO=()=>{const[r]=Fw(),t=_p(),n=r.get("listId"),s=r.get("token"),[o,u]=U.useState(_r.currentUser),[f,m]=U.useState(!0),[p,y]=U.useState(!1),[E,T]=U.useState(null);U.useEffect(()=>UT(_r,q=>{u(q),m(!1)}),[]);const b=async()=>{T(null);try{await Gl()}catch(q){T((q==null?void 0:q.message)||" ")}},k=async()=>{if(!n||!s){T("    (listId  token)");return}if(!o){await b();return}y(!0),T(null);try{await rO(sn,async q=>{var et;const Q=Bn(sn,"lists",n),H=await q.get(Q);if(!H.exists())throw new Error("  ");const st=(et=H.data().pendingInvites)==null?void 0:et[s];if(!st)throw new Error("  ");if(st.expiresAt<Date.now())throw new Error("  ");q.update(Q,{sharedWith:aO(o.uid),[`pendingInvites.${s}`]:sO()})}),localStorage.setItem("activeListId",n),t("/")}catch(q){T((q==null?void 0:q.message)||"  ")}finally{y(!1)}};return f?X.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",style:{fontFamily:'Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif'},children:[X.jsx("style",{children:`
        html, body, #root {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        *, *::before, *::after,
        input, button, select, textarea, option, label {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
        input::placeholder, textarea::placeholder {
          font-family: Segoe UI, system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif !important;
        }
      `}),X.jsx(Th,{className:"animate-spin text-indigo-600"})]}):X.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6",children:[X.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto",children:X.jsx(nT,{className:"w-10 h-10"})}),X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:" "}),!n||!s?X.jsx("p",{className:"text-rose-500 font-bold",children:"   "}):null,E?X.jsx("p",{className:"text-rose-500 font-bold break-words",children:E}):null,o?X.jsx("button",{onClick:k,disabled:p,className:"w-full bg-emerald-500 text-white py-4 rounded-2xl font-black shadow-lg shadow-emerald-100 disabled:opacity-50",children:p?X.jsx(Th,{className:"w-6 h-6 animate-spin mx-auto"}):" "}):X.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(eT,{className:"w-4 h-4"}),"   "]})]})})},NS={:1,:1,:2,:2,:2,:2,:2,:3,:3,:4,:4,:5,:5,:6,:6,:7,:7,:8,:9,:9,:10,:10},Vi=r=>(r||"").trim().toLowerCase().replace(/["']/g,"").replace(/\s+/g," "),xS=r=>(r||"").trim().replace(/[.?!]/g," ").replace(//g,",").replace(/\b\b/g,",").replace(/\b\b/g,",").replace(/\s+(||)\s*/g," ").replace(/\s+/g," ").trim();function Fh(r){return r?/^\d+$/.test(r)?!0:NS[r]!=null:!1}function pO(r){if(!r)return null;if(/^\d+$/.test(r))return Number(r);const t=NS[r];return t??null}const gO=new Set(["","","","","","","","","","","","","","","","","","","","","","","",""]);function yO(r){return gO.has(r)}const Pm=new Set([" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","' "," "," "," "]),Um=new Set(["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]),zm=new Set(["","","","","","","","","","","","",""]);function _O(r){const t=[];let n=0;const s=o=>o&&o.startsWith("")&&o.length>1?o.slice(1):o;for(;n<r.length;){const o=r[n],u=n+1<r.length?r[n+1]:"";if(o&&u&&!Fh(o)&&!Fh(u)){const f=`${o} ${u}`,m=s(u),p=`${o} ${m}`;if(Pm.has(f)||Pm.has(p)){t.push(Pm.has(f)?f:p),n+=2;continue}if(Um.has(u)||Um.has(m)){t.push(Um.has(u)?f:p),n+=2;continue}if(zm.has(u)||zm.has(m)){t.push(zm.has(u)?f:p),n+=2;continue}}t.push(o),n+=1}return t}function vO(r){const t=Vi(r);if(!t)return[];let n=t.split(" ").filter(Boolean);if(n=_O(n),n.length===0)return[];const s=[];let o=1,u=[];const f=p=>{const y=u.join(" ").trim();if(y){const E=Math.max(1,Number(p??o??1));s.push({name:y,qty:E})}o=1,u=[]},m=p=>p+1<n.length?n[p+1]:"";for(let p=0;p<n.length;p++){const y=n[p];if(Fh(y)){const T=Math.max(1,pO(y)||1),b=m(p);if(u.length===0){o=T;continue}if(!b){f(T);continue}f(),o=T;continue}u.push(y);const E=m(p);u.length===1&&yO(u[0])||y===""||y===""||E===""||E===""||Fh(E)||f()}return u.length>0&&f(),s.map(p=>({name:p.name.replace(/\s+/g," ").trim(),qty:Math.max(1,Number(p.qty||1))})).filter(p=>p.name.length>0)}function EO(r){const t=xS(r),n=Vi(t);if(!n)return[];const o=n.replace(/\s+\s+/g,",").replace(/\s+\s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+ \s+/g,",").replace(/\s+\s+/g,",").split(/,|\n/).map(f=>f.trim()).filter(Boolean),u=[];for(const f of o){const m=vO(f);for(const p of m)u.push(p)}return u}const TO=()=>{const[r,t]=U.useState(null),[n,s]=U.useState(null),[o,u]=U.useState([]),[f,m]=U.useState([]),[p,y]=U.useState("list"),[E,T]=U.useState(""),[b,k]=U.useState(!1),[q,Q]=U.useState(!1),[H,rt]=U.useState(!0),[st,et]=U.useState(!1),[gt,wt]=U.useState(!1),[At]=U.useState("hold_to_talk"),[N,w]=U.useState(""),[R,D]=U.useState(null),M=U.useRef(null),V=U.useRef(!1),C=U.useRef([]),fe=U.useRef(""),ve=U.useRef(!1),K=U.useRef(null),ot=U.useRef([]);U.useEffect(()=>{K.current=(n==null?void 0:n.id)??null},[n==null?void 0:n.id]),U.useEffect(()=>{ot.current=o},[o]),U.useEffect(()=>{if(!R)return;const W=setTimeout(()=>D(null),2500);return()=>clearTimeout(W)},[R]),U.useEffect(()=>UT(_r,async W=>{if(t(W),rt(!1),!W){s(null),u([]),m([]);return}et(!0);const ut=$x(jl(sn,"lists"),Xx("sharedWith","array-contains",W.uid)),dt=await OE(ut);if(dt.empty){const Ct=Bn(jl(sn,"lists")),Lt={id:Ct.id,title:" ",ownerUid:W.uid,sharedWith:[W.uid],createdAt:Date.now(),updatedAt:Date.now()};await Bl(Ct,Lt),s(Lt),localStorage.setItem("activeListId",Ct.id)}else{const Ct=localStorage.getItem("activeListId"),Lt=Ct?dt.docs.find(It=>It.id===Ct)??dt.docs[0]:dt.docs[0],re=Lt.data();s({...re,id:Lt.id}),localStorage.setItem("activeListId",Lt.id)}et(!1)}),[]),U.useEffect(()=>{if(!(n!=null&&n.id))return;const W=Bn(sn,"lists",n.id),ut=jl(W,"items"),dt=jl(W,"favorites"),Ct=km(W,It=>{It.exists()&&s({...It.data(),id:It.id})}),Lt=km(ut,It=>{const Ie=It.docs.map(Pt=>Pt.data());u(Ie)}),re=km(dt,It=>{const Ie=It.docs.map(Pt=>{const Ut=Pt.data();return{id:Pt.id,name:String((Ut==null?void 0:Ut.name)||""),createdAt:Number((Ut==null?void 0:Ut.createdAt)||0)}});Ie.sort((Pt,Ut)=>Ut.createdAt-Pt.createdAt),m(Ie)});return()=>{Ct(),Lt(),re()}},[n==null?void 0:n.id]);const pt=U.useMemo(()=>{const W=new Set;for(const ut of f)W.add(ut.id);return W},[f]),Kt=U.useMemo(()=>o.filter(W=>!W.isPurchased).sort((W,ut)=>ut.createdAt-W.createdAt),[o]),Yt=U.useMemo(()=>o.filter(W=>W.isPurchased).sort((W,ut)=>(ut.purchasedAt||0)-(W.purchasedAt||0)),[o]),O=async W=>{if(W&&W.preventDefault(),!r){await Gl();return}if(!(n!=null&&n.id))return;const ut=E.trim();if(!ut)return;const dt=crypto.randomUUID(),Ct={id:dt,name:ut,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Bl(Bn(sn,"lists",n.id,"items",dt),Ct),T("")},$=async W=>{if(!(n!=null&&n.id))return;const ut=o.find(Ct=>Ct.id===W);if(!ut)return;const dt=!ut.isPurchased;await oh(Bn(sn,"lists",n.id,"items",W),{isPurchased:dt,purchasedAt:dt?Date.now():null})},it=async(W,ut)=>{if(!(n!=null&&n.id))return;const dt=o.find(Ct=>Ct.id===W);dt&&await oh(Bn(sn,"lists",n.id,"items",W),{quantity:Math.max(1,dt.quantity+ut)})},ht=async W=>{n!=null&&n.id&&await Vm(Bn(sn,"lists",n.id,"items",W))},Tt=async W=>{if(!(n!=null&&n.id))return;const ut=Bn(sn,"lists",n.id,"favorites",W);if(pt.has(W))await Vm(ut);else{const dt=o.find(Ct=>Ct.id===W);await Bl(ut,{name:(dt==null?void 0:dt.name)||"",createdAt:Date.now()})}},xt=async W=>{n!=null&&n.id&&await Vm(Bn(sn,"lists",n.id,"favorites",W))},kt=async()=>{const W=K.current||(n==null?void 0:n.id);if(!W)return;const ut=jl(sn,"lists",W,"items"),dt=await OE(ut);if(dt.empty){Q(!1);return}const Ct=dt.docs;let Lt=0;for(;Lt<Ct.length;){const re=oO(sn),It=Ct.slice(Lt,Lt+450);for(const Ie of It)re.delete(Ie.ref);await re.commit(),Lt+=It.length}Q(!1)},qe=async()=>{if(!r)return await Gl(),null;if(!(n!=null&&n.id))return null;const W=[...Array(32)].map(()=>Math.floor(Math.random()*16).toString(16)).join(""),ut=Date.now()+2880*60*1e3;return await oh(Bn(sn,"lists",n.id),{[`pendingInvites.${W}`]:{createdAt:Date.now(),expiresAt:ut}}),hO(n.id,W)},de=async()=>{const W=await qe();if(W){try{if(typeof navigator<"u"&&"share"in navigator){await navigator.share({title:" ",text:"   ",url:W});return}}catch{}await fO(W),k(!0),setTimeout(()=>k(!1),2e3)}},Kn=()=>{const W=(n==null?void 0:n.title)||" ",ut=o.filter($t=>!$t.isPurchased),dt="",Ct="",Lt="",re="",It=ut.length>0?ut.map($t=>($t.quantity||1)<=1?`${dt}${$t.name}${Ct}`:`${dt}${$t.name} X ${Lt}${$t.quantity}${re}${Ct}`).join(`
`):`${dt}(  )${Ct}`,Ut=`${`*${W}:*`}

${It}

   `;dO(Ut)},Sn=W=>{const ut=Vi(W),dt=o.find(Lt=>Vi(Lt.name)===ut);return dt||o.find(Lt=>Vi(Lt.name).includes(ut)||ut.includes(Vi(Lt.name)))||null},qi=async(W,ut)=>{const dt=K.current||(n==null?void 0:n.id);if(!dt)return;const Ct=ot.current||o,Lt=W.trim();if(!Lt)return;const re=Ct.find(Pt=>!Pt.isPurchased&&Vi(Pt.name)===Vi(Lt));if(re){await oh(Bn(sn,"lists",dt,"items",re.id),{quantity:ut});return}const It=crypto.randomUUID(),Ie={id:It,name:Lt,quantity:ut,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Bl(Bn(sn,"lists",dt,"items",It),Ie)},Dr=W=>{const ut=Vi(W);return/(||||||)\s*(\s*)?(\s*)?(\s*)?(|)/.test(ut)||ut.includes("")&&ut.includes("")&&(ut.includes("")||ut.includes(""))},xn=async W=>{if(!(K.current||(n==null?void 0:n.id)))return;const dt=Vi(W);if(!dt)return;if(Dr(dt)){await kt(),D(" ");return}if(/^(|||)\s+/.test(dt)){const Gt=dt.replace(/^(|||)\s+/,"").trim(),ne=Sn(Gt);if(!ne){D("   ");return}await ht(ne.id),D(`: ${ne.name}`);return}const Ct=dt.match(/^(||)\s+(.+)\s+(||)$/);if(Ct){const Gt=Ct[2].trim(),ne=Sn(Gt);if(!ne){D("   ");return}ne.isPurchased||await $(ne.id),D(` : ${ne.name}`);return}const Lt=dt.match(/^(||)\s+(.+)$/);if(Lt){const Gt=Lt[2].trim(),ne=Sn(Gt);return ne?(await it(ne.id,1),D(`: ${ne.name}`)):D("   ")}const re=dt.match(/^(||)\s+(.+)$/);if(re){const Gt=re[2].trim(),ne=Sn(Gt);return ne?(await it(ne.id,-1),D(`: ${ne.name}`)):D("   ")}const It=dt.match(/^(|||)(?:\s+)?\s+(.+)$/),Ie=It?It[2]:dt,Pt=EO(Ie),Ut=new Map;for(const Gt of $t){const ne=(Gt.name||"").trim();if(!ne)continue;const Ti=Ut.get(ne);Ti?Ti.qty+=Math.max(1,Gt.qty||1):Ut.set(ne,{name:ne,qty:Math.max(1,Gt.qty||1)})}const $t=Array.from(Ut.values());if($t.length!==0){for(const Gt of Pt)await qi(Gt.name,Gt.qty);if($t.length===1){const Gt=$t[0];D(Gt.qty>1?`: ${Gt.name} x${Gt.qty}`:`: ${Gt.name}`)}else D(` ${$t.length} `)}},Hi=()=>{const W=window.SpeechRecognition||window.webkitSpeechRecognition;return W||null},Ei=()=>{const W=Hi();if(!W){alert("    .  Chrome  Edge.");return}if(!r){D("    "),Gl();return}if(C.current=[],fe.current="",ve.current=!1,V.current=!0,w(""),wt(!0),D("  -   "),M.current){try{intentionalStopRef.current=!0,M.current.stop()}catch{}M.current=null}const ut=new W;M.current=ut,ut.lang="he-IL",ut.interimResults=!0,ut.maxAlternatives=1,ut.continuous=!0;const dt=1200,Ct=25e3;let Lt=!1,re=Date.now(),It=null,Ie=null;const Pt=()=>{It!=null&&window.clearTimeout(It),Ie!=null&&window.clearTimeout(Ie),It=null,Ie=null},Ut=()=>{V.current&&Lt&&(It!=null&&window.clearTimeout(It),It=window.setTimeout(()=>{if(!V.current)return;Date.now()-re>=dt&&ci()},dt+50))};Ie=window.setTimeout(()=>{V.current&&(D("     - ..."),ci())},Ct),ut.onstart=()=>{},ut.onaudiostart=()=>{},ut.onspeechstart=()=>{},ut.onresult=$t=>{try{let Gt="";for(let Ti=$t.resultIndex;Ti<$t.results.length;Ti++){const Yn=$t.results[Ti],$n=Yn==null?void 0:Yn[0],De=xS(String(($n==null?void 0:$n.transcript)||""));De&&(Yn.isFinal?(C.current.push(De),fe.current=""):(Gt=De,fe.current=De))}const ne=Gt||(C.current.length?C.current[C.current.length-1]:"");ne&&w(ne),Lt=!0,re=Date.now(),Ut()}catch{}},ut.onerror=$t=>{const Gt=String(($t==null?void 0:$t.error)||"");if(Gt==="aborted"&&intentionalStopRef.current){intentionalStopRef.current=!1;return}if(console.warn("Speech error:",Gt,$t),Gt==="no-speech"){D("   -     ");return}Pt(),clearVoiceTimers(),wt(!1),V.current=!1,D(Gt==="not-allowed"||Gt==="service-not-allowed"?"  .      .":Gt==="audio-capture"?"   (    )":` : ${Gt||"unknown"}`)},ut.onend=()=>{if(intentionalStopRef.current&&(intentionalStopRef.current=!1),!V.current){Pt();return}Ut(),!ve.current&&(ve.current=!0,setTimeout(()=>{if(!V.current){ve.current=!1,Pt();return}try{ut.start()}catch{}finally{ve.current=!1}},180))};try{ut.start(),Ut()}catch($t){console.error($t),Pt(),clearVoiceTimers(),wt(!1),V.current=!1,D("   ")}},ci=async()=>{var Ct,Lt;if(!V.current)return;V.current=!1,wt(!1);try{intentionalStopRef.current=!0,(Lt=(Ct=M.current)==null?void 0:Ct.stop)==null||Lt.call(Ct)}catch{}const W=C.current.join(" ").trim(),ut=(fe.current||"").trim(),dt=`${W} ${ut}`.replace(/\s+/g," ").trim();if(C.current=[],fe.current="",!dt){D("   -  ");return}D("...");try{await xn(dt)}catch(re){console.error(re),D(`: ${String((re==null?void 0:re.message)||re||"")}`)}};return U.useEffect(()=>()=>{var W,ut;try{V.current=!1,(ut=(W=M.current)==null?void 0:W.stop)==null||ut.call(W)}catch{}},[]),H?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Th,{className:"animate-spin text-indigo-600"})}):r?st||!(n!=null&&n.id)?X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",dir:"rtl",children:X.jsx(Th,{className:"animate-spin text-indigo-600"})}):X.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 relative pb-44 shadow-2xl overflow-hidden",dir:"rtl",children:[X.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md px-6 py-4 items-center justify-between border-b border-slate-100 relative grid grid-cols-3 items-center",children:[X.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[X.jsx("button",{onClick:()=>Q(!0),className:"p-2 text-slate-400 hover:text-rose-500",title:" ",children:X.jsx(th,{className:"w-5 h-5"})}),X.jsx("button",{onClick:de,className:"p-2 text-slate-400 hover:text-indigo-600",title:" ",children:b?X.jsx(Ww,{className:"w-5 h-5 text-emerald-500"}):X.jsx(nT,{className:"w-5 h-5"})})]}),X.jsx("h1",{className:"text-xl font-bold text-indigo-600 leading-none text-center justify-self-center whitespace-nowrap",children:(n==null?void 0:n.title)||" "}),X.jsx("button",{onClick:()=>OC(_r),className:"justify-self-end w-9 h-9 min-w-0 p-0 rounded-full flex items-center justify-center bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95 transition-transform",title:"",children:X.jsx(iR,{className:"w-4 h-4"})})]}),X.jsx("div",{className:"px-5 pt-3",children:X.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl px-4 py-2 text-right shadow-sm",children:[X.jsx("div",{className:"text-[11px] font-black text-slate-400",children:gt?"  -    ":" :    ,  "}),N?X.jsxs("div",{className:"text-sm font-bold text-slate-700 mt-1",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[": ",N]}):null,X.jsx("div",{className:"text-[10px] font-black text-slate-400 mt-1",children:': "    " | " " | " "'})]})}),X.jsx("main",{className:"flex-1 p-5 space-y-6 overflow-y-auto no-scrollbar",children:p==="list"?X.jsxs(X.Fragment,{children:[X.jsxs("form",{onSubmit:O,className:"relative",children:[X.jsx("input",{value:E,onChange:W=>T(W.target.value),placeholder:"  ?",className:"w-full p-4 pr-4 pl-14 rounded-2xl border border-slate-200 shadow-sm focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all font-bold text-slate-700 bg-white text-right",dir:"rtl"}),X.jsx("button",{type:"submit",className:"absolute left-2.5 top-2.5 bg-indigo-600 text-white p-2.5 rounded-xl shadow-md active:scale-90 transition-all",title:"",children:X.jsx(e0,{className:"w-6 h-6"})})]}),o.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(lR,{className:"w-20 h-20 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"text-lg font-bold",children:" "})]}):X.jsx("div",{className:"space-y-4",children:X.jsxs("div",{className:"space-y-3",children:[Kt.map(W=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[X.jsx("button",{onClick:()=>ht(W.id),className:"p-2 text-slate-300 hover:text-rose-500",title:"",children:X.jsx(th,{className:"w-4 h-4"})}),X.jsx("button",{onClick:()=>Tt(W.id),className:`p-2 ${pt.has(W.id)?"text-amber-500":"text-slate-300"}`,title:"",children:X.jsx(Wc,{className:`w-4 h-4 ${pt.has(W.id)?"fill-amber-500":""}`})})]}),X.jsx("div",{className:"flex-1 text-right font-bold text-slate-700 truncate cursor-pointer px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},onClick:()=>$(W.id),children:W.name}),X.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 px-2 py-1 rounded-xl border border-slate-100",children:[X.jsx("button",{onClick:()=>it(W.id,-1),className:"p-1 text-slate-400",title:"",children:X.jsx(oR,{className:"w-3 h-3"})}),X.jsx("span",{className:"min-w-[1.5rem] text-center font-black text-slate-700",children:W.quantity}),X.jsx("button",{onClick:()=>it(W.id,1),className:"p-1 text-slate-400",title:"",children:X.jsx(e0,{className:"w-3 h-3"})})]})]},W.id)),Yt.length>0?X.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-200",children:[X.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest text-right mb-2",children:[" (",Yt.length,")"]}),Yt.map(W=>X.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-100/50 rounded-2xl opacity-60 grayscale transition-all",dir:"rtl",children:[X.jsx("button",{onClick:()=>ht(W.id),className:"p-2 text-slate-300",title:"",children:X.jsx(th,{className:"w-4 h-4"})}),X.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end cursor-pointer",onClick:()=>$(W.id),children:[X.jsxs("span",{className:"text-base font-bold text-slate-500 line-through truncate text-right",style:{direction:"rtl",unicodeBidi:"plaintext"},children:[W.name," x",W.quantity]}),X.jsx(eR,{className:"w-6 h-6 text-emerald-500"})]})]},W.id))]}):null]})})]}):X.jsxs("div",{className:"space-y-6",children:[X.jsxs("div",{className:"text-right",children:[X.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight",children:""}),X.jsx("p",{className:"text-sm text-slate-400 font-bold",children:X.jsx("span",{className:"font-semibold",children:"  "})})]}),f.length===0?X.jsxs("div",{className:"text-center py-20 opacity-20",children:[X.jsx(Wc,{className:"w-16 h-16 mx-auto mb-4 stroke-1"}),X.jsx("p",{className:"font-bold",children:"  "})]}):X.jsx("div",{className:"grid grid-cols-1 gap-3",children:f.map(W=>X.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",dir:"rtl",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:async()=>{if(!(n!=null&&n.id))return;const ut=o.find(dt=>!dt.isPurchased&&dt.name.trim()===W.name.trim());if(ut)await it(ut.id,1);else{const dt=crypto.randomUUID(),Ct={id:dt,name:W.name,quantity:1,isPurchased:!1,isFavorite:!1,createdAt:Date.now()};await Bl(Bn(sn,"lists",n.id,"items",dt),Ct)}},className:"px-1 py-0.5 text-[10px] rounded-md bg-emerald-500 text-white shadow-md active:scale-90 transition-transform font-black",title:" ",children:" "}),X.jsx("button",{onClick:()=>xt(W.id),className:"p-2 text-slate-300 hover:text-rose-500",title:" ",children:X.jsx(th,{className:"w-4 h-4"})})]}),X.jsx("div",{className:"flex-1 text-right font-black text-slate-700 truncate px-3",style:{direction:"rtl",unicodeBidi:"plaintext"},children:W.name}),X.jsx(Wc,{className:"w-5 h-5 text-amber-500 fill-amber-500"})]},W.id))})]})}),X.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:X.jsxs("div",{className:"max-w-md mx-auto px-4 pb-3",children:[X.jsx("div",{className:"flex justify-start mb-2",dir:"ltr",children:X.jsx("button",{onClick:Kn,className:"w-14 h-14 rounded-full bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-200 active:scale-95 transition-transform",title:"  ",children:X.jsx(rR,{className:"w-6 h-6"})})}),X.jsx("footer",{className:"bg-white border-t border-slate-200 rounded-2xl",dir:"ltr",children:X.jsxs("div",{className:"relative flex items-center justify-between px-10 pt-9 pb-3",children:[X.jsxs("button",{onClick:()=>y("favorites"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="favorites"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(Wc,{className:`w-7 h-7 ${p==="favorites"?"fill-indigo-600 text-indigo-600":"text-slate-300"}`}),"",X.jsx("button",{onPointerDown:W=>{W.preventDefault(),Ei()},onPointerUp:W=>{W.preventDefault(),ci()},onPointerCancel:W=>{W.preventDefault(),ci()},onPointerLeave:W=>{V.current&&(W.preventDefault(),ci())},onTouchStart:W=>{W.preventDefault(),Ei()},onTouchEnd:W=>{W.preventDefault(),ci()},onMouseDown:W=>{W.preventDefault(),Ei()},onMouseUp:W=>{W.preventDefault(),ci()},style:{touchAction:"none"},className:`absolute left-1/2 -translate-x-1/2 -top-8 w-16 h-16 rounded-full border-4 border-white shadow-xl flex items-center justify-center ${gt?"bg-rose-500 text-white animate-pulse":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:gt?"  -   ":"   ",children:gt?X.jsx(sR,{className:"w-7 h-7"}):X.jsx(aR,{className:"w-7 h-7"})})]}),X.jsxs("button",{onClick:()=>y("list"),className:`flex flex-col items-center gap-1 text-[11px] font-black ${p==="list"?"text-indigo-600":"text-slate-300"}`,title:"",children:[X.jsx(nR,{className:"w-7 h-7"}),""]})]})})]})}),q?X.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white w-full max-w-sm rounded-3xl shadow-xl p-6 space-y-5",children:[X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 text-rose-600 flex items-center justify-center",children:X.jsx(tR,{className:"w-5 h-5"})}),X.jsxs("div",{className:"text-right",children:[X.jsx("div",{className:"text-lg font-black text-slate-800",children:"   ?"}),X.jsx("div",{className:"text-sm font-bold text-slate-400",children:"     ."})]})]}),X.jsxs("div",{className:"flex gap-3",children:[X.jsx("button",{onClick:()=>Q(!1),className:"flex-1 py-3 rounded-2xl font-black bg-slate-100 text-slate-700",children:""}),X.jsx("button",{onClick:kt,className:"flex-1 py-3 rounded-2xl font-black bg-rose-600 text-white",children:" "})]})]})}):null,R?X.jsx("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 bg-black text-white px-4 py-2 rounded-2xl shadow-lg z-50 text-center",children:R}):null]}):X.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",dir:"rtl",children:X.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full space-y-6 text-center",children:[X.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "}),X.jsx("p",{className:"text-slate-500 font-bold",children:"    ,    ."}),X.jsxs("button",{onClick:async()=>{await Gl()},className:"w-full flex items-center justify-center gap-2 bg-indigo-600 text-white py-4 rounded-2xl font-black",children:[X.jsx(eT,{className:"w-4 h-4"}),"  "]})]})})},SO=()=>X.jsx(zw,{children:X.jsxs(mw,{children:[X.jsx(Bm,{path:"/",element:X.jsx(TO,{})}),X.jsx(Bm,{path:"/invite",element:X.jsx(mO,{})})]})}),OS=document.getElementById("root");if(!OS)throw new Error("Could not find root element to mount to (#root)");window.addEventListener("error",r=>{const t=(r==null?void 0:r.message)||"unknown",n=r==null?void 0:r.error;console.error("WINDOW_ERROR:",t,n),alert("WINDOW_ERROR: "+t)});window.addEventListener("unhandledrejection",r=>{const t=r==null?void 0:r.reason;console.error("UNHANDLED_REJECTION:",t);let n="";try{typeof t=="string"?n=t:t!=null&&t.message?n=t.message:n=JSON.stringify(t)}catch{n="non-serializable reason"}alert("UNHANDLED_REJECTION: "+n)});console.log("BOOT_OK:",new Date().toISOString());yb.createRoot(OS).render(X.jsx(cb.StrictMode,{children:X.jsx(SO,{})}));
